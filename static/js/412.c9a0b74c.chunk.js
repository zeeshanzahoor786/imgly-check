"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[412],{412:(e,t,l)=>{l.r(t),l.d(t,{default:()=>Ge});var n,a,r,o,i,c,s,m,u,d,b,p,h,C,g,E,f,T,y,v,S,k=l(528),x=l(618),B=l(195),I=l(43),w=l(464),A=(0,x.a)((function(){const{config:e,active:t,custom:l}=(0,x.u)(),{tools:n}=e,a=t.tool,r=t=>e.locale[t].title,o=l.getBasicToolbar();return o?I.createElement(o,{show:!!a},n.map(((l,n)=>l&&I.createElement(x.T.Toolbar.Item,{onClick:()=>t.selectTool(l),key:l,label:r(l),isActive:a===l,isDisabled:!(t.image||"library"===l||"customTool"===l)},(t=>{const l=e.state.config[t];if("icon"in l){const e=l.icon;return I.createElement(e,null)}const n=x.w[t];return I.createElement(n,null)||null})(l))||I.createElement(x.T.Toolbar.Separator,{key:l+n,active:!!a})))):null})),L=(0,w.Ay)(x.T.ControlsbarContainer)(n||(n=(0,k.A)(["\n  > div {\n    grid-template-columns: 1fr 5fr minmax(56px, 1fr);\n  }\n"]))),D=(0,x.c)("adjustmentsTool","custom")((0,x.a)((e=>{let{adjustmentsTool:t,custom:l}=e;const n=t.selectedAdjustmentType.toLowerCase(),a=t[n],r=l.getButton("toolControlBarSecondaryButton");return I.createElement(L,{show:Boolean(n)},r&&I.createElement("div",null,I.createElement(r,{tool:"adjustment",ariaLabel:t.locale.controls.buttonReset,onClick:t.reset,icon:I.createElement(x.y.reset,null),label:t.locale.controls.buttonReset})),I.createElement(x.T.Other.ControlsWrapper,null,I.createElement(x.r.Spacer,{count:2}),I.createElement(x.T.Slider,{identifier:t.selectedAdjustmentType,tool:"adjustment","aria-hidden":!n,adjust:!0,label:t.selectedOptionLabel,value:a,onChange:e=>{t.editAdjustments({type:n,value:e})},onMouseUp:()=>t.toolSnapshot(),onTouchEnd:()=>t.toolSnapshot(),snap:0}),I.createElement(x.r.Spacer,{count:2})),I.createElement(x.T.BarSeparator,null))}))),U=(0,x.a)((()=>{const{brushTool:e}=(0,x.u)(),{colorList:t,locale:l,localeColor:n}=e,a=l.controls,r=n.colorPicker;return I.createElement(I.Fragment,null,I.createElement(x.r.Input.Selection,{showLabel:!1,label:a.selectColor},I.createElement(x.I,{tool:"brush",activeColor:e.color,colors:t,labelsColor:r,colorPickerDirection:"top",onChange:e.changeColor})))})),O=(0,x.a)((()=>{const{brushTool:e}=(0,x.u)(),{locale:t}=e,l=t.controls;return I.createElement(x.T.Slider,{identifier:"brush-hardness",tool:"brush","data-test":B.Ta.BrushHardness,showLabel:!1,label:l.sliderHardness,value:e.hardness,min:0,max:1,onChange:e.changeHardness})})),R=(0,x.a)((()=>{const{brushTool:e}=(0,x.u)(),{locale:t}=e,l=t.controls;return I.createElement(x.T.Slider,{identifier:"brush-size",tool:"brush","data-test":B.Ta.BrushSize,showLabel:!1,label:l.sliderSize,value:e.relativeSize,min:1,max:100,divider:1,onChange:e.changeRelativeSize})})),W=x.T.ResponsiveTabWrapper,{Tab:z}=x.T,P=(0,w.Ay)(x.T.ControlsbarContainer)(a||(a=(0,k.A)(["\n  > div {\n    grid-template-columns: 1fr 5fr minmax(56px, 1fr);\n  }\n"]))),F=(0,x.a)((()=>{const{brushTool:e,custom:t}=(0,x.u)(),{locale:l,config:n}=e,{basicUIToolControlBarTabsOrder:a}=n,r=l.controls,o=t.getButton("toolControlBarSecondaryButton");return I.createElement(P,{style:{justifyContent:"center"},show:!0},o&&I.createElement("div",null,I.createElement(o,{tool:"brush",ariaLabel:r.buttonReset,onClick:e.reset,icon:I.createElement(x.y.reset,null),isDisabled:!e.isDirty,label:r.buttonReset})),I.createElement(x.T.Other.ControlsWrapper,null,I.createElement(x.r.Input.Form,null,I.createElement(W,null,a.map((e=>(e=>{switch(e){case"brushColor":return I.createElement(z,{key:e,label:r.tabColor},I.createElement(U,null));case"brushSize":return I.createElement(z,{key:e,label:r.tabSize},I.createElement(R,null));case"brushHardness":return I.createElement(z,{key:e,label:r.tabHardness},I.createElement(O,null));default:return null}})(e)))))))})),M=(0,x.a)((()=>{const{filterTool:e}=(0,x.u)(),{state:t}=e,l=e.locale.controls,n=()=>{e.toolSnapshot()};return I.createElement(x.T.Other.ControlsWrapper,null,I.createElement(x.r.Spacer,{count:2}),I.createElement(x.T.Slider,{identifier:"filter-intensity",tool:"filter","aria-hidden":!e.isOptionSelected,label:l.sliderIntensity,value:t.intensity,min:0,max:1,onMouseUp:n,onTouchEnd:n,onChange:e.changeIntensity,snap:t.isDuotone?.5:null}),I.createElement(x.r.Spacer,{count:2}))})),H=(0,w.Ay)(x.T.ControlsbarContainer)(r||(r=(0,k.A)(["\n  > div {\n    grid-template-columns: 1fr 5fr minmax(56px, 1fr);\n  }\n"]))),j=(0,x.a)((()=>{const{filterTool:e,custom:t}=(0,x.u)(),{config:l}=e,{basicUIToolControlBarTabsOrder:n}=l,a=t.getButton("toolControlBarSecondaryButton");return I.createElement(H,{show:e.isOptionSelected},a&&I.createElement("div",null,I.createElement(a,{tool:"filter",ariaLabel:e.locale.controls.buttonReset,onClick:e.reset,icon:I.createElement(x.y.reset,null),label:e.locale.controls.buttonReset})),n.map((e=>(e=>"filterIntensity"===e?I.createElement(M,{key:e}):null)(e))),I.createElement(x.T.BarSeparator,null))})),X=(0,w.Ay)(x.T.ControlsbarContainer)(o||(o=(0,k.A)(["\n  > div {\n    grid-template-columns: 1fr 5fr minmax(56px, 1fr);\n  }\n"]))),$=(0,x.a)((()=>{const{focusTool:e,custom:t}=(0,x.u)(),l=e.locale.controls,n=t.getButton("toolControlBarSecondaryButton"),a=()=>{e.toolSnapshot(l.sliderIntensity)};return I.createElement(X,{show:e.isOptionSelected},n&&I.createElement("div",null,I.createElement(n,{tool:"focus",ariaLabel:l.buttonReset,onClick:e.reset,icon:I.createElement(x.y.reset,null),label:l.buttonReset})),I.createElement(x.T.Other.ControlsWrapper,null,I.createElement(x.r.Spacer,{count:2}),I.createElement(x.T.Slider,{identifier:"focus-intensity",tool:"focus","aria-hidden":!e.isOptionSelected,label:l.sliderIntensity,value:e.relativeIntensity,min:0,max:100,divider:1,onChange:e.changeRelativeIntensity,onMouseUp:a,onTouchEnd:a}),I.createElement(x.r.Spacer,{count:2})),I.createElement(x.T.BarSeparator,null))})),N=(0,x.a)((()=>{const{frameTool:e}=(0,x.u)(),t=e.locale.controls,l=e.localeColor.colorPicker,{colorList:n}=e;return I.createElement(x.r.Input.Selection,{label:t.selectColor,showLabel:!1},I.createElement(x.I,{tool:"frame",activeColor:e.color,colors:n,labelsColor:l,colorPickerDirection:"top",onChange:e.changeColor,onAddSnapshot:e.colorSnapshot}))})),_=(0,x.a)((()=>{const{frameTool:e}=(0,x.u)(),t=e.locale.controls,l=()=>{e.toolSnapshot(t.sliderOpacity)};return I.createElement(x.T.Slider,{identifier:"frame-opacity",tool:"frame","aria-hidden":!e.isOptionSelected,showLabel:!1,label:t.sliderOpacity,value:e.opacity,min:0,max:1,onChange:e.changeOpacity,onMouseUp:l,onTouchEnd:l})})),q=(0,x.a)((()=>{const{frameTool:e}=(0,x.u)(),t=e.locale.controls,l=()=>{e.toolSnapshot(t.sliderSize)};return I.createElement(x.T.Slider,{identifier:"frame-size",tool:"frame","aria-hidden":!e.isOptionSelected,showLabel:!1,label:t.sliderSize,value:e.size,min:e.minSize,max:e.maxSize,divider:1,onChange:e.changeWidth,onMouseUp:l,onTouchEnd:l})})),K=x.T.TabWrapper,{Tab:J}=x.T,Q=(0,w.Ay)(x.T.ControlsbarContainer)(i||(i=(0,k.A)(["\n  > div {\n    grid-template-columns: 1fr 5fr minmax(56px, 1fr);\n  }\n"]))),V=(0,x.a)((()=>{const{frameTool:e,custom:t}=(0,x.u)(),l=e.locale.controls,{tintable:n,config:a}=e,{basicUIToolControlBarTabsOrder:r}=a,o=t.getButton("toolControlBarSecondaryButton");return I.createElement(Q,{show:e.isOptionSelected},o&&I.createElement("div",null,I.createElement(o,{tool:"frame",ariaLabel:l.buttonReset,onClick:e.reset,icon:I.createElement(x.y.reset,null),label:l.buttonReset})),I.createElement(x.T.Other.ControlsWrapper,null,I.createElement(K,null,r.map((e=>(e=>{switch(e){case"frameOpacity":return I.createElement(J,{key:e,label:l.tabOpacity},I.createElement(_,null));case"frameSize":return I.createElement(J,{key:e,label:l.tabSize},I.createElement(q,null));case"frameColor":return n&&I.createElement(J,{key:e,label:l.tabColor},I.createElement(N,null));default:return null}})(e))))),I.createElement(x.T.BarSeparator,null))})),Y=(0,w.Ay)(x.T.ControlsbarContainer)(c||(c=(0,k.A)(["\n  ","\n"])),(e=>e.firstChildMargin&&(0,w.AH)(s||(s=(0,k.A)(["\n      > :first-child {\n        margin-right: 16px;\n      }\n    "]))))),G=(0,w.Ay)(x.T.Other.ControlsWrapper)(m||(m=(0,k.A)(["\n  grid-column-start: 2;\n  align-self: center;\n"]))),Z=(0,x.c)("library","active","custom")((0,x.a)((e=>{let{library:t,active:l,custom:n}=e;const a=t.locale.controls.placeholderSearch,{config:r}=t,o=n.getButton("toolControlBarPrimaryButton");return I.createElement(Y,{firstChildMargin:r.enableWebcam&&!t.libraryProvider,show:!0},r.enableUpload&&o&&I.createElement("div",null,I.createElement(o,{tool:"library","data-test":B.Ta.LibraryUploadButton,ariaLabel:t.locale.controls.buttonUpload,onClick:()=>{const e=document.getElementById("fileUpload");e&&e.click()},icon:I.createElement(x.y.uploadImage,null),label:t.locale.controls.buttonUpload},I.createElement(x.r.Input.File,{onChange:e=>{const{files:t}=e.target;if(t.length){const e=new FileReader;e.onload=e=>{l.newImage(e.target.result)},e.readAsDataURL(t[0])}}}))),t.libraryProvider&&I.createElement(G,null,I.createElement(x.r.Input.Search,{onChange:e=>{t.fetchImages(e)},placeholder:a})),r.enableWebcam&&I.createElement("div",null,I.createElement(x.R,{tool:"library",onClick:()=>{l.selectWebcam(!0)},icon:I.createElement(x.y.openWebcam,null),label:t.locale.controls.buttonWebcamOpen})),I.createElement(x.T.BarSeparator,null))}))),ee=(0,x.a)((()=>{const{overlayTool:e}=(0,x.u)(),t=e.locale.controls,{blendMode:l,allBlendModes:n}=e;return I.createElement(x.r.Input.CarouselSlider,{showLabel:!1,label:t.carouselBlendMode,defaultIdentifier:l,onSelect:t=>{e.changeBlendMode(t)},list:n})})),te=(0,x.a)((()=>{const{overlayTool:e}=(0,x.u)(),t=e.locale.controls,{state:l}=e,n=()=>{e.toolSnapshot()};return I.createElement(x.T.Slider,{identifier:"overlay-opacity",tool:"overlay","aria-hidden":!e.isOptionSelected,showLabel:!1,label:t.sliderOpacity,value:l.opacity,min:0,max:1,onChange:e.changeOpacity,onMouseUp:n,onTouchEnd:n})})),le=x.T.TabWrapper,{Tab:ne}=x.T,ae=(0,x.a)((()=>{const{overlayTool:e,custom:t}=(0,x.u)(),{config:l}=e,{basicUIToolControlBarTabsOrder:n}=l,a=e.locale.controls,r=t.getButton("toolControlBarSecondaryButton");return I.createElement(x.T.ControlsbarContainer,{show:e.isOptionSelected},r&&I.createElement("div",null,I.createElement(r,{tool:"overlay",ariaLabel:a.buttonReset,onClick:e.reset,icon:I.createElement(x.y.reset,null),label:a.buttonReset})),I.createElement(x.T.Other.ControlsWrapper,null,I.createElement(le,null,n.map((e=>(e=>{switch(e){case"overlayBlendMode":return I.createElement(ne,{key:e,label:a.tabBlendMode},I.createElement(ee,null));case"overlayOpacity":return I.createElement(ne,{key:e,label:a.tabOpacity},I.createElement(te,null));default:return null}})(e))))),I.createElement(x.T.BarSeparator,null))})),re=(0,x.a)((()=>{const{stickerTool:e}=(0,x.u)(),t=e.locale.controls,l=e.localeColor.colorPicker,{colorList:n}=e;return I.createElement(I.Fragment,null,I.createElement(x.r.Input.Selection,{isDisabled:!e.isStickerSelected,showLabel:!1,label:t.selectColor},I.createElement(x.I,{tool:"sticker",activeSprite:e.id,activeColor:e.tintColor,colors:n,labelsColor:l,isDisabled:!e.isStickerSelected,colorPickerDirection:"top",onChange:e.changeTintColor,onAddSnapshot:e.tintColorSnapshot})))})),oe=(0,x.a)((()=>{const{stickerTool:e}=(0,x.u)(),t=e.locale.controls,l=()=>{e.toolSnapshot()};return I.createElement(x.T.Slider,{identifier:"sticker-opacity",tool:"sticker",isDisabled:!e.isStickerSelected,showLabel:!1,label:t.sliderOpacity,value:e.opacity,min:0,max:1,onMouseUp:l,onTouchEnd:l,onChange:e.changeOpacity})})),ie=x.T.TabWrapper,{Tab:ce}=x.T,se=w.Ay.input.attrs({type:"file",id:"fileUpload",accept:"image/*",multiple:!0})(u||(u=(0,k.A)(["\n  ","\n"])),x.q.VisuallyHidden),me=(0,w.Ay)(x.T.ControlsbarContainer)(d||(d=(0,k.A)(["\n  > div {\n    grid-template-columns: 1fr 5fr minmax(56px, 1fr);\n  }\n"]))),ue=(0,x.a)((()=>{const{stickerTool:e,custom:t}=(0,x.u)(),{config:l}=e,{basicUIToolControlBarTabsOrder:n}=l,a=e.locale.controls,r=t.getButton("toolControlBarPrimaryButton"),o=()=>{const e=document.getElementById("fileUpload");e&&(e.value=null,e.click())},i=t=>{const{files:l}=t.target;e.addFiles(l)};return I.createElement(me,{show:!0},e.isCustomStickerEnabled&&r?I.createElement("div",null,I.createElement(r,{tool:"sticker",ariaLabel:a.buttonUpload,onClick:o,icon:I.createElement(x.y.uploadImage,null),label:a.buttonUpload},I.createElement(se,{onChange:i}))):null,I.createElement(x.T.Other.ControlsWrapper,null,I.createElement(ie,null,n.map((t=>(t=>{switch(t){case"stickerColor":return e.tintable?I.createElement(ce,{key:t,label:a.tabColor},I.createElement(re,null)):null;case"stickerOpacity":return I.createElement(ce,{key:t,label:a.tabOpacity},I.createElement(oe,null));default:return null}})(t))))),I.createElement(x.T.BarSeparator,null))})),de=(0,x.a)((()=>{const{textTool:e}=(0,x.u)(),{backgroundColorList:t}=e,l=e.locale.controls,n=e.localeColor.colorPicker;return I.createElement(x.r.Input.Selection,{isDisabled:!e.isTextSelected,showLabel:!1,label:l.selectBackgroundColor},I.createElement(x.I,{tool:"text",activeSprite:e.id,activeColor:e.backgroundColor,colors:t,labelsColor:n,colorPickerDirection:"top",isDisabled:!e.isTextSelected,onChange:e.changeBackgroundColor,onAddSnapshot:e.backgroundColorSnapshot}))})),be=(0,w.Ay)(x.r.Input.NumericInput)(b||(b=(0,k.A)(["\n  max-width: 55px;\n  > div > input {\n    text-align: center;\n  }\n"]))),pe=(0,x.a)((()=>{var e;const{textTool:t}=(0,x.u)(),{locale:l}=t;return I.createElement(be,{id:"photoeditorsdk-text-font-size-input",value:t.fontSize.toFixed(0),onSubmit:e=>{const l=e?parseFloat(e):0;t.setFontSize(Math.max(10,Math.min(690,l)))},isDisabled:!t.isTextSelected,label:null==(e=l.controls)?void 0:e.textFontSize,showLabel:!1})})),he=(0,x.a)((()=>{const{textTool:e}=(0,x.u)(),t=e.locale.controls,l=()=>{e.toolSnapshot()};return I.createElement(x.T.Slider,{identifier:"text-line-spacing",tool:"text",isDisabled:!e.isTextSelected,showLabel:!1,label:t.sliderLineSpacing,value:e.lineHeight,min:.5,max:3,onChange:e.changeLineHeight,onMouseUp:l,onTouchEnd:l,snap:1,divider:1,decimal:1})})),Ce=(0,x.a)((()=>{const{textTool:e,custom:t}=(0,x.u)(),l=e.locale.controls,n=t.getButton("textAlignment");return I.createElement(x.r.Input.Selection,{isDisabled:!e.isTextSelected,showLabel:!1,label:l.selectAlignment,"data-test":B.Ta.TextAlignment},["left","center","right"].map((t=>{const l=x.x[t];return I.createElement(n,{tool:t,isDisabled:!e.isTextSelected,ariaLabel:"Align ".concat(t),isActive:t===e.alignment,key:t,icon:I.createElement(l,null),onClick:()=>e.changeAlignment(t)})})))})),ge=(0,x.a)((()=>{const{textTool:e}=(0,x.u)(),{colorList:t}=e,l=e.locale.controls,n=e.localeColor.colorPicker;return I.createElement(x.r.Input.Selection,{isDisabled:!e.isTextSelected,showLabel:!1,label:l.selectFontColor},I.createElement(x.I,{tool:"text",activeSprite:e.id,activeColor:e.textColor,colors:t,labelsColor:n,colorPickerDirection:"top",isDisabled:!e.isTextSelected,onChange:e.changeColor,onAddSnapshot:e.colorSnapshot}))})),Ee=x.T.ResponsiveTabWrapper,fe=(0,w.Ay)(x.T.ControlsbarContainer)(p||(p=(0,k.A)(["\n  > div {\n    grid-template-columns: 1fr 5fr minmax(56px, 1fr);\n  }\n"]))),Te=(0,x.a)((()=>{const{textTool:e,custom:t}=(0,x.u)(),{config:l}=e,{basicUIToolControlBarTabsOrder:n}=l,a=e.locale.controls,r=t.getButton("toolControlBarPrimaryButton");return I.createElement(fe,{show:!0},I.createElement("div",null,I.createElement(r,{tool:"text",ariaLabel:a.buttonNew,onClick:e.add,icon:I.createElement(x.y.addText,null),label:a.buttonNew})),I.createElement(x.T.Other.ControlsWrapper,null,I.createElement(Ee,null,n.map((e=>(e=>{switch(e){case"fontSize":return I.createElement(x.S,{key:e,label:a.tabFontSize},I.createElement(pe,null));case"textAlignment":return I.createElement(x.S,{key:e,label:a.tabAlignment},I.createElement(Ce,null));case"textColor":return I.createElement(x.S,{key:e,label:a.tabColor},I.createElement(ge,null));case"backgroundColor":return I.createElement(x.S,{key:e,label:a.tabBgColor},I.createElement(de,null));case"lineSpacing":return I.createElement(x.S,{key:e,label:a.tabLineHeight},I.createElement(he,null));default:return null}})(e))))),I.createElement(x.T.BarSeparator,null))})),ye=(0,w.Ay)(x.I)(h||(h=(0,k.A)(["\n  height: 40px;\n"]))),ve=(0,x.c)("textDesignTool","custom")((0,x.a)((e=>{let{textDesignTool:t,custom:l}=e;const n=t.locale.controls,a=t.localeColor.colorPicker,{colorList:r}=t,o=l.getButton("toolControlBarSecondaryButton"),i=l.getButton("toolControlBarPrimaryButton");return I.createElement(x.T.ControlsbarContainer,{show:!0},i&&I.createElement("div",null,I.createElement(i,{tool:"textdesign",ariaLabel:n.buttonNew,onClick:t.add,icon:I.createElement(x.y.addText,null),label:n.buttonNew})),I.createElement(x.T.Other.ControlsWrapper,null,I.createElement(x.r.Input.Selection,{isDisabled:!t.isTextDesignSelected,label:n.selectColor},I.createElement(ye,{tool:"textdesign",activeSprite:t.id,activeColor:t.color,colors:r,labelsColor:a,colorPickerDirection:"top",isDisabled:!t.isTextDesignSelected,onChange:t.changeColor,onAddSnapshot:t.colorSnapshot}))),o&&I.createElement("div",null,I.createElement(o,{tool:"textdesign",ariaLabel:n.buttonShuffle,onClick:t.changeSeed,icon:I.createElement(x.y.shuffle,null),label:n.buttonShuffle})),I.createElement(x.T.BarSeparator,null))}))),Se=(0,x.a)((()=>{const{transformTool:e}=(0,x.u)(),t=e.locale.controls,{forceDimensions:l}=e;return I.createElement(x.O,{isDisabled:l,showLabel:!1,valueHeight:e.localOutputHeight,valueWidth:e.localOutputWidth,onSubmitWidth:e.onPixelWidth,onSubmitHeight:e.onPixelHeight,label:t.inputCropSize,labelHeight:t.inputHeight,labelWidth:t.inputWidth,ariaLabelHeight:t.inputHeightAriaLabel,ariaLabelWidth:t.inputWidthAriaLabel})})),ke=()=>I.createElement(x.J,null),xe=(0,x.a)((()=>{const{transformTool:e,custom:t}=(0,x.u)(),l=e.locale.controls,{forceDimensions:n}=e,a=t.getCheckbox();return a?I.createElement(a,{tool:"transform",isDisabled:n,style:{paddingTop:"5px",justifyContent:"center"},value:e.lockResolution,checkMarkPosition:"left",label:l.checkboxKeepResolution,onClick:e.changeLockResolution}):null})),Be=x.T.ResponsiveTabWrapper,{Tab:Ie}=x.T,we=(0,w.AH)(C||(C=(0,k.A)(["\n  min-width: unset;\n"]))),Ae=(0,w.Ay)(x.T.Other.ControlsWrapper)(g||(g=(0,k.A)(["\n  min-width: 365px;\n\n  ","\n  @media all and (min-width: 0) and (max-width: 599px) {\n    ","\n  }\n"])),(e=>e.smallContainer&&we),we),Le=(0,x.a)((()=>{const{transformTool:e,custom:t}=(0,x.u)(),{rect:l}=(0,I.useContext)(x.d),{config:n}=e,{basicUIToolControlBarTabsOrder:a}=n,r=e.locale.controls,o=t.getButton("toolControlBarSecondaryButton");return I.createElement(x.T.ControlsbarContainer,{show:!0},o&&I.createElement("div",null,I.createElement(o,{tool:"transform",ariaLabel:e.locale.controls.buttonReset,onClick:e.reset,icon:I.createElement(x.y.reset,null),label:e.locale.controls.buttonReset})),I.createElement(Ae,{smallContainer:!!l&&l.width<600},I.createElement(Be,null,a.map((e=>(e=>{switch(e){case"flipRotate":return I.createElement(Ie,{key:e,label:r.tabFlipAndRotate},I.createElement(ke,null));case"resolution":return I.createElement(Ie,{key:e,label:r.tabResolution},I.createElement(xe,null));case"cropSize":return I.createElement(Ie,{key:e,label:r.tabCropSize},I.createElement(Se,null));default:return null}})(e))))),I.createElement(x.T.BarSeparator,null))})),De=(0,x.a)((function(){const{active:e,custom:t}=(0,x.u)(),l=e.tool,n=t.getBasicToolControlBar();return n?I.createElement(n,{show:!!l,tool:l},I.createElement(x.r.Switch.Index,{type:l},I.createElement(x.r.Switch.Case,{value:"filter"},I.createElement(j,null)),I.createElement(x.r.Switch.Case,{value:"focus"},I.createElement($,null)),I.createElement(x.r.Switch.Case,{value:"adjustment"},I.createElement(D,null)),I.createElement(x.r.Switch.Case,{value:"overlay"},I.createElement(ae,null)),I.createElement(x.r.Switch.Case,{value:"sticker"},I.createElement(ue,null)),I.createElement(x.r.Switch.Case,{value:"text"},I.createElement(Te,null)),I.createElement(x.r.Switch.Case,{value:"textdesign"},I.createElement(ve,null)),I.createElement(x.r.Switch.Case,{value:"library"},I.createElement(Z,null)),I.createElement(x.r.Switch.Case,{value:"frame"},I.createElement(V,null)),I.createElement(x.r.Switch.Case,{value:"brush"},I.createElement(F,null)),I.createElement(x.r.Switch.Case,{value:"transform"},I.createElement(Le,null)))):null})),Ue=w.Ay.div(E||(E=(0,k.A)(["\n  position: relative;\n  top: -8px;\n  color: ",";\n"])),(e=>e.theme.card.foreground)),Oe=(0,x.c)("adjustmentsTool")((0,x.a)((e=>{let{adjustmentsTool:t}=e;return I.createElement(x.T.CardContainer,null,t.items.map(((e,l)=>{const n=x.A[e.identifier];return I.createElement(x.T.Card,{"data-test":e.identifier,tool:"adjustment",type:"medium",onClick:()=>t.toggleOptionSelection(e.identifier),isActive:e.identifier===t.selectedAdjustmentType,key:"".concat(e.identifier,"-").concat(l),label:e.name,style:{animationDelay:"".concat((0,B.Xa)(l),"s")}},I.createElement(Ue,null,I.createElement(n,null)),I.createElement(x.T.CardLabel,null,t.locale.items[e.identifier]||e.name))})))}))),Re=()=>{const{config:e}=(0,x.u)(),t=e.state.config.customTool.toolControlBar;return I.createElement(t,{language:e.state.locale.customTool})},We=class extends I.Component{constructor(){super(...arguments),this.onCategoryClick=e=>{const{filterTool:t}=this.props;t.toggleCategorySelection(e)},this.renderItem=(e,t)=>{var l,n;const{filterTool:a}=this.props,r=null==(n=null==(l=a.locale)?void 0:l.controls)?void 0:n.itemAriaLabel;return I.createElement(x.T.Card,{tool:"filter",type:"medium",onClick:()=>a.selectFilter(e.identifier,e.defaultIntensity),isActive:a.identifier===e.identifier,key:"".concat(e.identifier,"-").concat(t),image:e.thumbnailURI,label:e.name,"aria-label":null==r?void 0:r.replace("${label}",e.name),style:{animationDelay:"".concat((0,B.Xa)(t),"s")}},I.createElement(x.T.CardLabel,{withBackground:!0},a.locale.categories[e.identifier]||a.locale.items[e.identifier]||e.name))},this.renderCategory=(e,t)=>{var l;const{filterTool:n}=this.props,{selectedCategoryIdentifier:a,locale:r}=n,o=null==(l=r.controls)?void 0:l.categoryAriaLabel,i=a===e.identifier;return e.items?I.createElement(x.T.CategoryContainer,{key:e.identifier},I.createElement(x.T.Card,{role:"button","aria-expanded":i,"aria-label":null==o?void 0:o.replace("${label}",e.name),tool:"filter",type:"large",onClick:()=>this.onCategoryClick(e.identifier),image:e.thumbnailURI,label:e.name,style:{animationDelay:"".concat((0,B.Xa)(t),"s")}},I.createElement(x.T.CardLabel,{withBackground:!0},e.name)),I.createElement(x.T.ExpandableContainer,{show:i},e.items.map(this.renderItem))):null}}render(){const{filterTool:e}=this.props,{categories:t,config:l,items:n}=e;return l.flattenCategories?I.createElement(x.T.CardContainer,null,n.map(this.renderItem)):I.createElement(x.T.CardContainer,null,t.map(this.renderCategory))}};We=(0,B.c)([(0,x.c)("filterTool","active"),x.a],We);var ze=(0,x.c)("focusTool")((0,x.a)((e=>{let{focusTool:t}=e;var l,n;const a=null==(n=null==(l=t.locale)?void 0:l.controls)?void 0:n.itemAriaLabel;return I.createElement(x.T.CardContainer,null,t.items.map(((e,l)=>I.createElement(x.T.Card,{isActive:e.identifier===t.identifier,tool:"focus",type:"medium",onClick:()=>(e=>{t.selectFocus(e)})(e.identifier),key:"".concat(e.identifier,"-").concat(l),image:e.thumbnailURI,label:e.name,"aria-label":null==a?void 0:a.replace("${label}",e.name),style:{animationDelay:"".concat((0,B.Xa)(l),"s")}},I.createElement(x.T.CardLabel,{withBackground:!0},t.locale.items[e.identifier]||e.name)))))}))),Pe=(0,x.c)("frameTool")((0,x.a)((e=>{let{frameTool:t}=e;var l,n;const a=t.identifier,r=null==(n=null==(l=t.locale)?void 0:l.controls)?void 0:n.itemAriaLabel;return I.createElement(x.T.CardContainer,null,t.items.map(((e,l)=>I.createElement(x.T.Card,{tool:"frame",type:"medium",onClick:()=>t.selectFrame(e.identifier),isActive:e.identifier===a,key:"".concat(e.identifier,"-").concat(l),image:e.thumbnailURI,label:e.name,"aria-label":null==r?void 0:r.replace("${label}",e.name),style:{animationDelay:"".concat((0,B.Xa)(l),"s"),backgroundSize:"60%"}}," ",I.createElement(x.T.CardLabel,{hidden:!0},t.locale.items[e.identifier]||e.name)))))}))),Fe=w.Ay.p(f||(f=(0,k.A)(["\n  height: ","px;\n"])),(e=>e.theme.measurements.basicUIToolControlBar.itemsBarHeight)),Me=class extends I.Component{constructor(){super(...arguments),this.onCategoryClick=e=>{const{library:t}=this.props;t.toggleCategorySelection(e)},this.renderItem=(e,t)=>{var l,n;const{active:a,library:r}=this.props,o=null==(n=null==(l=r.locale)?void 0:l.controls)?void 0:n.itemAriaLabel;return I.createElement(x.T.Card,{tool:"library",type:"medium",onClick:()=>a.newImage(e.rawUrl),key:"".concat(e.identifier,"-").concat(t),image:e.thumbnailURI,label:e.name,"aria-label":null==o?void 0:o.replace("${label}",e.name),style:{animationDelay:"".concat((0,B.Xa)(t),"s")}})},this.renderCategory=(e,t)=>{var l;const{library:n}=this.props,{selectedCategoryIdentifier:a,locale:r}=n,o=null==(l=r.controls)?void 0:l.categoryAriaLabel,i=a===e.identifier;return e.items?I.createElement(x.T.CategoryContainer,{key:e.identifier},I.createElement(x.T.Card,{role:"button","aria-expanded":i,"aria-label":null==o?void 0:o.replace("${label}",e.name),tool:"library",type:"large",onClick:()=>this.onCategoryClick(e.identifier),image:e.thumbnailURI,label:e.name,style:{animationDelay:"".concat((0,B.Xa)(t),"s")}},I.createElement(x.T.CardLabel,{withBackground:!0},e.name)),I.createElement(x.T.ExpandableContainer,{show:i},e.items.map(this.renderItem))):null}}render(){const{library:e}=this.props,{query:t,categories:l,items:n,locale:a,config:r}=e;return t?n.length?I.createElement(x.T.CardContainer,null,n.map(this.renderItem)):I.createElement(Fe,{"data-test":B.Ta.NoResult},a.controls.noResults):r.flattenCategories?I.createElement(x.T.CardContainer,null,n.map(this.renderItem)):I.createElement(x.T.CardContainer,null,l.map(this.renderCategory))}};Me=(0,B.c)([(0,x.c)("library","active"),x.a],Me);var He=(0,x.c)("overlayTool")((0,x.a)((e=>{let{overlayTool:t}=e;var l;const{identifier:n,items:a,selectOverlay:r,locale:o}=t,i=null==(l=o.controls)?void 0:l.itemAriaLabel;return I.createElement(x.T.CardContainer,null,a.map(((e,t)=>I.createElement(x.T.Card,{tool:"overlay",type:"medium",onClick:()=>r(e.identifier),isActive:e.identifier===n,key:"".concat(e.identifier,"-").concat(t),image:e.thumbnailURI,label:e.name,"aria-label":null==i?void 0:i.replace("${label}",e.name),style:{animationDelay:"".concat((0,B.Xa)(t),"s")}},I.createElement(x.T.CardLabel,{withBackground:!0},o.items[e.identifier]||e.name)))))}))),je=class extends I.Component{constructor(){super(...arguments),this.onCategoryClick=e=>{const{stickerTool:t}=this.props;t.toggleCategorySelection(e)},this.renderItem=(e,t)=>{var l,n;const{stickerTool:a}=this.props,r=null==(n=null==(l=a.locale)?void 0:l.controls)?void 0:n.itemAriaLabel;return I.createElement(x.T.Card,{tool:"sticker",type:"medium",onClick:()=>a.add(e.identifier),key:"".concat(e.identifier,"-").concat(t),image:e.thumbnailURI,label:e.name,"aria-label":null==r?void 0:r.replace("${label}",e.name),style:{backgroundSize:"55%",animationDelay:"".concat((0,B.Ya)(t),"s")}},I.createElement(x.T.CardLabel,{hidden:!0},a.locale.items[e.identifier]||e.name))},this.renderCategory=(e,t)=>{var l;const{stickerTool:n}=this.props,{selectedCategoryIdentifier:a,locale:r}=n,o=null==(l=r.controls)?void 0:l.categoryAriaLabel,i=a===e.identifier;return e.items?I.createElement(x.T.CategoryContainer,{key:e.identifier},I.createElement(x.T.Card,{role:"button","aria-expanded":i,"aria-label":null==o?void 0:o.replace("${label}",e.name),tool:"sticker",type:"large",onClick:()=>this.onCategoryClick(e.identifier),image:e.thumbnailURI,label:e.name,style:{animationDelay:"".concat((0,B.Xa)(t),"s")}},I.createElement(x.T.CardLabel,{withBackground:!0},r.categories[e.identifier]||e.name)),I.createElement(x.T.ExpandableContainer,{show:i},e.items.map(this.renderItem))):null}}render(){const{stickerTool:e}=this.props,{categories:t,items:l,config:n}=e;return n.flattenCategories?I.createElement(x.T.CardContainer,null,l.map(this.renderItem)):I.createElement(x.T.CardContainer,null,t.map(this.renderCategory))}};je=(0,B.c)([(0,x.c)("stickerTool","active"),x.a],je);var Xe=w.Ay.div(T||(T=(0,k.A)(["\n  font-size: 20px;\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  transform-origin: left top;\n"]))),$e=class extends I.Component{constructor(){super(...arguments),this.getWidth=(e,t)=>{let{fontFamily:l,fontStyle:n,fontWeight:a}=e;const r=document.createElement("canvas").getContext("2d");return r.font="".concat(n," ").concat(a," 20px ").concat(l),r.fillText(t,0,0),r.measureText(t).width},this.renderItem=(e,t)=>{const{config:l,textTool:n}=this.props,{fontFamily:a,fontWeight:r,fontStyle:o,identifier:i}=e,c="".concat(e.fontFamily," ").concat(x.D.getDisplayFontStyle(e)),s=this.getWidth(e,c),m=(l.measurements.basicCard.medium.width-20)/s;return I.createElement(x.T.Card,{tool:"text",type:"medium",onClick:()=>n.changeFont(i),isDisabled:!this.textTool.isTextSelected,isActive:n.identifier===i,key:"".concat(e.identifier,"-").concat(t),label:c,style:{animationDelay:"".concat((0,B.Xa)(t),"s")}},I.createElement(Xe,{style:{transform:"scale(".concat(m,") translate(-50%, -50%)"),fontFamily:a,fontStyle:o,fontWeight:r}},c))}}get textTool(){return this.props.textTool}render(){const{textTool:e}=this.props,{fontsLoaded:t,fontFamilies:l}=e;return t?I.createElement(x.T.CardContainer,null,l.map(this.renderItem)):null}},Ne=(0,x.c)("textTool","config")((0,x.a)($e)),_e=(0,x.c)("textDesignTool")((0,x.a)((e=>{let{textDesignTool:t}=e;var l;const{items:n,changeIdentifier:a,isTextDesignSelected:r,identifier:o,locale:i}=t,c=null==(l=i.controls)?void 0:l.itemAriaLabel;return I.createElement(x.T.CardContainer,null,n.map(((e,t)=>I.createElement(x.T.Card,{tool:"textdesign",type:"medium",onClick:()=>a(e.identifier),isDisabled:!r,isActive:o===e.identifier,key:"".concat(e.identifier,"-").concat(t),image:e.thumbnailURI,label:e.name,"aria-label":null==c?void 0:c.replace("${label}",e.name),style:{animationDelay:"".concat((0,B.Xa)(t),"s"),backgroundSize:"60%"}},I.createElement(x.T.CardLabel,{hidden:!0},e.name)))))}))),qe=w.Ay.div(y||(y=(0,k.A)(["\n  svg {\n    margin-bottom: 12px;\n  }\n"]))),Ke=w.Ay.div(v||(v=(0,k.A)(["\n  svg {\n    width: ","px;\n    height: ","px;\n  }\n\n  "," {\n    width: ","px;\n    height: ","px;\n    padding: 6px 0px 24px;\n  }\n"])),(e=>e.theme.measurements.basicCard.medium.height),(e=>e.theme.measurements.basicCard.medium.height),x.v,(e=>e.theme.measurements.basicCard.medium.width-32),(e=>e.theme.measurements.basicCard.medium.height-32)),Je=class extends I.Component{constructor(){super(...arguments),this.onCategoryClick=e=>{const{transformTool:t}=this.props;t.toggleCategorySelection(e)},this.renderItem=(e,t)=>{var l;const{transformTool:n,config:a}=this.props,{locale:r,identifier:o}=n,i=null==(l=r.controls)?void 0:l.itemAriaLabel,c=n.checkIfTransformThumbnailExits(e.thumbnailURI),s=x.z.crops[e.identifier]||x.z.crops.imgly_transform_common_custom,m=I.createElement(x.T.CardLabel,null,r.items[e.identifier]||e.name),u=c?m:I.createElement(Ke,null,I.createElement(s,{main:a.theme.transform.crops.main,highlight:a.theme.transform.crops.highlight,shadow:a.theme.transform.crops.shadow}),m);return I.createElement(x.T.Card,{tool:"transform",type:"medium",onClick:()=>n.changeIdentifier(e.identifier,!0),key:"".concat(e.identifier,"-").concat(t),image:e.thumbnailURI,label:e.name,"aria-label":null==i?void 0:i.replace("${label}",e.name),isActive:e.identifier===o,style:{backgroundSize:"55%",animationDelay:"".concat((0,B.Xa)(t),"s")}},u)},this.renderCategory=(e,t)=>{var l;const{transformTool:n}=this.props,{selectedCategoryIdentifier:a,locale:r}=n,o=null==(l=r.controls)?void 0:l.categoryAriaLabel,i=a===e.identifier;if(!e.items)return null;const c=n.checkIfTransformThumbnailExits(e.thumbnailURI),s=I.createElement(x.T.CardLabel,null,r.categories[e.identifier]||e.name),m=c?s:I.createElement(qe,null,x.z.categories[e.identifier]&&I.createElement(x.z.categories[e.identifier]),s);return I.createElement(x.T.CategoryContainer,{key:e.identifier},I.createElement(x.T.Card,{role:"button","aria-expanded":i,"aria-label":null==o?void 0:o.replace("${label}",e.name),tool:"transform",type:"large",onClick:()=>this.onCategoryClick(e.identifier),image:c?e.thumbnailURI:"",label:e.name,style:{animationDelay:"".concat((0,B.Xa)(t),"s")}},m),I.createElement(x.T.ExpandableContainer,{show:i},e.items.map(this.renderItem)))}}render(){const{transformTool:e}=this.props,{categories:t,config:l,items:n}=e;return l.flattenCategories?I.createElement(x.T.CardContainer,null,n.map(this.renderItem)):I.createElement(x.T.CardContainer,null,t.map(this.renderCategory))}};Je=(0,B.c)([(0,x.c)("transformTool","config"),x.a],Je);var Qe=(0,x.a)((function(){const{active:e,library:t,custom:l}=(0,x.u)(),n=e.tool,a=(0,I.useMemo)((()=>{switch(n){case"library":return I.createElement(Me,null);case"filter":return I.createElement(We,null);case"focus":return I.createElement(ze,null);case"adjustment":return I.createElement(Oe,null);case"overlay":return I.createElement(He,null);case"sticker":return I.createElement(je,null);case"text":return I.createElement(Ne,null);case"textdesign":return I.createElement(_e,null);case"frame":return I.createElement(Pe,null);case"transform":return I.createElement(Je,null);case"customTool":return I.createElement(Re,null);default:return null}}),[n]),r=l.getBasicToolItemsBar();return!r||"brush"===n||"library"===n&&!t.libraryProvider?null:I.createElement(r,{show:!!n},a)})),Ve=w.Ay.div(S||(S=(0,k.A)(["\n  position: absolute;\n  width: 100%;\n  height: ","px;\n  bottom: 0;\n  left: 0;\n  background: ",";\n  z-index: ",";\n"])),(e=>e.theme.measurements.basicUIToolControlBar.maxHeight),(e=>e.theme.webcam.backdrop),(e=>e.theme.measurements.zIndex.disable)),Ye=class extends I.Component{static getDerivedStateFromError(e){return console.error(e),{hasError:!0}}render(){const{active:e,custom:t}=this.props,l=t.getWindowContainer();return I.createElement(x.r.Container,{"data-test":B.Ta.EditorContainer},e.isWebcam?I.createElement(Ve,null):null,I.createElement(x.N,null),I.createElement(x.B,null,I.createElement(x.H,null),l&&I.createElement(l,{tool:e.tool},I.createElement(x.Q,null,e.isWebcam?I.createElement(x.P,null):null,e.image&&I.createElement(x.K,null))),I.createElement(De,null),I.createElement(Qe,null),I.createElement(A,null)))}};Ye=(0,B.c)([(0,x.c)("active","custom"),x.a],Ye);var Ge=class extends I.Component{constructor(){super(...arguments),this.componentWillUnmount=()=>{this.editor.cleanUpCanvasMemory()}}componentDidMount(){const{editor:e,storeProps:t}=this.props;this.editor=e,this.storeProps=t;const l=new x.M(this.editor.configStore.config.custom.components,{basicUIToolbar:x.T.Toolbar.Index,basicUIToolControlBar:x.T.Controlsbar,basicUIToolItemsBar:x.T.Itemsbar}),n={getDialog:l.getDialog,getButton:l.getButton,getColorItem:l.getColorItem,getCheckbox:l.getCheckbox,getSlider:l.getSlider,getBasicToolbar:l.getBasicToolbar,getBasicToolControlBar:l.getBasicToolControlBar,getBasicToolItemsBar:l.getBasicToolItemsBar,getWindowContainer:l.getWindowContainer};this.storeProps.custom=n,this.forceUpdate()}render(){return this.storeProps?I.createElement(x.b,{...this.storeProps},I.createElement(w.NP,{theme:{...this.editor.configStore.theme,measurements:this.editor.configStore.measurements}},I.createElement(Ye,null))):null}}}}]);
//# sourceMappingURL=412.c9a0b74c.chunk.js.map