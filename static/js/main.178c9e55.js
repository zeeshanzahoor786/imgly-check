/*! For license information please see main.178c9e55.js.LICENSE.txt */
(()=>{var e={195:(e,t,i)=>{"use strict";i.d(t,{$a:()=>P,A:()=>xC,Da:()=>Ik,Fa:()=>Fk,Ia:()=>Mk,J:()=>OS,Ka:()=>zk,L:()=>PS,La:()=>Bk,Ma:()=>s,Na:()=>$k,Oa:()=>Gk,Pa:()=>tC,Qa:()=>Xk,Ra:()=>sC,Sa:()=>aC,T:()=>HS,Ta:()=>Jk,Ua:()=>uC,V:()=>WS,Va:()=>hC,Wa:()=>cC,Xa:()=>dC,Ya:()=>pC,Z:()=>qS,Za:()=>mC,_:()=>XS,_a:()=>yC,a:()=>x,ab:()=>BC,b:()=>k,bb:()=>jC,c:()=>T,cb:()=>GC,d:()=>Xb,db:()=>qC,e:()=>mx,ea:()=>tk,eb:()=>QC,f:()=>wx,fa:()=>ik,fb:()=>KC,g:()=>Ax,gb:()=>ZC,h:()=>Ox,hb:()=>JC,i:()=>Nx,ia:()=>ok,ib:()=>$C,j:()=>ow,jb:()=>eT,k:()=>mw,kb:()=>Ry,l:()=>vw,lb:()=>tT,m:()=>bw,mb:()=>vT,n:()=>Cw,na:()=>dk,nb:()=>bT,o:()=>Tw,ob:()=>xT,p:()=>Aw,pb:()=>wT,q:()=>_S,qa:()=>gk,qb:()=>CT,r:()=>n,ra:()=>mk,rb:()=>TT,s:()=>Uk,sb:()=>$T,t:()=>Nk,tb:()=>oE,u:()=>Hk,ub:()=>sE,v:()=>jk,va:()=>bk,w:()=>Wk,x:()=>Vk,y:()=>vC,ya:()=>Sk,z:()=>bC});var r,n,o,s,a,l,c,u,h,d,p=Object.create,f=Object.defineProperty,g=Object.getOwnPropertyDescriptor,m=Object.getOwnPropertyNames,y=Object.getPrototypeOf,_=Object.prototype.hasOwnProperty,v=e=>f(e,"__esModule",{value:!0}),b=(e,t)=>()=>(e&&(t=e(e=0)),t),x=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),w=(e,t)=>{for(var i in t)f(e,i,{get:t[i],enumerable:!0})},S=(e,t,i,r)=>{if(t&&"object"===typeof t||"function"===typeof t)for(let n of m(t))_.call(e,n)||!i&&"default"===n||f(e,n,{get:()=>t[n],enumerable:!(r=g(t,n))||r.enumerable});return e},k=(e,t)=>S(v(f(null!=e?p(y(e)):{},"default",!t&&e&&e.__esModule?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e),C=(r="undefined"!==typeof WeakMap?new WeakMap:0,(e,t)=>r&&r.get(e)||(t=S(v({}),e,1),r&&r.set(e,t),t)),T=(e,t,i,r)=>{for(var n,o=r>1?void 0:r?g(t,i):t,s=e.length-1;s>=0;s--)(n=e[s])&&(o=(r?n(t,i,o):n(o))||o);return r&&o&&f(t,i,o),o},E=(e,t,i)=>(((e,t,i)=>{t in e?f(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i})(e,"symbol"!==typeof t?t+"":t,i),i),D=b((()=>{n=e=>{if(e){e.width=1,e.height=1;const t=e.getContext("2d");t&&t.clearRect(0,0,1,1)}}})),I=b((()=>{o={imgly_font_bernier_regular:"imgly_font_sancreek",imgly_font_cheque_regular:"imgly_font_kumar_one_outline",imgly_font_gagalin_regular:"imgly_font_permanent_marker",imgly_font_hagin_caps_thin:"imgly_font_nixie_one",imgly_font_intro_inline:"imgly_font_bungee_inline",imgly_font_nexa_script:"imgly_font_molle",imgly_font_panton_blackitalic_caps:"imgly_font_roboto_black_italic",imgly_font_panton_lightitalic_caps:"imgly_font_roboto_light_italic",imgly_font_perfograma:"imgly_font_codystar",imgly_font_panton_black_caps:"imgly_font_roboto_black",imgly_font_panton_light_caps:"imgly_font_roboto_light",imgly_font_summer_font_light:"imgly_font_sue_ellen_francisco",imgly_font_wolesbro:"imgly_font_cookie_regular",imgly_font_campton_bold:"imgly_font_outfit_bold",imgly_font_galano_grotesque_bold:"imgly_font_lexend_bold",imgly_font_amberlight:"imgly_font_allison_regular)"},s=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return o[e]?(t&&console.warn("Font ".concat(e," was deprecated. Please use ").concat(o[e]," instead.")),o[e]):e}})),R=x(((e,t)=>{var i="undefined"!==typeof Element,r="function"===typeof Map,n="function"===typeof Set,o="function"===typeof ArrayBuffer&&!!ArrayBuffer.isView;function s(e,t){if(e===t)return!0;if(e&&t&&"object"==typeof e&&"object"==typeof t){if(e.constructor!==t.constructor)return!1;var a,l,c,u;if(Array.isArray(e)){if((a=e.length)!=t.length)return!1;for(l=a;0!==l--;)if(!s(e[l],t[l]))return!1;return!0}if(r&&e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(u=e.entries();!(l=u.next()).done;)if(!t.has(l.value[0]))return!1;for(u=e.entries();!(l=u.next()).done;)if(!s(l.value[1],t.get(l.value[0])))return!1;return!0}if(n&&e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(u=e.entries();!(l=u.next()).done;)if(!t.has(l.value[0]))return!1;return!0}if(o&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if((a=e.length)!=t.length)return!1;for(l=a;0!==l--;)if(e[l]!==t[l])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();if((a=(c=Object.keys(e)).length)!==Object.keys(t).length)return!1;for(l=a;0!==l--;)if(!Object.prototype.hasOwnProperty.call(t,c[l]))return!1;if(i&&e instanceof Element)return!1;for(l=a;0!==l--;)if(("_owner"!==c[l]&&"__v"!==c[l]&&"__o"!==c[l]||!e.$$typeof)&&!s(e[c[l]],t[c[l]]))return!1;return!0}return e!==e&&t!==t}t.exports=function(e,t){try{return s(e,t)}catch(xS){if((xS.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw xS}}})),F=x(((e,t)=>{t.exports=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=arguments.length>2?arguments[2]:void 0;if(i={indent:" ",includeEmptyLines:!1,...i},"string"!==typeof e)throw new TypeError("Expected `input` to be a `string`, got `".concat(typeof e,"`"));if("number"!==typeof t)throw new TypeError("Expected `count` to be a `number`, got `".concat(typeof t,"`"));if("string"!==typeof i.indent)throw new TypeError("Expected `options.indent` to be a `string`, got `".concat(typeof i.indent,"`"));if(0===t)return e;const r=i.includeEmptyLines?/^/gm:/^(?!\s*$)/gm;return e.replace(r,i.indent.repeat(t))}})),A=x((()=>{})),O=x(((e,t)=>{var i=A(),r=/\s+at.*(?:\(|\s)(.*)\)?/,n=/^(?:(?:(?:node|(?:internal\/[\w/]*|.*node_modules\/(?:babel-polyfill|pirates)\/.*)?\w+)\.js:\d+:\d+)|native)/,o="undefined"===typeof i.homedir?"":i.homedir();t.exports=(e,t)=>(t=Object.assign({pretty:!1},t),e.replace(/\\/g,"/").split("\n").filter((e=>{const t=e.match(r);if(null===t||!t[1])return!0;const i=t[1];return!i.includes(".app/Contents/Resources/electron.asar")&&!i.includes(".app/Contents/Resources/default_app.asar")&&!n.test(i)})).filter((e=>""!==e.trim())).map((e=>t.pretty?e.replace(r,((e,t)=>e.replace(t,t.replace(o,"~")))):e)).join("\n"))})),M=x(((e,t)=>{var i=F(),r=O(),n=class extends Error{constructor(e){if(!Array.isArray(e))throw new TypeError("Expected input to be an Array, got ".concat(typeof e));let t=(e=[...e].map((e=>e instanceof Error?e:null!==e&&"object"===typeof e?Object.assign(new Error(e.message),e):new Error(e)))).map((e=>"string"===typeof e.stack?(e=>e.replace(/\s+at .*aggregate-error\/index.js:\d+:\d+\)?/g,""))(r(e.stack)):String(e))).join("\n");t="\n"+i(t,4),super(t),this.name="AggregateError",Object.defineProperty(this,"_errors",{value:e})}*[Symbol.iterator](){for(const e of this._errors)yield e}};t.exports=n})),P=x(((e,t)=>{var i=M();t.exports=async function(e,t){let{concurrency:r=1/0,stopOnError:n=!0}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return new Promise(((o,s)=>{if("function"!==typeof t)throw new TypeError("Mapper function is required");if(!Number.isSafeInteger(r)&&r!==1/0||!(r>=1))throw new TypeError("Expected `concurrency` to be an integer from 1 and up or `Infinity`, got `".concat(r,"` (").concat(typeof r,")"));const a=[],l=[],c=e[Symbol.iterator]();let u=!1,h=!1,d=0,p=0;const f=()=>{if(u)return;const e=c.next(),r=p;if(p++,e.done)return h=!0,void(0===d&&(n||0===l.length?o(a):s(new i(l))));d++,(async()=>{try{const i=await e.value;a[r]=await t(i,r),d--,f()}catch(i){n?(u=!0,s(i)):(l.push(i),d--,f())}})()};for(let e=0;e<r&&(f(),!h);e++);}))}})),z={};w(z,{FragmentPrecision:()=>d,ImageFormat:()=>l,OptionType:()=>c,RenderType:()=>a,RendererType:()=>h,UniformType:()=>u});var B,L,U,N,H,j,W,V,G=b((()=>{var e,t,i;a={IMAGE:"image",DATAURL:"data-url",BUFFER:"buffer",BLOB:"blob",MSBLOB:"ms-blob"},l={PNG:"image/png",JPEG:"image/jpeg",RAW:"raw"},(e=c||{}).NUMBER="number",e.VECTOR2="vector2",e.COLOR_MATRIX="color-matrix",e.COLOR="color",e.ARRAY="array",e.OBJECT="object",e.STRING="string",e.BOOLEAN="boolean",e.CONFIGURABLE="configurable",e.IMAGE="image",e.FUNCTION="function",e.TEXTURE="texture",e.ALL="*",c=e,(t=u||{}).SAMPLER2D="sampler2d",t.INT="i",t.INT1="1i",t.INT2="2i",t.INT3="3i",t.INT4="4i",t.FLOAT="f",t.FLOAT1="1f",t.FLOAT2="2f",t.FLOAT_VECTOR2="2fv",t.FLOAT3="3f",t.FLOAT4="4f",t.MAT3="mat3",t.MAT3FV="mat3fv",t.MAT4="mat4",u=t,h=(e=>(e.WEBGL="webgl",e.CANVAS="canvas",e))(h||{}),(i=d||{}).High="highp",i.Medium="mediump",i.Low="lowp",d=i})),q=b((()=>{B=()=>document.createElement("canvas"),L=(e,t)=>{const i=t||B();i.width=e.width,i.height=e.height;const r=i.getContext("2d");if(!r)throw new Error("Cannot render context");return r.clearRect(0,0,i.width,i.height),r.drawImage(e,0,0,e.width,e.height),i}})),X=b((()=>{U=class{constructor(e,t,i){this.width=e,this.height=t,this.data=i}}})),Y={};w(Y,{glGet:()=>N,webUtils:()=>V});var Q,K,Z,J,$,ee,te,ie,re,ne,oe,se,ae,le,ce,ue,he,de,pe,fe,ge,me,ye,_e,ve,be,xe,we,Se,ke,Ce,Te,Ee,De=b((()=>{q(),D(),X(),N=e=>{const t={preserveDrawingBuffer:!0};return e.getContext("webgl",t)||e.getContext("experimental-webgl",t)},H=()=>{const e=B(),t=N(e),i=t.getParameter(t.MAX_TEXTURE_SIZE),r=t.getExtension("WEBGL_lose_context");return r&&r.loseContext(),n(e),i},j=(e,t)=>{if(t instanceof U)e.texImage2D(e.TEXTURE_2D,0,e.RGBA,t.width,t.height,0,e.RGBA,e.UNSIGNED_BYTE,t.data);else{const i=L(t);e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,i),n(i)}},W=e=>Boolean(e.tagName&&"IMG"===e.tagName.toUpperCase()),V={isSupported:()=>Boolean(N(B())),isCanvas:e=>"Canvas"===e.constructor.name||Boolean(e.tagName&&"CANVAS"===e.tagName.toUpperCase()),isImage:W,Image:"undefined"!==typeof window?window.Image:void 0,glMaxTexture:H,glGet:N,createCanvas:B,glResize:(e,t)=>e,glTexImage:j}})),Ie=b((()=>{G(),Q=(De(),C(Y)).webUtils,K=Q,Z=e=>"webgl"===e._type,J=e=>Boolean(e&&"tagName"in e&&e.tagName&&"CANVAS"===e.tagName.toUpperCase()),$=e=>Boolean("tagName"in e&&"IMG"===e.tagName.toUpperCase())})),Re=b((()=>{te=ee=class{static head(e){return e[0]}static tail(e){return e.slice(1)}static last(e){return e[e.length-1]}static init(e){return e.slice(0,e.length-1)}static remove(e,t){return e.filter(((e,i,r)=>!t(e,i,r)))}static findIndex(e,t){for(let i=0;i<e.length;i++)if(t(e[i]))return i;return-1}static find(e,t){for(let i=0;i<e.length;i++)if(t(e[i]))return e[i]}static flatten(e){return e.reduce((function(e,t){return e.concat(Array.isArray(t)?ee.flatten(t):t)}),[])}static range(e,t){const i=[];if(t>e)for(let r=e;r<t;r++)i.push(r);return i}static repeat(e,t){const i=[];for(let r=0;r<t;r++)i[r]=e;return i}static zip(e,t){const i=Math.min(e.length,t.length),r=[];for(let n=0;n<i;n++)r[n]=[e[n],t[n]];return r}}})),Fe=b((()=>{ie="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",re={encode(e){let t,i,r,n,o,s,a,l="",c=0;do{t=e[c++],i=e[c++],r=e[c++],n=t>>2,o=(3&t)<<4|i>>4,s=(15&i)<<2|r>>6,a=63&r,isNaN(i)?s=a=64:isNaN(r)&&(a=64),l=l+ie.charAt(n)+ie.charAt(o)+ie.charAt(s)+ie.charAt(a),t=i=r="",n=o=s=a=""}while(c<e.length);return l},decode(e){let t,i,r,n,o,s,a,l=0;const c=[];if(/[^A-Za-z0-9+/=]/g.exec(e))throw new Error("There were invalid base64 characters in the input text.\nValid base64 characters are A-Z, a-z, 0-9, '+', '/',and '='\nExpect errors in decoding.");e=e.replace(/[^A-Za-z0-9+/=]/g,"");do{n=ie.indexOf(e.charAt(l++)),o=ie.indexOf(e.charAt(l++)),s=ie.indexOf(e.charAt(l++)),a=ie.indexOf(e.charAt(l++)),t=n<<2|o>>4,i=(15&o)<<4|s>>2,r=(3&s)<<6|a,c.push(t),64!==s&&c.push(i),64!==a&&c.push(r),t=i=r="",n=o=s=a=""}while(l<e.length);return c}},ne=re})),Ae=b((()=>{Ie(),Re(),Fe(),E(se=oe=class{static mapRange(e,t,i){return(e-t.getMin())*i.getLength()/t.getLength()+i.getMin()}static isPlainObject(e){if("object"!==typeof e||!e)return!1;if("function"===typeof Object.getPrototypeOf){const t=Object.getPrototypeOf(e);return t===Object.prototype||null===t}return"[object Object]"===Object.prototype.toString.call(e)}static isMobile(){if("undefined"===typeof navigator)return!1;const e=navigator.userAgent||navigator.vendor||window.opera;return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od|ad)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4))}static isBrowser(){return"undefined"!==typeof window}static values(e){const t=[];for(const i in e)t.push(e[i]);return t}static generateUUID(){let e=(new Date).getTime();return"undefined"!==typeof window.performance&&"function"===typeof window.performance.now&&(e+=window.performance.now()),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){const i=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"===t?i:3&i|8).toString(16)}))}static resizeVectorToFit(e,t){const i=Math.min(t.x/e.x,t.y/e.y);return e.clone().multiply(i)}static resizeVectorToFill(e,t){const i=e.x/e.y;return i>t.x/t.y?t.clone().set(t.y*i,t.y):t.clone().set(t.x,t.x/i)}static isExtendable(e){return"undefined"!==typeof e&&null!==e&&("object"===typeof e||"function"===typeof e)}static defaults(e){const t={};for(const i in e)t[i]=e[i];for(let i=0;i<(arguments.length<=1?0:arguments.length-1);i++){const e=i+1<1||arguments.length<=i+1?void 0:arguments[i+1];for(const i in e)"undefined"===typeof t[i]&&(t[i]=e[i])}return t}static deepMerge(e){const t=(e,i)=>{if(void 0===i)return t(null,e);if(Array.isArray(i))return[...i];if(!oe.isPlainObject(i))return i;if(!oe.isPlainObject(e))return{...i};const r={...e};return Object.keys(i).forEach((n=>{const o=i[n];void 0!==o&&(r[n]=t(e[n],o))})),r};for(var i=arguments.length,r=new Array(i>1?i-1:0),n=1;n<i;n++)r[n-1]=arguments[n];return r.reduce(t,e)}static deepDefaults(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),r=1;r<t;r++)i[r-1]=arguments[r];const n=[...i].reverse();return oe.deepMerge(...n,e)}static deepClone(e){const t={};for(const i in e)oe.isExtendable(e[i])?t[i]=oe.deepClone(e[i]):t[i]=e[i];return t}static extend(e){const t={};for(const i in e)t[i]=e[i];for(let i=0;i<(arguments.length<=1?0:arguments.length-1);i++){const e=i+1<1||arguments.length<=i+1?void 0:arguments[i+1];for(const i in e)t[i]=e[i]}return t}static clone(e){return this.extend({},e)}static getUUID(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){const t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))}static createCanvas(){return K.createCanvas()}static isPowerOfTwo(e){return 0===(e.x&e.x-1)&&0===(e.y&e.y-1)}static nextLowestPOT(e){for(let t=1;t<32;t<<=1)e|=e>>t;return e-(e>>1)}static nextHighestPOT(e){e--;for(let t=1;t<32;t<<=1)e|=e>>t;return e+1}static moveArrayItem(e,t,i){if(i>=e.length){let t=i-e.length;for(;1+t--;)e.push(void 0)}e.splice(i,0,e.splice(t,1)[0])}static ensureCanvasDimensions(e,t){return(e.width!==t.x||e.height!==t.y)&&(e.width=t.x,e.height=t.y,!0)}static byteArrayToString(e){return e.map((e=>String.fromCharCode(e))).join("")}static clamp(e,t,i){return Math.max(t,Math.min(e,i))}static wildCardMatch(e,t){return new RegExp("^".concat(t.split("*").join(".*"),"$")).test(e)}static flipObject(e){const t={};for(const i in e)t[e[i]]=i;return t}static ISODateString(e){function t(e){return e<10?"0".concat(e):e}return"".concat(e.getUTCFullYear(),"-").concat(t(e.getUTCMonth()+1),"-").concat(t(e.getUTCDate()),"T").concat(t(e.getUTCHours()),":").concat(t(e.getUTCMinutes()),":").concat(t(e.getUTCSeconds()),"Z")}static getCrossOriginValue(e){return e?"none"!==e?e:void 0:"anonymous"}static invariant(e,t){if(!e){throw new Error(t)}}static executePromises(e){const t=e.length;let i=0;const r=[],n=[];return new Promise(((o,s)=>{const a=()=>{i++,i>=t&&(n.length<=0?o(r):s(n))},l=e=>{r.push(e),a()},c=e=>{n.push(e),a()};e.forEach((e=>{e.then(l).catch(c)}))}))}},"Array",te),ae=se})),Oe=b((()=>{Ae(),le=[{name:"trace",type:"trace",background:"#EEEEEE",color:"#AAAAAA"},{name:"info",type:"log",background:"#BDE5F8",color:"#00529B"},{name:"warn",type:"warn",background:"#FEEFB3",color:"#9F6000"},{name:"error",type:"error",background:"#FFBABA",color:"#D8000C"},{name:"log",type:"log",background:"#EEEEEE",color:"#1f4f6b"}],ce=()=>console&&console.group&&console.groupCollapsed&&console.groupEnd,ue=()=>"undefined"!==typeof navigator&&navigator.userAgent.match(/Gecko|WebKit/i)&&!navigator.userAgent.match(/Trident/),he=(e,t)=>["background: #2D7BFF; line-height: 20px; padding: 4px 0","background: #2B2B2B; color: white; line-height: 20px; padding: 4px 0","background: #2D7BFF; line-height: 20px; padding: 4px 0","background: ".concat(e,"; color: ").concat(t,"; line-height: 20px; padding: 4px 0; font-weight: bold"),"background: #2B2B2B; color: white; line-height: 20px; padding: 4px 0","background: #2D7BFF; line-height: 20px; padding: 4px 0"],de=class{constructor(){var e=this;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"warn",i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:le;this._levels=[...i],this._maxLevel=this.getLevelIndexByName(t),this._consoleFuncs={trace:function(){ce()?(console.groupCollapsed(...arguments),console.trace(),console.groupEnd()):console.trace(...arguments)}},this._levels.forEach((t=>{let{name:i}=t;this[i]=function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];e._log(i,t,...n)}}))}getLevelIndexByName(e){return ae.Array.findIndex(this._levels,(t=>t.name===e))}getLevelObjectByName(e){return ae.Array.find(this._levels,(t=>t.name===e))}canLog(e){const t=this.getLevelIndexByName(e);return!(t<0)&&t>=this._maxLevel}setLevel(e){const t=this.getLevelIndexByName(e);t<0||(this._maxLevel=t)}_log(e,t){const i=this.getLevelObjectByName(e);if(!i||!this.canLog(e))return;const{name:r,type:n,background:o,color:s}=i;for(var a=arguments.length,l=new Array(a>2?a-2:0),c=2;c<a;c++)l[c-2]=arguments[c];const u=l.filter((e=>void 0!==e)).map((e=>e.toObject?JSON.parse(JSON.stringify(e.toObject())):e)),h=this._consoleFuncs[n]||console[n]?function(){return console[n](...arguments)}:function(){return console.log(...arguments)},d=u.length,p=he(o,s);if(!ue()){const e=u.length;return e<=0?void h("PhotoEditorSDK | ".concat(t," ")):1===e&&"string"===typeof u[0]?void h("PhotoEditorSDK | ".concat(t," | ").concat(u[0])):void h("PhotoEditorSDK | ".concat(t," | "),...u)}d<=0?h("%c  %c PhotoEditorSDK %c  %c ".concat(t," %c %c  "),...p):1!==d||"string"!==typeof u[0]?ce()?(console.groupCollapsed("%c  %c PhotoEditorSDK %c  %c ".concat(t," %c"),...ae.Array.init(p)),h(...u),console.groupEnd()):h("%c  %c PhotoEditorSDK %c  %c ".concat(t," %c"),...ae.Array.init(p),...u):h("%c  %c PhotoEditorSDK %c  %c ".concat(t," %c  ").concat(u[0],"  %c  "),...p)}image(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;{let i=new window.Image;const r=()=>{const{width:t}=i,{height:r}=i;e&&console.log(e),console.log("%c+","\n        font-size: 1px;\n        padding: 0px ".concat(Math.floor(t/2),"px;\n        line-height: ").concat(r,"px;\n        background: url(").concat(i.src,");\n        color: transparent;\n        background-repeat: no-repeat;\n        background-size: ").concat(t,"px ").concat(r,"px;"))};return i.onload=r,t instanceof window.HTMLCanvasElement?i.src=t.toDataURL():t instanceof window.Image?(i=t,r()):"string"===typeof t?i.src=t:this.log(e,t),i}}texture(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;{if(!t)return void this.log(e,"texture: null or undefined");const i=t.getBaseTexture(),r=i.getRenderers(),n=ae.Array.find(r,(e=>e&&"webgl"===e.constructor.type)),{width:o,height:s}=i.getFrame();if(n){const t=n.getContext(),r=i.getGLTextureForRenderer(n);this.logGlTexture(t,r,o,s,e)}else pe.image(e,i.getSource())}}logGlTexture(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:150,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:150,n=arguments.length>4?arguments[4]:void 0;{e.bindTexture(e.TEXTURE_2D,t);const o=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,o),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,t,0);const s=new Uint8Array(i*r*4);e.readPixels(0,0,i,r,e.RGBA,e.UNSIGNED_BYTE,s),e.deleteFramebuffer(o);const a=document.createElement("canvas");a.width=i,a.height=r;const l=a.getContext("2d"),c=l.createImageData(i,r);return c.data.set(s),l.putImageData(c,0,0),pe.image(n,a)}}},pe=new de("warn"),fe=pe})),Me=b((()=>{ge={load(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{cors:!0,value:"anonymous"};return Promise.resolve([e,e]).then((e=>{let[i,r]=e;return this._createAndLoadImage(i,r,t)}))},loadImage(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{cors:!0,value:"anonymous"};return this._loadWithoutExif(e,t)},_loadWithoutExif(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{cors:!0,value:"anonymous"};return new Promise(((i,r)=>{const n=new window.Image;n.addEventListener("load",(()=>{i(n)})),n.addEventListener("error",(()=>{r(new Error("Failed to load image at ".concat(e)))})),t.cors&&(n.crossOrigin=t.value),n.src=e}))},_createAndLoadImage(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{cors:!0,value:"anonymous"};return new Promise(((e,r)=>{{const r=this._loadWithoutExif(t,i).then((t=>e(t))),n=new Promise(((e,n)=>{this._loadAsDataURL(t,i).then((t=>{const i=new window.Image;i.addEventListener("load",(()=>{e(i)})),i.src=t,i.rawSource=t})).catch((t=>{r.then((t=>e(t)))}))}));return this._stringEndsWith(t,".svg")?r.then((t=>e(t))):n.then((t=>e(t)))}}))},_stringEndsWith(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length;return(void 0===i||i>e.length)&&(i=e.length),e.substring(i-t.length,i)===t},_loadAsDataURL(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{cors:!0,value:"anonymous"};return new Promise(((i,r)=>{const n=new XMLHttpRequest;n.onload=function(){const e=new FileReader;e.onloadend=function(){e.error&&r(e.error),i(e.result)},e.readAsDataURL(n.response)},n.open("GET",e),n.responseType="blob",n.withCredentials=t.cors&&"use-credentials"===t.value,n.send()}))},loadXHR:(e,t)=>new Promise(((i,r)=>{let n;window.XDomainRequest?(n=new window.XDomainRequest,t&&n.overrideMimeType(t),n.onload=function(){i(n)},n.onerror=function(e){r(e)}):window.XMLHttpRequest&&(n=new window.XMLHttpRequest,t&&n.overrideMimeType(t),n.onreadystatechange=function(e){4===n.readyState&&(200===n.status?i(n):r(new Error("HTTP Status ".concat(n.status))))}),n.open("GET",e,!0),n.send()}))}})),Pe=x(((e,t)=>{function i(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.exports=function(e,t,r,n){t=t||"&",r=r||"=";var o={};if("string"!==typeof e||0===e.length)return o;var s=/\+/g;e=e.split(t);var a=1e3;n&&"number"===typeof n.maxKeys&&(a=n.maxKeys);var l=e.length;a>0&&l>a&&(l=a);for(var c=0;c<l;++c){var u,h,d,p,f=e[c].replace(s,"%20"),g=f.indexOf(r);g>=0?(u=f.substr(0,g),h=f.substr(g+1)):(u=f,h=""),d=decodeURIComponent(u),p=decodeURIComponent(h),i(o,d)?Array.isArray(o[d])?o[d].push(p):o[d]=[o[d],p]:o[d]=p}return o}})),ze=x(((e,t)=>{var i=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};t.exports=function(e,t,r,n){return t=t||"&",r=r||"=",null===e&&(e=void 0),"object"===typeof e?Object.keys(e).map((function(n){var o=encodeURIComponent(i(n))+r;return Array.isArray(e[n])?e[n].map((function(e){return o+encodeURIComponent(i(e))})).join(t):o+encodeURIComponent(i(e[n]))})).join(t):n?encodeURIComponent(i(n))+r+encodeURIComponent(i(e)):""}})),Be=x((e=>{e.decode=e.parse=Pe(),e.encode=e.stringify=ze()}));function Le(e){"string"==typeof e&&(e=He(e));var t=function(e,t,i){var r=e.auth,n=e.hostname,o=e.protocol||"",s=e.pathname||"",a=e.hash||"",l=e.query||"",c=!1;r=r?encodeURIComponent(r).replace(/%3A/i,":")+"@":"",e.host?c=r+e.host:n&&(c=r+(~n.indexOf(":")?"["+n+"]":n),e.port&&(c+=":"+e.port)),l&&"object"==typeof l&&(l=t.encode(l));var u=e.search||l&&"?"+l||"";return o&&":"!==o.substr(-1)&&(o+=":"),e.slashes||(!o||i.test(o))&&!1!==c?(c="//"+(c||""),s&&"/"!==s[0]&&(s="/"+s)):c||(c=""),a&&"#"!==a[0]&&(a="#"+a),u&&"?"!==u[0]&&(u="?"+u),{protocol:o,host:c,pathname:s=s.replace(/[?#]/g,encodeURIComponent),search:u=u.replace("#","%23"),hash:a}}(e,me.default,ye);return""+t.protocol+t.host+t.pathname+t.search+t.hash}function Ue(e,t){var i="string"==typeof e?He(e):e;e="object"==typeof e?Le(e):e;var r=He(t),n="";i.protocol&&!i.slashes&&(n=i.protocol,e=e.replace(i.protocol,""),n+="/"===t[0]||"/"===e[0]?"/":""),n&&r.protocol&&(n="",r.slashes||(n=r.protocol,t=t.replace(r.protocol,"")));var o=e.match(xe);o&&!r.protocol&&(e=e.substr((n=o[1]+(o[2]||"")).length),/^\/\/[^/]/.test(t)&&(n=n.slice(0,-1)));var s=new URL(e,be+"/"),a=new URL(t,s).toString().replace(be,""),l=r.protocol||i.protocol;return l+=i.slashes||r.slashes?"//":"",!n&&l?a=a.replace(_e,l):n&&(a=a.replace(_e,"")),we.test(a)||~t.indexOf(".")||"/"===e.slice(-1)||"/"===t.slice(-1)||"/"!==a.slice(-1)||(a=a.slice(0,-1)),n&&(a=n+("/"===a[0]?a.substr(1):a)),a}function Ne(){}function He(e,t,i){if(void 0===t&&(t=!1),void 0===i&&(i=!1),e&&"object"==typeof e&&e instanceof Ne)return e;var r=(e=e.trim()).match(ke);e=r?r[1].replace(/\\/g,"/")+r[2]:e.replace(/\\/g,"/"),Ee.test(e)&&"/"!==e.slice(-1)&&(e+="/");var n=!/(^javascript)/.test(e)&&e.match(Ce),o=Te.test(e),s="";n&&(Se.test(n[1])||(s=n[1].toLowerCase(),e=""+n[2]+n[3]),n[2]||(o=!1,Se.test(n[1])?(s=n[1],e=""+n[3]):e="//"+n[3]),3!==n[2].length&&1!==n[2].length||(s=n[1],e="/"+n[3]));var a,l=(r?r[1]:e).match(/^https?:\/\/[^/]+(:[0-9]+)(?=\/|$)/),c=l&&l[1],u=new Ne,h="",d="";try{a=new URL(e)}catch(p){h=p,s||i||!/^\/\//.test(e)||/^\/\/.+[@.]/.test(e)||(d="/",e=e.substr(1));try{a=new URL(e,be)}catch(m){return u.protocol=s,u.href=s,u}}u.slashes=o&&!d,u.host=a.host===ve?"":a.host,u.hostname=a.hostname===ve?"":a.hostname.replace(/(\[|\])/g,""),u.protocol=h?s||null:a.protocol,u.search=a.search.replace(/\\/g,"%5C"),u.hash=a.hash.replace(/\\/g,"%5C");var p,f=e.split("#");!u.search&&~f[0].indexOf("?")&&(u.search="?"),u.hash||""!==f[1]||(u.hash="#"),u.query=t?me.default.decode(a.search.substr(1)):u.search.substr(1),u.pathname=d+(n?(p=a.pathname).replace(/['^|`]/g,(function(e){return"%"+e.charCodeAt().toString(16).toUpperCase()})).replace(/((?:%[0-9A-F]{2})+)/g,(function(e,t){try{return decodeURIComponent(t).split("").map((function(e){var t=e.charCodeAt();return t>256||/^[a-z0-9]$/i.test(e)?e:"%"+t.toString(16).toUpperCase()})).join("")}catch(i){return t}})):a.pathname),"about:"===u.protocol&&"blank"===u.pathname&&(u.protocol="",u.pathname=""),h&&"/"!==e[0]&&(u.pathname=u.pathname.substr(1)),s&&!Se.test(s)&&"/"!==e.slice(-1)&&"/"===u.pathname&&(u.pathname=""),u.path=u.pathname+u.search,u.auth=[a.username,a.password].map(decodeURIComponent).filter(Boolean).join(":"),u.port=a.port,c&&!u.host.endsWith(c)&&(u.host+=c,u.port=c.slice(1)),u.href=d?""+u.pathname+u.search+u.hash:Le(u);var g=/^(file)/.test(u.href)?["host","hostname"]:[];return Object.keys(u).forEach((function(e){~g.indexOf(e)||(u[e]=u[e]||null)})),u}var je,We,Ve=b((()=>{me=k(Be(),1),ye=/https?|ftp|gopher|file/,be=(_e="http://")+(ve="w.w"),xe=/^([a-z0-9.+-]*:\/\/\/)([a-z0-9.+-]:\/*)?/i,we=/https?|ftp|gopher|file/,Ne.prototype.parse=He,Ne.prototype.format=Le,Ne.prototype.resolve=Ue,Ne.prototype.resolveObject=Ue,Se=/^https?|ftp|gopher|file/,ke=/^(.*?)([#?].*)/,Ce=/^([a-z0-9.+-]*:)(\/{0,3})(.*)/i,Te=/^([a-z0-9.+-]*:)?\/\/\/*/i,Ee=/^([a-z0-9.+-]*:)(\/{0,2})\[(.*)\]$/i})),Ge=b((()=>{Ve(),je="undefined"!==typeof window?window:i.g,We=class{constructor(e){this._url=e,this._parsedUrl=He(this._url,!0)}_isJSONPRequest(){const{query:e}=this._parsedUrl;for(const t in e){if("?"===e[t])return!0}return!1}load(){return this._isJSONPRequest()?this._loadJSONP():this._loadJSON()}_loadJSON(){return new Promise(((e,t)=>{let i;je.XDomainRequest?(i=new je.XDomainRequest,i.onload=function(){const t=JSON.parse(i.responseText);e(t)},i.onerror=function(e){t(e)},i.open("GET",this._url,!0),i.send()):je.XMLHttpRequest&&(i=new XMLHttpRequest,i.onreadystatechange=function(r){if(4===i.readyState)if(200===i.status){const t=JSON.parse(i.responseText);e(t)}else t(new Error("HTTP Status ".concat(i.status)))},i.open("GET",this._url,!0),i.send())}))}_loadJSONP(){let e=!1,t=!1;const i="pesdk".concat(Math.round(99999999999999*Math.random()));return new Promise(((r,n)=>{const o=this._createJSONPNode(i);je[i]=i=>{this._removeJSONPNode(o),e||(t=!0,r(i))},je.setTimeout((()=>{t||(this._removeJSONPNode(o),e=!0,n(new Error("Timeout of 5 seconds exceeded.")))}),5e3)}))}_createJSONPNode(e){const t=this._buildJSONPUrl(e),i=document.querySelector("head"),r=document.createElement("script");return r.src=t,i.appendChild(r),r}_removeJSONPNode(e){e.parentNode.removeChild(e)}_buildJSONPUrl(e){const{query:t}=this._parsedUrl;let i=null;for(const r in t)if("?"===t[r]){i=r;break}return delete this._parsedUrl.search,t[i]=e,Le(this._parsedUrl)}}})),qe={};w(qe,{ImageLoader:()=>ge,JSONLoader:()=>We});var Xe,Ye,Qe,Ke,Ze,Je,$e,et,tt,it,rt,nt,ot,st,at,lt,ct,ut=b((()=>{Me(),Ge()})),ht=b((()=>{Ye=Xe=class{constructor(e,t,i){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;this.r=e,this.g=t,this.b=i,this.a=r}toRGBA(){const e=[Math.round(255*this.r),Math.round(255*this.g),Math.round(255*this.b),this.a.toFixed(2)];return"rgba(".concat(e.join(","),")")}set(e,t,i){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.a;return this.r=e,this.g=t,this.b=i,this.a=r,this}toRGB(){return[Math.round(255*this.r),Math.round(255*this.g),Math.round(255*this.b)]}toHex(){const e=[this._componentToHex(Math.round(255*this.r)),this._componentToHex(Math.round(255*this.g)),this._componentToHex(Math.round(255*this.b))];return"#".concat(e.join(""))}toGLColor(){return[this.r,this.g,this.b,this.a]}toArray(){return this.toGLColor()}toRGBGLColor(){return[this.r,this.g,this.b]}toHSV(){const e=Math.max(this.r,this.g,this.b),t=Math.min(this.r,this.g,this.b);let i,r;const n=e,o=e-t;if(r=0===e?0:o/e,e===t)i=0;else{switch(e){case this.r:i=(this.g-this.b)/o,this.g<this.b&&(i+=6);break;case this.g:i=(this.b-this.r)/o+2;break;case this.b:i=(this.r-this.g)/o+4}i/=6}return[i,r,n]}fromHSV(e,t,i){return this.copy(Xe.fromHSV(e,t,i)),this}static fromHSV(e,t,i){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,[n,o,s]=[];const a=Math.floor(6*e),l=6*e-a,c=i*(1-t),u=i*(1-l*t),h=i*(1-(1-l)*t);switch(a%6){case 0:n=i,o=h,s=c;break;case 1:n=u,o=i,s=c;break;case 2:n=c,o=i,s=h;break;case 3:n=c,o=u,s=i;break;case 4:n=h,o=c,s=i;break;case 5:n=i,o=c,s=u}return new Xe(n,o,s,r)}static fromArray(e){return new Xe(e[0],e[1],e[2],e[3])}static fromHex(e){const[t,i,r]=e.match(/[0-9A-fa-f]{1,2}/g);return new Xe(parseInt(t,16)/255,parseInt(i,16)/255,parseInt(r,16)/255,1)}clone(){return new Xe(this.r,this.g,this.b,this.a)}cloneRGB(){return new Xe(this.r,this.g,this.b,1)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this.a+=e.a,this}minus(e){return this.r-=e.r,this.g-=e.g,this.b-=e.b,this.a-=e.a,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this.a*=e,this}divideScalar(e){return this.r/=e,this.g/=e,this.b/=e,this.a/=e,this}clamp(e,t){return this.r=Math.min(Math.max(this.r,e),t),this.g=Math.min(Math.max(this.g,e),t),this.b=Math.min(Math.max(this.b,e),t),this.a=Math.min(Math.max(this.a,e),t),this}mix(e,t){return this.r=(1-t)*this.r+t*e.r,this.g=(1-t)*this.g+t*e.g,this.b=(1-t)*this.b+t*e.b,this.a=(1-t)*this.a+t*e.a,this}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this.a=e.a,this}equals(e){return this.r===e.r&&this.g===e.g&&this.b===e.b&&this.a===e.a}_componentToHex(e){const t=e.toString(16);return 1===t.length?"0".concat(t):t}toString(){return"Color(".concat(this.r,", ").concat(this.g,", ").concat(this.b,", ").concat(this.a,")")}static get TRANSPARENT(){return new Xe(0,0,0,0)}static get WHITE(){return new Xe(1,1,1,1)}static get BLACK(){return new Xe(0,0,0,1)}static get RED(){return new Xe(1,0,0,1)}static get BLUE(){return new Xe(0,0,1,1)}static get GREEN(){return new Xe(0,1,0,1)}}})),dt=b((()=>{Oe(),Qe=class{constructor(){this._maxListeners=12,this._events={},this._pipeDestinations=[]}pipeEvents(e){this._pipeDestinations.push(e)}unpipeEvents(e){const t=this._pipeDestinations.indexOf(e);-1!==t&&this._pipeDestinations.splice(t,1)}on(e,t){if("undefined"===typeof e)throw new Error("Invalid event type: `".concat(e,"`"));if("function"!==typeof t)throw new TypeError;const i=this._events[e]||(this._events[e]=[]);return-1!==i.indexOf(t)||(i.push(t),this._maxListeners&&i.length>this._maxListeners&&(fe.warn("EventEmitter","Possible memory leak detected, added ".concat(i.length," `").concat(e,"` listeners (current limit is ").concat(this._maxListeners,")")),"undefined"!==typeof console&&console.trace())),this}once(e,t){if("undefined"===typeof e)throw new Error("Invalid event type: `".concat(e,"`"));const i=this;return this.on(e,(function r(){i.off(e,r),t.apply(null,arguments)}))}off(e){if("undefined"===typeof e)throw new Error("Invalid event type: `".concat(e,"`"));if(0===(arguments.length<=1?0:arguments.length-1))return this._events[e]=null,this;const t=arguments.length<=1?void 0:arguments[1];if("function"!==typeof t)throw new TypeError;const i=this._events[e];if(!i||!i.length)return this;const r=i.indexOf(t);return-1===r||i.splice(r,1),this}emit(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),r=1;r<t;r++)i[r-1]=arguments[r];if("undefined"===typeof e)throw new Error("Invalid event type: `".concat(e,"`"));this._pipeDestinations.forEach((t=>{t.emit(e,...i)}));const n=this._events[e];return!(!n||!n.length)&&(n.slice(0).forEach((e=>e.apply(null,i))),!0)}setMaxListeners(e){if(parseInt(e,10)!==e)throw new TypeError;this._maxListeners=e}}})),pt=b((()=>{Oe(),D(),Ke={checkFramebufferStatus(e,t){const i=t.checkFramebufferStatus(t.FRAMEBUFFER),r={[t.FRAMEBUFFER_INCOMPLETE_ATTACHMENT]:"Incomplete attachment",[t.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT]:"Missing attachment",[t.FRAMEBUFFER_INCOMPLETE_DIMENSIONS]:"Incomplete dimensions",[t.FRAMEBUFFER_UNSUPPORTED]:"Framebuffer unsupported"};i!==t.FRAMEBUFFER_COMPLETE&&fe.warn(e,"Framebuffer incomplete: ".concat(r[i]))},determineGPUName(e){let t=null,i=null;e||(i=document.createElement("canvas"),e=i.getContext("experimental-webgl")||i.getContext("webgl"));const r=e&&e.getExtension("WEBGL_debug_renderer_info");return r&&(t=e.getParameter(r.UNMASKED_RENDERER_WEBGL),i&&i.remove()),n(i),t},isGPUBlacklisted(e){return!1}}})),ft=b((()=>{Ze=e=>"number"===typeof e})),gt=b((()=>{ft(),Je=e=>e instanceof tt,$e=(e,t)=>Je(e)?{x:e.x,y:e.y}:{x:e,y:Ze(t)?t:e},et=(e,t)=>(i,r)=>{const{x:n,y:o}=$e(i,r);return e.x=t(e.x,n),e.y=t(e.y,o),e},tt=class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.add=et(this,((e,t)=>e+t)),this.subtract=et(this,((e,t)=>e-t)),this.divide=et(this,((e,t)=>e/t)),this.multiply=et(this,((e,t)=>e*t)),this.x=e,this.y=t}set(e,t){const{x:i,y:r}=$e(e,t);return this.x=i,this.y=r,this}clone(){return new tt(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}clamp(e,t){return Ze(e)&&(e=new tt(e,e)),Ze(t)&&(t=new tt(t,t)),e&&(this.x=Math.max(e.x,this.x),this.y=Math.max(e.y,this.y)),t&&(this.x=Math.min(t.x,this.x),this.y=Math.min(t.y,this.y)),this}dot(e,t){const{x:i,y:r}=$e(e,t);return this.x*i+this.y*r}equals(e,t){const{x:i,y:r}=$e(e,t);return i===this.x&&r===this.y}flip(){const e=this.x;return this.x=this.y,this.y=e,this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}floor(){return this.x|=0,this.y|=0,this}abs(){return this.x=Math.abs(this.x),this.y=Math.abs(this.y),this}len(){return Math.sqrt(this.x*this.x+this.y*this.y)}min(){return Math.min(this.x,this.y)}max(){return Math.max(this.x,this.y)}toObject(){return{x:this.x,y:this.y}}toString(){return"Vector2({ x: ".concat(this.x,", y: ").concat(this.y," })")}roundDecimal(e){return this.x=parseFloat(this.x.toFixed(e)),this.y=parseFloat(this.y.toFixed(e)),this}asArray(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]?[this.y,this.x]:[this.x,this.y]}static fromObject(e){return new tt(e.x,e.y)}static get NULL(){return new tt(0,0)}}})),mt=b((()=>{gt(),it=class{constructor(){this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this.reset()}multiply(e){let t,i,r,n,o,s;return t=this.a*e.a+this.b*e.c,i=this.a*e.b+this.b*e.d,r=this.c*e.a+this.d*e.c,n=this.c*e.b+this.d*e.d,o=this.tx*e.a+this.ty*e.c+e.tx,s=this.tx*e.b+this.ty*e.d+e.ty,this.a=t,this.b=i,this.c=r,this.d=n,this.tx=o,this.ty=s,this}applyToVector(e){const{x:t,y:i}=e;return(e=e.clone()).x=this.a*t+this.c*i+this.tx,e.y=this.b*t+this.d*i+this.tx,e}applyInverseToVector(e){const t=1/(this.a*this.d+this.c*-this.b),{x:i,y:r}=e;return(e=e.clone()).x=this.d*t*i+-this.c*t*r+(this.ty*this.c-this.tx*this.d)*t,e.y=this.a*t*r+-this.b*t*i+(-this.ty*this.a+this.tx*this.b)*t,e}rectangleToCoordinates(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new tt(0,0);const i=e.width*(1-t.x),r=e.width*-t.x,n=e.height*(1-t.y),o=e.height*-t.y,s=[];return s.push(new tt(this.a*r+this.c*o+this.tx,this.d*o+this.b*r+this.ty)),s.push(new tt(this.a*i+this.c*o+this.tx,this.d*o+this.b*i+this.ty)),s.push(new tt(this.a*i+this.c*n+this.tx,this.d*n+this.b*i+this.ty)),s.push(new tt(this.a*r+this.c*n+this.tx,this.d*n+this.b*r+this.ty)),s}reset(){this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0}toArray(){const e=[this.a,this.b,0,this.c,this.d,0,this.tx,this.ty,1];return"undefined"===typeof Float32Array?e:new Float32Array(e)}toString(){return"Matrix({ a: ".concat(this.a,", b: ").concat(this.b,", c: ").concat(this.c,", d: ").concat(this.d,", tx: ").concat(this.tx,", ty: ").concat(this.ty," })")}static get IDENTITY(){return new it}}})),yt=b((()=>{gt(),rt=class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;this.x=0,this.y=0,this.width=0,this.height=0,this.x=e,this.y=t,this.width=i,this.height=r}set(e,t,i,r){return this.x=e,this.y=t,this.width=i,this.height=r,this}clone(){return new rt(this.x,this.y,this.width,this.height)}copy(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this}equals(e,t,i,r){return e instanceof rt?e.x===this.x&&e.y===this.y&&e.width===this.width&&e.height===this.height:e===this.x&&t===this.y&&i===this.width&&r===this.height}translate(e,t){const{x:i,y:r}=$e(e,t);return this.x+=i,this.y+=r,this}scale(e,t){const{x:i,y:r}=$e(e,t);return this.width*=i,this.height*=r,this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.width=Math.round(this.width),this.height=Math.round(this.height),this}getPosition(){return new tt(this.x,this.y)}getSize(){return new tt(this.width,this.height)}insetBy(e,t){return this.x+=e,this.y+=t,this.width-=2*e,this.height-=2*t,this}intersects(e){const t=new tt(this.x,this.y),i=new tt(this.x+this.width,this.y+this.height),r=new tt(e.x,e.y),n=new tt(e.x+e.width,e.y+e.height);return!(r.x>i.x||t.x>n.x||n.y<t.y||i.y<r.y)}toString(){return"Rectangle({ x: ".concat(this.x,", y: ").concat(this.y,", width: ").concat(this.width,", height: ").concat(this.height," })")}static FromDiagonalPoints(e,t){let i=!1;t.x-e.x<0&&(i=!0);const r=i?t:e,n=i?e:t,o=n.x-r.x,s=n.y-r.y;return new rt(r.x,r.y,o,s)}}})),_t=b((()=>{Oe(),G(),ht(),dt(),pt(),mt(),yt(),gt(),Ae(),nt=2e3,ot=20})),vt=b((()=>{_t(),st=class{constructor(){this._position=new tt(0,0),this._scale=new tt(1,1),this._pivot=new tt(0,0),this._rotation=0,this._lastRotation=null,this._alpha=1,this._visible=!0,this._worldTransform=new it,this._parent=null,this._shaders=[],this._boundsNeedUpdate=!0,this._bounds=new rt(0,0,1,1),this._localBoundsNeedUpdate=!0,this._localBounds=new rt(0,0,1,1),this._filterRectangle=new rt(0,0,0,0)}renderWebGL(e){fe.warn(this.constructor.name,"`renderWebGL` is abstract and not implemented in inherited class")}renderCanvas(e){fe.warn(this.constructor.name,"`renderCanvas` is abstract and not implemented in inherited class")}updateTransform(){const e=this._parent?this._parent.getWorldTransform():it.IDENTITY,t=this._worldTransform,i=Math.sin(this._rotation),r=Math.cos(this._rotation);t.a=r*this._scale.x,t.b=i*this._scale.x,t.c=-i*this._scale.y,t.d=r*this._scale.y,t.tx=this._position.x,t.ty=this._position.y,(this._pivot.x||this._pivot.y)&&(t.tx-=this._pivot.x*t.a+this._pivot.y*t.c,t.ty-=this._pivot.x*t.b+this._pivot.y*t.d),t.multiply(e),this._boundsNeedUpdate=!0,this._localBoundsNeedUpdate=!0}addShader(e){this._shaders.push(e)}removeShader(e){const t=this._shaders.indexOf(e);return-1!==t&&(this._shaders.splice(t,1),!0)}removeShaderAt(e){return!!this._shaders[e]&&(this._shaders.splice(e,1),!0)}getBounds(){return this._bounds.clone()}getPosition(){return this._position}setPosition(e,t){this._position.set(e,t),this._boundsNeedUpdate=!0,this._localBoundsNeedUpdate=!0}getScale(){return this._scale}setScale(e,t){this._scale.set(e,t),this._boundsNeedUpdate=!0,this._localBoundsNeedUpdate=!0}getPivot(){return this._pivot}setPivot(e,t){this._pivot.set(e,t),this._boundsNeedUpdate=!0,this._localBoundsNeedUpdate=!0}getRotation(){return this._rotation}setRotation(e){this._rotation=e,this._boundsNeedUpdate=!0,this._localBoundsNeedUpdate=!0}getAlpha(){return this._alpha}setAlpha(e){this._alpha=e}getWorldAlpha(){return this._parent?this._parent.getAlpha()*this._alpha:this._alpha}getWorldTransform(){return this._worldTransform}getParent(){return this._parent}setParent(e){this._parent=e}getFilterRectangle(){return this._filterRectangle}setFilterRectangle(e){this._filterRectangle.copy(e)}isVisible(){return this._visible}setVisible(e){this._visible=e}}})),bt=b((()=>{_t(),vt(),at=class extends st{constructor(){super(),this._children=[],this._filters=[]}addFilter(e){this._filters.push(e)}removeFilter(e){const t=this._filters.indexOf(e);return-1!==t&&(this._filters.splice(t,1),!0)}setFilters(e){this._filters=e}addChild(e){const t=e.getParent();t instanceof at&&t.removeChild(e),e.setParent(this),this._children.push(e)}prependChild(e){const t=e.getParent();t instanceof at&&t.removeChild(e),e.setParent(this),this._children.unshift(e)}hasChild(e){return-1!==this._children.indexOf(e)}removeChild(e){const t=this._children.indexOf(e);-1!==t?(this._children.splice(t,1),e.setParent(null)):fe.info(this.constructor.name,"Tried to remove a child that does not exist")}clearChildren(){this._children=[]}renderWebGL(e){if(!this._visible)return;const t=e.getFilterManager();this._filters&&this._filters.length&&t.pushFilters(this,this._filters),e.getCurrentObjectRenderer().start(),this._renderWebGL(e),this._children.forEach((t=>{t.renderWebGL(e)})),e.getCurrentObjectRenderer().flush(),this._filters&&this._filters.length&&t.popFilters(),e.getCurrentObjectRenderer().start()}_renderWebGL(e){}renderCanvas(e){if(!this._visible)return;const t=e.getFilterManager();this._filters&&this._filters.length&&t.pushFilters(this,this._filters),this._renderCanvas(e),this._children.forEach((t=>{t.renderCanvas(e)})),this._filters&&this._filters.length&&t.popFilters()}_renderCanvas(e){}updateTransform(){super.updateTransform(),this._children.forEach((e=>{e.updateTransform()}))}getLocalBounds(){return this._localBoundsNeedUpdate&&(this._localBoundsNeedUpdate=!1),this._localBounds.clone()}getBounds(){return this._boundsNeedUpdate&&(this._boundsNeedUpdate=!1),this._bounds.clone()}getChildren(){return this._children}getFilters(){return this._filters}dispose(){}}}));function xt(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}var wt,St,kt,Ct,Tt,Et,Dt,It,Rt,Ft,At,Ot,Mt,Pt,zt,Bt,Lt,Ut,Nt,Ht,jt,Wt,Vt,Gt,qt,Xt,Yt,Qt,Kt,Zt=b((()=>{lt=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],ct=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24]})),Jt=b((()=>{ht(),St=wt=class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:1,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,l=arguments.length>8&&void 0!==arguments[8]?arguments[8]:0,c=arguments.length>9&&void 0!==arguments[9]?arguments[9]:0,u=arguments.length>10&&void 0!==arguments[10]?arguments[10]:0,h=arguments.length>11&&void 0!==arguments[11]?arguments[11]:0,d=arguments.length>12&&void 0!==arguments[12]?arguments[12]:1,p=arguments.length>13&&void 0!==arguments[13]?arguments[13]:0,f=arguments.length>14&&void 0!==arguments[14]?arguments[14]:0,g=arguments.length>15&&void 0!==arguments[15]?arguments[15]:0,m=arguments.length>16&&void 0!==arguments[16]?arguments[16]:0,y=arguments.length>17&&void 0!==arguments[17]?arguments[17]:0,_=arguments.length>18&&void 0!==arguments[18]?arguments[18]:1,v=arguments.length>19&&void 0!==arguments[19]?arguments[19]:0;this.set(e,t,i,r,n,o,s,a,l,c,u,h,d,p,f,g,m,y,_,v)}set(e,t,i,r,n,o,s,a,l,c,u,h,d,p,f,g,m,y,_,v){this.a=e,this.b=t,this.c=i,this.d=r,this.e=n,this.f=o,this.g=s,this.h=a,this.i=l,this.j=c,this.k=u,this.l=h,this.m=d,this.n=p,this.o=f,this.p=g,this.q=m,this.r=y,this.s=_,this.t=v}reset(){this.a=1,this.b=0,this.c=0,this.d=0,this.e=0,this.f=0,this.g=1,this.h=0,this.i=0,this.j=0,this.k=0,this.l=0,this.m=1,this.n=0,this.o=0,this.p=0,this.q=0,this.r=0,this.s=1,this.t=0}apply(e){const t=this.a*e.r+this.b*e.g+this.c*e.b+this.d*e.a+this.e,i=this.f*e.r+this.g*e.g+this.h*e.b+this.i*e.a+this.j,r=this.k*e.r+this.l*e.g+this.m*e.b+this.n*e.a+this.o,n=this.p*e.r+this.q*e.g+this.r*e.b+this.s*e.a+this.t;return new Ye(t,i,r,n)}multiply(e){let t,i,r,n,o,s,a,l,c,u,h,d,p,f,g,m,y,_,v,b;const x=e,w=this;return t=x.a*w.a+x.b*w.f+x.c*w.k+x.d*w.p,i=x.a*w.b+x.b*w.g+x.c*w.l+x.d*w.q,r=x.a*w.c+x.b*w.h+x.c*w.m+x.d*w.r,n=x.a*w.d+x.b*w.i+x.c*w.n+x.d*w.s,s=x.f*w.a+x.g*w.f+x.h*w.k+x.i*w.p,a=x.f*w.b+x.g*w.g+x.h*w.l+x.i*w.q,l=x.f*w.c+x.g*w.h+x.h*w.m+x.i*w.r,c=x.f*w.d+x.g*w.i+x.h*w.n+x.i*w.s,h=x.k*w.a+x.l*w.f+x.m*w.k+x.n*w.p,d=x.k*w.b+x.l*w.g+x.m*w.l+x.n*w.q,p=x.k*w.c+x.l*w.h+x.m*w.m+x.n*w.r,f=x.k*w.d+x.l*w.i+x.m*w.n+x.n*w.s,m=x.p*w.a+x.q*w.f+x.r*w.k+x.s*w.p,y=x.p*w.b+x.q*w.g+x.r*w.l+x.s*w.q,_=x.p*w.c+x.q*w.h+x.r*w.m+x.s*w.r,v=x.p*w.d+x.q*w.i+x.r*w.n+x.s*w.s,o=x.a*w.e+x.b*w.j+x.c*w.o+x.d*w.t+x.e,u=x.f*w.e+x.g*w.j+x.h*w.o+x.i*w.t+x.j,g=x.k*w.e+x.l*w.j+x.m*w.o+x.n*w.t+x.o,b=x.p*w.e+x.q*w.j+x.r*w.o+x.s*w.t+x.t,this.a=t,this.b=i,this.c=r,this.d=n,this.e=o,this.f=s,this.g=a,this.h=l,this.i=c,this.j=u,this.k=h,this.l=d,this.m=p,this.n=f,this.o=g,this.p=m,this.q=y,this.r=_,this.s=v,this.t=b,this}clone(){const e=new wt;return e.set(this.a,this.b,this.c,this.d,this.e,this.f,this.g,this.h,this.i,this.j,this.k,this.l,this.m,this.n,this.o,this.p,this.q,this.r,this.s,this.t),e}equals(e){return this.a===e.a&&this.b===e.b&&this.c===e.c&&this.d===e.d&&this.e===e.e&&this.f===e.f&&this.g===e.g&&this.h===e.h&&this.i===e.i&&this.j===e.j&&this.k===e.k&&this.l===e.l&&this.m===e.m&&this.n===e.n&&this.o===e.o&&this.p===e.p&&this.q===e.q&&this.r===e.r&&this.s===e.s&&this.t===e.t}getOffsets(){return[this.e,this.j,this.o,this.t]}toString(){return"ColorMatrix( ".concat(this.a,", ").concat(this.b,", ").concat(this.c,", ").concat(this.d,", ").concat(this.e,",\n      ").concat(this.f,", ").concat(this.g,", ").concat(this.h,", ").concat(this.i,", ").concat(this.j,",\n      ").concat(this.k,", ").concat(this.l,", ").concat(this.m,", ").concat(this.n,", ").concat(this.o,",\n      ").concat(this.p,", ").concat(this.q,", ").concat(this.r,", ").concat(this.s,", ").concat(this.t," )")}toArray(){return"abcdefghijklmnopqrst".split("").map((e=>this[e]))}static get IDENTITY(){return new wt}static createBrightnessMatrix(e){const t=new wt;return t.e=e,t.j=e,t.o=e,t}static createContrastMatrix(e){const t=new wt,i=(1-e)/2;return t.a=t.g=t.m=e,t.e=t.j=t.o=i,t}static createSaturationMatrix(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;const t=new wt,i=1-e,r=.213*i,n=.715*i,o=.072*i;return t.a=r+e,t.b=n,t.c=o,t.f=r,t.g=n+e,t.h=o,t.k=r,t.l=n,t.m=o+e,t}static createExposureMatrix(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;const t=Math.pow(2,e);return new wt(t,0,0,0,0,0,t,0,0,0,0,0,t,0,0,0,0,0,1,0)}static createLinearMatrix(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const i=new wt;return i.a=i.g=i.m=e,i.e=i.j=i.o=t,i}}})),$t=b((()=>{G(),Ie(),ht(),dt(),Jt(),gt(),Ae(),Ct=kt=class extends Qe{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(),this.availableOptions={...Object.getPrototypeOf(this).availableOptions,...t},this._onConfigurableUpdate=this._onConfigurableUpdate.bind(this),this._initOptions(e)}_buildConfigError(e){let t="";return this.constructor.name&&(t="".concat(this.constructor.name,": ")),t+=e,new Error(t)}_onOptionsChange(){}validateSettings(){return new Promise(((e,t)=>{for(const i in this.availableOptions){if(this.availableOptions[i].required&&"undefined"===typeof this._options[i])return t(this._buildConfigError("Option `".concat(i,"` is required.")))}e()}))}_initOptions(){let e,t,i,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._options={};const n=this;for(e in this.availableOptions){if(i=e.charAt(0).toUpperCase()+e.slice(1),t=this.availableOptions[e],-1===["string","number","boolean","object","vector2","color","configurable","color-matrix","array","image","function","*"].indexOf(t.type))throw this._buildConfigError("Unknown option type: `".concat(t.type,"`"));if(function(e){n["set".concat(i)]=function(t,i,r){n.setOption(e,t,i,r)},n["get".concat(i)]=function(){return n.getOption(e)}}(e),"configurable"===t.type&&(this._options[e]=new kt(void 0,t.structure||{}),this._options[e].on("update",this._onConfigurableUpdate)),!(e in r)||"undefined"===typeof r[e])if("undefined"!==typeof t.default){let e=t.default;"function"===typeof t.default&&(e=t.default()),this["set".concat(i)](e,!1,!0)}else"configurable"!==t.type&&(this._options[e]=void 0)}for(e in r){if("undefined"===typeof this.availableOptions[e])throw new Error("Invalid option: ".concat(e));"undefined"!==typeof r[e]&&(i=e.charAt(0).toUpperCase()+e.slice(1),this["set".concat(i)](r[e],!1,!0))}}set(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];Object.keys(e).forEach((t=>{this.setOption(t,e[t],!1)})),this._onOptionsChange(),t&&this.emit("update",this,e)}getOption(e){return this._options[e]}hasOption(e){return!!this.availableOptions[e]}getOptionDefault(e){const t=this.availableOptions[e];if(!t)throw new Error("Invalid option: ".concat(e));return t.default}resetOptions(){this.set(this.getDefaultOptions())}getDefaultOptions(){const e={};for(const t in this.availableOptions){const i=this.availableOptions[t].default;"undefined"!==typeof i&&(e[t]=i)}return e}getOptions(){return{...this._options}}equals(e){const t=e.getOptions();return this.optionsEqual(t)}optionsEqual(e){for(const t in e){const i=e[t];if(!this._optionEquals(t,i))return!1}return!0}_optionEquals(e,t){if("undefined"===typeof this.availableOptions[e])throw new Error("Invalid option: ".concat(e));const i=this.availableOptions[e].type,r=this._options[e];if(r===t)return!0;if("undefined"===typeof t||"undefined"===typeof r)return!1;switch(i){case"object":return"function"===typeof r.optionsEqual?r.optionsEqual(t._options):r===t;case"string":case"number":case"boolean":case"function":case"*":return r===t;case"vector2":return r.equals(t);case"color":case"color-matrix":return t.equals(r);case"configurable":return r.optionsEqual(t);case"array":return this._arrayOptionEquals(e,t);case"image":return r.src===t.src}}_arrayOptionEquals(e,t){const i=this._options[e];if(t.length!==i.length)return!1;let r=!0;for(let n=0;n<i.length;n++){const e=i[n],o=t[n];if(e instanceof kt){if("undefined"===typeof o||!e.optionsEqual(o)){r=!1;break}}else if(o!==e){r=!1;break}}return r}serializeOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object.keys(this._options),t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const i={};return e.forEach((e=>{if("undefined"===typeof this.availableOptions[e])return Log.warn("Trying to serialize a key that does not exist: ".concat(e));!1!==this.availableOptions[e].serializable&&(i[e]=this.serializeOption(e,t))})),i}serializeOption(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const i=this.availableOptions[e],r=i.type,n=this._options[e];if(!n)return n;if(!1===i.serializable)throw new Error("Option `".concat(e,"` is not serializable."));switch(r){case"string":case"number":case"boolean":case"object":case"function":case"*":return n;case"vector2":return t?n.toObject():n.clone();case"color":case"color-matrix":return t?n.toArray():n.clone();case"configurable":return n.serializeOptions(void 0,t);case"array":return n.slice(0);case"image":return t?n.src:n}}setOption(e,t){let i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const n=this.availableOptions[e];if(!n)throw new Error("Invalid option: ".concat(e));if("undefined"!==typeof n.setter&&(t=n.setter.call(this,t,r)),"undefined"!==typeof n.validation&&n.validation(t),null===t||"undefined"===typeof t){if(n.required)throw this._buildConfigError("Option `".concat(e,"` is required."));this._options[e]=t}else switch(n.type){case"string":{if("string"!==typeof t)throw this._buildConfigError("Option `".concat(e,"` has to be a string."));const{available:i}=n;if("undefined"!==typeof i&&-1===i.indexOf(t))throw this._buildConfigError("Invalid value for `".concat(e,"` (valid values are: ").concat(n.available.join(", "),")"));this._options[e]=t;break}case"number":if("number"!==typeof t)throw this._buildConfigError("Option `".concat(e,"` has to be a number."));this._options[e]=t;break;case"boolean":if("boolean"!==typeof t)throw this._buildConfigError("Option `".concat(e,"` has to be a boolean."));this._options[e]=t;break;case"vector2":if(!(t instanceof tt)&&("object"!==typeof t||!("x"in t)||!("y"in t)))throw this._buildConfigError("Option `".concat(e,"` has to be an instance of Vector2 or an Object holding x and y values."));this._options[e]=t instanceof tt?t.clone():tt.fromObject(t);break;case"color":if(!(t instanceof Ye))throw this._buildConfigError("Option `".concat(e,"` has to be an instance of Color."));this._options[e]=t;break;case"color-matrix":if(!(t instanceof St))throw this._buildConfigError("Option `".concat(e,"` has to be an instance of ColorMatrix."));this._options[e]=t.clone();break;case"function":if("function"!==typeof t)throw this._buildConfigError("Option `".concat(e,"` has to be a function."));this._options[e]=t;break;case"object":case"*":this._options[e]=t;break;case"image":{const{Image:i}=K;if("string"===typeof t){const r=new i;$(r)&&(r.crossOrigin=ae.getCrossOriginValue(n.crossOrigin)),r.src=t,this._options[e]=r}else{if(!(t instanceof i||"undefined"!==typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement||"undefined"!==typeof HTMLImageElement&&t instanceof HTMLImageElement))throw this._buildConfigError("Option `".concat(e,"` has to be an Image, Canvas or String."));this._options[e]=t}break}case"configurable":t instanceof kt?this._options[e]=t:this._options[e].set(t);break;case"array":if(!(t instanceof Array))throw this._buildConfigError("Option `".concat(e,"` has to be an Array."));this._options[e]=t.slice(0);break;default:throw this._buildConfigError("Unknown option type: `".concat(n.type,"`"))}i&&(this._onOptionsChange(),this.emit("update",this,{[e]:t}))}_onConfigurableUpdate(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];this.emit("update",...t)}hasChanges(){const e=this.getDefaultOptions();return!this.optionsEqual(e)}}})),ei=b((()=>{G(),_t(),_t(),Tt=class{constructor(e,t,i){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];this._program=null,this._renderer=e,this._vertexSource=t,this._fragmentSource=i,this._uniforms=r,this._uniformLocations={},this._attributes=n,this._attributeLocations={},this._onContextChange=this._onContextChange.bind(this),this._renderer.on("context",this._onContextChange),this._init()}_init(){this._compile();this._renderer.getContext().useProgram(this._program),this._cacheUniformLocations(),this._cacheAttributeLocations()}_onContextChange(){this._init()}setupBuffers(e,t){const i=this._renderer.getContext();i.bindBuffer(i.ARRAY_BUFFER,e),i.bindBuffer(i.ELEMENT_ARRAY_BUFFER,t),i.vertexAttribPointer(this._attributeLocations.a_position,2,i.FLOAT,!1,ot,0),i.vertexAttribPointer(this._attributeLocations.a_texCoord,2,i.FLOAT,!1,ot,8),i.vertexAttribPointer(this._attributeLocations.a_color,4,i.UNSIGNED_BYTE,!0,ot,16)}syncUniforms(){Object.keys(this._uniforms).forEach((e=>{this.syncUniform(e)}))}syncUniform(e){const t=this._renderer.getContext(),i=this._uniforms[e],r=this._uniformLocations[e];switch(i.type){case"sampler2d":case"i":case"1i":t.uniform1i(r,i.value);break;case"2i":t.uniform2i(r,i.value[0],i.value[1]);break;case"3i":t.uniform3i(r,i.value[0],i.value[1],i.value[2]);break;case"4i":t.uniform4i(r,i.value[0],i.value[1],i.value[2],i.value[3]);break;case"f":case"1f":t.uniform1f(r,i.value);break;case"2f":t.uniform2f(r,i.value[0],i.value[1]);break;case"3f":t.uniform3f(r,i.value[0],i.value[1],i.value[2]);break;case"4f":t.uniform4f(r,i.value[0],i.value[1],i.value[2],i.value[3]);break;case"2fv":t.uniform2fv(r,i.value);break;case"mat3":case"mat3fv":t.uniformMatrix3fv(r,!1,i.value);break;case"mat4":t.uniformMatrix4fv(r,!1,i.value);break;default:fe.warn(this.constructor.name,"Unknown uniform type: ".concat(i.type))}}_cacheAttributeLocations(){const e=this._renderer.getContext();this._attributes.forEach((t=>{this._program&&(this._attributeLocations[t]=e.getAttribLocation(this._program,t))}))}_cacheUniformLocations(){const e=this._renderer.getContext();Object.keys(this._uniforms).forEach((t=>{if(this._program){const i=e.getUniformLocation(this._program,t);i&&(this._uniformLocations[t]=i)}}))}_addPrecisionToSource(e){const t=this._renderer.getMaxFloatPrecision();let i="mediump";return ae.isMobile()&&"highp"===t&&(i="highp"),"precision ".concat(i," float;\n").concat(e)}_compile(){const e=this._renderer.getContext(),t=this._compileShader(e.VERTEX_SHADER,this._vertexSource);this._vertexShader=t;const i=this._addPrecisionToSource(this._fragmentSource),r=this._compileShader(e.FRAGMENT_SHADER,i);this._fragmentShader=r;const n=e.createProgram();if(!n)return;e.attachShader(n,t),e.attachShader(n,r),e.linkProgram(n);if(e.getProgramParameter(n,e.LINK_STATUS))this._program=n;else{let t=e.getProgramInfoLog(n);e.isContextLost()&&(t="WebGL context lost"),e.deleteProgram(n),fe.error(this.constructor.name,"WebGL program linking error: ".concat(t))}}_compileShader(e,t){const i=this._renderer.getContext(),r=i.createShader(e);if(!r)throw new Error("Cannot create shared: ".concat(JSON.stringify(e)));i.shaderSource(r,t),i.compileShader(r);if(!i.getShaderParameter(r,i.COMPILE_STATUS)){let e=i.getShaderInfoLog(r);i.isContextLost()&&(e="WebGL context lost"),i.deleteShader(r),fe.error(this.constructor.name,"WebGL shader compilation error: ".concat(e))}return r}setUniform(e,t){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this._uniforms[e].value=t,i&&this.syncUniform(e)}setUniforms(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];Object.keys(e).forEach((i=>{this._uniforms[i].value=e[i],t&&this.syncUniform(i)}))}getUniforms(){return this._uniforms}getAttributes(){return this._attributes}getAttributeLocations(){return this._attributeLocations}getProgram(){return this._program}dispose(){const e=this._renderer.getContext();e.deleteProgram(this._program),e.deleteShader(this._vertexShader),e.deleteShader(this._fragmentShader),this._renderer.off("context",this._onContextChange)}}})),ti=b((()=>{Et="uniform sampler2D u_image;\nvarying vec2 v_texCoord;\nvarying vec4 v_color;\n\nvoid main() {\n  gl_FragColor = texture2D(u_image, v_texCoord) * v_color;\n}\n"})),ii=b((()=>{Dt="attribute vec2 a_position;\nattribute vec2 a_texCoord;\nattribute vec4 a_color;\nvarying vec2 v_texCoord;\nvarying vec4 v_color;\nuniform mat3 u_projMatrix;\n\nvoid main() {\n  gl_Position = vec4((u_projMatrix * vec3(a_position, 1)).xy, 0, 1);\n  v_texCoord = a_texCoord;\n  v_color = vec4(a_color.rgb * a_color.a, a_color.a);\n}\n"})),ri=b((()=>{G(),_t(),ei(),ti(),ii(),It=new it,Rt={vertexSource:Dt,fragmentSource:Et,uniforms:{u_image:{type:"sampler2d",value:0},u_projMatrix:{type:"mat3",value:It.toArray()}},attributes:["a_position","a_texCoord","a_color"]},Ft=class extends Tt{constructor(e){super(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:Rt.vertexSource,arguments.length>2&&void 0!==arguments[2]?arguments[2]:Rt.fragmentSource,Rt.uniforms,Rt.attributes)}}})),ni=b((()=>{ei(),ri()})),oi=b((()=>{D(),Zt(),G(),$t(),_t(),ni(),Ie(),At=class extends Ct{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}),this._initOptions(e)}_initOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._shaders=[],this._availableUniforms=Rt.uniforms,this._attributes=Rt.attributes,this._vertexSource=Rt.vertexSource,this._fragmentSource=Rt.fragmentSource,this._initUniforms(),super._initOptions(e)}_initUniforms(){this._uniforms={};for(const e in this._availableUniforms){const t=this._availableUniforms[e];this._uniforms[e]={type:t.type,value:t.default||null}}for(const e in this.availableOptions){const t=this.availableOptions[e];t.uniformType?this._uniforms["u_".concat(e)]={type:t.uniformType,value:t.default||null}:fe.trace(this.constructor.name,"Option `".concat(e,"` is missing a `uniformType`!"))}}setOption(e,t){let i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];super.setOption(e,t,i);let r=t;const n=this.availableOptions[e];if(!n.uniformType)return;const o="u_".concat(e);switch(n.type){case"color":"4f"===n.uniformType?r=t.toGLColor():"3f"===n.uniformType&&(r=t.toRGBGLColor());break;case"vector2":r=[t.x,t.y];break;case"color-matrix":{r=[t.a,t.b,t.c,t.d,t.f,t.g,t.h,t.i,t.k,t.l,t.m,t.n,t.p,t.q,t.r,t.s];const e=[t.e,t.j,t.o,t.t];this._uniforms["".concat(o,"_vec")]={value:e,type:"4f"}}}this.setUniform(o,r)}setUniform(e,t){this._uniforms[e].value=t}setUniforms(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];Object.entries(e).forEach((e=>{let[i,r]=e;this._uniforms[i].value=r,t&&this.syncUniform(i)}))}syncUniform(e){this._shaders.forEach((t=>{t.syncUniform(e)}))}syncUniforms(){this._shaders.forEach((e=>{e.syncUniforms()}))}getShaderForRenderer(e){const{id:t}=e;this._shaders||(this._shaders=[]);let i=this._shaders[t];return i||(i=new Tt(e,this._vertexSource,this._fragmentSource,this._uniforms,this._attributes),this._shaders[t]=i),i}apply(e,t,i){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];Z(e)?this._applyWebGL(e,t,i,r):this._applyCanvas(e,t,i,r)}_applyWebGL(e,t,i){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const n=e.getContext(),o=this.getShaderForRenderer(e);e.setRenderTarget(i),r&&i.clear(),e.setShader(o);const s=e.getCurrentRenderTarget().getProjectionMatrix().toArray();o.setUniform("u_projMatrix",s),o.syncUniforms(),n.activeTexture(n.TEXTURE0),n.bindTexture(n.TEXTURE_2D,t.getTexture()),n.drawElements(n.TRIANGLES,6,n.UNSIGNED_SHORT,0)}_applyCanvas(e,t,i){const r=t.getCanvas(),n=i.getContext();fe.warn(this.constructor.name,"`_applyCanvas` is not implemented. Just copying image data from `inputTarget` to `outputTarget`."),n.clearRect(0,0,r.width,r.height),n.drawImage(r,0,0)}dispose(){this._shaders.forEach((e=>e.dispose())),this._shaders=[]}_blurImage(e,t,i){const r=e.getCanvas(),o=Math.min(1,10/(i*Math.min(r.width,r.height))),s=ae.createCanvas();s.width=Math.round(r.width*o),s.height=Math.round(r.height*o);const a=s.getContext("2d");a.drawImage(r,0,0,r.width,r.height,0,0,s.width,s.height);const l=i*Math.min(s.width,s.height),c=a.getImageData(0,0,s.width,s.height);!function(e,t,i,r,n,o){if(!(isNaN(o)||o<1)){o|=0;var s,a,l,c,u,h,d,p,f,g,m,y,_,v,b,x,w,S,k,C,T,E,D,I,R,F=e.data,A=o+o+1,O=r-1,M=n-1,P=o+1,z=P*(P+1)/2,B=new xt,L=B;for(l=1;l<A;l++)L=L.next=new xt,l==P&&(R=L);L.next=B;var U=null,N=null;d=h=0;var H=lt[o],j=ct[o];for(a=0;a<n;a++){for(x=w=S=k=p=f=g=m=0,y=P*(C=F[h]),_=P*(T=F[h+1]),v=P*(E=F[h+2]),b=P*(D=F[h+3]),p+=z*C,f+=z*T,g+=z*E,m+=z*D,L=B,l=0;l<P;l++)L.r=C,L.g=T,L.b=E,L.a=D,L=L.next;for(l=1;l<P;l++)c=h+((O<l?O:l)<<2),p+=(L.r=C=F[c])*(I=P-l),f+=(L.g=T=F[c+1])*I,g+=(L.b=E=F[c+2])*I,m+=(L.a=D=F[c+3])*I,x+=C,w+=T,S+=E,k+=D,L=L.next;for(U=B,N=R,s=0;s<r;s++)F[h+3]=D=m*H>>j,0!==D?(D=255/D,F[h]=(p*H>>j)*D,F[h+1]=(f*H>>j)*D,F[h+2]=(g*H>>j)*D):F[h]=F[h+1]=F[h+2]=0,p-=y,f-=_,g-=v,m-=b,y-=U.r,_-=U.g,v-=U.b,b-=U.a,c=d+((c=s+o+1)<O?c:O)<<2,p+=x+=U.r=F[c],f+=w+=U.g=F[c+1],g+=S+=U.b=F[c+2],m+=k+=U.a=F[c+3],U=U.next,y+=C=N.r,_+=T=N.g,v+=E=N.b,b+=D=N.a,x-=C,w-=T,S-=E,k-=D,N=N.next,h+=4;d+=r}for(s=0;s<r;s++){for(w=S=k=x=f=g=m=p=0,y=P*(C=F[h=s<<2]),_=P*(T=F[h+1]),v=P*(E=F[h+2]),b=P*(D=F[h+3]),p+=z*C,f+=z*T,g+=z*E,m+=z*D,L=B,l=0;l<P;l++)L.r=C,L.g=T,L.b=E,L.a=D,L=L.next;for(u=r,l=1;l<=o;l++)h=u+s<<2,p+=(L.r=C=F[h])*(I=P-l),f+=(L.g=T=F[h+1])*I,g+=(L.b=E=F[h+2])*I,m+=(L.a=D=F[h+3])*I,x+=C,w+=T,S+=E,k+=D,L=L.next,l<M&&(u+=r);for(h=s,U=B,N=R,a=0;a<n;a++)F[3+(c=h<<2)]=D=m*H>>j,D>0?(D=255/D,F[c]=p*H>>j,F[c+1]=f*H>>j,F[c+2]=g*H>>j):F[c]=F[c+1]=F[c+2]=0,p-=y,f-=_,g-=v,m-=b,y-=U.r,_-=U.g,v-=U.b,b-=U.a,c=s+((c=a+P)<M?c:M)*r<<2,p+=x+=U.r=F[c],f+=w+=U.g=F[c+1],g+=S+=U.b=F[c+2],m+=k+=U.a=F[c+3],U=U.next,y+=C=N.r,_+=T=N.g,v+=E=N.b,b+=D=N.a,x-=C,w-=T,S-=E,k-=D,N=N.next,h+=r}}}(c,0,0,s.width,s.height,l),a.putImageData(c,0,0),t.getContext().drawImage(s,0,0,s.width,s.height,0,0,r.width,r.height),n(s)}}})),si=b((()=>{Ot="uniform sampler2D u_image;\nvarying vec2 v_texCoord;\nvarying vec4 v_color;\n\nvoid main() {\n  vec4 color = texture2D(u_image, v_texCoord);\n  gl_FragColor = vec4(color.a > 0. ? color.rgb / color.a : vec3(0), color.a);\n}\n"})),ai=b((()=>{oi(),si(),Mt=class extends At{constructor(){super(),this._fragmentSource=Ot}}})),li=b((()=>{Pt="uniform sampler2D u_image;\nvarying vec2 v_texCoord;\nuniform vec4 u_color;\n\nvoid main() {\n  vec4 color = texture2D(u_image, v_texCoord);\n  gl_FragColor = vec4(mix(color.rgb, u_color.rgb, u_color.a), color.a) * color.a;\n}\n"})),ci=b((()=>{_t(),oi(),li(),({OptionType:zt,UniformType:Bt}=z),(Lt=class extends At{constructor(){super(...arguments),this._fragmentSource=Pt}_applyCanvas(e,t,i){const r=t.getCanvas(),n=t.getContext(),o=i.getContext(),{color:s}=this._options,a=n.getImageData(0,0,r.width,r.height),l=o.getImageData(0,0,r.width,r.height),c=r.width*r.height,u=new Ye,h=new Ye;for(let d=0;d<4*c;d+=4){u.set(a.data[d]/255,a.data[d+1]/255,a.data[d+2]/255,a.data[d+3]/255),h.set(l.data[d]/255,l.data[d+1]/255,l.data[d+2]/255,l.data[d+3]/255);const e=h.r+u.a*(u.r-h.r);l.data[d]=255*(e+u.a*(s.r-e));const t=h.g+u.a*(u.g-h.g);l.data[d+1]=255*(t+u.a*(s.g-t));const i=h.b+u.a*(u.b-h.b);l.data[d+2]=255*(i+u.a*(s.b-i))}o.putImageData(l,0,0)}}).prototype.availableOptions={color:{type:zt.COLOR,default:Ye.WHITE,uniformType:Bt.FLOAT4}},Ut=Lt})),ui=b((()=>{Nt="uniform sampler2D u_image;\nvarying vec2 v_texCoord;\nuniform vec4 u_color;\nuniform int u_mode;\nvec3 W = vec3(0.2125, 0.7154, 0.0721);\nconst float EPSILON = 0.0000001;\nvoid main() {\n    vec4 color = texture2D(u_image, v_texCoord); // Is premultiplied.\n    color.rgb /= max(color.a, EPSILON); // Revert premultiplied alpha.\n    vec4 newColor;\n    if (u_mode == 0) {\n        newColor = vec4(color.rgb, 1.0); // We use alpha 1.0 becaue color is not premultiplied.\n        newColor *= color.a; // Premultiply the result\n    } else if (u_mode == 1) {\n        newColor = vec4(u_color.rgb, 1.0); // Use alpha 1.0 because it is not premultiplied.\n        newColor *= color.a * u_color.a; // Changed alpha and premultiplied the result.\n    } else if (u_mode == 2) {\n        float luminance = dot(color.rgb, W); // Convert to color to gray value.\n        newColor = vec4(vec3(luminance) * u_color.rgb, 1.0); // Colorize and with alpha 1.0 because it is not premultiplied.\n        newColor *= color.a * u_color.a; // Changed alpha and premultiplied the result.\n    }\n    gl_FragColor = newColor;\n}"})),hi=b((()=>{_t(),oi(),ui(),({OptionType:Ht,UniformType:jt}=z),(Wt=class extends At{constructor(){super(...arguments),this._fragmentSource=Nt}_applyCanvas(e,t,i){const r=t.getCanvas(),n=t.getContext(),o=i.getContext(),s=n.getImageData(0,0,r.width,r.height),{mode:a,color:l}=this._options,{r:c,g:u,b:h,a:d}=l,p=[.2125,.7154,.0721];switch(a){case Wt.MODES.SOLID:for(let e=0;e<r.width*r.height;e++){const t=4*e;s.data[t]+=(255*c-s.data[t])*d,s.data[t+1]+=(255*u-s.data[t+1])*d,s.data[t+2]+=(255*h-s.data[t+2])*d}break;case Wt.MODES.COLORIZED:for(let e=0;e<r.width*r.height;e++){const t=4*e,i=s.data[t]/255*p[0]+s.data[t+1]/255*p[1]+s.data[t+2]/255*p[2],r=new Ye(i*c,i*u,i*h);s.data[t]+=(255*r.r-s.data[t])*d,s.data[t+1]+=(255*r.g-s.data[t+1])*d,s.data[t+2]+=(255*r.b-s.data[t+2])*d}}o.putImageData(s,0,0)}}).MODES={NONE:0,SOLID:1,COLORIZED:2},Wt.prototype.availableOptions={color:{type:Ht.COLOR,default:Ye.WHITE,uniformType:jt.FLOAT4},mode:{type:Ht.NUMBER,default:Wt.MODES.NONE,uniformType:jt.INT}},Vt=Wt})),di=b((()=>{Gt="uniform sampler2D u_image;\nvarying vec2 v_texCoord;\nuniform sampler2D u_overlayImage;\nuniform int u_blendMode;\nuniform float u_alpha;\n\nconst float EPSILON = 0.000001;\n\nvec4 overlay(vec4 a, vec4 b) {\n    vec3 result = mix(\n          1.0 - 2.0 * (1.0 - a.rgb) * (1.0 - b.rgb),\n          2.0 * a.rgb * b.rgb,\n          vec3(a.r < 0.5, a.g < 0.5, a.b < 0.5)\n      );\n    return mix(a, vec4(result, a.a), u_alpha * b.a);\n}\n\nvec4 hardLight(vec4 b, vec4 a) {\n    vec3 result = mix(\n          1.0 - 2.0 * (1.0 - a.rgb) * (1.0 - b.rgb),\n          2.0 * a.rgb * b.rgb,\n          vec3(a.r < 0.5, a.g < 0.5, a.b < 0.5)\n      );\n    return mix(b, vec4(result, b.a), u_alpha * a.a);\n}\n\nvec4 softLight(vec4 a, vec4 b) {\n    vec3 result = mix(\n          2.0 * a.rgb * (1.0 - b.rgb) + (2.0 * b.rgb - 1.0) * sqrt(a.rgb),\n          2.0 * a.rgb * b.rgb + a.rgb * a.rgb * (1.0 - 2.0 * b.rgb),\n          vec3(b.r < 0.5, b.g < 0.5, b.b < 0.5)\n      );\n    return mix(a, vec4(result, a.a), u_alpha * b.a);\n}\n\nvec4 multiply(vec4 a, vec4 b) {\n    vec3 result = a.rgb * b.rgb;\n    return mix(a, vec4(result, a.a), u_alpha * b.a);\n}\n\nvec4 darken(vec4 a, vec4 b) {\n    vec3 result = min(a.rgb, b.rgb);\n    return mix(a, vec4(result, a.a), u_alpha * b.a);\n}\n\nvec4 lighten(vec4 a, vec4 b) {\n    vec3 result = max(a.rgb, b.rgb);\n    return mix(a, vec4(result, a.a), u_alpha * b.a);\n}\n\nvec4 screen(vec4 a, vec4 b) {\n    vec3 result = 1.0 - (1.0 - a.rgb) * (1.0 - b.rgb);\n    return mix(a, vec4(result, a.a), u_alpha * b.a);\n}\n\nvec4 colorBurn(vec4 a, vec4 b) {\n    vec3 result = clamp(1.0 - (1.0 - a.rgb) / max(b.rgb, EPSILON), 0.0, 1.0);\n    return mix(a, vec4(result, a.a), u_alpha * b.a);\n}\n\nvec4 normal(vec4 a, vec4 b) {\n    return mix(a, vec4(b.rgb, a.a), u_alpha * b.a);\n}\n\nvoid main() {\n  vec4 color = texture2D(u_image, v_texCoord);\n  vec4 overlayColor = texture2D(u_overlayImage, v_texCoord);\n\n  vec4 resultColor;\n  if (u_blendMode == 0) {\n    resultColor = normal(color, overlayColor);\n  } else if (u_blendMode == 1) {\n    resultColor = overlay(color, overlayColor);\n  } else if (u_blendMode == 2) {\n    resultColor = hardLight(color, overlayColor);\n  } else if (u_blendMode == 3) {\n    resultColor = softLight(color, overlayColor);\n  } else if (u_blendMode == 4) {\n    resultColor = multiply(color, overlayColor);\n  } else if (u_blendMode == 5) {\n    resultColor = darken(color, overlayColor);\n  } else if (u_blendMode == 6) {\n    resultColor = lighten(color, overlayColor);\n  } else if (u_blendMode == 7) {\n    resultColor = screen(color, overlayColor);\n  } else if (u_blendMode == 8) {\n    resultColor = colorBurn(color, overlayColor);\n  }\n  gl_FragColor = vec4(resultColor.rgb * resultColor.a, resultColor.a);\n}\n"})),pi=b((()=>{_t(),oi(),di(),({OptionType:qt,UniformType:Xt}=z),Yt=1e-6,(Qt=class extends At{constructor(){super(...arguments),this._fragmentSource=Gt,this._lastImage=null}_applyCanvas(e,t,i){const r=this._options.overlayTexture.getRenderTarget().getContext(),n=t.getCanvas(),o=t.getContext(),s=i.getContext(),a=o.getImageData(0,0,n.width,n.height),l=r.getImageData(0,0,n.width,n.height),{blendMode:c,alpha:u}=this._options,h=new Ye,d=new Ye,p=new Ye;for(let f=0;f<n.width*n.height*4;f+=4){let e,t,i,r,n,o,s,g,m;switch(h.set(a.data[f]/255,a.data[f+1]/255,a.data[f+2]/255,a.data[f+3]/255),d.set(l.data[f]/255,l.data[f+1]/255,l.data[f+2]/255,l.data[f+3]/255),c){case Qt.BLEND_MODES.NORMAL:p.set(h.r+d.a*u*(d.r-h.r),h.g+d.a*u*(d.g-h.g),h.b+d.a*u*(d.b-h.b),h.a);break;case Qt.BLEND_MODES.OVERLAY:e=1-2*(1-h.r)*(1-d.r),t=2*h.r*d.r,i=e+(h.r<.5?1:0)*(t-e),r=1-2*(1-h.g)*(1-d.g),n=2*h.g*d.g,o=r+(h.g<.5?1:0)*(n-r),s=1-2*(1-h.b)*(1-d.b),g=2*h.b*d.b,m=s+(h.b<.5?1:0)*(g-s),p.set(h.r+d.a*u*(i-h.r),h.g+d.a*u*(o-h.g),h.b+d.a*u*(m-h.b),h.a);break;case Qt.BLEND_MODES.HARD_LIGHT:e=1-2*(1-d.r)*(1-h.r),t=2*d.r*h.r,i=e+(d.r<.5?1:0)*(t-e),r=1-2*(1-d.g)*(1-h.g),n=2*d.g*h.g,o=r+(d.g<.5?1:0)*(n-r),s=1-2*(1-d.b)*(1-h.b),g=2*d.b*h.b,m=s+(d.b<.5?1:0)*(g-s),p.set(h.r+d.a*u*(i-h.r),h.g+d.a*u*(o-h.g),h.b+d.a*u*(m-h.b),h.a);break;case Qt.BLEND_MODES.SOFT_LIGHT:e=2*h.r*(1-d.r)+(2*d.r-1)*Math.sqrt(h.r),t=2*h.r*d.r+h.r*h.r*(1-2*d.r),i=e+(d.r<.5?1:0)*(t-e),r=2*h.g*(1-d.g)+(2*d.g-1)*Math.sqrt(h.g),n=2*h.g*d.g+h.g*h.g*(1-2*d.g),o=r+(d.g<.5?1:0)*(n-r),s=2*h.b*(1-d.b)+(2*d.b-1)*Math.sqrt(h.b),g=2*h.b*d.b+h.b*h.b*(1-2*d.b),m=s+(d.b<.5?1:0)*(g-s),p.set(h.r+d.a*u*(i-h.r),h.g+d.a*u*(o-h.g),h.b+d.a*u*(m-h.b),h.a);break;case Qt.BLEND_MODES.MULTIPLY:i=h.r*d.r,o=h.g*d.g,m=h.b*d.b,p.set(h.r+d.a*u*(i-h.r),h.g+d.a*u*(o-h.g),h.b+d.a*u*(m-h.b),h.a);break;case Qt.BLEND_MODES.DARKEN:i=Math.min(h.r,d.r),o=Math.min(h.g,d.g),m=Math.min(h.b,d.b),p.set(h.r+d.a*u*(i-h.r),h.g+d.a*u*(o-h.g),h.b+d.a*u*(m-h.b),h.a);break;case Qt.BLEND_MODES.LIGHTEN:i=Math.max(h.r,d.r),o=Math.max(h.g,d.g),m=Math.max(h.b,d.b),p.set(h.r+d.a*u*(i-h.r),h.g+d.a*u*(o-h.g),h.b+d.a*u*(m-h.b),h.a);break;case Qt.BLEND_MODES.SCREEN:i=1-(1-h.r)*(1-d.r),o=1-(1-h.g)*(1-d.g),m=1-(1-h.b)*(1-d.b),p.set(h.r+d.a*u*(i-h.r),h.g+d.a*u*(o-h.g),h.b+d.a*u*(m-h.b),h.a);break;case Qt.BLEND_MODES.COLOR_BURN:i=Math.max(0,Math.min(1,1-(1-h.r)/Math.max(d.r,Yt))),o=Math.max(0,Math.min(1,1-(1-h.g)/Math.max(d.g,Yt))),m=Math.max(0,Math.min(1,1-(1-h.b)/Math.max(d.b,Yt))),p.set(h.r+d.a*u*(i-h.r),h.g+d.a*u*(o-h.g),h.b+d.a*u*(m-h.b),h.a)}a.data[f]=255*p.r,a.data[f+1]=255*p.g,a.data[f+2]=255*p.b,a.data[f+3]=255*p.a}s.putImageData(a,0,0)}}).BLEND_MODES={NORMAL:0,OVERLAY:1,HARD_LIGHT:2,SOFT_LIGHT:3,MULTIPLY:4,DARKEN:5,LIGHTEN:6,SCREEN:7,COLOR_BURN:8},Qt.prototype.availableOptions={blendMode:{type:qt.NUMBER,default:Qt.BLEND_MODES.NORMAL,uniformType:Xt.INT},overlayImage:{type:qt.NUMBER,required:!0,uniformType:Xt.SAMPLER2D},overlayTexture:{type:qt.OBJECT,required:!0},alpha:{type:qt.NUMBER,default:1,uniformType:Xt.FLOAT}},Kt=Qt})),fi={};w(fi,{ColorOverlayFilter:()=>Ut,OverlayFilter:()=>Kt,TintFilter:()=>Vt,UnpremultiplyFilter:()=>Mt});var gi,mi,yi,_i,vi,bi,xi,wi,Si,ki,Ci,Ti,Ei,Di,Ii,Ri,Fi,Ai,Oi,Mi,Pi,zi,Bi,Li,Ui,Ni,Hi,ji,Wi,Vi,Gi,qi,Xi,Yi,Qi,Ki,Zi,Ji=b((()=>{ai(),ci(),hi(),pi()})),$i=b((()=>{_t(),Ie(),gi={1:"LINEAR",0:"NEAREST",2:"LINEAR_MIPMAP_NEAREST",3:"LINEAR_MIPMAP_LINEAR"},(yi=mi=class extends Qe{constructor(e){super(),this._renderers=[],this._glTextures={},this._dirty=!0,this._mipMapping=!1,this._glUnit=0,this._magFilter=mi.DefaultMagFilter,this._minFilter=mi.DefaultMinFilter,this._repeatX=0,this._repeatY=0,this._pixelRatio=1,this._loaded=!1,this._frame=new rt(0,0,100,100),this._onSourceLoaded=this._onSourceLoaded.bind(this),this._source=e,this._loadSource()}resizeTo(e){this._frame.width===e.x&&this._frame.height===e.y||(this._frame.width=e.x,this._frame.height=e.y,this._dirty=!0)}_loadSource(){const e=this._source;if(e)return K.isCanvas(e)||e.complete?this._onSourceLoaded():void(e.addEventListener&&e.addEventListener("load",this._onSourceLoaded))}_onSourceLoaded(){this._loaded=!0,this.emit("loaded"),this.update()}_updateGLFilters(){if(!this._source)return;const e=new tt(this._source.width,this._source.height);ae.isPowerOfTwo(e)?(fe.info(this.constructor.name,"Mip-mapping enabled"),this._minFilter=mi.TrilinearFilter,this._mipMapping=!0):(this._minFilter=mi.LinearFilter,this._mipMapping=!1)}update(){this._source&&(this._frame.width===this._source.width&&this._frame.height===this._source.height||(this._frame=new rt(0,0,this._source.width,this._source.height),this._dirty=!0),this._updateGLFilters(),this.emit("update"))}getRenderers(){return[...this._renderers]}getGLFilter(e,t){switch(t){case"min":return e[gi[this._minFilter]];case"mag":return e[gi[this._magFilter]]}}isLoaded(){return this._loaded}setLoaded(e){this._loaded=e}getSource(){return this._source}setSource(e){this._source=e}getGLTextureForRenderer(e){return this._glTextures[e.id]}setGLTextureForRenderer(e,t){this._renderers[t.id]=t,this._glTextures[t.id]=e}getFrame(){return this._frame}setFrame(e){this._frame=e}getDimensions(){return new tt(this._frame.width,this._frame.height)}getPixelRatio(){return this._pixelRatio}setPixelRatio(e){this._pixelRatio=e}getGLUnit(){return this._glUnit}setGLUnit(e){this._glUnit=e}setMinFilter(e){this._minFilter=e}getMinFilter(){return this._minFilter}setMagFilter(e){this._magFilter=e}getMagFilter(){return this._magFilter}setRepeatX(e){this._repeatX=e}getRepeatX(){return this._repeatX}setRepeatY(e){this._repeatY=e}getRepeatY(){return this._repeatY}getGLRepeat(e,t){switch("x"===t?this.getRepeatX():this.getRepeatY()){case 0:return e.CLAMP_TO_EDGE;case 1:return e.REPEAT;case 2:return e.MIRRORED_REPEAT;default:return 0}}isDirty(){return this._dirty}setDirty(e){this._dirty=e}disposeGLTextures(){this._renderers.forEach((e=>{Z(e)&&this.disposeGLTexturesForRenderer(e)}))}disposeGLTexturesForRenderer(e){if(!this._glTextures[e.id])return;e.getContext().deleteTexture(this._glTextures[e.id]),delete this._glTextures[e.id],this._renderers[e.id]||delete this._renderers[e.id]}isMipMappingEnabled(){return this._mipMapping}setMipMappingEnabled(e){this._mipMapping=e}dispose(){this.disposeGLTextures(),this._source=void 0}}).NearestFilter=0,yi.LinearFilter=1,yi.BilinearFilter=2,yi.TrilinearFilter=3,yi.DefaultMagFilter=1,yi.DefaultMinFilter=1,yi.Repeat=1,yi._id=0})),er=b((()=>{_t(),$i(),Ie(),_i=class{constructor(e,t,i){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:K.createCanvas(),n=arguments.length>4?arguments[4]:void 0;this._width=e,this._height=t,this._pixelRatio=i,this._baseTexture=new yi,this._canvas=r;const o=n||this._canvas.getContext("2d");if(!o)throw new Error("Cannot get canvas context");this._context=o,this._baseTexture.setSource(this._canvas),this._canvas.width=this._width*this._pixelRatio,this._canvas.height=this._height*this._pixelRatio,this._filterStack=[{renderTarget:this,filters:[]}]}clear(){const e=this._context;e.setTransform(1,0,0,1,0,0),e.clearRect(0,0,this._width*this._pixelRatio,this._height*this._pixelRatio)}resizeTo(e){this._baseTexture.resizeTo(e),this._width!==e.x&&(this._width=e.x,this._canvas.width=this._width*this._pixelRatio),this._height!==e.y&&(this._height=e.y,this._canvas.height=this._height*this._pixelRatio)}getCanvas(){return this._canvas}getContext(){return this._context}getFilterStack(){return this._filterStack}getWidth(){return this._width}getHeight(){return this._height}getPixelRatio(){return this._pixelRatio}setPixelRatio(e){this._pixelRatio=e}getDimensions(){return new tt(this._width,this._height)}getBaseTexture(){return this._baseTexture}dispose(){delete this._canvas,delete this._context,this._baseTexture.dispose()}}})),tr=b((()=>{_t(),er(),vi=class{constructor(e){this._renderer=e,this._filterStack=[{renderTarget:e.getCurrentRenderTarget(),filters:[]}],this._textures=[],this._textureFrame=new rt(0,0,e.getWidth(),e.getHeight())}resizeTo(e){this._textureFrame.width=e.x,this._textureFrame.height=e.y,this._textures.forEach((t=>t.resizeTo(e)))}pushFilters(e,t){this._currentFrame=e.getBounds();const i=this._getOrCreateRenderTarget();this._renderer.setRenderTarget(i),this._filterStack.push({renderTarget:i,filters:t}),i.clear()}popFilters(){const e=this._filterStack.pop();if(!e)return;const{filters:t,renderTarget:i}=e,r=i,n=this._filterStack[this._filterStack.length-1].renderTarget;if(1===t.length){t[0].apply(this._renderer,r,n),this._textures.push(r)}else this._applyFilters(t,r,n);return t}_applyFilters(e,t,i){let r=t,n=this._getOrCreateRenderTarget(!0);const o=e[e.length-1];e.forEach((e=>{if(e===o)e.apply(this._renderer,r,i);else{e.apply(this._renderer,r,n);const t=r;r=n,n=t}})),this._textures.push(r),this._textures.push(n)}_getOrCreateRenderTarget(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this._textures.pop();return t||(t=new _i(this._textureFrame.width,this._textureFrame.height,1)),e&&t.clear(),t}setFilterStack(e){this._filterStack=e}dispose(){}}})),ir=x(((e,t)=>{(function(){var e,i,r,n,o,s;"undefined"!==typeof performance&&null!==performance&&performance.now?t.exports=function(){return performance.now()}:"undefined"!==typeof process&&null!==process&&process.hrtime?(t.exports=function(){return(e()-o)/1e6},i=process.hrtime,n=(e=function(){var e;return 1e9*(e=i())[0]+e[1]})(),s=1e9*process.uptime(),o=n-s):Date.now?(t.exports=function(){return Date.now()-r},r=Date.now()):(t.exports=function(){return(new Date).getTime()-r},r=(new Date).getTime())}).call(e)})),rr=b((()=>{_t(),bi="undefined"!==typeof window&&window.performance&&window.performance.now?window.performance.now.bind(window.performance):ir(),xi=class{constructor(e){this._context=e,this._tracking=!1;const t=this;for(const i in e){"function"===typeof e[i]?this[i]=function(){const r=e[i];for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];if(!t._tracking)return r.apply(e,o);const a=bi(),l=r.apply(e,o),c=bi()-a,u={functionName:i,arguments:o,duration:c};return t._trackedCalls.push(u),l}:this._makePropertyWrapper(i)}}_makePropertyWrapper(e){if(-1!==["_context","_trackedCalls","_tracking"].indexOf(e))return;const t=this._context;this.__defineGetter__(e,(()=>t[e])),this.__defineSetter__(e,(i=>{t[e]=i}))}startFrame(){this._tracking=!0,this._trackedCalls=[]}endFrame(){const e="Rendering";fe.log(e,"Frame rendering results:"),fe.log(e,"Context calls: ".concat(this._trackedCalls.length));const t={};this._trackedCalls.forEach((e=>{let{functionName:i,duration:r}=e;t[i]=t[i]||{totalDuration:0,calls:0},t[i].totalDuration+=r,t[i].calls++}));let i=[];for(const r in t){const e=t[r];e.averageDuration=e.totalDuration/e.calls,i.push({functionName:r,data:e})}i.sort(((e,t)=>t.data.totalDuration-e.data.totalDuration)),i=i.slice(0,3),i.forEach((t=>{fe.log(e,"".concat(t.functionName,": ").concat(t.data.calls," calls, ").concat(t.data.totalDuration.toFixed(2),"ms"))}))}}})),nr=b((()=>{_t(),wi=class extends Qe{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:800,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:600,i=arguments.length>2?arguments[2]:void 0;super(),this._maxTextureSize=null,this._options={debug:!1,transparent:!1,clearColor:Ye.TRANSPARENT,...i,pixelRatio:1},this.setMaxListeners(0),this._width=e,this._height=t,this._dimensions=new tt(this._width,this._height),this._maxTextureSize=null,this._pixelRatio=this._options.pixelRatio,this._canvas=this._options.canvas,this._clearColor=this._options.transparent?Ye.TRANSPARENT:this._options.clearColor||Ye.BLACK}setCanvas(e){const t=this._canvas;this._canvas=e,t!==e&&(this._createContext(),this._onBeforeContext(),this._setupContext()),this.resizeTo(new tt(this._width,this._height))}getCanvas(){return this._canvas}_onBeforeContext(){}resizeTo(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this._width=e.x*this._pixelRatio,this._height=e.y*this._pixelRatio,t&&this._canvas&&(this._canvas.width=this._width,this._canvas.height=this._height,"style"in this._canvas&&(this._canvas.style.width="".concat(this._width/this._pixelRatio,"px"),this._canvas.style.height="".concat(this._height/this._pixelRatio,"px"))),this._dimensions=e.clone()}_createContext(){fe.warn(this.constructor.name,"`_createContext` is abstract and not implemented in inherited class")}_setupContext(){fe.warn(this.constructor.name,"`_setupContext` is abstract and not implemented in inherited class")}render(e){fe.warn(this.constructor.name,"`render` is abstract and not implemented in inherited class")}getMaxDimensions(){return null}getContext(){return this._context}getWidth(){return this._dimensions.x}getHeight(){return this._dimensions.y}getDimensions(){return this._dimensions}getPixelRatio(){return this._pixelRatio}setPixelRatio(e){this._pixelRatio=e,this._defaultRenderTarget&&this._defaultRenderTarget.setPixelRatio(e)}getMaxTextureSize(){return this._maxTextureSize}getFilterManager(){return this._filterManager}setFilterManager(e){this._filterManager=e}setClearColor(e){this._clearColor=e}getClearColor(){return this._clearColor}isOfType(e){return this._type===e}dispose(){fe.warn(this.constructor.name,"`dispose` is abstract and not implemented in inherited class")}}})),or=b((()=>{D(),vt(),_t(),tr(),er(),rr(),Ie(),nr(),({RendererType:Si}=z),(Ci=ki=class extends wi{constructor(){let e=arguments.length>2?arguments[2]:void 0;super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:800,arguments.length>1&&void 0!==arguments[1]?arguments[1]:600,{...e}),this.id=0,this.setCanvas((null==e?void 0:e.canvas)||K.createCanvas()),this._type=Si.CANVAS}_createContext(){let e=this._canvas.getContext("2d");if(e)return this._options.debug&&(e=new xi(e)),this.id=ki.contextId++,this._context=e,this.emit("context",e),e}_setupContext(){const e=this._context;"imageSmoothingEnabled"in e?e.imageSmoothingEnabled=!0:["moz","webkit","ms"].forEach((t=>{e[t]&&(e[t]=!0)})),this._defaultRenderTarget=new _i(this._width,this._height,this._pixelRatio,this._canvas,this._context),this.setRenderTarget(this._defaultRenderTarget),this._filterManager=new vi(this)}render(e){const t=this._renderTarget.getContext(),i=e.getParent();e.setParent(new st),e.updateTransform(),i&&e.setParent(i),t.setTransform(1,0,0,1,0,0),t.globalAlpha=1;const{width:r,height:n}=this._canvas;t.clearRect(0,0,r,n),0!==this._clearColor.a&&(t.save(),t.fillStyle=this._clearColor.toRGBA(),t.fillRect(0,0,r,n),t.restore()),this.renderDisplayObject(e,this._renderTarget)}renderDisplayObject(e,t){const i=this._renderTarget;this._filterManager.setFilterStack(t.getFilterStack()),this.setRenderTarget(t),e.renderCanvas(this),this.setRenderTarget(i)}getCurrentRenderTarget(){return this._renderTarget}setRenderTarget(e){this._renderTarget=e}getContext(){return this._renderTarget.getContext()}dispose(){n(this._canvas),this._filterManager.dispose()}}).contextId=0,Ci.type=Si.CANVAS})),sr=b((()=>{Ti=e=>{if("undefined"!==typeof window){const{WebGLDebugUtils:t}=window;if(t){const i=(e,i)=>{console.error("gl.".concat(e,"(").concat(t.glFunctionArgsToString(e,i),")"))};e=t.makeDebugContext(e,null,i)}}return e}})),ar=b((()=>{Ei=class{constructor(e){this.vertices=new Float32Array([0,0,100,0,100,100,0,100]),this.uvs=new Float32Array([0,0,1,0,1,1,0,1]),this.indices=new Uint16Array([0,1,2,0,3,2]),this.colors=new Float32Array([1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]),this.vertexBuffer=null,this.indexBuffer=null,this.gl=e,this.initBuffers(),this.uploadBuffers()}map(e,t){const{x:i,y:r}=t;this.uvs[2]=t.width/e.width,this.uvs[4]=this.uvs[2],this.uvs[5]=t.height/e.height,this.uvs[7]=this.uvs[5],this.vertices[0]=i,this.vertices[1]=r,this.vertices[2]=i+t.width,this.vertices[3]=r,this.vertices[4]=this.vertices[2],this.vertices[5]=r+t.height,this.vertices[6]=i,this.vertices[7]=this.vertices[5],this.uploadBuffers()}getVertexBuffer(){return this.vertexBuffer}getIndexBuffer(){return this.indexBuffer}dispose(){this.cleanBuffer()}initBuffers(){const{gl:e}=this;this.cleanBuffer(),this.vertexBuffer=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,this.vertexBuffer),e.bufferData(e.ARRAY_BUFFER,128,e.DYNAMIC_DRAW),this.indexBuffer=e.createBuffer(),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,this.indexBuffer),e.bufferData(e.ELEMENT_ARRAY_BUFFER,this.indices,e.STATIC_DRAW)}uploadBuffers(){const{gl:e}=this;e.bindBuffer(e.ARRAY_BUFFER,this.vertexBuffer),e.bufferSubData(e.ARRAY_BUFFER,0,this.vertices),e.bufferSubData(e.ARRAY_BUFFER,32,this.uvs),e.bufferSubData(e.ARRAY_BUFFER,64,this.colors)}cleanBuffer(){const{gl:e}=this;e.deleteBuffer(this.vertexBuffer),e.deleteBuffer(this.indexBuffer)}}})),lr=b((()=>{_t(),$i(),Di=class{constructor(e,t,i,r){let n=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this._renderer=e,this._gl=e.getContext(),this._width=t,this._height=i,this._frame=null,this._pixelRatio=r,this._projectionMatrix=new it,this._mipMapping=!1,this._baseTexture=new yi;const o=this._baseTexture.getFrame();o.width=t,o.height=i,this._baseTexture.setPixelRatio(r),this._baseTexture.setLoaded(!0),this._framebuffer=null,this._isRoot=n,this._filterStack=[{renderTarget:this,filters:[]}],n||this._initFrameBuffer()}resizeTo(e){this._width=0|e.x,this._height=0|e.y,this._baseTexture.resizeTo(e),this._isRoot||this._resizeTexture(),this._baseTexture.setMinFilter(this._getMinFilter()),this._baseTexture.setMagFilter(this._getMagFilter()),this._calculateProjectionMatrix()}_getMinFilter(){let e=yi.DefaultMinFilter;return this._mipMapping&&(e=yi.TrilinearFilter),e}_getMagFilter(){return yi.DefaultMagFilter}_resizeTexture(){const e=this._gl,t=this._width*this._pixelRatio,i=this._height*this._pixelRatio;this._texture&&(e.deleteTexture(this._texture),this._texture=null),this._texture=e.createTexture(),e.bindTexture(e.TEXTURE_2D,this._texture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,t,i,0,e.RGBA,e.UNSIGNED_BYTE,null),e.bindFramebuffer(e.FRAMEBUFFER,this._framebuffer),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,this._texture,0),this._texture&&this._baseTexture.setGLTextureForRenderer(this._texture,this._renderer),this._renderer._options.debug&&Ke.checkFramebufferStatus("WebGLRenderTarget#_initFramebuffer",e);const r=new tt(this._width,this._height);ae.isPowerOfTwo(r)?(fe.info("WebGLRenderTarget","Mip-mapping enabled"),this._mipMapping=!0):this._mipMapping=!1,this._baseTexture.setMipMappingEnabled(this._mipMapping)}activate(){const e=this._gl;e.bindFramebuffer(e.FRAMEBUFFER,this._framebuffer),this._calculateProjectionMatrix(),e.viewport(0,0,this._width*this._pixelRatio,this._height*this._pixelRatio),e.disable(e.STENCIL_TEST)}clear(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ye.TRANSPARENT;const t=this._gl;t.bindFramebuffer(t.FRAMEBUFFER,this._framebuffer),this._renderer._options.debug&&Ke.checkFramebufferStatus("WebGLRenderTarget#clear",t),t.clearColor.apply(t,e.toGLColor()),t.clear(t.COLOR_BUFFER_BIT)}_calculateProjectionMatrix(){const e=this._projectionMatrix;e.reset();const t=this._frame||new rt(0,0,this._width,this._height),{x:i,y:r}=t;this._isRoot?(e.a=1/this._width*2,e.d=-1/this._height*2,e.tx=-1-i*e.a,e.ty=1-r*e.d):(e.a=1/this._width*2,e.d=1/this._height*2,e.tx=-1-i*e.a,e.ty=-1-r*e.d)}_initFrameBuffer(){const e=this._gl;this._framebuffer&&(e.deleteFramebuffer(this._framebuffer),this._framebuffer=null),this._texture&&(e.deleteTexture(this._texture),this._texture=null),this._framebuffer=e.createFramebuffer(),this._texture=e.createTexture(),e.bindTexture(e.TEXTURE_2D,this._texture),e.bindFramebuffer(e.FRAMEBUFFER,this._framebuffer),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,this._texture,0),this._texture&&this._baseTexture.setGLTextureForRenderer(this._texture,this._renderer),this.resizeTo(new tt(this._width,this._height)),this._renderer._options.debug&&Ke.checkFramebufferStatus("WebGLRenderTarget#_initFramebuffer",e)}getProjectionMatrix(){return this._projectionMatrix}getTexture(){return this._texture}getFrame(){return this._frame}setFrame(e){this._frame=e}getFilterStack(){return this._filterStack}getPixelRatio(){return this._pixelRatio}setPixelRatio(e){this._pixelRatio=e,this._isRoot||this._resizeTexture()}getBaseTexture(){return this._baseTexture}dispose(){const e=this._gl;this._baseTexture.dispose(),this._framebuffer&&(e.deleteFramebuffer(this._framebuffer),this._framebuffer=null),this._texture&&(e.deleteTexture(this._texture),this._texture=null)}}})),cr=b((()=>{Ji(),_t(),ar(),Ie(),lr(),Ii=class{constructor(e){this._renderer=e,this._filterStack=[],this._currentFrame=null,this._renderTargets=[],this._textureFrame=new rt(0,0,e.getWidth(),e.getHeight()),this._onContextChange=this._onContextChange.bind(this),this._renderer.on("context",this._onContextChange),this._onContextChange()}resizeTo(e){this._textureFrame.width=e.x,this._textureFrame.height=e.y,this._renderTargets.forEach((t=>t.resizeTo(e)))}getFilterStack(){return this._filterStack}setFilterStack(e){this._filterStack=e}_getOrCreateRenderTarget(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this._renderTargets.pop();return t||(t=new Di(this._renderer,this._textureFrame.width,this._textureFrame.height,1)),this._currentFrame&&t.setFrame(this._currentFrame),e&&t.clear(),t}pushFilters(e,t){const i=e.getBounds();this._currentFrame=i;const r=e.getFilterRectangle();r.width>0&&r.height>0&&(this._currentFrame=r);const n=this._getOrCreateRenderTarget();this._renderer.setRenderTarget(n);t[0]instanceof Mt?n.clear(this._renderer.getClearColor()):n.clear(),this._filterStack.push({renderTarget:n,filters:t})}popFilters(){const e=this._filterStack.pop();if(!e)return;const{filters:t,renderTarget:i}=e,r=i,n=this._filterStack[this._filterStack.length-1].renderTarget,o=r.getFrame();o&&this._quad.map(this._textureFrame,o);const s=t[0].getShaderForRenderer(this._renderer),a=this._quad.getVertexBuffer(),l=this._quad.getIndexBuffer(),c=this._renderer.getContext();c.bindBuffer(c.ARRAY_BUFFER,a),c.bindBuffer(c.ELEMENT_ARRAY_BUFFER,l);const u=s.getAttributeLocations();return c.vertexAttribPointer(u.a_position,2,c.FLOAT,!1,0,0),c.vertexAttribPointer(u.a_texCoord,2,c.FLOAT,!1,0,32),c.vertexAttribPointer(u.a_color,4,c.FLOAT,!1,0,64),this._renderer.updateTexture(r.getBaseTexture(),!1),1===t.length?(t[0].apply(this._renderer,r,n),this._renderTargets.push(r)):this._applyFilters(t,r,n),t}_applyFilters(e,t,i){let r=t,n=this._getOrCreateRenderTarget(!0);this._renderer.updateTexture(n.getBaseTexture(),!1);const o=e[e.length-1];e.forEach((e=>{if(e===o)e.apply(this._renderer,r,i,!0);else{e.apply(this._renderer,r,n,!0);const t=r;r=n,n=t}})),this._renderTargets.push(r),this._renderTargets.push(n)}_onContextChange(){this._renderTargets.length=0,Z(this._renderer)&&(this._quad&&this._quad.dispose(),this._quad=new Ei(this._renderer.getContext()))}dispose(){this._renderer.off("context",this._onContextChange),this._quad&&this._quad.dispose(),this._renderTargets.forEach((e=>{e.dispose()}))}}})),ur=x(((e,t)=>{var i=function(){function e(e){return n.appendChild(e.dom),e}function t(e){for(var t=0;t<n.children.length;t++)n.children[t].style.display=t===e?"block":"none";r=e}var r=0,n=document.createElement("div");n.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000",n.addEventListener("click",(function(e){e.preventDefault(),t(++r%n.children.length)}),!1);var o=(performance||Date).now(),s=o,a=0,l=e(new i.Panel("FPS","#0ff","#002")),c=e(new i.Panel("MS","#0f0","#020"));if(self.performance&&self.performance.memory)var u=e(new i.Panel("MB","#f08","#201"));return t(0),{REVISION:16,dom:n,addPanel:e,showPanel:t,begin:function(){o=(performance||Date).now()},end:function(){a++;var e=(performance||Date).now();if(c.update(e-o,200),e>s+1e3&&(l.update(1e3*a/(e-s),100),s=e,a=0,u)){var t=performance.memory;u.update(t.usedJSHeapSize/1048576,t.jsHeapSizeLimit/1048576)}return e},update:function(){o=this.end()},domElement:n,setMode:t}};i.Panel=function(e,t,i){var r=1/0,n=0,o=Math.round,s=o(window.devicePixelRatio||1),a=80*s,l=48*s,c=3*s,u=2*s,h=3*s,d=15*s,p=74*s,f=30*s,g=document.createElement("canvas");g.width=a,g.height=l,g.style.cssText="width:80px;height:48px";var m=g.getContext("2d");return m.font="bold "+9*s+"px Helvetica,Arial,sans-serif",m.textBaseline="top",m.fillStyle=i,m.fillRect(0,0,a,l),m.fillStyle=t,m.fillText(e,c,u),m.fillRect(h,d,p,f),m.fillStyle=i,m.globalAlpha=.9,m.fillRect(h,d,p,f),{dom:g,update:function(l,y){r=Math.min(r,l),n=Math.max(n,l),m.fillStyle=i,m.globalAlpha=1,m.fillRect(0,0,a,d),m.fillStyle=t,m.fillText(o(l)+" "+e+" ("+o(r)+"-"+o(n)+")",c,u),m.drawImage(g,h+s,d,p-s,f,h,d,p-s,f),m.fillRect(h+p-s,d,s,f),m.fillStyle=i,m.globalAlpha=.9,m.fillRect(h+p-s,d,s,o((1-l/y)*f))}}},"object"===typeof t&&(t.exports=i)})),hr=b((()=>{Ri=k(ur()),Fi=class{constructor(e){this._context=e,this._domAvailable="undefined"!==typeof document,this._hookIntoContext(),this._textures={},this._framebuffers={},this._programs={},this._shaders={},this._buffers={},this._boundTexture=null,this._id=0,this._enums={},this._setupStats(),this._createEnumMap(),this._updateMemoryStats=this._updateMemoryStats.bind(this),this._updateMemoryStats()}_createEnumMap(){for(const e in this._context){const t=this._context[e];"number"===typeof t&&(this._enums[t]=e)}}_enumValueToString(e){const t=this._enums[e];return"undefined"===typeof t?e:t}_setupStats(){this._domAvailable&&(this._stats=new Ri.default,this._stats.showPanel(3),this._memPanel=this._stats.addPanel(new Ri.default.Panel("MB [WebGL]","#43ADEB","#282828")),this._texPanel=this._stats.addPanel(new Ri.default.Panel("Textures","#43ADEB","#282828")),this._bufPanel=this._stats.addPanel(new Ri.default.Panel("Buffers","#43ADEB","#282828")),this._fboPanel=this._stats.addPanel(new Ri.default.Panel("FBOs","#43ADEB","#282828")),this._prgPanel=this._stats.addPanel(new Ri.default.Panel("Programs","#43ADEB","#282828")),this._shdPanel=this._stats.addPanel(new Ri.default.Panel("Shaders","#43ADEB","#282828")))}_updatePanel(e){if(this._domAvailable){switch(this._stats.begin(),e){case"tex":this._texPanel.update(this.getTexturesCount(),50);break;case"buf":this._bufPanel.update(this.getBuffersCount(),50);break;case"fbo":this._fboPanel.update(this.getFBOCount(),50);break;case"prg":this._prgPanel.update(this.getProgramCount(),50);break;case"shd":this._shdPanel.update(this.getShaderCount(),50)}this._stats.end()}}getTexturesCount(){return Object.keys(this._textures).length}getBuffersCount(){return Object.keys(this._buffers).length}getFBOCount(){return Object.keys(this._framebuffers).length}getProgramCount(){return Object.keys(this._programs).length}getShaderCount(){return Object.keys(this._shaders).length}_updateMemoryStats(){if(!this._domAvailable)return;const e=this._getMemoryUsage()/1e3/1e3;this._memPanel.update(e,400),setTimeout(this._updateMemoryStats,1e3)}_getMemoryUsage(){let e=0;for(const t in this._textures)e+=this._textures[t].memory;for(const t in this._buffers)e+=this._buffers[t].memory;return e}_hookIntoContext(){for(const e in this._context){"function"===typeof this._context[e]?this[e]=function(){const t=this._context[e];for(var i=arguments.length,r=new Array(i),n=0;n<i;n++)r[n]=arguments[n];return this._trackGLCall(t,e,r)}:this._makePropertyWrapper(e)}}_makePropertyWrapper(e){if(-1!==["_context"].indexOf(e))return;const t=this._context;this.__defineGetter__(e,(()=>t[e])),this.__defineSetter__(e,(i=>{t[e]=i}))}_trackGLCall(e,t,i){let r;r=-1!==["texImage2D","bindTexture","createTexture","deleteTexture","createBuffer","bindBuffer","bufferData","deleteBuffer","createFramebuffer","deleteFramebuffer","createProgram","deleteProgram","createShader","deleteShader"].indexOf(t)?this["_".concat(t)](i):e.apply(this._context,i);const n=this._context.getError();if(0!==n){let e=i.join(", ");e.length>100&&(e="".concat(e.substr(0,100),"...")),console.error(new Error("WebGL Error ".concat(this._enumValueToString(n)," in ").concat(t,"(").concat(e,")")))}return r}_createProgram(){const e=this._context.createProgram();return e._wmmId=this._id++,this._programs[e._wmmId]=e,this._updatePanel("prg"),e}_deleteProgram(e){let[t]=e;t&&this._programs[t._wmmId]&&(delete this._programs[t._wmmId],this._context.deleteProgram(t),this._updatePanel("prg"))}_createShader(e){let[t]=e;const i=this._context.createShader(t);return i._wmmId=this._id++,this._shaders[i._wmmId]=i,this._updatePanel("shd"),i}_deleteShader(e){let[t]=e;t&&this._shaders[t._wmmId]&&(delete this._shaders[t._wmmId],this._context.deleteShader(t),this._updatePanel("shd"))}_createFramebuffer(){const e=this._context.createFramebuffer();return e._wmmId=this._id++,this._framebuffers[e._wmmId]=e,this._updatePanel("fbo"),e}_deleteFramebuffer(e){let[t]=e;t&&this._framebuffers[t._wmmId]&&(delete this._framebuffers[t._wmmId],this._context.deleteFramebuffer(t),this._updatePanel("fbo"))}_createBuffer(){const e=this._context.createBuffer();return e._wmmId=this._id++,this._buffers[e._wmmId]={buffer:e,memory:0},this._updatePanel("buf"),e}_bindBuffer(e){let[t,i]=e;this._context.bindBuffer(t,i),this._boundBuffer=i._wmmId}_bufferData(e){let t,[i,r,n]=e;this._context.bufferData(i,r,n),"number"===typeof r?t=r:"byteLength"in r?t=r.byteLength:"length"in r&&(t=r.length),this._buffers[this._boundBuffer].memory=t}_deleteBuffer(e){let[t]=e;t&&this._buffers[t._wmmId]&&(delete this._buffers[t._wmmId],this._context.deleteBuffer(t),this._updatePanel("buf"))}_createTexture(){const e=this._context.createTexture();return e._wmmId=this._id++,this._textures[e._wmmId]={texture:e,memory:0},this._updatePanel("tex"),e}_deleteTexture(e){let[t]=e;t&&this._textures[t._wmmId]&&(delete this._textures[t._wmmId],this._context.deleteTexture(t),this._updatePanel("tex"))}_bindTexture(e){let[t,i]=e;this._context.bindTexture(t,i),this._boundTexture=i._wmmId}_texImage2D(e){let[,,t,i,r,n,,,o]=e;"undefined"===typeof o&&(o=n),this._context.texImage2D.apply(this._context,e);const s=this._calculateByteCountForTexture(t,i,r,o);this._textures[this._boundTexture].memory=s}_calculateByteCountForTexture(e,t,i,r){if(null!==r){if(!("width"in r))return r.length;t=r.width,i=r.height}let n=1;switch(e){case this._context.ALPHA:n=1;break;case this._context.RGB:n=3;break;case this._context.RGBA:n=4}return t*i*n}}})),dr=b((()=>{Ai=class{constructor(e){this._renderer=e,this._onContextChange=this._onContextChange.bind(this),this._renderer.on("context",this._onContextChange)}_onContextChange(){}start(){}stop(){this.flush()}flush(){}dispose(){this._renderer.off("context",this._onContextChange),delete this._renderer}}})),pr=b((()=>{_t(),dr(),Oi=class extends Ai{constructor(e){super(e),this._vertexBuffer=null,this._indexBuffer=null,this._maxBatchSize=nt,this._vertices=new ArrayBuffer(4*nt*ot),this._positions=new Float32Array(this._vertices),this._colors=new Uint32Array(this._vertices),this._indices=new Uint16Array(6*nt);for(let t=0,i=0;t<6*nt;t+=6,i+=4)this._indices[t+0]=i+0,this._indices[t+1]=i+1,this._indices[t+2]=i+2,this._indices[t+3]=i+0,this._indices[t+4]=i+2,this._indices[t+5]=i+3;this._sprites=[],this._currentBatchSize=0,this._onContextChange()}render(e){const t=e.getTexture();if(!t)return;const i=t.getFrame();t.getBaseTexture();this._currentBatchSize>=this._maxBatchSize&&this.flush();const r=t.getUVs();if(!r)return;const n=this._currentBatchSize*ot;this._addVertexCoordinates(e,n,i),this._addTextureUVs(e,n,r),this._addColors(e,n),this._sprites[this._currentBatchSize]=e,this._currentBatchSize++}_addColors(e,t){const i=this._colors,r=16777215+(255*e.getWorldAlpha()<<24);i[t+4]=i[t+9]=i[t+14]=i[t+19]=r}_addTextureUVs(e,t,i){const r=this._positions,[n,o,s,a]=i;r[t+2]=n.x,r[t+3]=n.y,r[t+7]=o.x,r[t+8]=o.y,r[t+12]=s.x,r[t+13]=s.y,r[t+17]=a.x,r[t+18]=a.y}_addVertexCoordinates(e,t,i){const r=this._positions,n=e.getWorldTransform(),o=e.getAnchor(),s=n.rectangleToCoordinates(i,o);for(let a=0;a<4;a++)r[t+5*a]=s[a].x,r[t+5*a+1]=s[a].y}_onContextChange(){const e=this._renderer.getContext();this._shader=this._renderer.shaders.default,this._vertexBuffer&&(this._vertexBuffer=null),this._indexBuffer&&(this._indexBuffer=null),this._vertexBuffer=e.createBuffer(),this._indexBuffer=e.createBuffer(),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,this._indexBuffer),e.bufferData(e.ELEMENT_ARRAY_BUFFER,this._indices,e.STATIC_DRAW),e.bindBuffer(e.ARRAY_BUFFER,this._vertexBuffer),e.bufferData(e.ARRAY_BUFFER,this._vertices,e.DYNAMIC_DRAW)}start(){this._vertexBuffer&&this._indexBuffer&&this._shader.setupBuffers(this._vertexBuffer,this._indexBuffer)}flush(){var e;const t=this._renderer,i=t.getContext();if(0===this._currentBatchSize)return;if(this._currentBatchSize>.5*nt)i.bufferSubData(i.ARRAY_BUFFER,0,this._vertices);else{const e=this._positions.subarray(0,this._currentBatchSize*ot);i.bufferSubData(i.ARRAY_BUFFER,0,e)}let r=0,n=null,o=null,s=null,a=null,l=!1,c=!1,u=null,h=0;for(let d=0,p=this._currentBatchSize;d<p;d++){if(u=this._sprites[d],o=null==(e=u.getTexture())?void 0:e.getBaseTexture(),a=u.getShader()||this._shader,l=s!==a,c=n!==o,(c||l)&&(n&&this._renderBatch(n,r,h),h=d,r=0,n=o,l)){s=a,t.setShader(s);const e=t.getCurrentRenderTarget().getProjectionMatrix().toArray();s.setUniform("u_projMatrix",e),s.syncUniforms(),i.activeTexture(i.TEXTURE0)}r++}n&&this._renderBatch(n,r,h),this._currentBatchSize=0,this._sprites=[]}_renderBatch(e,t,i){if(0===t)return;const r=this._renderer,n=r.getContext();let o=e.getGLTextureForRenderer(r);o||(o=r.getOrCreateGLTexture(e)),e.isDirty()&&(r.updateTexture(e),e.setDirty(!1)),n.activeTexture(n.TEXTURE0+e.getGLUnit()),n.bindTexture(n.TEXTURE_2D,o);const s=6*t,a=6*i*2;n.drawElements(n.TRIANGLES,s,n.UNSIGNED_SHORT,a)}dispose(){const e=this._renderer.getContext();this._sprites.forEach((e=>{e.dispose()})),this._vertexBuffer&&(e.deleteBuffer(this._vertexBuffer),this._vertexBuffer=null),this._indexBuffer&&(e.deleteBuffer(this._indexBuffer),this._indexBuffer=null),delete this._vertices,delete this._positions,delete this._colors,delete this._indices,super.dispose()}}})),fr=b((()=>{sr(),D(),G(),vt(),_t(),cr(),ni(),rr(),Ie(),lr(),hr(),nr(),dr(),pr(),(Pi=Mi=class extends wi{constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:800,arguments.length>1&&void 0!==arguments[1]?arguments[1]:600,arguments.length>2?arguments[2]:void 0),this.type="webgl",this.maxTextureDimensions=null,this._type="webgl",this._onContextLost=this._onContextLost.bind(this),this._onContextRestored=this._onContextRestored.bind(this),this.setCanvas(this._options.canvas||K.createCanvas()),this.shaders={default:new Ft(this,void 0,void 0)},this.renderers={sprite:new Oi(this)}}_onContextLost(e){e.preventDefault(),fe.warn(this.constructor.name,"WebGL context has been lost - trying to restore."),this.emit("context-lost")}_onContextCreationError(e){e.preventDefault(),fe.warn(this.constructor.name,"Failed to create WebGL context: ".concat(e.statusMessage||"Unknown error"))}_onContextRestored(){fe.warn(this.constructor.name,"WebGL context has been restored. Clearing all textures."),this._createContext(),this._setupContext(),this.emit("context-restored")}_onBeforeContext(){this._filterManager&&this._filterManager.dispose(),this._filterManager=new Ii(this),this._currentObjectRenderer=new Ai(this)}setShader(e){this._currentShader=e,this._context.useProgram(e.getProgram()),this._setAttributesForShader(e)}setCanvas(e){this._canvas&&this._removeContextEventListeners(),super.setCanvas(e),this._addContextEventListeners()}_addContextEventListeners(){J(this._canvas)&&(this._canvas.addEventListener("webglcontextlost",this._onContextLost),this._canvas.addEventListener("webglcontextrestored",this._onContextRestored),this._canvas.addEventListener("webglcontextcreationerror",this._onContextCreationError))}_removeContextEventListeners(){J(this._canvas)&&(this._canvas.removeEventListener("webglcontextlost",this._onContextLost),this._canvas.removeEventListener("webglcontextrestored",this._onContextRestored),this._canvas.removeEventListener("webglcontextcreationerror",this._onContextCreationError))}_setAttributesForShader(e){if(!this._canvas)return;const t=this._context,i=e.getAttributes(),r=e.getAttributeLocations();i.forEach((e=>{const i=r[e];t.enableVertexAttribArray(i)}))}_createContext(){if(!this._canvas)return;let e=K.glGet(this._canvas);return this._options.debug&&Ti(e),this._options.debug&&(e=new xi(e),e=new Fi(e)),this.id=Mi.contextId++,this._context=e,this._maxTextureSize=e.getParameter(e.MAX_TEXTURE_SIZE),this.emit("context",e),e}_setupContext(){const e=this._context;e.disable(e.DEPTH_TEST),e.disable(e.CULL_FACE),e.enable(e.BLEND),e.blendFunc(e.ONE,e.ONE_MINUS_SRC_ALPHA),this._defaultRenderTarget=new Di(this,this._width,this._height,this._pixelRatio,!0),this.setRenderTarget(this._defaultRenderTarget),this._getMaxPrecision()}getContext(){return this._context}_getMaxPrecision(){const e=this._context,t=e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_FLOAT);this._maxFloatPrecision=0!==(null==t?void 0:t.precision)?"highp":"mediump";const i=e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_INT);this._maxIntPrecision=0!==(null==i?void 0:i.rangeMax)?"highp":"lowp"}resizeTo(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];super.resizeTo(e,t),this._currentRenderTarget&&this._currentRenderTarget.resizeTo(e),this._context=K.glResize(this._context,e)}setRenderTarget(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._defaultRenderTarget;this._currentRenderTarget=e,this._currentRenderTarget.activate()}setObjectRenderer(e){this._currentObjectRenderer.stop(),this._currentObjectRenderer=e,this._currentObjectRenderer.start()}render(e){this.setRenderTarget(this._defaultRenderTarget),this._defaultRenderTarget.clear(this._clearColor);const t=e.getParent();e.setParent(new st),e.updateTransform(),t&&e.setParent(t),this.renderDisplayObject(e,this._defaultRenderTarget)}renderDisplayObject(e,t){this.setRenderTarget(t),this._filterManager.setFilterStack(t.getFilterStack()),e.renderWebGL(this),this._currentObjectRenderer.flush()}clear(){const e=this._context;e.clearColor.apply(e,this._clearColor.toGLColor),e.clear(e.COLOR_BUFFER_BIT)}save(){return{renderTarget:this._currentRenderTarget,objectRenderer:this._currentObjectRenderer,filterStack:this._filterManager.getFilterStack()}}restore(e){this.setRenderTarget(e.renderTarget),this._filterManager.setFilterStack(e.filterStack),this._currentObjectRenderer=e.objectRenderer}getOrCreateGLTexture(e){const t=this._context;let i=e.getGLTextureForRenderer(this);return i||(i=t.createTexture(),e.setGLTextureForRenderer(i,this)),i}updateTexture(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const i=e.getSource(),r=this._context,n=e.getGLUnit(),o=this.getOrCreateGLTexture(e);r.activeTexture(r.TEXTURE0+n),r.bindTexture(r.TEXTURE_2D,o),r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),t&&i&&K.glTexImage(r,i),e.isMipMappingEnabled()?r.generateMipmap(r.TEXTURE_2D):(r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,e.getGLRepeat(r,"x")),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,e.getGLRepeat(r,"y"))),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,e.getGLFilter(r,"min")),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,e.getGLFilter(r,"mag")),r.activeTexture(r.TEXTURE0)}getMaxDimensions(){return this.maxTextureDimensions||(this.maxTextureDimensions=K.glMaxTexture(this._context)),this.maxTextureDimensions}getCurrentRenderTarget(){return this._currentRenderTarget}getCurrentObjectRenderer(){return this._currentObjectRenderer}getMaxFloatPrecision(){return this._maxFloatPrecision}getMaxIntPrecision(){return this._maxIntPrecision}dispose(){this._canvas&&n(this._canvas),this._filterManager.dispose(),this._currentObjectRenderer.dispose(),this._defaultRenderTarget.dispose();for(const t in this.shaders)this.shaders[t].dispose(),delete this.shaders[t];this._removeContextEventListeners();const e=this._context.getExtension("WEBGL_lose_context");e&&e.loseContext()}}).contextId=0})),gr=b((()=>{gt(),zi=(e,t,i)=>{const[r,n,o,s]=e;return r.x=t.x/i.width,r.y=t.y/i.height,n.x=(t.x+t.width)/i.width,n.y=t.y/i.height,o.x=(t.x+t.width)/i.width,o.y=(t.y+t.height)/i.height,s.x=t.x/i.width,s.y=(t.y+t.height)/i.height,e},Bi={create:()=>[new tt(0,0),new tt(1,0),new tt(1,1),new tt(0,1)],updateViaFrames:zi}})),mr=b((()=>{gr(),_t(),$i(),Li=class extends Qe{constructor(e,t){if(super(),!(e instanceof yi))throw new Error("`baseTexture` should be an instance of BaseTexture");this._uvs=Bi.create(),this._frame=t?t.clone():new rt(0,0,1,1),this._frameLocked=Boolean(t),this._onBaseTextureLoaded=this._onBaseTextureLoaded.bind(this),this._onBaseTextureUpdated=this._onBaseTextureUpdated.bind(this),this.setBaseTexture(e)}static fromImage(e){const t=new yi(e);return new Li(t)}static fromCanvas(e){const t=new yi(e);return new Li(t)}_onBaseTextureLoaded(){if(!this._frameLocked){const e=this._baseTexture.getFrame().clone();this.setFrame(e)}this._baseTexture.on("update",this._onBaseTextureUpdated)}_onBaseTextureUpdated(){const{width:e,height:t}=this._baseTexture.getFrame();this._frame.width=e,this._frame.height=t,this.emit("update")}_updateUVs(){this._uvs=Bi.updateViaFrames(this._uvs,this._frame,this._baseTexture.getFrame())}getBaseTexture(){return this._baseTexture}setBaseTexture(e){if(this._baseTexture=e,this._baseTexture.isLoaded()){const{width:t,height:i}=e.getFrame();this._frameLocked||(this._frame=new rt(0,0,t,i)),this._onBaseTextureLoaded()}else this._baseTexture.once("loaded",this._onBaseTextureLoaded)}getFrame(){return this._frame}setFrame(e){this._frame=e,this._updateUVs()}getWidth(){return this._frame.width}getHeight(){return this._frame.height}getUVs(){return this._uvs}getDimensions(){return new tt(this._frame.width,this._frame.height)}dispose(){(!(arguments.length>0&&void 0!==arguments[0])||arguments[0])&&this._baseTexture.dispose()}}})),yr=b((()=>{G(),_t(),tr(),cr(),er(),lr(),$i(),mr(),Ui=e=>"webgl"===e._type,Ni=class extends Li{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;super(new yi,new rt(0,0,t,i)),this._loaded=!0,this._width=t,this._height=i,this._pixelRatio=r,this._renderer=e,this._setupFilterManager(),this._setupBuffer(),this.setBaseTexture(this._renderTarget.getBaseTexture()),this._updateUVs()}_setupFilterManager(){this._filterManager&&this._filterManager.dispose(),Ui(this._renderer)?this._filterManager=new Ii(this._renderer):this._filterManager=new vi(this._renderer),this._filterManager.resizeTo(new tt(this._width,this._height))}_setupBuffer(){this._renderTarget&&this._renderTarget.dispose(),Ui(this._renderer)?this._renderTarget=new Di(this._renderer,this._width,this._height,this._pixelRatio):this._renderTarget=new _i(this._width,this._height,this._pixelRatio)}clear(e){this._renderTarget.clear(e)}resizeTo(e){this._width===e.x&&this._height===e.y||(this._width=e.x,this._height=e.y,this._frame.width=e.x,this._frame.height=e.y,this._renderTarget.resizeTo(e),this._filterManager.resizeTo(e))}render(e){Ui(this._renderer)?this._renderWebGL(e):this._renderCanvas(e)}_renderWebGL(e){if(!Ui(this._renderer))return;this._renderTarget.activate(),e.getWorldTransform().reset(),e.getChildren().forEach((e=>{e.updateTransform()}));const t=this._renderer.getFilterManager();this._renderer.setFilterManager(this._filterManager),this._renderer.renderDisplayObject(e,this._renderTarget),this._renderer.setFilterManager(t)}_renderCanvas(e){if(Ui(this._renderer))return;e.getWorldTransform().reset(),e.getChildren().forEach((e=>{e.updateTransform()}));const t=this._renderer.getFilterManager();this._renderer.setFilterManager(this._filterManager),this._renderer.renderDisplayObject(e,this._renderTarget),this._renderer.setFilterManager(t)}getRenderTarget(){return this._renderTarget}dispose(){this._renderTarget.dispose(),this._filterManager.dispose(),super.dispose()}}})),_r=b((()=>{Hi={EXPORT:"export",CLOSE:"close",OPERATION_CREATED:"operation:created",OPERATION_UPDATED:"operation:updated",OPERATION_REMOVED:"operation:removed",EDITOR_READY:"editor:ready",WINDOW_RESIZE:"window:resize",ZOOM_DONE:"editor:zoom_done",HISTORY_UNDO:"history:undo",HISTORY_UPDATED:"history:update",FEATURES_DISABLED:"editor:features:disabled",FEATURES_ENABLED:"editor:features:enabled",FEATURES_UPDATED:"editor:features:updated",TRANSFORM_REAPPLY_RATIO:"transform:reapply_ratio"},ji={DEFAULTS:{FILTERS:[{identifier:"imgly_filters_duotone",defaultName:"DuoTone",assetFileName:"duotone",filters:[{identifier:"imgly_duotone_desert",defaultName:"Desert",lightColor:"#e1de9a",darkColor:"#cb2129"},{identifier:"imgly_duotone_peach",defaultName:"Peach",lightColor:"#e9abb8",darkColor:"#0040ff"},{identifier:"imgly_duotone_clash",defaultName:"Clash",lightColor:"#f41a0f",darkColor:"#23007c"},{identifier:"imgly_duotone_plum",defaultName:"Plum",lightColor:"#74d7ff",darkColor:"#23007c"},{identifier:"imgly_duotone_breezy",defaultName:"Breezy",lightColor:"#68fdff",darkColor:"#c20000"},{identifier:"imgly_duotone_deepblue",defaultName:"Deep Blue",lightColor:"#2de9eb",darkColor:"#58007c"},{identifier:"imgly_duotone_frog",defaultName:"Frog",lightColor:"#5bff60",darkColor:"#7f23a9"},{identifier:"imgly_duotone_sunset",defaultName:"Sunset",lightColor:"#f8ea46",darkColor:"#c400be"}]},{identifier:"imgly_filters_bw",assetFileName:"b&w",defaultName:"Black & White",filters:[{identifier:"imgly_lut_ad1920",defaultName:"1920 A.D.",lutImage:"filters/imgly_lut_ad1920_5_5_128.png"},{identifier:"imgly_lut_bw",defaultName:"Greyed",lutImage:"filters/imgly_lut_bw_5_5_128.png"},{identifier:"imgly_lut_x400",defaultName:"Dusty",lutImage:"filters/imgly_lut_dusty_5_5_128.png"},{identifier:"imgly_lut_litho",defaultName:"Litho",lutImage:"filters/imgly_lut_litho_5_5_128.png"},{identifier:"imgly_lut_sepiahigh",defaultName:"Sepia",lutImage:"filters/imgly_lut_sepia_5_5_128.png"},{identifier:"imgly_lut_plate",defaultName:"Weathered",lutImage:"filters/imgly_lut_weathered_5_5_128.png"},{identifier:"imgly_lut_sin",defaultName:"Hard Stuff",lutImage:"filters/imgly_lut_hard_stuff_8_8_512.png",resolution:512,horizontalTileCount:8,verticalTileCount:8}]},{identifier:"imgly_filters_retro",assetFileName:"vintage",defaultName:"Vintage",filters:[{identifier:"imgly_lut_blues",defaultName:"Polaroid",lutImage:"filters/imgly_lut_polaroid_5_5_128.png"},{identifier:"imgly_lut_front",defaultName:"Sunny 70s",lutImage:"filters/imgly_lut_sunny_70s_8_8_512.png",resolution:512,horizontalTileCount:8,verticalTileCount:8},{identifier:"imgly_lut_texas",defaultName:"Oldtimer",lutImage:"filters/imgly_lut_oldtimer_8_8_512.png",resolution:512,horizontalTileCount:8,verticalTileCount:8},{identifier:"imgly_lut_celsius",defaultName:"Inferno",lutImage:"filters/imgly_lut_inferno_8_8_512.png",resolution:512,horizontalTileCount:8,verticalTileCount:8},{identifier:"imgly_lut_cool",defaultName:"Snappy",lutImage:"filters/imgly_lut_snappy_5_5_128.png"}]},{identifier:"imgly_filters_analog",assetFileName:"smooth",defaultName:"Smooth",filters:[{identifier:"imgly_lut_chest",defaultName:"Chestnut",lutImage:"filters/imgly_lut_chestnut_8_8_512.png",resolution:512,horizontalTileCount:8,verticalTileCount:8},{identifier:"imgly_lut_winter",defaultName:"Softly",lutImage:"filters/imgly_lut_softly_5_5_128.png"},{identifier:"imgly_lut_kdynamic",defaultName:"Pebble",lutImage:"filters/imgly_lut_pebble_5_5_128.png"},{identifier:"imgly_lut_fall",defaultName:"Moss",lutImage:"filters/imgly_lut_moss_5_5_128.png"},{identifier:"imgly_lut_lenin",defaultName:"Lemon",lutImage:"filters/imgly_lut_lemon_5_5_128.png"},{identifier:"imgly_lut_pola669",defaultName:"Green Gap",lutImage:"filters/imgly_lut_green_gap_5_5_128.png"}]},{identifier:"imgly_filters_winter",assetFileName:"cold",defaultName:"Cold",filters:[{identifier:"imgly_lut_elder",defaultName:"Colla",lutImage:"filters/imgly_lut_colla_5_5_128.png"},{identifier:"imgly_lut_orchid",defaultName:"Solanus",lutImage:"filters/imgly_lut_solanus_5_5_128.png"},{identifier:"imgly_lut_bleached",defaultName:"Kalmen",lutImage:"filters/imgly_lut_kalmen_5_5_128.png"},{identifier:"imgly_lut_bleachedblue",defaultName:"Joran",lutImage:"filters/imgly_lut_joran_5_5_128.png"},{identifier:"imgly_lut_breeze",defaultName:"Levante",lutImage:"filters/imgly_lut_levante_5_5_128.png"},{identifier:"imgly_lut_blueshadows",defaultName:"Zephyr",lutImage:"filters/imgly_lut_zephyr_5_5_128.png"}]},{identifier:"imgly_filters_summer",assetFileName:"warm",defaultName:"Warm",filters:[{identifier:"imgly_lut_sunset",defaultName:"Golden",lutImage:"filters/imgly_lut_golden_5_5_128.png"},{identifier:"imgly_lut_eighties",defaultName:"Low Fire",lutImage:"filters/imgly_lut_low_fire_5_5_128.png"},{identifier:"imgly_lut_evening",defaultName:"Sunrise",lutImage:"filters/imgly_lut_sunrise_5_5_128.png"},{identifier:"imgly_lut_k2",defaultName:"Flat Black",lutImage:"filters/imgly_lut_flat_black_8_8_512.png",resolution:512,horizontalTileCount:8,verticalTileCount:8},{identifier:"imgly_lut_nogreen",defaultName:"Pumpkin",lutImage:"filters/imgly_lut_pumpkin_5_5_128.png"}]},{identifier:"imgly_filters_legacy",defaultName:"Legacy",assetFileName:"legacy",filters:[{identifier:"imgly_lut_ancient",defaultName:"Ancient",lutImage:"filters/imgly_lut_ancient_5_5_128.png"},{identifier:"imgly_lut_cottoncandy",defaultName:"Candy",lutImage:"filters/imgly_lut_cottoncandy_5_5_128.png"},{identifier:"imgly_lut_classic",defaultName:"Classic",lutImage:"filters/imgly_lut_classic_5_5_128.png"},{identifier:"imgly_lut_colorful",defaultName:"Colorful",lutImage:"filters/imgly_lut_colorful_5_5_128.png"},{identifier:"imgly_lut_creamy",defaultName:"Creamy",lutImage:"filters/imgly_lut_creamy_5_5_128.png"},{identifier:"imgly_lut_fixie",defaultName:"Fixie",lutImage:"filters/imgly_lut_fixie_8_8_512.png",resolution:512,horizontalTileCount:8,verticalTileCount:8},{identifier:"imgly_lut_food",defaultName:"Food",lutImage:"filters/imgly_lut_food_5_5_128.png"},{identifier:"imgly_lut_fridge",defaultName:"Fridge",lutImage:"filters/imgly_lut_fridge_8_8_512.png",resolution:512,horizontalTileCount:8,verticalTileCount:8},{identifier:"imgly_lut_glam",defaultName:"Glam",lutImage:"filters/imgly_lut_glam_5_5_128.png"},{identifier:"imgly_lut_gobblin",defaultName:"Gobblin",lutImage:"filters/imgly_lut_gobblin_5_5_128.png"},{identifier:"imgly_lut_highcontrast",defaultName:"Hicon",lutImage:"filters/imgly_lut_highcontrast_5_5_128.png"},{identifier:"imgly_lut_highcarb",defaultName:"High Carb",lutImage:"filters/imgly_lut_highcarb_5_5_128.png"},{identifier:"imgly_lut_k1",defaultName:"K1",lutImage:"filters/imgly_lut_k1_5_5_128.png"},{identifier:"imgly_lut_k6",defaultName:"K6",lutImage:"filters/imgly_lut_k6_5_5_128.png"},{identifier:"imgly_lut_keen",defaultName:"Keen",lutImage:"filters/imgly_lut_keen_5_5_128.png"},{identifier:"imgly_lut_lomo",defaultName:"Lomo",lutImage:"filters/imgly_lut_lomo_8_8_512.png",resolution:512,horizontalTileCount:8,verticalTileCount:8},{identifier:"imgly_lut_lomo100",defaultName:"Lomo 100",lutImage:"filters/imgly_lut_lomo100_5_5_128.png"},{identifier:"imgly_lut_lucid",defaultName:"Lucid",lutImage:"filters/imgly_lut_lucid_5_5_128.png"},{identifier:"imgly_lut_mellow",defaultName:"Mellow",lutImage:"filters/imgly_lut_mellow_8_8_512.png",resolution:512,horizontalTileCount:8,verticalTileCount:8},{identifier:"imgly_lut_neat",defaultName:"Neat",lutImage:"filters/imgly_lut_neat_5_5_128.png"},{identifier:"imgly_lut_pale",defaultName:"Pale",lutImage:"filters/imgly_lut_pale_5_5_128.png"},{identifier:"imgly_lut_pitched",defaultName:"Pitched",lutImage:"filters/imgly_lut_pitched_5_5_128.png"},{identifier:"imgly_lut_polasx",defaultName:"Pola SX",lutImage:"filters/imgly_lut_polasx_5_5_128.png"},{identifier:"imgly_lut_pro400",defaultName:"Pro 400",lutImage:"filters/imgly_lut_pro400_5_5_128.png"},{identifier:"imgly_lut_quozi",defaultName:"Quozi",lutImage:"filters/imgly_lut_quozi_5_5_128.png"},{identifier:"imgly_lut_settled",defaultName:"Settled",lutImage:"filters/imgly_lut_settled_5_5_128.png"},{identifier:"imgly_lut_seventies",defaultName:"Seventies",lutImage:"filters/imgly_lut_seventies_5_5_128.png"},{identifier:"imgly_lut_soft",defaultName:"Soft",lutImage:"filters/imgly_lut_soft_5_5_128.png"},{identifier:"imgly_lut_steel",defaultName:"Steel",lutImage:"filters/imgly_lut_steel_5_5_128.png"},{identifier:"imgly_lut_summer",defaultName:"Summer",lutImage:"filters/imgly_lut_summer_5_5_128.png"},{identifier:"imgly_lut_tender",defaultName:"Tender",lutImage:"filters/imgly_lut_tender_5_5_128.png"},{identifier:"imgly_lut_twilight",defaultName:"Twilight",lutImage:"filters/imgly_lut_twilight_5_5_128.png"}]}],OVERLAYS:[{identifier:"imgly_overlay_golden",defaultName:"Golden",image:"overlays/imgly_overlay_golden.jpg",thumbnail:"overlays/imgly_overlay_golden_thumb.jpg",blendMode:"lighten"},{identifier:"imgly_overlay_bokeh",defaultName:"Bokeh",image:"overlays/imgly_overlay_bokeh.jpg",thumbnail:"overlays/imgly_overlay_bokeh_thumb.jpg",blendMode:"lighten"},{identifier:"imgly_overlay_hearts",defaultName:"Hearts",image:"overlays/imgly_overlay_hearts.jpg",thumbnail:"overlays/imgly_overlay_hearts_thumb.jpg",blendMode:"screen"},{identifier:"imgly_overlay_lightleak1",defaultName:"Light Leak",image:"overlays/imgly_overlay_lightleak1.jpg",thumbnail:"overlays/imgly_overlay_lightleak1_thumb.jpg",blendMode:"screen"},{identifier:"imgly_overlay_lightleak2",defaultName:"Light Leak 2",image:"overlays/imgly_overlay_lightleak2.jpg",thumbnail:"overlays/imgly_overlay_lightleak2_thumb.jpg",blendMode:"lighten"},{identifier:"imgly_overlay_rain",defaultName:"Rain",image:"overlays/imgly_overlay_rain.jpg",thumbnail:"overlays/imgly_overlay_rain_thumb.jpg",blendMode:"overlay"},{identifier:"imgly_overlay_wood",defaultName:"Wood",image:"overlays/imgly_overlay_wood.jpg",thumbnail:"overlays/imgly_overlay_wood_thumb.jpg",blendMode:"multiply"},{identifier:"imgly_overlay_mosaic",defaultName:"Mosaic",image:"overlays/imgly_overlay_mosaic.jpg",thumbnail:"overlays/imgly_overlay_mosaic_thumb.jpg",blendMode:"multiply"},{identifier:"imgly_overlay_chop",defaultName:"Chop",image:"overlays/imgly_overlay_chop.jpg",thumbnail:"overlays/imgly_overlay_chop_thumb.jpg",blendMode:"multiply"},{identifier:"imgly_overlay_vintage",defaultName:"Vintage",image:"overlays/imgly_overlay_vintage.jpg",thumbnail:"overlays/imgly_overlay_vintage_thumb.jpg",blendMode:"darken"},{identifier:"imgly_overlay_metal",defaultName:"Metal",image:"overlays/imgly_overlay_metal.jpg",thumbnail:"overlays/imgly_overlay_metal_thumb.jpg",blendMode:"overlay"},{identifier:"imgly_overlay_paper",defaultName:"Paper",image:"overlays/imgly_overlay_paper.jpg",thumbnail:"overlays/imgly_overlay_paper_thumb.jpg",blendMode:"multiply"},{identifier:"imgly_overlay_painting",defaultName:"Painting",image:"overlays/imgly_overlay_painting.jpg",thumbnail:"overlays/imgly_overlay_painting_thumb.jpg",blendMode:"overlay"},{identifier:"imgly_overlay_grain",defaultName:"Grain",image:"overlays/imgly_overlay_grain.jpg",thumbnail:"overlays/imgly_overlay_grain_thumb.jpg",blendMode:"overlay"},{identifier:"imgly_overlay_clouds",defaultName:"Clouds",image:"overlays/imgly_overlay_clouds.jpg",thumbnail:"overlays/imgly_overlay_clouds_thumb.jpg",blendMode:"softLight"},{identifier:"imgly_overlay_wall1",defaultName:"Wall",image:"overlays/imgly_overlay_wall1.jpg",thumbnail:"overlays/imgly_overlay_wall1_thumb.jpg",blendMode:"lighten"},{identifier:"imgly_overlay_wall2",defaultName:"Wall 2",image:"overlays/imgly_overlay_wall2.jpg",thumbnail:"overlays/imgly_overlay_wall2_thumb.jpg",blendMode:"overlay"}],FRAME_CATEGORIES:[{identifier:"imgly_frame_generic",defaultName:"Generic",metaData:{backgroundImage:"frames/generic.png"},frames:[{identifier:"imgly_frame_dia",defaultName:"Dia",layoutMode:"horizontal-inside",thumbnail:"frames/imgly_frame_dia/imgly_frame_dia_thumb.png",imageGroups:{top:{mid:{image:"frames/imgly_frame_dia/imgly_frame_dia_top.png",mode:"repeat"}},left:{start:"frames/imgly_frame_dia/imgly_frame_dia_top_corner_left.png",mid:"frames/imgly_frame_dia/imgly_frame_dia_left.png",end:"frames/imgly_frame_dia/imgly_frame_dia_bottom_corner_left.png"},right:{start:"frames/imgly_frame_dia/imgly_frame_dia_top_corner_right.png",mid:"frames/imgly_frame_dia/imgly_frame_dia_right.png",end:"frames/imgly_frame_dia/imgly_frame_dia_bottom_corner_right.png"},bottom:{mid:{image:"frames/imgly_frame_dia/imgly_frame_dia_bottom.png",mode:"repeat"}}}},{identifier:"imgly_frame_art_decor",defaultName:"Art Decor",tintable:!0,layoutMode:"horizontal-inside",thumbnail:"frames/imgly_frame_art_decor/imgly_frame_art_decor_thumb.png",imageGroups:{top:{start:"frames/imgly_frame_art_decor/imgly_frame_art_decor_top_corner_left.png",mid:{image:"frames/imgly_frame_art_decor/imgly_frame_art_decor_top.png",mode:"stretch"},end:"frames/imgly_frame_art_decor/imgly_frame_art_decor_top_corner_right.png"},left:{mid:{image:"frames/imgly_frame_art_decor/imgly_frame_art_decor_left.png",mode:"stretch"}},right:{mid:{image:"frames/imgly_frame_art_decor/imgly_frame_art_decor_right.png",mode:"stretch"}},bottom:{start:"frames/imgly_frame_art_decor/imgly_frame_art_decor_bottom_corner_left.png",mid:{image:"frames/imgly_frame_art_decor/imgly_frame_art_decor_bottom.png",mode:"stretch"},end:"frames/imgly_frame_art_decor/imgly_frame_art_decor_bottom_corner_right.png"}}},{identifier:"imgly_frame_black_passepartout",defaultName:"Black Passepartout",layoutMode:"horizontal-inside",thumbnail:"frames/imgly_frame_black_passepartout/imgly_frame_black_passepartout_thumb.png",imageGroups:{top:{start:"frames/imgly_frame_black_passepartout/imgly_frame_black_passepartout_top_corner_left.png",mid:{image:"frames/imgly_frame_black_passepartout/imgly_frame_black_passepartout_top.png",mode:"stretch"},end:"frames/imgly_frame_black_passepartout/imgly_frame_black_passepartout_top_corner_right.png"},left:{mid:{image:"frames/imgly_frame_black_passepartout/imgly_frame_black_passepartout_left.png",mode:"stretch"}},right:{mid:{image:"frames/imgly_frame_black_passepartout/imgly_frame_black_passepartout_right.png",mode:"stretch"}},bottom:{start:"frames/imgly_frame_black_passepartout/imgly_frame_black_passepartout_bottom_corner_left.png",mid:{image:"frames/imgly_frame_black_passepartout/imgly_frame_black_passepartout_bottom.png",mode:"stretch"},end:"frames/imgly_frame_black_passepartout/imgly_frame_black_passepartout_bottom_corner_right.png"}}},{identifier:"imgly_frame_lowpoly_shadow",defaultName:"Low Poly",layoutMode:"horizontal-inside",thumbnail:"frames/imgly_frame_lowpoly_shadow/imgly_frame_lowpoly_shadow_thumb.png",imageGroups:{top:{start:"frames/imgly_frame_lowpoly_shadow/imgly_frame_lowpoly_shadow_top_corner_left.png",mid:{image:"frames/imgly_frame_lowpoly_shadow/imgly_frame_lowpoly_shadow_top.png",mode:"stretch"},end:"frames/imgly_frame_lowpoly_shadow/imgly_frame_lowpoly_shadow_top_corner_right.png"},left:{mid:{image:"frames/imgly_frame_lowpoly_shadow/imgly_frame_lowpoly_shadow_left.png",mode:"stretch"}},right:{mid:{image:"frames/imgly_frame_lowpoly_shadow/imgly_frame_lowpoly_shadow_right.png",mode:"stretch"}},bottom:{start:"frames/imgly_frame_lowpoly_shadow/imgly_frame_lowpoly_shadow_bottom_corner_left.png",mid:{image:"frames/imgly_frame_lowpoly_shadow/imgly_frame_lowpoly_shadow_bottom.png",mode:"stretch"},end:"frames/imgly_frame_lowpoly_shadow/imgly_frame_lowpoly_shadow_bottom_corner_right.png"}}},{identifier:"imgly_frame_wood_passepartout",defaultName:"Wood Passepartout",layoutMode:"horizontal-inside",thumbnail:"frames/imgly_frame_wood_passepartout/imgly_frame_wood_passepartout_thumb.png",imageGroups:{top:{start:"frames/imgly_frame_wood_passepartout/imgly_frame_wood_passepartout_top_corner_left.png",mid:{image:"frames/imgly_frame_wood_passepartout/imgly_frame_wood_passepartout_top.png",mode:"stretch"},end:"frames/imgly_frame_wood_passepartout/imgly_frame_wood_passepartout_top_corner_right.png"},left:{mid:{image:"frames/imgly_frame_wood_passepartout/imgly_frame_wood_passepartout_left.png",mode:"stretch"}},right:{mid:{image:"frames/imgly_frame_wood_passepartout/imgly_frame_wood_passepartout_right.png",mode:"stretch"}},bottom:{start:"frames/imgly_frame_wood_passepartout/imgly_frame_wood_passepartout_bottom_corner_left.png",mid:{image:"frames/imgly_frame_wood_passepartout/imgly_frame_wood_passepartout_bottom.png",mode:"stretch"},end:"frames/imgly_frame_wood_passepartout/imgly_frame_wood_passepartout_bottom_corner_right.png"}}}]}],STICKER_CATEGORIES:[{identifier:"imgly_sticker_emoticons",defaultName:"Emoticons",metaData:{backgroundImage:"stickers/emoticons/background.png"},stickers:[{identifier:"imgly_sticker_emoticons_alien",defaultName:"Alien",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_alien.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_alien.png"],width:62,height:58},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_alien.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_alien.png"],width:1e3,height:935}}},{identifier:"imgly_sticker_emoticons_angel",defaultName:"Angel",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_angel.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_angel.png"],width:62,height:64},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_angel.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_angel.png"]}}},{identifier:"imgly_sticker_emoticons_angry",defaultName:"Angry",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_angry.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_angry.png"],width:62,height:62},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_angry.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_angry.png"]}}},{identifier:"imgly_sticker_emoticons_anxious",defaultName:"Anxious",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_anxious.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_anxious.png"],width:62,height:58},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_anxious.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_anxious.png"]}}},{identifier:"imgly_sticker_emoticons_asleep",defaultName:"Asleep",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_asleep.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_asleep.png"],width:62,height:58},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_asleep.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_asleep.png"]}}},{identifier:"imgly_sticker_emoticons_attention",defaultName:"Attention",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_attention.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_attention.png"],width:62,height:60},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_attention.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_attention.png"]}}},{identifier:"imgly_sticker_emoticons_baby_chicken",defaultName:"Baby Chicken",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_baby_chicken.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_baby_chicken.png"],width:61,height:42},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_baby_chicken.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_baby_chicken.png"]}}},{identifier:"imgly_sticker_emoticons_batman",defaultName:"Batman",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_batman.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_batman.png"],width:62,height:58},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_batman.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_batman.png"]}}},{identifier:"imgly_sticker_emoticons_beer",defaultName:"Beer",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_beer.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_beer.png"],width:62,height:59},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_beer.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_beer.png"]}}},{identifier:"imgly_sticker_emoticons_blush",defaultName:"Blush",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_blush.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_blush.png"],width:62,height:58},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_blush.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_blush.png"]}}},{identifier:"imgly_sticker_emoticons_boxer",defaultName:"Boxer",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_boxer.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_boxer.png"],width:62,height:62},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_boxer.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_boxer.png"]}}},{identifier:"imgly_sticker_emoticons_business",defaultName:"Business",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_business.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_business.png"],width:60,height:63},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_business.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_business.png"]}}},{identifier:"imgly_sticker_emoticons_chicken",defaultName:"Chicken",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_chicken.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_chicken.png"],width:63,height:55},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_chicken.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_chicken.png"]}}},{identifier:"imgly_sticker_emoticons_cool",defaultName:"Cool",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_cool.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_cool.png"],width:62,height:58},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_cool.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_cool.png"]}}},{identifier:"imgly_sticker_emoticons_cry",defaultName:"Cry",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_cry.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_cry.png"],width:62,height:58},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_cry.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_cry.png"]}}},{identifier:"imgly_sticker_emoticons_deceased",defaultName:"Deceased",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_deceased.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_deceased.png"],width:62,height:58},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_deceased.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_deceased.png"]}}},{identifier:"imgly_sticker_emoticons_devil",defaultName:"Devil",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_devil.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_devil.png"],width:62,height:58},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_devil.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_devil.png"]}}},{identifier:"imgly_sticker_emoticons_duckface",defaultName:"Duckface",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_duckface.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_duckface.png"],width:62,height:58},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_duckface.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_duckface.png"]}}},{identifier:"imgly_sticker_emoticons_furious",defaultName:"Furious",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_furious.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_furious.png"],width:62,height:61},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_furious.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_furious.png"]}}},{identifier:"imgly_sticker_emoticons_grin",defaultName:"Grin",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_grin.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_grin.png"],width:62,height:58},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_grin.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_grin.png"]}}},{identifier:"imgly_sticker_emoticons_guitar",defaultName:"Guitar",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_guitar.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_guitar.png"],width:64,height:60},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_guitar.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_guitar.png"]}}},{identifier:"imgly_sticker_emoticons_harry_potter",defaultName:"Harry Potter",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_harry_potter.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_harry_potter.png"],width:64,height:62},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_harry_potter.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_harry_potter.png"]}}},{identifier:"imgly_sticker_emoticons_hippie",defaultName:"Hippie",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_hippie.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_hippie.png"],width:62,height:62},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_hippie.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_hippie.png"]}}},{identifier:"imgly_sticker_emoticons_hitman",defaultName:"Hitman",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_hitman.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_hitman.png"],width:64,height:60},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_hitman.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_hitman.png"]}}},{identifier:"imgly_sticker_emoticons_humourous",defaultName:"Humourous",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_humourous.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_humourous.png"],width:64,height:64},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_humourous.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_humourous.png"]}}},{identifier:"imgly_sticker_emoticons_idea",defaultName:"Idea",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_idea.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_idea.png"],width:64,height:62},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_idea.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_idea.png"]}}},{identifier:"imgly_sticker_emoticons_impatient",defaultName:"Impatient",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_impatient.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_impatient.png"],width:62,height:58},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_impatient.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_impatient.png"]}}},{identifier:"imgly_sticker_emoticons_kiss",defaultName:"Kiss",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_kiss.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_kiss.png"],width:62,height:58},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_kiss.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_kiss.png"]}}},{identifier:"imgly_sticker_emoticons_kisses",defaultName:"Kisses",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_kisses.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_kisses.png"],width:62,height:58},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_kisses.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_kisses.png"]}}},{identifier:"imgly_sticker_emoticons_laugh",defaultName:"Laugh",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_laugh.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_laugh.png"],width:62,height:58},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_laugh.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_laugh.png"]}}},{identifier:"imgly_sticker_emoticons_loud_cry",defaultName:"Loud Cry",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_loud_cry.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_loud_cry.png"],width:64,height:58},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_loud_cry.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_loud_cry.png"]}}},{identifier:"imgly_sticker_emoticons_loving",defaultName:"Loving",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_loving.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_loving.png"],width:62,height:58},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_loving.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_loving.png"]}}},{identifier:"imgly_sticker_emoticons_masked",defaultName:"Masked",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_masked.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_masked.png"],width:62,height:62},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_masked.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_masked.png"]}}},{identifier:"imgly_sticker_emoticons_music",defaultName:"Music",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_music.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_music.png"],width:62,height:54},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_music.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_music.png"]}}},{identifier:"imgly_sticker_emoticons_nerd",defaultName:"Nerd",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_nerd.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_nerd.png"]},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_nerd.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_nerd.png"]}}},{identifier:"imgly_sticker_emoticons_ninja",defaultName:"Ninja",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_ninja.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_ninja.png"],width:62,height:58},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_ninja.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_ninja.png"]}}},{identifier:"imgly_sticker_emoticons_not_speaking_to_you",defaultName:"Not Speaking To You",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_not_speaking_to_you.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_not_speaking_to_you.png"],width:62,height:58},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_not_speaking_to_you.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_not_speaking_to_you.png"]}}},{identifier:"imgly_sticker_emoticons_pig",defaultName:"Pig",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_pig.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_pig.png"],width:63,height:41},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_pig.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_pig.png"]}}},{identifier:"imgly_sticker_emoticons_pumpkin",defaultName:"Pumpkin",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_pumpkin.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_pumpkin.png"],width:62,height:60},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_pumpkin.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_pumpkin.png"]}}},{identifier:"imgly_sticker_emoticons_question",defaultName:"Question",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_question.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_question.png"],width:62,height:62},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_question.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_question.png"]}}},{identifier:"imgly_sticker_emoticons_rabbit",defaultName:"Rabbit",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_rabbit.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_rabbit.png"],width:65,height:47},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_rabbit.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_rabbit.png"]}}},{identifier:"imgly_sticker_emoticons_sad",defaultName:"Sad",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_sad.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_sad.png"]},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_sad.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_sad.png"]}}},{identifier:"imgly_sticker_emoticons_sick",defaultName:"Sick",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_sick.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_sick.png"],width:62,height:58},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_sick.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_sick.png"]}}},{identifier:"imgly_sticker_emoticons_skateboard",defaultName:"Skateboard",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_skateboard.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_skateboard.png"],width:62,height:64},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_skateboard.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_skateboard.png"]}}},{identifier:"imgly_sticker_emoticons_skull",defaultName:"Skull",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_skull.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_skull.png"],width:62,height:62},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_skull.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_skull.png"]}}},{identifier:"imgly_sticker_emoticons_sleepy",defaultName:"Sleepy",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_sleepy.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_sleepy.png"],width:62,height:60},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_sleepy.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_sleepy.png"]}}},{identifier:"imgly_sticker_emoticons_smile",defaultName:"Smile",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_smile.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_smile.png"],width:62,height:58},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_smile.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_smile.png"]}}},{identifier:"imgly_sticker_emoticons_smoking",defaultName:"Smoking",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_smoking.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_smoking.png"],width:62,height:58},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_smoking.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_smoking.png"]}}},{identifier:"imgly_sticker_emoticons_sobbing",defaultName:"Sobbing",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_sobbing.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_sobbing.png"],width:62,height:59},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_sobbing.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_sobbing.png"]}}},{identifier:"imgly_sticker_emoticons_star",defaultName:"Star",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_star.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_star.png"],width:64,height:64},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_star.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_star.png"]}}},{identifier:"imgly_sticker_emoticons_steaming_furious",defaultName:"Steaming Furious",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_steaming_furious.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_steaming_furious.png"],width:62,height:58},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_steaming_furious.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_steaming_furious.png"]}}},{identifier:"imgly_sticker_emoticons_sunbathing",defaultName:"Sunbathing",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_sunbathing.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_sunbathing.png"],width:62,height:58},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_sunbathing.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_sunbathing.png"]}}},{identifier:"imgly_sticker_emoticons_tired",defaultName:"Tired",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_tired.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_tired.png"],width:62,height:60},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_tired.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_tired.png"]}}},{identifier:"imgly_sticker_emoticons_tongue_out_wink",defaultName:"Tongue Out Wink",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_tongue_out_wink.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_tongue_out_wink.png"],width:62,height:58},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_tongue_out_wink.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_tongue_out_wink.png"]}}},{identifier:"imgly_sticker_emoticons_wave",defaultName:"Wave",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_wave.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_wave.png"],width:62,height:60},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_wave.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_wave.png"]}}},{identifier:"imgly_sticker_emoticons_wide_grin",defaultName:"Wide Grin",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_wide_grin.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_wide_grin.png"],width:62,height:58},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_wide_grin.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_wide_grin.png"]}}},{identifier:"imgly_sticker_emoticons_wink",defaultName:"Wink",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_wink.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_wink.png"],width:62,height:58},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_wink.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_wink.png"]}}},{identifier:"imgly_sticker_emoticons_wrestler",defaultName:"Wrestler",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_wrestler.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_wrestler.png"],width:62,height:60},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_wrestler.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_wrestler.png"]}}}]},{identifier:"imgly_sticker_shapes",defaultName:"Shapes",metaData:{backgroundImage:"stickers/shapes/background.png"},stickers:[{identifier:"imgly_sticker_shapes_arrow_02",defaultName:"Arrow 1",tintMode:"solid",images:{mediaThumb:{uris:["stickers/shapes/stickers/imgly_sticker_shapes_arrow_02.svg","stickers/shapes/stickers/thumbs/imgly_sticker_shapes_arrow_02.png"],width:2e3,height:1236},mediaBase:{uris:["stickers/shapes/stickers/imgly_sticker_shapes_arrow_02.svg","stickers/shapes/stickers/base/imgly_sticker_shapes_arrow_02.png"],width:2e3,height:1236}}},{identifier:"imgly_sticker_shapes_arrow_03",defaultName:"Arrow 2",tintMode:"solid",images:{mediaThumb:{uris:["stickers/shapes/stickers/imgly_sticker_shapes_arrow_03.svg","stickers/shapes/stickers/thumbs/imgly_sticker_shapes_arrow_03.png"],width:2e3,height:2e3},mediaBase:{uris:["stickers/shapes/stickers/imgly_sticker_shapes_arrow_03.svg","stickers/shapes/stickers/base/imgly_sticker_shapes_arrow_03.png"],width:2e3,height:2e3}}},{identifier:"imgly_sticker_shapes_badge_01",defaultName:"Badge 1",tintMode:"solid",images:{mediaThumb:{uris:["stickers/shapes/stickers/imgly_sticker_shapes_badge_01.svg","stickers/shapes/stickers/thumbs/imgly_sticker_shapes_badge_01.png"],width:2e3,height:2e3},mediaBase:{uris:["stickers/shapes/stickers/imgly_sticker_shapes_badge_01.svg","stickers/shapes/stickers/base/imgly_sticker_shapes_badge_01.png"],width:2e3,height:2e3}}},{identifier:"imgly_sticker_shapes_badge_04",defaultName:"Badge 2",tintMode:"solid",images:{mediaThumb:{uris:["stickers/shapes/stickers/imgly_sticker_shapes_badge_04.svg","stickers/shapes/stickers/thumbs/imgly_sticker_shapes_badge_04.png"],width:2e3,height:1589},mediaBase:{uris:["stickers/shapes/stickers/imgly_sticker_shapes_badge_04.svg","stickers/shapes/stickers/base/imgly_sticker_shapes_badge_04.png"],width:2e3,height:1589}}},{identifier:"imgly_sticker_shapes_badge_06",defaultName:"Badge 3",tintMode:"solid",images:{mediaThumb:{uris:["stickers/shapes/stickers/imgly_sticker_shapes_badge_06.svg","stickers/shapes/stickers/thumbs/imgly_sticker_shapes_badge_06.png"],width:2e3,height:1733},mediaBase:{uris:["stickers/shapes/stickers/imgly_sticker_shapes_badge_06.svg","stickers/shapes/stickers/base/imgly_sticker_shapes_badge_06.png"],width:2e3,height:1733}}},{identifier:"imgly_sticker_shapes_badge_08",defaultName:"Badge 4",tintMode:"solid",images:{mediaThumb:{uris:["stickers/shapes/stickers/imgly_sticker_shapes_badge_08.svg","stickers/shapes/stickers/thumbs/imgly_sticker_shapes_badge_08.png"],width:2e3,height:2e3},mediaBase:{uris:["stickers/shapes/stickers/imgly_sticker_shapes_badge_08.svg","stickers/shapes/stickers/base/imgly_sticker_shapes_badge_08.png"],width:2e3,height:2e3}}},{identifier:"imgly_sticker_shapes_badge_11",defaultName:"Badge 5",tintMode:"solid",images:{mediaThumb:{uris:["stickers/shapes/stickers/imgly_sticker_shapes_badge_11.svg","stickers/shapes/stickers/thumbs/imgly_sticker_shapes_badge_11.png"],width:2e3,height:2e3},mediaBase:{uris:["stickers/shapes/stickers/imgly_sticker_shapes_badge_11.svg","stickers/shapes/stickers/base/imgly_sticker_shapes_badge_11.png"],width:2e3,height:2e3}}},{identifier:"imgly_sticker_shapes_badge_12",defaultName:"Badge 6",tintMode:"solid",images:{mediaThumb:{uris:["stickers/shapes/stickers/imgly_sticker_shapes_badge_12.svg","stickers/shapes/stickers/thumbs/imgly_sticker_shapes_badge_12.png"],width:2001,height:1903},mediaBase:{uris:["stickers/shapes/stickers/imgly_sticker_shapes_badge_12.svg","stickers/shapes/stickers/base/imgly_sticker_shapes_badge_12.png"],width:2001,height:1903}}},{identifier:"imgly_sticker_shapes_badge_13",defaultName:"Badge 7",tintMode:"solid",images:{mediaThumb:{uris:["stickers/shapes/stickers/imgly_sticker_shapes_badge_13.svg","stickers/shapes/stickers/thumbs/imgly_sticker_shapes_badge_13.png"],width:2e3,height:1718},mediaBase:{uris:["stickers/shapes/stickers/imgly_sticker_shapes_badge_13.svg","stickers/shapes/stickers/base/imgly_sticker_shapes_badge_13.png"],width:2e3,height:1718}}},{identifier:"imgly_sticker_shapes_badge_15",defaultName:"Badge 8",tintMode:"solid",images:{mediaThumb:{uris:["stickers/shapes/stickers/imgly_sticker_shapes_badge_15.svg","stickers/shapes/stickers/thumbs/imgly_sticker_shapes_badge_15.png"],width:1618,height:2e3},mediaBase:{uris:["stickers/shapes/stickers/imgly_sticker_shapes_badge_15.svg","stickers/shapes/stickers/base/imgly_sticker_shapes_badge_15.png"],width:1618,height:2e3}}},{identifier:"imgly_sticker_shapes_badge_18",defaultName:"Badge 9",tintMode:"solid",images:{mediaThumb:{uris:["stickers/shapes/stickers/imgly_sticker_shapes_badge_18.svg","stickers/shapes/stickers/thumbs/imgly_sticker_shapes_badge_18.png"],width:1198,height:2e3},mediaBase:{uris:["stickers/shapes/stickers/imgly_sticker_shapes_badge_18.svg","stickers/shapes/stickers/base/imgly_sticker_shapes_badge_18.png"],width:1198,height:2e3}}},{identifier:"imgly_sticker_shapes_badge_19",defaultName:"Badge 10",tintMode:"solid",images:{mediaThumb:{uris:["stickers/shapes/stickers/imgly_sticker_shapes_badge_19.svg","stickers/shapes/stickers/thumbs/imgly_sticker_shapes_badge_19.png"],width:2127,height:481},mediaBase:{uris:["stickers/shapes/stickers/imgly_sticker_shapes_badge_19.svg","stickers/shapes/stickers/base/imgly_sticker_shapes_badge_19.png"],width:2127,height:481}}},{identifier:"imgly_sticker_shapes_badge_20",defaultName:"Badge 11",tintMode:"solid",images:{mediaThumb:{uris:["stickers/shapes/stickers/imgly_sticker_shapes_badge_20.svg","stickers/shapes/stickers/thumbs/imgly_sticker_shapes_badge_20.png"],width:2e3,height:1404},mediaBase:{uris:["stickers/shapes/stickers/imgly_sticker_shapes_badge_20.svg","stickers/shapes/stickers/base/imgly_sticker_shapes_badge_20.png"],width:2e3,height:1404}}},{identifier:"imgly_sticker_shapes_badge_28",defaultName:"Badge 12",tintMode:"solid",images:{mediaThumb:{uris:["stickers/shapes/stickers/imgly_sticker_shapes_badge_28.svg","stickers/shapes/stickers/thumbs/imgly_sticker_shapes_badge_28.png"],width:2e3,height:2e3},mediaBase:{uris:["stickers/shapes/stickers/imgly_sticker_shapes_badge_28.svg","stickers/shapes/stickers/base/imgly_sticker_shapes_badge_28.png"],width:2e3,height:2e3}}},{identifier:"imgly_sticker_shapes_badge_32",defaultName:"Badge 13",tintMode:"solid",images:{mediaThumb:{uris:["stickers/shapes/stickers/imgly_sticker_shapes_badge_32.svg","stickers/shapes/stickers/thumbs/imgly_sticker_shapes_badge_32.png"],width:1960,height:2e3},mediaBase:{uris:["stickers/shapes/stickers/imgly_sticker_shapes_badge_32.svg","stickers/shapes/stickers/base/imgly_sticker_shapes_badge_32.png"],width:1960,height:2e3}}},{identifier:"imgly_sticker_shapes_badge_35",defaultName:"Badge 14",tintMode:"solid",images:{mediaThumb:{uris:["stickers/shapes/stickers/imgly_sticker_shapes_badge_35.svg","stickers/shapes/stickers/thumbs/imgly_sticker_shapes_badge_35.png"],width:2e3,height:2002},mediaBase:{uris:["stickers/shapes/stickers/imgly_sticker_shapes_badge_35.svg","stickers/shapes/stickers/base/imgly_sticker_shapes_badge_35.png"],width:2e3,height:2002}}},{identifier:"imgly_sticker_shapes_badge_36",defaultName:"Badge 15",tintMode:"solid",images:{mediaThumb:{uris:["stickers/shapes/stickers/imgly_sticker_shapes_badge_36.svg","stickers/shapes/stickers/thumbs/imgly_sticker_shapes_badge_36.png"],width:2e3,height:1668},mediaBase:{uris:["stickers/shapes/stickers/imgly_sticker_shapes_badge_36.svg","stickers/shapes/stickers/base/imgly_sticker_shapes_badge_36.png"],width:2e3,height:1668}}},{identifier:"imgly_sticker_shapes_spray_01",defaultName:"Spray 1",tintMode:"solid",images:{mediaThumb:{uris:["stickers/shapes/stickers/imgly_sticker_shapes_spray_01.svg","stickers/shapes/stickers/thumbs/imgly_sticker_shapes_spray_01.png"],width:1912,height:2039},mediaBase:{uris:["stickers/shapes/stickers/imgly_sticker_shapes_spray_01.svg","stickers/shapes/stickers/base/imgly_sticker_shapes_spray_01.png"],width:1912,height:2039}}},{identifier:"imgly_sticker_shapes_spray_03",defaultName:"Spray 2",tintMode:"solid",images:{mediaThumb:{uris:["stickers/shapes/stickers/imgly_sticker_shapes_spray_03.svg","stickers/shapes/stickers/thumbs/imgly_sticker_shapes_spray_03.png"],width:1681,height:1779},mediaBase:{uris:["stickers/shapes/stickers/imgly_sticker_shapes_spray_03.svg","stickers/shapes/stickers/base/imgly_sticker_shapes_spray_03.png"],width:1681,height:1779}}},{identifier:"imgly_sticker_shapes_spray_04",defaultName:"Spray 3",tintMode:"solid",images:{mediaThumb:{uris:["stickers/shapes/stickers/imgly_sticker_shapes_spray_04.svg","stickers/shapes/stickers/thumbs/imgly_sticker_shapes_spray_04.png"],width:1407,height:2248},mediaBase:{uris:["stickers/shapes/stickers/imgly_sticker_shapes_spray_04.svg","stickers/shapes/stickers/base/imgly_sticker_shapes_spray_04.png"],width:1407,height:2248}}}]}]}}}));function vr(e,t,i){null!=e&&("number"==typeof e?this.fromNumber(e,t,i):null==t&&"string"!=typeof e?this.fromString(e,256):this.fromString(e,t))}function br(){return new vr(null)}function xr(e,t,i,r,n,o){for(;--o>=0;){var s=t*this[e++]+i[r]+n;n=Math.floor(s/67108864),i[r++]=67108863&s}return n}function wr(e,t,i,r,n,o){for(var s=32767&t,a=t>>15;--o>=0;){var l=32767&this[e],c=this[e++]>>15,u=a*l+c*s;n=((l=s*l+((32767&u)<<15)+i[r]+(1073741823&n))>>>30)+(u>>>15)+a*c+(n>>>30),i[r++]=1073741823&l}return n}function Sr(e,t,i,r,n,o){for(var s=16383&t,a=t>>14;--o>=0;){var l=16383&this[e],c=this[e++]>>14,u=a*l+c*s;n=((l=s*l+((16383&u)<<14)+i[r]+n)>>28)+(u>>14)+a*c,i[r++]=268435455&l}return n}function kr(e){return Gi.charAt(e)}function Cr(e,t){var i=qi[e.charCodeAt(t)];return null==i?-1:i}function Tr(e){for(var t=this.t-1;t>=0;--t)e[t]=this[t];e.t=this.t,e.s=this.s}function Er(e){this.t=1,this.s=e<0?-1:0,e>0?this[0]=e:e<-1?this[0]=e+this.DV:this.t=0}function Dr(e){var t=br();return t.fromInt(e),t}function Ir(e,t){var i;if(16==t)i=4;else if(8==t)i=3;else if(256==t)i=8;else if(2==t)i=1;else if(32==t)i=5;else{if(4!=t)return void this.fromRadix(e,t);i=2}this.t=0,this.s=0;for(var r=e.length,n=!1,o=0;--r>=0;){var s=8==i?255&e[r]:Cr(e,r);s<0?"-"==e.charAt(r)&&(n=!0):(n=!1,0==o?this[this.t++]=s:o+i>this.DB?(this[this.t-1]|=(s&(1<<this.DB-o)-1)<<o,this[this.t++]=s>>this.DB-o):this[this.t-1]|=s<<o,(o+=i)>=this.DB&&(o-=this.DB))}8==i&&0!=(128&e[0])&&(this.s=-1,o>0&&(this[this.t-1]|=(1<<this.DB-o)-1<<o)),this.clamp(),n&&vr.ZERO.subTo(this,this)}function Rr(){for(var e=this.s&this.DM;this.t>0&&this[this.t-1]==e;)--this.t}function Fr(e){if(this.s<0)return"-"+this.negate().toString(e);var t;if(16==e)t=4;else if(8==e)t=3;else if(2==e)t=1;else if(32==e)t=5;else{if(4!=e)return this.toRadix(e);t=2}var i,r=(1<<t)-1,n=!1,o="",s=this.t,a=this.DB-s*this.DB%t;if(s-- >0)for(a<this.DB&&(i=this[s]>>a)>0&&(n=!0,o=kr(i));s>=0;)a<t?(i=(this[s]&(1<<a)-1)<<t-a,i|=this[--s]>>(a+=this.DB-t)):(i=this[s]>>(a-=t)&r,a<=0&&(a+=this.DB,--s)),i>0&&(n=!0),n&&(o+=kr(i));return n?o:"0"}function Ar(){var e=br();return vr.ZERO.subTo(this,e),e}function Or(){return this.s<0?this.negate():this}function Mr(e){var t=this.s-e.s;if(0!=t)return t;var i=this.t;if(0!=(t=i-e.t))return this.s<0?-t:t;for(;--i>=0;)if(0!=(t=this[i]-e[i]))return t;return 0}function Pr(e){var t,i=1;return 0!=(t=e>>>16)&&(e=t,i+=16),0!=(t=e>>8)&&(e=t,i+=8),0!=(t=e>>4)&&(e=t,i+=4),0!=(t=e>>2)&&(e=t,i+=2),0!=(t=e>>1)&&(e=t,i+=1),i}function zr(){return this.t<=0?0:this.DB*(this.t-1)+Pr(this[this.t-1]^this.s&this.DM)}function Br(e,t){var i;for(i=this.t-1;i>=0;--i)t[i+e]=this[i];for(i=e-1;i>=0;--i)t[i]=0;t.t=this.t+e,t.s=this.s}function Lr(e,t){for(var i=e;i<this.t;++i)t[i-e]=this[i];t.t=Math.max(this.t-e,0),t.s=this.s}function Ur(e,t){var i,r=e%this.DB,n=this.DB-r,o=(1<<n)-1,s=Math.floor(e/this.DB),a=this.s<<r&this.DM;for(i=this.t-1;i>=0;--i)t[i+s+1]=this[i]>>n|a,a=(this[i]&o)<<r;for(i=s-1;i>=0;--i)t[i]=0;t[s]=a,t.t=this.t+s+1,t.s=this.s,t.clamp()}function Nr(e,t){t.s=this.s;var i=Math.floor(e/this.DB);if(i>=this.t)t.t=0;else{var r=e%this.DB,n=this.DB-r,o=(1<<r)-1;t[0]=this[i]>>r;for(var s=i+1;s<this.t;++s)t[s-i-1]|=(this[s]&o)<<n,t[s-i]=this[s]>>r;r>0&&(t[this.t-i-1]|=(this.s&o)<<n),t.t=this.t-i,t.clamp()}}function Hr(e,t){for(var i=0,r=0,n=Math.min(e.t,this.t);i<n;)r+=this[i]-e[i],t[i++]=r&this.DM,r>>=this.DB;if(e.t<this.t){for(r-=e.s;i<this.t;)r+=this[i],t[i++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;i<e.t;)r-=e[i],t[i++]=r&this.DM,r>>=this.DB;r-=e.s}t.s=r<0?-1:0,r<-1?t[i++]=this.DV+r:r>0&&(t[i++]=r),t.t=i,t.clamp()}function jr(e,t){var i=this.abs(),r=e.abs(),n=i.t;for(t.t=n+r.t;--n>=0;)t[n]=0;for(n=0;n<r.t;++n)t[n+i.t]=i.am(0,r[n],t,n,0,i.t);t.s=0,t.clamp(),this.s!=e.s&&vr.ZERO.subTo(t,t)}function Wr(e){for(var t=this.abs(),i=e.t=2*t.t;--i>=0;)e[i]=0;for(i=0;i<t.t-1;++i){var r=t.am(i,t[i],e,2*i,0,1);(e[i+t.t]+=t.am(i+1,2*t[i],e,2*i+1,r,t.t-i-1))>=t.DV&&(e[i+t.t]-=t.DV,e[i+t.t+1]=1)}e.t>0&&(e[e.t-1]+=t.am(i,t[i],e,2*i,0,1)),e.s=0,e.clamp()}function Vr(e,t,i){var r=e.abs();if(!(r.t<=0)){var n=this.abs();if(n.t<r.t)return null!=t&&t.fromInt(0),void(null!=i&&this.copyTo(i));null==i&&(i=br());var o=br(),s=this.s,a=e.s,l=this.DB-Pr(r[r.t-1]);l>0?(r.lShiftTo(l,o),n.lShiftTo(l,i)):(r.copyTo(o),n.copyTo(i));var c=o.t,u=o[c-1];if(0!=u){var h=u*(1<<this.F1)+(c>1?o[c-2]>>this.F2:0),d=this.FV/h,p=(1<<this.F1)/h,f=1<<this.F2,g=i.t,m=g-c,y=null==t?br():t;for(o.dlShiftTo(m,y),i.compareTo(y)>=0&&(i[i.t++]=1,i.subTo(y,i)),vr.ONE.dlShiftTo(c,y),y.subTo(o,o);o.t<c;)o[o.t++]=0;for(;--m>=0;){var _=i[--g]==u?this.DM:Math.floor(i[g]*d+(i[g-1]+f)*p);if((i[g]+=o.am(0,_,i,m,0,c))<_)for(o.dlShiftTo(m,y),i.subTo(y,i);i[g]<--_;)i.subTo(y,i)}null!=t&&(i.drShiftTo(c,t),s!=a&&vr.ZERO.subTo(t,t)),i.t=c,i.clamp(),l>0&&i.rShiftTo(l,i),s<0&&vr.ZERO.subTo(i,i)}}}function Gr(e){var t=br();return this.abs().divRemTo(e,null,t),this.s<0&&t.compareTo(vr.ZERO)>0&&e.subTo(t,t),t}function qr(e){this.m=e}function Xr(e){return e.s<0||e.compareTo(this.m)>=0?e.mod(this.m):e}function Yr(e){return e}function Qr(e){e.divRemTo(this.m,null,e)}function Kr(e,t,i){e.multiplyTo(t,i),this.reduce(i)}function Zr(e,t){e.squareTo(t),this.reduce(t)}function Jr(){if(this.t<1)return 0;var e=this[0];if(0==(1&e))return 0;var t=3&e;return(t=(t=(t=(t=t*(2-(15&e)*t)&15)*(2-(255&e)*t)&255)*(2-((65535&e)*t&65535))&65535)*(2-e*t%this.DV)%this.DV)>0?this.DV-t:-t}function $r(e){this.m=e,this.mp=e.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}function en(e){var t=br();return e.abs().dlShiftTo(this.m.t,t),t.divRemTo(this.m,null,t),e.s<0&&t.compareTo(vr.ZERO)>0&&this.m.subTo(t,t),t}function tn(e){var t=br();return e.copyTo(t),this.reduce(t),t}function rn(e){for(;e.t<=this.mt2;)e[e.t++]=0;for(var t=0;t<this.m.t;++t){var i=32767&e[t],r=i*this.mpl+((i*this.mph+(e[t]>>15)*this.mpl&this.um)<<15)&e.DM;for(e[i=t+this.m.t]+=this.m.am(0,r,e,t,0,this.m.t);e[i]>=e.DV;)e[i]-=e.DV,e[++i]++}e.clamp(),e.drShiftTo(this.m.t,e),e.compareTo(this.m)>=0&&e.subTo(this.m,e)}function nn(e,t){e.squareTo(t),this.reduce(t)}function on(e,t,i){e.multiplyTo(t,i),this.reduce(i)}function sn(){return 0==(this.t>0?1&this[0]:this.s)}function an(e,t){if(e>4294967295||e<1)return vr.ONE;var i=br(),r=br(),n=t.convert(this),o=Pr(e)-1;for(n.copyTo(i);--o>=0;)if(t.sqrTo(i,r),(e&1<<o)>0)t.mulTo(r,n,i);else{var s=i;i=r,r=s}return t.revert(i)}function ln(e,t){var i;return i=e<256||t.isEven()?new qr(t):new $r(t),this.exp(e,i)}function cn(){var e=br();return this.copyTo(e),e}function un(){if(this.s<0){if(1==this.t)return this[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this[0];if(0==this.t)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]}function hn(){return 0==this.t?this.s:this[0]<<24>>24}function dn(){return 0==this.t?this.s:this[0]<<16>>16}function pn(e){return Math.floor(Math.LN2*this.DB/Math.log(e))}function fn(){return this.s<0?-1:this.t<=0||1==this.t&&this[0]<=0?0:1}function gn(e){if(null==e&&(e=10),0==this.signum()||e<2||e>36)return"0";var t=this.chunkSize(e),i=Math.pow(e,t),r=Dr(i),n=br(),o=br(),s="";for(this.divRemTo(r,n,o);n.signum()>0;)s=(i+o.intValue()).toString(e).substr(1)+s,n.divRemTo(r,n,o);return o.intValue().toString(e)+s}function mn(e,t){this.fromInt(0),null==t&&(t=10);for(var i=this.chunkSize(t),r=Math.pow(t,i),n=!1,o=0,s=0,a=0;a<e.length;++a){var l=Cr(e,a);l<0?"-"==e.charAt(a)&&0==this.signum()&&(n=!0):(s=t*s+l,++o>=i&&(this.dMultiply(r),this.dAddOffset(s,0),o=0,s=0))}o>0&&(this.dMultiply(Math.pow(t,o)),this.dAddOffset(s,0)),n&&vr.ZERO.subTo(this,this)}function yn(e,t,i){if("number"==typeof t)if(e<2)this.fromInt(1);else for(this.fromNumber(e,i),this.testBit(e-1)||this.bitwiseTo(vr.ONE.shiftLeft(e-1),Cn,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(t);)this.dAddOffset(2,0),this.bitLength()>e&&this.subTo(vr.ONE.shiftLeft(e-1),this);else{var r=new Array,n=7&e;r.length=1+(e>>3),t.nextBytes(r),n>0?r[0]&=(1<<n)-1:r[0]=0,this.fromString(r,256)}}function _n(){var e=this.t,t=new Array;t[0]=this.s;var i,r=this.DB-e*this.DB%8,n=0;if(e-- >0)for(r<this.DB&&(i=this[e]>>r)!=(this.s&this.DM)>>r&&(t[n++]=i|this.s<<this.DB-r);e>=0;)r<8?(i=(this[e]&(1<<r)-1)<<8-r,i|=this[--e]>>(r+=this.DB-8)):(i=this[e]>>(r-=8)&255,r<=0&&(r+=this.DB,--e)),0!=(128&i)&&(i|=-256),0==n&&(128&this.s)!=(128&i)&&++n,(n>0||i!=this.s)&&(t[n++]=i);return t}function vn(e){return 0==this.compareTo(e)}function bn(e){return this.compareTo(e)<0?this:e}function xn(e){return this.compareTo(e)>0?this:e}function wn(e,t,i){var r,n,o=Math.min(e.t,this.t);for(r=0;r<o;++r)i[r]=t(this[r],e[r]);if(e.t<this.t){for(n=e.s&this.DM,r=o;r<this.t;++r)i[r]=t(this[r],n);i.t=this.t}else{for(n=this.s&this.DM,r=o;r<e.t;++r)i[r]=t(n,e[r]);i.t=e.t}i.s=t(this.s,e.s),i.clamp()}function Sn(e,t){return e&t}function kn(e){var t=br();return this.bitwiseTo(e,Sn,t),t}function Cn(e,t){return e|t}function Tn(e){var t=br();return this.bitwiseTo(e,Cn,t),t}function En(e,t){return e^t}function Dn(e){var t=br();return this.bitwiseTo(e,En,t),t}function In(e,t){return e&~t}function Rn(e){var t=br();return this.bitwiseTo(e,In,t),t}function Fn(){for(var e=br(),t=0;t<this.t;++t)e[t]=this.DM&~this[t];return e.t=this.t,e.s=~this.s,e}function An(e){var t=br();return e<0?this.rShiftTo(-e,t):this.lShiftTo(e,t),t}function On(e){var t=br();return e<0?this.lShiftTo(-e,t):this.rShiftTo(e,t),t}function Mn(e){if(0==e)return-1;var t=0;return 0==(65535&e)&&(e>>=16,t+=16),0==(255&e)&&(e>>=8,t+=8),0==(15&e)&&(e>>=4,t+=4),0==(3&e)&&(e>>=2,t+=2),0==(1&e)&&++t,t}function Pn(){for(var e=0;e<this.t;++e)if(0!=this[e])return e*this.DB+Mn(this[e]);return this.s<0?this.t*this.DB:-1}function zn(e){for(var t=0;0!=e;)e&=e-1,++t;return t}function Bn(){for(var e=0,t=this.s&this.DM,i=0;i<this.t;++i)e+=zn(this[i]^t);return e}function Ln(e){var t=Math.floor(e/this.DB);return t>=this.t?0!=this.s:0!=(this[t]&1<<e%this.DB)}function Un(e,t){var i=vr.ONE.shiftLeft(e);return this.bitwiseTo(i,t,i),i}function Nn(e){return this.changeBit(e,Cn)}function Hn(e){return this.changeBit(e,In)}function jn(e){return this.changeBit(e,En)}function Wn(e,t){for(var i=0,r=0,n=Math.min(e.t,this.t);i<n;)r+=this[i]+e[i],t[i++]=r&this.DM,r>>=this.DB;if(e.t<this.t){for(r+=e.s;i<this.t;)r+=this[i],t[i++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;i<e.t;)r+=e[i],t[i++]=r&this.DM,r>>=this.DB;r+=e.s}t.s=r<0?-1:0,r>0?t[i++]=r:r<-1&&(t[i++]=this.DV+r),t.t=i,t.clamp()}function Vn(e){var t=br();return this.addTo(e,t),t}function Gn(e){var t=br();return this.subTo(e,t),t}function qn(e){var t=br();return this.multiplyTo(e,t),t}function Xn(){var e=br();return this.squareTo(e),e}function Yn(e){var t=br();return this.divRemTo(e,t,null),t}function Qn(e){var t=br();return this.divRemTo(e,null,t),t}function Kn(e){var t=br(),i=br();return this.divRemTo(e,t,i),new Array(t,i)}function Zn(e){this[this.t]=this.am(0,e-1,this,0,0,this.t),++this.t,this.clamp()}function Jn(e,t){if(0!=e){for(;this.t<=t;)this[this.t++]=0;for(this[t]+=e;this[t]>=this.DV;)this[t]-=this.DV,++t>=this.t&&(this[this.t++]=0),++this[t]}}function $n(){}function eo(e){return e}function to(e,t,i){e.multiplyTo(t,i)}function io(e,t){e.squareTo(t)}function ro(e){return this.exp(e,new $n)}function no(e,t,i){var r,n=Math.min(this.t+e.t,t);for(i.s=0,i.t=n;n>0;)i[--n]=0;for(r=i.t-this.t;n<r;++n)i[n+this.t]=this.am(0,e[n],i,n,0,this.t);for(r=Math.min(e.t,t);n<r;++n)this.am(0,e[n],i,n,0,t-n);i.clamp()}function oo(e,t,i){--t;var r=i.t=this.t+e.t-t;for(i.s=0;--r>=0;)i[r]=0;for(r=Math.max(t-this.t,0);r<e.t;++r)i[this.t+r-t]=this.am(t-r,e[r],i,0,0,this.t+r-t);i.clamp(),i.drShiftTo(1,i)}function so(e){this.r2=br(),this.q3=br(),vr.ONE.dlShiftTo(2*e.t,this.r2),this.mu=this.r2.divide(e),this.m=e}function ao(e){if(e.s<0||e.t>2*this.m.t)return e.mod(this.m);if(e.compareTo(this.m)<0)return e;var t=br();return e.copyTo(t),this.reduce(t),t}function lo(e){return e}function co(e){for(e.drShiftTo(this.m.t-1,this.r2),e.t>this.m.t+1&&(e.t=this.m.t+1,e.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);e.compareTo(this.r2)<0;)e.dAddOffset(1,this.m.t+1);for(e.subTo(this.r2,e);e.compareTo(this.m)>=0;)e.subTo(this.m,e)}function uo(e,t){e.squareTo(t),this.reduce(t)}function ho(e,t,i){e.multiplyTo(t,i),this.reduce(i)}function po(e,t){var i,r,n=e.bitLength(),o=Dr(1);if(n<=0)return o;i=n<18?1:n<48?3:n<144?4:n<768?5:6,r=n<8?new qr(t):t.isEven()?new so(t):new $r(t);var s=new Array,a=3,l=i-1,c=(1<<i)-1;if(s[1]=r.convert(this),i>1){var u=br();for(r.sqrTo(s[1],u);a<=c;)s[a]=br(),r.mulTo(u,s[a-2],s[a]),a+=2}var h,d,p=e.t-1,f=!0,g=br();for(n=Pr(e[p])-1;p>=0;){for(n>=l?h=e[p]>>n-l&c:(h=(e[p]&(1<<n+1)-1)<<l-n,p>0&&(h|=e[p-1]>>this.DB+n-l)),a=i;0==(1&h);)h>>=1,--a;if((n-=a)<0&&(n+=this.DB,--p),f)s[h].copyTo(o),f=!1;else{for(;a>1;)r.sqrTo(o,g),r.sqrTo(g,o),a-=2;a>0?r.sqrTo(o,g):(d=o,o=g,g=d),r.mulTo(g,s[h],o)}for(;p>=0&&0==(e[p]&1<<n);)r.sqrTo(o,g),d=o,o=g,g=d,--n<0&&(n=this.DB-1,--p)}return r.revert(o)}function fo(e){var t=this.s<0?this.negate():this.clone(),i=e.s<0?e.negate():e.clone();if(t.compareTo(i)<0){var r=t;t=i,i=r}var n=t.getLowestSetBit(),o=i.getLowestSetBit();if(o<0)return t;for(n<o&&(o=n),o>0&&(t.rShiftTo(o,t),i.rShiftTo(o,i));t.signum()>0;)(n=t.getLowestSetBit())>0&&t.rShiftTo(n,t),(n=i.getLowestSetBit())>0&&i.rShiftTo(n,i),t.compareTo(i)>=0?(t.subTo(i,t),t.rShiftTo(1,t)):(i.subTo(t,i),i.rShiftTo(1,i));return o>0&&i.lShiftTo(o,i),i}function go(e){if(e<=0)return 0;var t=this.DV%e,i=this.s<0?e-1:0;if(this.t>0)if(0==t)i=this[0]%e;else for(var r=this.t-1;r>=0;--r)i=(t*i+this[r])%e;return i}function mo(e){var t=e.isEven();if(this.isEven()&&t||0==e.signum())return vr.ZERO;for(var i=e.clone(),r=this.clone(),n=Dr(1),o=Dr(0),s=Dr(0),a=Dr(1);0!=i.signum();){for(;i.isEven();)i.rShiftTo(1,i),t?(n.isEven()&&o.isEven()||(n.addTo(this,n),o.subTo(e,o)),n.rShiftTo(1,n)):o.isEven()||o.subTo(e,o),o.rShiftTo(1,o);for(;r.isEven();)r.rShiftTo(1,r),t?(s.isEven()&&a.isEven()||(s.addTo(this,s),a.subTo(e,a)),s.rShiftTo(1,s)):a.isEven()||a.subTo(e,a),a.rShiftTo(1,a);i.compareTo(r)>=0?(i.subTo(r,i),t&&n.subTo(s,n),o.subTo(a,o)):(r.subTo(i,r),t&&s.subTo(n,s),a.subTo(o,a))}return 0!=r.compareTo(vr.ONE)?vr.ZERO:a.compareTo(e)>=0?a.subtract(e):a.signum()<0?(a.addTo(e,a),a.signum()<0?a.add(e):a):a}function yo(e){var t,i=this.abs();if(1==i.t&&i[0]<=Qi[Qi.length-1]){for(t=0;t<Qi.length;++t)if(i[0]==Qi[t])return!0;return!1}if(i.isEven())return!1;for(t=1;t<Qi.length;){for(var r=Qi[t],n=t+1;n<Qi.length&&r<Ki;)r*=Qi[n++];for(r=i.modInt(r);t<n;)if(r%Qi[t++]==0)return!1}return i.millerRabin(e)}function _o(e){var t=this.subtract(vr.ONE),i=t.getLowestSetBit();if(i<=0)return!1;var r=t.shiftRight(i);(e=e+1>>1)>Qi.length&&(e=Qi.length);for(var n=br(),o=0;o<e;++o){n.fromInt(Qi[Math.floor(Math.random()*Qi.length)]);var s=n.modPow(r,this);if(0!=s.compareTo(vr.ONE)&&0!=s.compareTo(t)){for(var a=1;a++<i&&0!=s.compareTo(t);)if(0==(s=s.modPowInt(2,this)).compareTo(vr.ONE))return!1;if(0!=s.compareTo(t))return!1}}return!0}var vo=b((()=>{for(Wi={},Wi="undefined"!==typeof window?window.navigator:{},"Microsoft Internet Explorer"==Wi.appName?(vr.prototype.am=wr,Vi=30):"Netscape"!=Wi.appName?(vr.prototype.am=xr,Vi=26):(vr.prototype.am=Sr,Vi=28),vr.prototype.DB=Vi,vr.prototype.DM=(1<<Vi)-1,vr.prototype.DV=1<<Vi,vr.prototype.FV=Math.pow(2,52),vr.prototype.F1=52-Vi,vr.prototype.F2=2*Vi-52,Gi="0123456789abcdefghijklmnopqrstuvwxyz",qi=new Array,Xi="0".charCodeAt(0),Yi=0;Yi<=9;++Yi)qi[Xi++]=Yi;for(Xi="a".charCodeAt(0),Yi=10;Yi<36;++Yi)qi[Xi++]=Yi;for(Xi="A".charCodeAt(0),Yi=10;Yi<36;++Yi)qi[Xi++]=Yi;qr.prototype.convert=Xr,qr.prototype.revert=Yr,qr.prototype.reduce=Qr,qr.prototype.mulTo=Kr,qr.prototype.sqrTo=Zr,$r.prototype.convert=en,$r.prototype.revert=tn,$r.prototype.reduce=rn,$r.prototype.mulTo=on,$r.prototype.sqrTo=nn,vr.prototype.copyTo=Tr,vr.prototype.fromInt=Er,vr.prototype.fromString=Ir,vr.prototype.clamp=Rr,vr.prototype.dlShiftTo=Br,vr.prototype.drShiftTo=Lr,vr.prototype.lShiftTo=Ur,vr.prototype.rShiftTo=Nr,vr.prototype.subTo=Hr,vr.prototype.multiplyTo=jr,vr.prototype.squareTo=Wr,vr.prototype.divRemTo=Vr,vr.prototype.invDigit=Jr,vr.prototype.isEven=sn,vr.prototype.exp=an,vr.prototype.toString=Fr,vr.prototype.negate=Ar,vr.prototype.abs=Or,vr.prototype.compareTo=Mr,vr.prototype.bitLength=zr,vr.prototype.mod=Gr,vr.prototype.modPowInt=ln,vr.ZERO=Dr(0),vr.ONE=Dr(1),$n.prototype.convert=eo,$n.prototype.revert=eo,$n.prototype.mulTo=to,$n.prototype.sqrTo=io,so.prototype.convert=ao,so.prototype.revert=lo,so.prototype.reduce=co,so.prototype.mulTo=ho,so.prototype.sqrTo=uo,Ki=(1<<26)/(Qi=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997])[Qi.length-1],vr.prototype.chunkSize=pn,vr.prototype.toRadix=gn,vr.prototype.fromRadix=mn,vr.prototype.fromNumber=yn,vr.prototype.bitwiseTo=wn,vr.prototype.changeBit=Un,vr.prototype.addTo=Wn,vr.prototype.dMultiply=Zn,vr.prototype.dAddOffset=Jn,vr.prototype.multiplyLowerTo=no,vr.prototype.multiplyUpperTo=oo,vr.prototype.modInt=go,vr.prototype.millerRabin=_o,vr.prototype.clone=cn,vr.prototype.intValue=un,vr.prototype.byteValue=hn,vr.prototype.shortValue=dn,vr.prototype.signum=fn,vr.prototype.toByteArray=_n,vr.prototype.equals=vn,vr.prototype.min=bn,vr.prototype.max=xn,vr.prototype.and=kn,vr.prototype.or=Tn,vr.prototype.xor=Dn,vr.prototype.andNot=Rn,vr.prototype.not=Fn,vr.prototype.shiftLeft=An,vr.prototype.shiftRight=On,vr.prototype.getLowestSetBit=Pn,vr.prototype.bitCount=Bn,vr.prototype.testBit=Ln,vr.prototype.setBit=Nn,vr.prototype.clearBit=Hn,vr.prototype.flipBit=jn,vr.prototype.add=Vn,vr.prototype.subtract=Gn,vr.prototype.multiply=qn,vr.prototype.divide=Yn,vr.prototype.remainder=Qn,vr.prototype.divideAndRemainder=Kn,vr.prototype.modPow=po,vr.prototype.modInverse=mo,vr.prototype.pow=ro,vr.prototype.gcd=fo,vr.prototype.isProbablePrime=yo,vr.prototype.square=Xn,Zi=vr}));var bo,xo,wo,So,ko,Co,To,Eo,Do,Io,Ro,Fo=b((()=>{})),Ao=b((()=>{bo=/^(0|[1-9]\d*)\.(0|[1-9]\d*)\.(0|[1-9]\d*)(?:-((?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\.(?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\+([0-9a-zA-Z-]+(?:\.[0-9a-zA-Z-]+)*))?$/g,xo=/^(0|[1-9]\d*)\.(0|[1-9]\d*)(\.(0|[1-9]\d*))?(?:-((?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\.(?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\+([0-9a-zA-Z-]+(?:\.[0-9a-zA-Z-]+)*))?$/g,wo=class{get major(){return this._major}get minor(){return this._minor}get patch(){return this._patch}constructor(e){const t=arguments.length>1&&void 0!==arguments[1]&&arguments[1]?xo:bo,i=t.exec(e);t.lastIndex=0,this._major=i[1],this._minor=i[2],this._patch=i[3]||0}equals(e){return this._major===e._major&&this._minor===e._minor&&this._patch===e._patch}isMoreRecentThan(e){return!(this._major<e.major)&&(this._major>e.major||!(this._minor<e.minor)&&(this._minor>e.minor||!(this._patch<=e.patch)&&(this._patch>e.patch||void 0)))}}}));var Oo,Mo,Po,zo,Bo,Lo,Uo,No,Ho,jo=b((()=>{Ge(),vo(),Fo(),Fe(),Ao(),Ae(),So=e=>ae.byteArrayToString(ne.decode(e)),ko="YXBwX2lkZW50aWZpZXJz",Co="ZmVhdHVyZXM=",To="ZXhwaXJlc19hdA==",Eo="c2lnbmF0dXJl",Do=class{constructor(e){this._version="2.4",this._l="string"===typeof e?e.trim():e,this._e=this._parseBigInt("65537",10),this._n=this._parseBigInt("681984042382424091378806337544846672160292647422517223678775230983366046720611873368204040735766698395282492937192783016867164773742859209434481353888637963692711665138989982680829529436715362566735813634679619274059040232728883894511099669775400556584329435375723951309340934658571478665059403241851229195311069345899870108307225910988692123234379186643268583453907260879685992156955936561142314233983397819356937109343127504441076920088455337597736475086676246750168976219763398350254797168313954762459542746440628077261880980924552698138857743609502132632199713575442848784271304503226045319991689413234228439044522583790713890093165912455428688507463773064216328753265963237930998706891042679105987175588970202082466871461192706070321938250462103821558100761330890228135620208935801286878657384108721268761878694436895194628411397454202904351577771506916746612289964053490210990342857409030179406810634136188751670648983222653319056818302012063874664196648868156305696644664362171542503665321455971335955948698828939948786720193132672749776162913092000667953299803216404664087988046584107737900256954976744353601826341965438148646041640662195744770544094748295945844184507459808803114917301124088082458306086473490516969815873631",10),this._parseLicense()}v(){return this._sigValid()&&!this.isExp()}_jsonValid(){try{this._decLic=JSON.parse(this._l)}catch(e){return this._decLic={},!1}return!0}_hostnameValid(){if("undefined"===typeof window)return!0;if(!this._decLic[So(ko)].length)return!0;const{hostname:e}=window.location;let t=!1;return this._decLic[So(ko)].forEach((i=>{ae.wildCardMatch(e,i)&&(t=!0)})),t}_platformValid(){return"HTML5"===this._decLic[So("cGxhdGZvcm0=")]}c(){return new Promise(((e,t)=>{const i=this._validateError();null!==i&&t(i),e()}))}validate(){return null===this._validateError()}_validateError(){if("string"!==typeof this._l||!this._jsonValid()){const e=new Error;return e.code="ELICINVFMT",e}if(!this._sigValid()){const e=new Error;return e.code="ELICINV",e}if(!this._hostnameValid()){const e=new Error;return e.code="ELICINVHOST",e}if(!this._platformValid()){const e=new Error;return e.code="ELICINVPLAT",e}if(this.isExp()){const e=new Error;return e.code="ELICEXP",e}return null}isToolAllowed(e){return this._includesFeature(e)}isWhiteLabel(){return this._includesFeature("whitelabel",new wo("2.4",!0))}areCustomAssetsAllowed(){return this._includesFeature("customassets",new wo("2.4",!0))}t(){if(this._decLic.enterprise_license)return Promise.resolve();if(this._includesFeature("noexporttracking",new wo("2.4",!0)))return Promise.resolve();const e=this._decLic[So("ZG9tYWlucw==")][0]+So(So("TDNSeVlXTnJQMkZ3YVV0bGVUMD0="))+this._decLic[So("YXBpX3Rva2Vu")];return new We(e).load().catch((()=>{}))}isENT(){return!!this._decLic&&this._decLic[So("ZW50ZXJwcmlzZV9saWNlbnNl")]}_sigValid(){return this._verify(this._message,this._sig)}exp(){return!!this._decLic[So(To)]}dl(){return Math.ceil((this._expAt()-Date.now())/864e5)}isExp(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now();return null!==this._decLic[So(To)]&&e>this._expAt()}_expAt(){return 1e3*this._decLic[So(To)]}_verify(e,t){let i,r;r=this._encodeMessage(e),i=this._decodeSignature(t),i=i.substr(-64);return r===i}_encodeMessage(e){const t=function(e){function t(e,t){var i=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(i>>16)<<16|65535&i}function i(e,t){return e>>>t|e<<32-t}function r(e,t){return e>>>t}function n(e,t,i){return e&t^~e&i}function o(e,t,i){return e&t^e&i^t&i}function s(e){return i(e,2)^i(e,13)^i(e,22)}function a(e){return i(e,6)^i(e,11)^i(e,25)}function l(e){return i(e,7)^i(e,18)^r(e,3)}function c(e){return i(e,17)^i(e,19)^r(e,10)}return function(e){for(var t="0123456789abcdef",i="",r=0;r<4*e.length;r++)i+=t.charAt(e[r>>2]>>8*(3-r%4)+4&15)+t.charAt(e[r>>2]>>8*(3-r%4)&15);return i}(function(e,i){var r,u,h,d,p,f,g,m,y,_,v=new Array(1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298),b=new Array(1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225),x=new Array(64);e[i>>5]|=128<<24-i%32,e[15+(i+64>>9<<4)]=i;for(var w=0;w<e.length;w+=16){r=b[0],u=b[1],h=b[2],d=b[3],p=b[4],f=b[5],g=b[6],m=b[7];for(var S=0;S<64;S++)x[S]=S<16?e[S+w]:t(t(t(c(x[S-2]),x[S-7]),l(x[S-15])),x[S-16]),y=t(t(t(t(m,a(p)),n(p,f,g)),v[S]),x[S]),_=t(s(r),o(r,u,h)),m=g,g=f,f=p,p=t(d,y),d=h,h=u,u=r,r=t(y,_);b[0]=t(r,b[0]),b[1]=t(u,b[1]),b[2]=t(h,b[2]),b[3]=t(d,b[3]),b[4]=t(p,b[4]),b[5]=t(f,b[5]),b[6]=t(g,b[6]),b[7]=t(m,b[7])}return b}(function(e){for(var t=Array(),i=0;i<8*e.length;i+=8)t[i>>5]|=(255&e.charCodeAt(i/8))<<24-i%32;return t}(e=function(e){e=e.replace(/\r\n/g,"\n");for(var t="",i=0;i<e.length;i++){var r=e.charCodeAt(i);r<128?t+=String.fromCharCode(r):r>127&&r<2048?(t+=String.fromCharCode(r>>6|192),t+=String.fromCharCode(63&r|128)):(t+=String.fromCharCode(r>>12|224),t+=String.fromCharCode(r>>6&63|128),t+=String.fromCharCode(63&r|128))}return t}(e)),8*e.length))}(e);return t}_decodeSignature(e){let t;return e=function(e){return e.map((e=>"0".concat((255&e).toString(16)).slice(-2))).join("")}(e=ne.decode(e)),t=(e=this._parseBigInt(e,16)).modPowInt(this._e,this._n),t=t.toString(16),t}_parseBigInt(e,t){return new Zi(e,t)}_parseLicense(){"string"===typeof this._l&&this._jsonValid()&&(this._sig=this._decLic[So(Eo)]||"",delete this._decLic[So(Eo)],this._sig=this._sig.replace(/[^A-Za-z0-9+/=]/g,""),this._message=this._l.replace(new RegExp(',"'.concat(So(Eo),'":"([^"]*)"')),""))}_includesFeature(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new wo("1.0",!0);const i=new wo(this._decLic[So("dmVyc2lvbg==")],!0);return!!t.isMoreRecentThan(i)||this._decLic[So(Co)]&&-1!==this._decLic[So(Co)].indexOf(e)}},Io=class{v(){return!0}c(){return Promise.resolve()}isToolAllowed(e){return!0}isWhiteLabel(){return!1}areCustomAssetsAllowed(){return!0}t(){return Promise.resolve()}isENT(){return!1}exp(){return!1}dl(){return 0}isExp(){arguments.length>0&&void 0!==arguments[0]||Date.now();return!1}},Ro=Do})),Wo=b((()=>{Oo="undefined"===typeof window?i.g:window,Mo=Oo.requestAnimationFrame,Po=Oo.cancelAnimationFrame,zo=0,Bo=["ms","moz","webkit","o"];for(let e=0;e<Bo.length&&!Mo;++e)Mo=Oo["".concat(Bo[e],"RequestAnimationFrame")],Po=Oo["".concat(Bo[e],"CancelAnimationFrame")]||Oo["".concat(Bo[e],"CancelRequestAnimationFrame")];Mo&&(Mo=Mo.bind(Oo)),Po&&(Po=Po.bind(Oo)),Mo||(Mo=function(e,t){const i=(new Date).getTime(),r=Math.max(0,16-(i-zo)),n=setTimeout((function(){e(i+r)}),r);return zo=i+r,n}),Po||(Po=function(e){clearTimeout(e)})})),Vo=b((()=>{Oe(),gt(),Lo=class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new tt(0,0),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new tt(1,1),i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new tt(2,-1),r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new tt(2,0);this._p0=e.clone(),this._p1=t.clone(),this._p2=i.clone(),this._p3=r.clone(),this._segments=[],this._length=-1,this._sample=[]}set(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new tt(0,0),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new tt(1,1),i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new tt(2,1),r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new tt(2,0);this._p0=e.clone(),this._p1=t.clone(),this._p2=i.clone(),this._p3=r.clone()}getLength(){return this._length}calculateSegments(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,t=0,i=0;const r=[],n=1/e;let o=this._p0.clone();for(let s=1;s<=e;s++){const e=[];e.push({t:t,s:i,point:o}),t+=n,t=Math.min(t,1);const s=this.evalAt(t);i+=s.clone().subtract(o).len(),e.push({t:t,s:i,point:s}),r.push(e),o=s}return this._segments=r,this._length=i,i}evalAt(e){e=this.normalizeParameter(e);const t=this._p0.clone().multiply((1-e)**3),i=this._p1.clone().multiply(3*(1-e)*(1-e)*e),r=this._p2.clone().multiply(3*(1-e)*e*e),n=this._p3.clone().multiply(e*e*e);return t.add(i).add(r).add(n)}isInSegment(e,t){return(e=this.normalizeArcLength(e))>=t[0].s&&e<=t[1].s}getArcLengthSegment(e){e=this.normalizeArcLength(e);for(let t=0;t<this._segments.length;t++){const i=this._segments[t];if(this.isInSegment(e,i))return i}return null}normalizeArcLength(e){return Math.max(Math.min(this._length,e),0)}normalizeParameter(e){return Math.max(Math.min(1,e),0)}getParameterForArcLength(e){const t=this.normalizeArcLength(e),i=this.getArcLengthSegment(t);if(!i)return fe.warn("CubicBezierCurve#getParameterForArcLength","Segment not found."),-1;const r=(t-i[1].s)/(i[0].s-i[1].s);return r*i[0].t+(1-r)*i[1].t}evalAtArcLength(e){return this.evalAt(this.getParameterForArcLength(e))}approximateAtArcLength(e){const t=this.normalizeArcLength(e),i=this.getArcLengthSegment(t);if(!i)return-1;const r=(t-i[1].s)/(i[0].s-i[1].s);return i[0].point.clone().multiply(r).add(i[1].point.clone().multiply(1-r))}parameterSample(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100;const t=1/e,i=[];let r=0;for(let n=0;n<=e+1;n++)i.push(this.evalAt(r)),r+=t;return this._sample=i,[...i]}arcLengthApproxSample(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=this._length/e,n=[];let o=0;for(let s=t?1:0;s<e+1;s++)n.push(this.approximateAtArcLength(o)),o+=r;return i&&n.pop(),this._sample=n,[...n]}}})),Go=b((()=>{Uo=class{constructor(e,t){this.min=e,this.max=t}getMin(){return this.min}getMax(){return this.max}getLength(){return this.max-this.min}contains(e){return this.min<=e&&e<=this.max}}})),qo=b((()=>{Ho=No=class{constructor(e,t,i){this.x=e,this.y=t,this.z=i,"undefined"===typeof this.x&&(this.x=0),"undefined"===typeof this.y&&(this.y=0),"undefined"===typeof this.z&&(this.z=0)}set(e,t,i){return this.x=e,this.y=t,this.z=i,this}clone(){return new No(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}clamp(e,t){const i=null!==e&&"undefined"!==typeof e,r=null!==t&&"undefined"!==typeof t;return e instanceof No||!i||(e=new No(e,e,e)),t instanceof No||!r||(t=new No(t,t,t)),i&&(this.x=Math.max(e.x,this.x),this.y=Math.max(e.y,this.y),this.z=Math.max(e.z,this.z)),r&&(this.x=Math.min(t.x,this.x),this.y=Math.min(t.y,this.y),this.z=Math.min(t.z,this.z)),this}divide(e){return e instanceof No?(this.x/=e.x,this.y/=e.y,this.z/=e.z):(this.x/=e,this.y/=e,this.z/=e),this}subtract(e){return e instanceof No?(this.x-=e.x,this.y-=e.y,this.z-=e.z):(this.x-=e,this.y-=e,this.z-=e),this}multiply(e){return e instanceof No?(this.x*=e.x,this.y*=e.y,this.z*=e.z):(this.x*=e,this.y*=e,this.z*=e),this}add(e){return e instanceof No?(this.x+=e.x,this.y+=e.y,this.z+=e.z):(this.x+=e,this.y+=e,this.z+=e),this}equals(e){return e instanceof No?e.x===this.x&&e.y===this.y&&e.z===this.z:e===this.x&&e===this.y&&e===this.z}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}fract(){return this.x%=1,this.y%=1,this.z%=1,this}toInt(){return this.x|=0,this.y|=0,this.z|=0,this}abs(){return this.x=Math.abs(this.x),this.y=Math.abs(this.y),this.z=Math.abs(this.z),this}len(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}min(){return Math.min(Math.min(this.x,this.y),this.z)}max(){return Math.max(Math.max(this.x,this.y),this.z)}toObject(){return{x:this.x,y:this.y,z:this.z}}toString(){return"Vector3({ x: ".concat(this.x,", y: ").concat(this.y,", z: ").concat(this.z," })")}roundDecimal(e){return this.x=parseFloat(this.x.toFixed(e)),this.y=parseFloat(this.y.toFixed(e)),this.z=parseFloat(this.z.toFixed(e)),this}static fromObject(e){return new No(e.x,e.y,e.z)}static get NULL(){return new No(0,0,0)}}})),Xo={};w(Xo,{ColorMatrix:()=>St,CubicBezierCurve:()=>Lo,Matrix:()=>it,Range:()=>Uo,Rectangle:()=>rt,Vector2:()=>tt,Vector3:()=>Ho});var Yo=b((()=>{Jt(),Vo(),mt(),Go(),yt(),gt(),qo()})),Qo={};w(Qo,{Base64:()=>ne,Color:()=>Ye,ColorMatrix:()=>St,Configurable:()=>Ct,Constants:()=>z,CubicBezierCurve:()=>Lo,Engine:()=>$o,EventEmitter:()=>Qe,Events:()=>Hi,FreeLicenseChecker:()=>Io,GLUtils:()=>Ke,LicenseChecker:()=>Ro,Log:()=>fe,Matrix:()=>it,Range:()=>Uo,Rectangle:()=>rt,Utils:()=>ae,Vector2:()=>tt,Vector3:()=>Ho,cancelAnimationFrame:()=>Po,requestAnimationFrame:()=>Mo});var Ko,Zo,Jo,$o,es,ts,is,rs,ns,os,ss,as,ls,cs,us,hs,ds,ps,fs,gs,ms,ys,_s,vs,bs,xs,ws,Ss,ks,Cs,Ts=b((()=>{Oe(),_r(),G(),Is(),Fe(),ht(),$t(),dt(),pt(),jo(),Ae(),Wo(),Yo()})),Es=b((()=>{bt(),Ds(),yr(),Ts(),Ko=class{constructor(){this._container=new at,this._sprite=new Zo,this._container.addChild(this._sprite)}render(e,t,i){const r=i.getDimensions(),n=this._getNextHighestPOT(r);this._renderTexture?this._renderTexture.resizeTo(n):this._renderTexture=new Ni(e,n.x,n.y);const o=this._renderTexture.getDimensions();this._sprite.setTexture(i),this._sprite.updateTransform(),this._renderTexture.clear(),this._renderTexture.render(this._container),this._updateSprite(e,t,r,o)}_updateSprite(e,t,i,r){t.setTexture(this._renderTexture),this._renderTexture.setFrame(new rt(0,0,i.x,i.y))}_getNextHighestPOT(e){return new tt(ae.nextHighestPOT(e.x),ae.nextHighestPOT(e.y))}getRenderTexture(){return this._renderTexture}dispose(){this._renderTexture&&(this._renderTexture.dispose(),delete this._renderTexture)}}})),Ds=b((()=>{Es(),bt(),_t(),Zo=class extends at{constructor(e){super(),this._shader=null,this._width=0,this._height=0,this._anchor=new tt(0,0),this._canvasSmoothingEnabled=!0,this._smoothDownscaling=!1,this._onTextureUpdate=this._onTextureUpdate.bind(this),this.setTexture(e)}_onTextureUpdate(){this._boundsNeedUpdate=!0,this._localBoundsNeedUpdate=!0}_renderWebGL(e){const t=e.save();this._smoothDownscaling&&(this._potRenderer||(this._potRenderer=new Ko),this._texture&&this._potRenderer.render(e,this,this._texture)),e.restore(t),e.setObjectRenderer(e.renderers.sprite),e.renderers.sprite.render(this)}_renderCanvas(e){if(!this._texture)return;const t=this._worldTransform,i=this._texture.getFrame(),{width:r,height:n}=i,o=e.getCurrentRenderTarget().getPixelRatio(),s=this._anchor.x*-r|0,a=this._anchor.y*-n|0,l=e.getContext();if(l.setTransform(t.a,t.b,t.c,t.d,t.tx*o,t.ty*o),l.globalAlpha=this.getWorldAlpha(),!this._texture)return;const c=this._texture.getBaseTexture(),u=c.getPixelRatio(),h=c.getSource();l.imageSmoothingEnabled=this._canvasSmoothingEnabled,"beforeDraw"in e&&e.beforeDraw(l),l.drawImage(h,0,0,(h.naturalWidth||r)*u,(h.naturalHeight||n)*u,s*o,a*o,r*o,n*o)}isAtPosition(e){if(!this._texture)return;const t=this._worldTransform.applyInverseToVector(e),i=this._texture.getFrame(),{width:r,height:n}=i,o=new tt(-r,-n);o.multiply(this._anchor);const s=o.clone().add(r,n);return!(t.x<o.x||t.x>s.x||t.y<o.y||t.y>s.y)}getLocalBounds(){if(this._localBoundsNeedUpdate&&this._texture){const e=this._localBounds,t=this._texture.getFrame();e.x=-t.width*this._anchor.x,e.y=-t.height*this._anchor.y,e.width=t.width,e.height=t.height,this._localBoundsNeedUpdate=!1}return this._localBounds.clone()}getBounds(){if(this._boundsNeedUpdate&&this._texture){const e=this._bounds,t=this._texture.getFrame(),i=this._worldTransform,r=this._anchor,n=i.rectangleToCoordinates(t,r);let o=n[0].x,s=n[0].y,a=o,l=s;n.forEach((e=>{let{x:t,y:i}=e;o=Math.min(o,t),s=Math.min(s,i),a=Math.max(a,t),l=Math.max(l,i)})),e.x=o,e.width=Math.abs(a-o),e.y=s,e.height=Math.abs(l-s),this._boundsNeedUpdate=!1}return this._bounds.clone()}getTexture(){return this._texture}clearTexture(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this._texture&&(this._texture.off("update",this._onTextureUpdate),e&&this._texture.dispose(),this._texture=null,this._potRenderer&&(e&&this._potRenderer.dispose(),delete this._potRenderer))}setTexture(e){e&&(this._texture&&this._texture.off("update",this._onTextureUpdate),this._potRenderer&&this._potRenderer.getRenderTexture().getBaseTexture().setDirty(!0),this._texture=e,e.getBaseTexture().isLoaded()&&this._onTextureUpdate(),e.on("update",this._onTextureUpdate))}getShader(){return this._shader}setShader(e){this._shader=e}getWidth(){return this._width}setWidth(e){this._texture&&(this._scale.x=e/this._texture.getFrame().width,this._width=e,this._boundsNeedUpdate=!0,this._localBoundsNeedUpdate=!0)}getHeight(){return this._height}setHeight(e){this._texture&&(this._scale.y=e/this._texture.getFrame().height,this._height=e,this._boundsNeedUpdate=!0,this._localBoundsNeedUpdate=!0)}getDimensions(){return new tt(this._width,this._height)}getAnchor(){return this._anchor}setAnchor(e,t){this._anchor.set(e,t),this._boundsNeedUpdate=!0,this._localBoundsNeedUpdate=!0}isSmoothDownscaling(){return this._smoothDownscaling}setSmoothDownscaling(e){this._smoothDownscaling=e}dispose(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this._texture&&this._texture.off("update",this._onTextureUpdate),(e||t)&&this._texture&&this._texture.dispose(t),this._potRenderer&&this._potRenderer.dispose()}}})),Is=b((()=>{bt(),Ji(),oi(),tr(),or(),fr(),Ds(),$i(),yr(),mr(),er(),X(),Ie(),lr(),Jo={CanvasFilterManager:vi,Container:at,BaseTexture:yi,Texture:Li,RenderTexture:Ni,WebGLRenderTarget:Di,CanvasRenderTarget:_i,Sprite:Zo,Filter:At,Filters:fi,PixelArrayImage:U,autoDetectRenderer(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return K.isSupported()?new Pi(e,t,i):new Ci(e,t,i)},canvasRenderer(e,t){return new Ci(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}},$o=Jo})),Rs=b((()=>{es=class{static current(){return{NODE_ENV:"production",PUBLIC_URL:"/imgly-check",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.ENV}static isTest(){return"test"==={NODE_ENV:"production",PUBLIC_URL:"/imgly-check",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.ENV}static isDevelopment(){return"development"==={NODE_ENV:"production",PUBLIC_URL:"/imgly-check",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.ENV}static isProduction(){return"production"==={NODE_ENV:"production",PUBLIC_URL:"/imgly-check",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.ENV||!this.isTest()&&!this.isDevelopment()}}})),Fs=b((()=>{ts=class{constructor(e){this._head=0,this._buf=e}peekInt8(){return this._buf[this._head]}peekInt16(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const t=this._buf[this._head],i=this._buf[this._head+1];return e?(i<<8)+t:(t<<8)+i}peekInt24(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const t=this._buf[this._head],i=this._buf[this._head+1],r=this._buf[this._head+2];return e?(r<<16)+(i<<8)+t:(t<<16)+(i<<8)+r}peekInt32(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const t=this._buf[this._head],i=this._buf[this._head+1],r=this._buf[this._head+2],n=this._buf[this._head+3];return e?(n<<32)+(r<<16)+(i<<8)+t:(t<<32)+(i<<16)+(r<<8)+n}writeInt8(e){this._buf[this._head]=255&e}writeInt16(e){this._buf[this._head]=e>>8,this._buf[this._head+1]=255&e}readInt8(){const e=this.peekInt8();return this._head+=1,e}readInt16(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const t=this.peekInt16(e);return this._head+=2,t}readInt24(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const t=this.peekInt24(e);return this._head+=3,t}readInt32(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const t=this.peekInt32(e);return this._head+=4,t}readString(e){let t="";for(let i=0;i<e;i++){const e=this.readInt8();t+=String.fromCharCode(e)}return t}getHead(){return this._head}setHead(e){this._head=e}}})),As=b((()=>{is={MARKERS:{SOI:65496,SOS:65498,APP0:65504,APP1:65505,JFIF:65504,EXIF:65505},EXIF_TAGS:{256:"ImageWidth",257:"ImageHeight",34665:"ExifIFDPointer",34853:"GPSInfoIFDPointer",40965:"InteroperabilityIFDPointer",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",274:"Orientation",277:"SamplesPerPixel",284:"PlanarConfiguration",530:"YCbCrSubSampling",531:"YCbCrPositioning",282:"XResolution",283:"YResolution",296:"ResolutionUnit",273:"StripOffsets",278:"RowsPerStrip",279:"StripByteCounts",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",301:"TransferFunction",318:"WhitePoint",319:"PrimaryChromaticities",529:"YCbCrCoefficients",532:"ReferenceBlackWhite",306:"DateTime",270:"ImageDescription",271:"Make",272:"Model",305:"Software",315:"Artist",33432:"Copyright"}}})),Os=b((()=>{Fs(),Ae(),As(),({invariant:rs}=ae),({MARKERS:ns,EXIF_TAGS:os}=is),ss=class{constructor(e){this._buf=e,this._stream=new ts(this._buf),this._stream.setHead(0),this._parse(),this._bigEndian=!1}isValid(){this._stream.setHead(0);if(this._stream.readInt16()!==ns.EXIF)return!1;if(!(this._stream.readInt16()>0))return!1;return"Exif"===this._stream.readString(4)}_parse(){if(!this.isValid())return;this._stream.setHead(10);const e=this._stream.getHead();this._bigEndian=!1;const t=this._stream.readInt16();18761===t?this._bigEndian=!1:19789===t?this._bigEndian=!0:rs(!1,"Invalid TIFF data: No endian type found"),rs(42===this._stream.readInt16(!this._bigEndian),"Invalid TIFF data: No 0x002A");const i=this._stream.readInt32(!this._bigEndian);rs(i>=8,"Invalid TIFF data: First IFD offset < 8");const r=e+i,n=this._readTags(this._stream,e,r,this._bigEndian);this._tags=n.tags,this._tagData=n.tagData}getTags(){return this._tags}getTagData(){return this._tagData}setOrientation(e){if(this._tagData.Orientation){const{entryOffset:t}=this._tagData.Orientation;this._stream.setHead(t+8),this._stream.writeInt16(this._bigEndian?e:(255&e)<<8|e>>8&255)}}_readTags(e,t,i,r){e.setHead(i);const n=e.readInt16(!r),o={},s=[];for(let a=0;a<n;a++){const n=i+12*a+2;e.setHead(n);let l,c,u,h=e.readInt16(!r);if(os[h]){h=os[h],l=e.readInt16(!r),c=e.readInt32(!r),u=e.readInt32(!r)+t;let i=null;switch(l){case 1:case 7:if(1===c)i=e.readInt8(!r);else{i=[];for(let t=0;t<c;t++)i.push(e.readInt8(!r))}break;case 2:e.setHead(c>4?u:n+8),i=e.readString(c);break;case 3:if(e.setHead(c>2?u:n+8),1===c)i=e.readInt16(!r);else{i=[];for(let t=0;t<c;t++)i.push(e.readInt16(!r))}break;case 4:case 9:if(e.setHead(c>1?u:n+8),1===c)i=e.readInt32(!r);else{i=[];for(let t=0;t<c;t++)i.push(e.readInt32(!r))}break;case 5:case 10:if(e.setHead(u),1===c){i=e.readInt32(!r)/e.readInt32(!r)}else{i=[];for(let t=0;t<c;t++){const t=e.readInt32(!r)/e.readInt32(!r);i.push(t)}}}o[h]=i,s[h]={value:i,numValues:c,entryOffset:n,valueOffset:u,type:l}}}return{tags:o,tagData:s}}getBuffer(){return this._buf}}})),Ms=b((()=>{Fs(),As(),({MARKERS:as}=is),ls=class{constructor(e){this._buf=e,this._stream=new ts(this._buf),this._stream.setHead(0)}isValid(){this._stream.setHead(0);if(this._stream.readInt16()!==as.APP0)return!1;if(!(this._stream.readInt16()>=16))return!1;const e=this._stream.readString(4),t=this._stream.readInt8();return"JFIF"===e&&0===t}setUnitDensity(e){this._stream.setHead(11),this._stream.writeInt8(e)}setDensityX(e){this._stream.setHead(12),this._stream.writeInt16(e)}setDensityY(e){this._stream.setHead(14),this._stream.writeInt16(e)}getUnitDensity(){return this._stream.setHead(11),this._stream.readInt8()}getDensityX(){return this._stream.setHead(12),this._stream.readInt16()}getDensityY(){return this._stream.setHead(14),this._stream.readInt16()}getBuffer(){return this._buf}}})),Ps=b((()=>{Fs(),Fe(),As(),Os(),Ms(),Ae(),({invariant:cs}=ae),({MARKERS:us}=is),hs="data:image/jpeg;base64,",ds=new RegExp("^".concat(hs),"i"),fs=ps=class{constructor(e){this._buf=e,this._stream=new ts(this._buf),this._stream.setHead(0),this._segments=this._sliceIntoSegments(this._buf),this._exifData=new ss(this._getMarkerBuffer(us.EXIF)),this._jfifData=new ls(this._getMarkerBuffer(us.JFIF))}static toDataURL(e){return hs+ne.encode(e)}static fromDataURL(e){const t=e.replace(hs,"");return ne.decode(t)}restoreSegmentsInArray(e){return e=this.restoreExifTagsToImageData(e),this.restoreJfifSegmentToImageData(e)}restoreSegments(e){let t=ps.fromDataURL(e);return t=this.restoreSegmentsInArray(t),ps.toDataURL(t)}restoreExifTagsToImageData(e){if(!this._exifData.isValid())return e;const t=this._sliceIntoSegments(e)[1][0],i=e.slice(0,t),r=e.slice(t);let n=i.concat(this._exifData.getBuffer());return n=n.concat(r),n}restoreJfifSegmentToImageData(e){if(!this._jfifData.isValid())return e;const t=this._sliceIntoSegments(e),i=this._findSegment(us.JFIF,t);let r=[];if(!i)return e;{const t=i[0],n=i[1],o=e.slice(0,t),s=e.slice(t,n),a=e.slice(n),l=new ls(s);l.setDensityX(this._jfifData.getDensityX()),l.setDensityY(this._jfifData.getDensityY()),l.setUnitDensity(this._jfifData.getUnitDensity()),r=o.concat(s).concat(a)}return r}restoreExifTags(e){const t=ps.fromDataURL(e),i=this.restoreExifTagsToImageData(t);return ps.toDataURL(i)}restoreJfifSegment(e){if(!this._jfifData.isValid())return e;const t=ps.fromDataURL(e),i=this.restoreJfifSegmentToImageData(t);return ps.toDataURL(i)}setOrientation(e){return this._exifData.setOrientation(e)}static isJPEG(e){return ds.test(e)}static bufferIsJPEG(e){return 255===e[0]&&216===e[1]&&255===e[2]}static fromBase64String(e){const t=e.replace(hs,""),i=ne.decode(t);return new ps(i)}_findSegment(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._segments;for(let i=0;i<t.length;i++){const r=t[i][0],n=t[i][1];this._stream.setHead(r);if(this._stream.peekInt16()===e)return[r,n]}return!1}_getLastSegment(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._segments;return e[e.length-1]}_getMarkerBuffer(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._segments;const i=this._findSegment(e,t);if(i){const e=i[0],t=i[1];return this._buf.slice(e,t)}return!1}_sliceIntoSegments(e){const t=new ts(e),i=[];for(;t.getHead()<e.length;){const e=t.readInt16();if(e!==us.SOI){if(e===us.SOS)break;if(!(e>=65280&&e<=65535))throw new Error("Invalid marker: 0x".concat(e.toString(16)));{const e=t.readInt16(),r=t.getHead()+e-2;i.push([t.getHead()-4,r]),t.setHead(r)}}}return this._stream.setHead(0),i}getTags(){return this._exifData.getTags()}getTagData(){return this._exifData.getTagData()}dispose(){this._buf=[],this._segments=[]}}})),zs=b((()=>{gs="undefined"!==typeof window&&window.Image,ms=gs})),Bs=b((()=>{Ts(),dt(),_s=ys=class extends Qe{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];super(),this._onOperationUpdate=this._onOperationUpdate.bind(this),this._cacheEnabled=!0,this._stack=e,this._stack.forEach((e=>{e.on("update",this._onOperationUpdate)}))}clear(){this.forEach((e=>this.remove(e))),this._stack=[]}hasChanges(){return this._stack.filter((e=>!!e)).some((e=>e.hasChanges()))}_onOperationUpdate(e,t){this.emit(Hi.OPERATION_UPDATED,e,t)}enableCache(){this._cacheEnabled=!0}disableCache(){this._cacheEnabled=!1}forEach(e){return this._stack.filter((e=>!!e)).forEach(e)}render(e,t){const i=t,r=this._stack.filter((e=>!!e)).filter((e=>e.getEnabled()));r.reverse();const n=r.filter((t=>!t.isDirtyForRenderer(e.getRenderer())))[0],o=r.indexOf(n);r.reverse();let s=0;-1!==o&&(s=r.length-o-1);for(let l=0;l<s;l++)fe.info(this.constructor.name,"Skipping ".concat(r[l].constructor.name));let a=Promise.resolve(i);for(let l=s;l<r.length;l++){const e=r[l];let t,i;a=a.then((r=>e.render(r).then((r=>(t&&r!==t&&!this._cacheEnabled&&i.disposeRenderTextures(),t=r,i=e,r)))))}return a.then((t=>({outputTexture:t,renderDone:!r.some((t=>t.isDirtyForRenderer(e.getRenderer())))})))}validateSettings(){return Promise.all(this._stack.filter((e=>!!e)).map((e=>e.validateSettings())))}setAllToDirty(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.forEach((t=>t.setDirty(!0,e)))}updateDirtinessForRenderer(e){let t=!1;for(let i=0;i<this._stack.length;i++){const r=this._stack[i];r&&(r.isDirtyForRenderer(e)&&(t=!0),t&&r.setDirtyForRenderer(!0,e))}}push(e){this._stack.push(e),e.on("update",this._onOperationUpdate)}pop(){const e=this._stack.pop();e&&(e.off("update",this._onOperationUpdate),e.dispose())}unshift(e){this._stack.unshift(e),e.on("update",this._onOperationUpdate)}clone(){return new ys(this._stack.slice(0))}get(e){return this._stack[e]}getByIdentifier(e){return ae.Array.find(this._stack,(t=>t&&t.constructor.identifier===e))}getIndexByIdentifier(e){return ae.Array.findIndex(this._stack,(t=>t&&t.constructor.identifier===e))}moveToTop(e){const t=ae.Array.findIndex(this._stack,(t=>t&&t.constructor.identifier===e));if(t<0||t===this._stack.length-1)return;const i=this.getByIdentifier(e);this._stack.splice(t,1),this._stack[this._stack.length]=i}set(e,t){this._stack[e]&&(this._stack[e].off("update",this._onOperationUpdate),this._stack[e].dispose()),this._stack[e]=t,t.on("update",this._onOperationUpdate)}remove(e){const t=this._stack.indexOf(e);-1!==t&&(this._stack[t]&&(this._stack[t].off("update",this._onOperationUpdate),this._stack[t].dispose()),this._stack.splice(t,1))}removeAt(e){this._stack[e]&&(this._stack[e].off("update",this._onOperationUpdate),this._stack[e].dispose()),delete this._stack[e]}getStack(){return this._stack}dispose(){this.forEach((e=>{e.dispose()}))}}})),Ls=b((()=>{Ts(),vs="undefined"!==typeof window&&window.performance&&window.performance.now?window.performance.now.bind(window.performance):ir(),bs=class{constructor(e,t){this._tag=e,this._name=t,this._start=vs()}stop(){const e=vs()-this._start,t=Math.round(1e3/e);fe.info(this._tag,"".concat(this._name," took ").concat(e.toFixed(2),"ms (").concat(t," FPS)"))}}})),Us=b((()=>{Oe(),G(),Is(),$t(),Ls(),(xs=class extends Ct{constructor(e){super(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{enabled:{type:"boolean",default:!0,serializable:!1}}),this._sdk=e,this._cacheEnabled=!1,this._dirtiness={},this._sprite=new $o.Sprite,this._container=new $o.Container,this._container.addChild(this._sprite)}_onOptionsChange(){this.setDirty(!0)}render(e){var t=this;if(!this.getEnabled())return fe.info(this.constructor.name,"Disabled - skipping"),Promise.resolve(e);if(!this._renderTexture){const t=e.getDimensions().floor();this._renderTexture=new $o.RenderTexture(this._sdk.getRenderer(),t.x,t.y)}const i=this._sdk.getRenderer();let r,n;if(fe.canLog("info")&&(n=new bs(this.constructor.name,"Rendering")),this.isDirtyForRenderer(i)){this._sprite.setTexture(e);const n=this.getNewDimensions(e.getDimensions()).floor();this._renderTexture.resizeTo(n),this._renderTexture.clear(),r=this._render(e).then((function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return t.setDirtyForRenderer(e,i),t._renderTexture}))}else fe.info(this.constructor.name,"Rendering from cache"),r=Promise.resolve(this._renderTexture);return r.then((e=>(n&&n.stop(),e)))}_render(e){let t;return t=this._sdk.getRenderer().isOfType("webgl")?this._renderWebGL.bind(this):this._renderCanvas.bind(this),t(e)}_renderWebGL(e){throw new Error("Operation#_renderWebGL is abstract and not implemented in inherited class.")}_renderCanvas(e){throw new Error("Operation#_renderCanvas is abstract and not implemented in inherited class.")}getNewDimensions(e){return e.clone()}onBeforeExport(){this.transform&&this._tempTransformChange&&this.transform(this._tempTransformChange),this._onBeforeExport()}onAfterExport(){this.transform&&this._tempInverseTransformChange&&this.transform(this._tempInverseTransformChange),this._onAfterExport()}_onBeforeExport(){}_onAfterExport(){}setTemporaryTransformChange(e,t){this._tempTransformChange=e,this._tempInverseTransformChange=t}reset(){this._dirty=!0,this._glslPrograms={}}isDirtyForRenderer(e){const t=this._dirtiness[e.id];return"undefined"===typeof t||t}setDirtyForRenderer(e,t){this._dirtiness[t.id]=e}setDirty(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];for(const i in this._dirtiness)this.setDirtyForRenderer(e,{id:i},t)}getSDK(){return this._sdk}getInputDimensions(){let e,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],i=this._sdk.getInputDimensions();return t&&i.multiply(this._sdk.getZoom()).floor(),this._sdk.getOperationsStack().forEach((t=>{e||(t!==this?i=t.getNewDimensions(i):e=!0)})),i.floor()}clone(){return new(0,this.constructor)(this._sdk,this.serializeOptions())}disposeRenderTextures(){this._renderTexture&&this._renderTexture.dispose(),this._renderTexture=null}dispose(){this.disposeRenderTextures(),this._sprite.dispose()}}).identifier=null,ws=xs})),Ns=b((()=>{Ts(),gt(),Us(),({OptionType:Ss}=z),(ks=class extends ws{getRotation(){let e=0;switch(this.getTags().Orientation){case 7:case 8:e=-90;break;case 3:case 4:e=-180;break;case 5:case 6:e=90}return e}_getFlipVertically(){const{Orientation:e}=this.getTags();return-1!==[5,7].indexOf(e)}_getFlipHorizontally(){const{Orientation:e}=this.getTags();return-1!==[2,4].indexOf(e)}_getFinalOptions(){return{rotation:this.getRotation(),flipVertically:this._getFlipVertically(),flipHorizontally:this._getFlipHorizontally()}}_render(e){const t=this._getFinalOptions(),i=t.rotation%360*(Math.PI/180);this._sprite.setScale(t.flipHorizontally?-1:1,t.flipVertically?-1:1),this._sprite.setRotation(i),this._sprite.setAnchor(.5,.5),this._sprite.updateTransform();const r=this._sprite.getBounds();return this._renderTexture.resizeTo(new tt(r.width,r.height)),this._sprite.setPosition(this._renderTexture.getDimensions().divide(2)),this._renderTexture.render(this._container),Promise.resolve()}getNewDimensions(e){const t=this._getFinalOptions();return e=e.clone(),t.rotation%180&&e.flip(),e}applyTo(e){const t=this._getFinalOptions(),i=ae.createCanvas();90===Math.abs(t.rotation%180)?(i.width=e.height,i.height=e.width):(i.width=e.width,i.height=e.height);const r=i.getContext("2d"),n=t.rotation*Math.PI/180,o=.5*(i.width-e.width),s=.5*(i.height-e.height);return r.translate(o,s),r.translate(.5*e.width,.5*e.height),r.rotate(n),r.translate(-.5*e.width,-.5*e.height),t.flipVertically&&(r.translate(0,e.height),r.scale(1,-1)),t.flipHorizontally&&(r.translate(e.width,0),r.scale(-1,1)),r.drawImage(e,0,0),i}}).identifier="exif-orientation",ks.prototype.availableOptions={tags:{type:Ss.OBJECT,default:{}}},Cs=ks})),Hs={};w(Hs,{ExifOrientationOperation:()=>Cs});var js,Ws,Vs,Gs,qs,Xs,Ys,Qs,Ks,Zs,Js,$s,ea,ta,ia,ra,na,oa,sa,aa,la,ca,ua,ha,da,pa=b((()=>{Ns()})),fa=b((()=>{D(),G(),Is(),ht(),$t(),zs(),Ae(),(js=class extends Ct{constructor(e){super(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}),this._sdk=e}export(){const{imageFormat:e,transparent:t}=this._options,i=e=>e.renderDone?e:this._sdk.render().then((e=>i(e)));return this.validateSettings().then((()=>this._prepareSDK().then((e=>i(e))))).then((i=>{const{outputTexture:r,renderDone:n}=i,o=this._sdk.getRenderer(),s=o.getClearColor();"image/png"===e&&t&&o.setClearColor(new Ye(0,0,0,0));let a=o.getCanvas();return o.isOfType("webgl")&&(a=this._createCanvasFromTexture(r)),o.setClearColor(s),this._encodeImageFormat(a)})).then((t=>this._restoreExifMetadata(t,e))).then((e=>this._restoreSDK().then((()=>e))))}_restoreExifMetadata(e,t,i){if(t===l.JPEG){const t=this._sdk.getExif();t&&"string"===typeof e&&(e=t.restoreSegments(e))}return Promise.resolve(e)}_encodeAsDataURL(e,t,i){if(ae.isBrowser){const r=e.toDataURL(t,i);return n(e),Promise.resolve(r)}try{const r=e.toDataURL(t,i);return n(e),Promise.resolve(r)}catch(wS){return Promise.error(wS)}}_encodeAsHTMLImage(e,t,i){return this._encodeAsDataURL(e,t,i).then((t=>{const i=new ms;return i.src=t,n(e),Promise.resolve(i)}))}_encodeAsBuffer(e,t,i){return Promise.reject(new Error("Unsupported platform for RenderType"))}_encodeAsMSBlob(e,t,i){const r=e.msToBlob();return n(e),Promise.resolve(r)}_encodeAsBLOB(e,t,i){return new Promise(((r,n)=>{e.toBlob((e=>{r(e)}),t,i)}))}_encodeImageFormat(e){const{imageFormat:t,quality:i}=this._options;let{renderType:r}=this._options;switch(r===a.BLOB&&e.msToBlob&&!e.toBlob&&(r=a.MSBLOB),r){case a.IMAGE:return this._encodeAsHTMLImage(e,t,i);case a.DATAURL:return this._encodeAsDataURL(e,t,i);case a.BUFFER:return this._encodeAsBuffer(e,t,i);case a.MSBLOB:return this._encodeAsMSBlob(e,t,i);case a.BLOB:return this._encodeAsBLOB(e,t,i)}return Promise.reject(new Error("Unsupported RenderType: ".concat(r,"!")))}_prepareSDK(){const e=this._sdk.getRenderer();this._sdkSettings={dimensions:e.getDimensions().clone(),textureQuality:this._sdk.getTextureQuality(),rendererPixelRatio:e.getPixelRatio(),renderMode:this._sdk.getRenderMode()},this._sdk.setRenderMode("export"),this._sdk.setTextureQuality(1);const t=e.isOfType("canvas");e.setPixelRatio(1),e.resizeTo(this._sdk.getFinalDimensions(),t),this._sdk.setAllOperationsToDirty(!0);const i=this._sdk.getOperationsStack();return i.forEach((e=>{e.disposeRenderTextures()})),i.disableCache(),this._sdk.render()}_restoreSDK(){this._sdk.getOperationsStack().enableCache(),this._sdk.setRenderMode(this._sdkSettings.renderMode);const e=this._sdk.getRenderer(),t=e.isOfType("canvas");return e.setPixelRatio(this._sdkSettings.rendererPixelRatio),e.resizeTo(this._sdkSettings.dimensions,t),this._sdk.setTextureQuality(this._sdkSettings.textureQuality),this._sdk.setAllOperationsToDirty(!0),this._sdk.render()}_createCanvasFromTexture(e){const t=this._sdk.getRenderer(),i=this._sdk.getFinalDimensions(),r=this._sdk.getRenderer().getContext(),n=r.createFramebuffer();r.bindFramebuffer(r.FRAMEBUFFER,n);const o=e.getBaseTexture().getGLTextureForRenderer(t);r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.TEXTURE_2D,o,0);const s=new Uint8Array(i.x*i.y*4);r.readPixels(0,0,i.x,i.y,r.RGBA,r.UNSIGNED_BYTE,s);let a;if(this._checkPixelsForTransparency(s)){const n=new $o.Sprite(e);n.setFilters([new $o.Filters.UnpremultiplyFilter]);const o=new $o.Container;o.addChild(n),a=new $o.RenderTexture(t,i.x,i.y),a.render(o);const l=a.getBaseTexture().getGLTextureForRenderer(t);r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.TEXTURE_2D,l,0),r.readPixels(0,0,i.x,i.y,r.RGBA,r.UNSIGNED_BYTE,s),t.setRenderTarget(),a.dispose()}const l=ae.createCanvas();l.width=i.x,l.height=i.y;const c=l.getContext("2d"),u=c.createImageData(i.x,i.y);return u.data.set(s),c.putImageData(u,0,0),r.deleteFramebuffer(n),l}_checkPixelsForTransparency(e){const t=this._sdk.getFinalDimensions(),i=t.x*t.y*4;let r;for(let n=3;n<i;n+=4)if(r=e[n],255!==r)return!0;return!1}}).prototype.availableOptions={renderType:{type:"string",available:ae.values(a),default:a.IMAGE},imageFormat:{type:"string",available:ae.values(l),default:l.PNG},quality:{type:"number",default:.8},transparent:{type:"boolean",default:!0}},Ws=js})),ga=b((()=>{Ts(),Ps(),zs(),fa(),Bs(),Ls(),pa(),({Rectangle:Vs,Constants:Gs,Engine:qs,Utils:Xs,EventEmitter:Ys,Events:Qs,Vector2:Ks,Log:Zs,Base64:Js,Color:$s}=Qo),ea=e=>Xs.byteArrayToString(Js.decode(e)),({RenderType:ta,ImageFormat:ia,RendererType:ra}=Gs),na=class extends Ys{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(super(),E(this,"_onContextLost",(()=>{this.emit("context-lost")})),E(this,"_initWatermark",(()=>{this._options.watermark&&this._options.watermark.watermarkURI&&(this._watermarkOperation=this.createOperation("watermark",{watermarkURI:this._options.watermark.watermarkURI,alignment:this._options.watermark.alignment,inset:this._options.watermark.inset,size:this._options.watermark.size,crossOrigin:this._options.crossOrigin}))})),this._onOperationUpdate=this._onOperationUpdate.bind(this),this._onContextRestored=this._onContextRestored.bind(this),this.version="3.9.0",this[ea("VG04Z1lHRndhVXRsZVdBZ2IzQjBhVzl1SUdkcGRtVnU=")]=!0,this._preferredRenderer=e,this._options={...t,extensions:{},renderMode:"dynamic",versionCheck:!0,displayWelcomeMessage:!0,image:null,canvas:null,transparent:!1,textureQuality:1,zoom:1,spriteScale:1,rotation:0,smoothDownscaling:!1,smoothUpscaling:!1,crossOrigin:"anonymous",logLevel:"warn",pixelRatio:Math.max("undefined"!==typeof window&&window.devicePixelRatio||1,1)},this._options.smoothUpscaling&&(qs.BaseTexture.DefaultMagFilter=qs.BaseTexture.LinearFilter),this._options.extensions=Object.assign(this._options.extensions,{operations:[],controls:[],languages:[]}),Zs.setLevel(this._options.logLevel),this[ea("Wm5KbFpVeHBZMlZ1YzAxdlpHVT0=")]=!1,this[ea("X29wdGlvbnM=")][ea("bGljZW5zZQ==")]){const e=Qo[ea("TGljZW5zZUNoZWNrZXI=")];this._l=new e(this[ea("X29wdGlvbnM=")][ea("bGljZW5zZQ==")]),this._cv(!0).then((()=>{this._ct()})).catch((e=>{Zs.error(ea("TGljZW5zaW5n"),e.message)}))}else this[ea("Wm5KbFpVeHBZMlZ1YzAxdlpHVT0=")]=!0,this._l=new(Qo[ea("RnJlZUxpY2Vuc2VDaGVja2Vy")]);this._defaultRenderMode=this._options.renderMode,this._renderMode=this._options.renderMode,this._textureQuality=this._options.textureQuality,this._offset=new Ks,this._zoom=this._options.zoom,this._spriteScale=this._options.spriteScale,this._rotation=this._options.rotation,this._operations={},this._operationsStack=null,this.setOperationsStack(new _s),this._container=new qs.Container,this._sprite=new qs.Sprite,this._container.addChild(this._sprite),this._inputTexture=this._options.inputTexture,this._currentInputTexture=null,this._currentTexture=null,this._resizedTexture=null,this._resizedContainer=new qs.Container,this._resizedSprite=new qs.Sprite,this._resizedContainer.addChild(this._resizedSprite),this._texturesToDispose=[],this.setSmoothDownscaling(this._options.smoothDownscaling),this._registerOperations(),this._initRenderer();this._renderer.constructor.type;this._options.displayWelcomeMessage,this[ea("Wm5KbFpVeHBZMlZ1YzAxdlpHVT0=")]&&Zs.log(ea("VGhlIFBob3RvRWRpdG9yIFNESyBpcyBhIGNvbW1lcmNpYWwgcHJvZHVjdC4gQmVmb3JlIGJlaW5nIGFibGUgdG8gdXNlIGl0IHdpdGhvdXQgbGltaXRhdGlvbnMsIHlvdSBuZWVkIHRvIHVubG9jayB0aGUgU0RLIHdpdGggYSBsaWNlbnNlIGZpbGUuIFlvdSBjYW4gb2J0YWluIGEgdGltZS1saW1pdGVkIGV2YWx1YXRpb24gbGljZW5zZSBieSBzdGFydGluZyBhIHRyaWFsIGF0IGh0dHBzOi8vd3d3LmltZy5seS9zaWdudXAgb3IgeW91IGNhbiBwdXJjaGFzZSBhIGxpY2Vuc2UgYnkgcmVxdWVzdGluZyBhIHF1b3RlIGF0IGh0dHBzOi8vd3d3LmltZy5seS9wcmljaW5nLgoKQmVjYXVzZSB5b3UgZGlkIG5vdCBzcGVjaWZ5IGEgbGljZW5zZSBmaWxlIHlldCwgdGhlIFNESyB3aWxsIG5vdyBkaXNwbGF5IGEgd2F0ZXJtYXJrIGltYWdlIG9uIHRvcCBvZiBhbnkgcGhvdG9zIHlvdSBkaXNwbGF5IG9yIGV4cG9ydCB3aXRoIGl0LiBGb3IgaW5zdHJ1Y3Rpb25zIGZvciBob3cgdG8gdW5sb2NrIHRoZSBTREssIHBsZWFzZSB2aXNpdCBodHRwczovL2ltZy5seS9kb2NzL3Blc2RrL3dlYi9pbnRyb2R1Y3Rpb24vZ2V0dGluZ19zdGFydGVkLg==")),this._options.image&&this.setImage(this._options.image,this._options.exif)}_ct(){if(this._l.exp()){this._l.isExp()?Zs.error(ea("TGljZW5zaW5n"),ea("WW91ciB0cmlhbCBsaWNlbnNlIGhhcyBleHBpcmVkLiBQbGVhc2UgY29udGFjdCBvdXIgc2FsZXMgc3RhZmYgYXQgc2FsZXNAaW1nLmx5Lg==")):Zs.warn(ea("TGljZW5zaW5n"),ea("WW91ciB0cmlhbCBsaWNlbnNlIHdpbGwgZXhwaXJlIGluICVkIGRheXMu").replace("%d",this._l.dl()))}}_cv(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this._l.c().catch((t=>{this[ea("VG04Z1lHRndhVXRsZVdBZ2IzQjBhVzl1SUdkcGRtVnU=")]=!1;let i=ea("SW52YWxpZCBsaWNlbnNlLg==");throw e&&(i="ELICEXP"===t.code?ea("WW91ciB0cmlhbCBsaWNlbnNlIGhhcyBleHBpcmVkLiBQbGVhc2UgY29udGFjdCBvdXIgc2FsZXMgc3RhZmYgYXQgc2FsZXNAaW1nLmx5Lg=="):"ELICINVHOST"===t.code?ea("VGhlIGJ1bmRsZSBpZGVudGlmaWVycyB0aGF0IHlvdSBzcGVjaWZpZWQgaW4geW91ciBsaWNlbnNlIGZpbGUgZG8gbm90IG1hdGNoIHRoZSBhcHAncyBidW5kbGUgaWRlbnRpZmllci4gUGxlYXNlIHVwZGF0ZSBhbmQgcmVkb3dubG9hZCB5b3VyIGxpY2Vuc2UgZnJvbSB5b3VyIGN1c3RvbWVyIGRhc2hib2FyZCBhdCBodHRwczovL3d3dy5pbWcubHkvbG9naW4u"):"ELICINVPLAT"===t.code?ea("VGhlIGxpY2Vuc2UgdGhhdCB5b3Ugc3BlY2lmaWVkIGlzIGZvciBhbm90aGVyIHBsYXRmb3JtLiBQbGVhc2UgZG93bmxvYWQgeW91ciBsaWNlbnNlIGZvciB0aGUgd2ViIHBsYXRmb3JtIGZyb20geW91ciBjdXN0b21lciBkYXNoYm9hcmQgYXQgaHR0cHM6Ly93d3cuaW1nLmx5L2xvZ2luLg=="):"ELICINVFMT"===t.code?ea("SW52YWxpZCBsaWNlbnNlIGZvcm1hdC4gUGxlYXNlIG1ha2Ugc3VyZSB5b3UncmUgcGFzc2luZyB5b3VyIGxpY2Vuc2UgYXMgYSBzdHJpbmcsIG5vdCBhcyBgJGZvcm1hdGAu").replace("$format",typeof this._options.license):"ELICINV"===t.code?ea("VGhlIHNpZ25hdHVyZSBvZiB5b3VyIGxpY2Vuc2UgaXMgbm90IHZhbGlkLiBQbGVhc2UgdHJ5IHRvIHJlZG93bmxvYWQgeW91ciBsaWNlbnNlIGZyb20geW91ciBjdXN0b21lciBkYXNoYm9hcmQgYXQgaHR0cHM6Ly93d3cuaW1nLmx5L2xvZ2luLg=="):ea("SW4gY2FzZSB5b3UgZG9uJ3QgaGF2ZSBhIGxpY2Vuc2UgeWV0LCBwbGVhc2UgY29udGFjdCBvdXIgc2FsZXMgc3RhZmYgYXQgc2FsZXNAaW1nLmx5IHRvIG9idGFpbiBhIGxpY2Vuc2Ugb3IgbG9nIGluIHRvIHlvdXIgY3VzdG9tZXIgZGFzaGJvYXJkLg==")),t.message=i,new Error(t)}))}_t(){this._l.t()}_fl(){return this[ea("Wm5KbFpVeHBZMlZ1YzAxdlpHVT0=")]}_onOperationUpdate(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];this.emit(Qs.OPERATION_UPDATED,...t)}_onContextRestored(){Zs.warn(this.constructor.name,"Trying to re-render after WebGL context has been restored."),this.setAllOperationsToDirty(),this._operationsStack.forEach((e=>{e.disposeRenderTextures()})),this.render()}export(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ta.DATAURL,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ia.PNG,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.8,r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],n=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return this._cv(!0).then((()=>{this.hasChanges()&&!n&&this._t(),this._operationsStack.forEach((e=>{e.onBeforeExport()}));return new Ws(this,{renderType:e,imageFormat:t,quality:i,transparent:r}).export().then((e=>(this._operationsStack.forEach((e=>{e.onAfterExport()})),Promise.resolve(e))))}))}render(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(!this._inputTexture)throw new Error("You need to set an image before calling PhotoEditorSDK#render.");const t=this._renderer.getContext();let i;t.startFrame&&t.startFrame(),Zs.canLog("info")&&(i=new bs("\u26a1\u26a1\u26a1","Frame rendering")),Zs.info("\u26a1\u26a1\u26a1","Rendering starts");const r=this._operationsStack;return r.updateDirtinessForRenderer(this._renderer),this._prepareTexture().then((e=>{"export"===this._renderMode&&(e=this._inputTexture),this._currentTexture=e,this._sprite.setTexture(e),this._container.updateTransform()})).then((()=>r.validateSettings())).then((()=>(!this._fl()&&this[ea("VG04Z1lHRndhVXRsZVdBZ2IzQjBhVzl1SUdkcGRtVnU=")]||(r.getByIdentifier("license-watermark")?r.moveToTop("license-watermark"):this.createOperation("license-watermark")),r.getByIdentifier("watermark")?r.moveToTop("watermark"):this._initWatermark(),r.render(this,this._currentTexture)))).then((t=>{const{outputTexture:i}=t;switch(this._currentTexture=i,this._sprite.setTexture(this._currentTexture),this._renderMode){case"dynamic":{const e=this._renderer.getDimensions().clone().divide(2).add(this._offset);this._container.setScale(this._zoom/this.getTextureScale(),this._zoom/this.getTextureScale()),this._container.setPosition(e),this._sprite.setAnchor(.5,.5),this._sprite.setScale(this._spriteScale,this._spriteScale),this._sprite.setRotation(this._rotation);break}case"export":this._container.setScale(1,1),this._container.setPosition(0,0),this._sprite.setAnchor(0,0),this._sprite.setPosition(0,0),this._sprite.setScale(this._spriteScale,this._spriteScale),this._sprite.setRotation(0);break;case"adapter":this._container.setScale(1,1),this._container.setPosition(0,0),this._sprite.setAnchor(0,0),this._sprite.setPosition(0,0),this._sprite.setScale(1,1),this._sprite.setRotation(0)}return e&&this._renderer.render(this._container),t})).then((e=>(i&&i.stop(),t.endFrame&&t.endFrame(),this._disposeTextures(),e)))}getTextureScale(){return Math.min(1,this._textureQuality*this._options.pixelRatio)}_prepareTexture(){return new Promise(((e,t)=>{const i=this.getTextureScale();if(1===this._textureQuality)return e(this._inputTexture);const r=this.getInputDimensions().multiply(i).floor();let n;this._resizedTexture?this._resizedTexture.getDimensions().equals(r)||(this._resizedTexture.resizeTo(r),n=!0):(this._resizedTexture=new qs.RenderTexture(this._renderer,r.x,r.y),n=!0),n&&(this._resizedSprite.setScale(i,i),this._resizedSprite.setTexture(this._inputTexture),this._resizedTexture.render(this._resizedContainer)),e(this._resizedTexture)}))}_registerOperations(){this._operations={};for(const e in Hs){const t=Hs[e];this._operations[t.identifier]=t}this._operations={...this._operations,...this._options.extensions.operations}}registerOperations(e){e.forEach((e=>{this._operations[e.identifier]=e}))}setAllOperationsToDirty(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this._operationsStack.setAllToDirty(e)}createOperation(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=this._operations[e];if(!r)throw new Error("No operation with identifier `".concat(e,"` found."));const n=new r(this,t);return i&&this.addOperation(n),n}addOperation(e){this._operationsStack.push(e)}removeOperation(e){this._operationsStack.remove(e)}getInputDimensions(){const e=this._inputTexture.getFrame();return new Ks(e.width,e.height)}getFinalDimensions(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.getInputDimensions();return this._operationsStack.forEach((e=>{e.getEnabled()&&(t=e.getNewDimensions(t))})),e&&t.multiply(this._spriteScale),t.floor()}getOutputDimensions(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.getFinalDimensions(e).clone().multiply(this._zoom).floor()}getOutputTextureDimensions(){const e=this.getTextureScale();let t=this.getInputDimensions().multiply(e).floor();return this._operationsStack.forEach((e=>{t=e.getNewDimensions(t)})),t}getCrossOrigin(){return Xs.getCrossOrigin(this._options.crossOrigin||"Anonymous")}_initRenderer(){const e={canvas:this._options.canvas,pixelRatio:this._options.pixelRatio,debug:this._options.debug,transparent:this._options.transparent,clearColor:this._options.clearColor};let t,i;if("export"!==this._renderMode&&this._options.canvas){const{canvas:e}=this._options;t=e.width,i=e.height}else if(this._inputTexture){const e=this.getFinalDimensions();t=e.x,i=e.y}else t=1,i=1;switch(this._preferredRenderer){case ra.WEBGL:this._renderer=qs.autoDetectRenderer(t,i,e),this._renderer.on("context-restored",this._onContextRestored),this._renderer.on("context-lost",this._onContextLost);break;case ra.CANVAS:this._renderer=qs.canvasRenderer(t,i,e),this._renderer.on("context-restored",this._onContextRestored);break;default:Zs.warn("PhotoEditorSDK","PhotoEditorSDK Error: Renderer `".concat(this._preferredRenderer,"` not supported. Falling back to automatically detected renderer.")),this._renderer=qs.autoDetectRenderer(t,i,e)}}resizeTo(e){this._renderer.resizeTo(e,!0)}reset(){this._operationsStack.clear()}parseExif(e){if(!e)return;let{src:t}=e,i=!1,r=null;if(i=fs.isJPEG(t),r=t,i){let e=null;try{e=fs.fromBase64String(r)}catch(QS){}if(!e)return;return e}}_handleExifOrientation(){const e=this._exif.getTags();if(e&&e.Orientation){const t=1!==e.Orientation&&2!==e.Orientation,i=-1!==[2,4,5,7].indexOf(e.Orientation);if(t||i){if("undefined"===typeof navigator)this._exifOperation||(this._exifOperation=this.createOperation("exif-orientation")),this._exifOperation.setTags(e);else{const t=window&&window.navigator&&window.navigator.userAgent||"";!t.match(/msie|trident/i)&&-1===t.indexOf("Edge")&&CSS.supports("image-orientation","from-image")||(this._exifOperation||(this._exifOperation=this.createOperation("exif-orientation")),this._exifOperation.setTags(e))}this._exif.setOrientation(1)}}}correctExifOrientation(e){const t=this.parseExif(e);if(!t)return e;const i=t.getTags();if(i&&i.Orientation){const r=1!==i.Orientation&&2!==i.Orientation,n=-1!==[2,4,5,7].indexOf(i.Orientation);if(r||n){if("undefined"===typeof navigator){const t=this.createOperation("exif-orientation",{},!1);t.setTags(i),e=t.applyTo(e)}else{const t=window&&window.navigator&&window.navigator.userAgent||"";if(t.match(/msie|trident/i)||-1!==t.indexOf("Edge")||!CSS.supports("image-orientation","from-image")){const t=this.createOperation("exif-orientation",{},!1);t.setTags(i),e=t.applyTo(e)}}return t.setOrientation(1),i.Orientation=1,e}}return e}hasImage(){return null!==this._image&&"undefined"!==typeof this._image}getImage(){return this._image}disposeTexture(e){this._texturesToDispose.push(e)}_disposeTextures(){for(let e=0;e<this._texturesToDispose.length;e++)this._texturesToDispose[e].dispose();this._texturesToDispose=[]}setImage(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._disposeTextures(),this._exifOperation&&(this.removeOperation(this._exifOperation),this._exifOperation=null),this._options.image=e,this._image=e,this._exif=t||this.parseExif(e),this._exif&&this._handleExifOrientation();const r=new qs.BaseTexture(this._image),n=new Vs(0,0,this._image.naturalWidth||this._image.width,this._image.naturalHeight||this._image.height);i&&(n.width=i.x,n.height=i.y),this._resizedTexture&&this._resizedTexture.dispose(),this._resizedTexture=null,this._inputTexture&&this.disposeTexture(this._inputTexture.getBaseTexture()),this._inputTexture=new qs.Texture(r,n),this._currentTexture=this._inputTexture,this._sprite.clearTexture(!1),this._sprite.setTexture(this._inputTexture),this.emit("new-image"),this.setAllOperationsToDirty(!0)}setInputTexture(e){this._inputTexture=e}getCanvas(){return this._renderer.getCanvas()}setCanvas(e){this._renderer.setCanvas(e)}getSprite(){return this._sprite}getContainer(){return this._container}getOperationsStack(){return this._operationsStack}setOperationsStack(e){this._operationsStack&&this._operationsStack.off(Qs.OPERATION_UPDATED,this._onOperationUpdate),this._operationsStack=e,this._operationsStack.on(Qs.OPERATION_UPDATED,this._onOperationUpdate)}getOperations(){return this._operations}getRenderer(){return this._renderer}getOffset(){return this._offset}setOffset(e,t){e instanceof Ks?this._offset.copy(e):this._offset.set(e,t)}getRenderMode(){return this._renderMode}setRenderMode(e){this._renderMode=e}getZoom(){return this._zoom}setZoom(e){this._zoom=e,this._container.setScale(this._zoom,this._zoom),this._container.updateTransform()}getTextureQuality(){return"export"===this._renderMode?1:this._textureQuality}setTextureQuality(e){e!==this._textureQuality&&this.setAllOperationsToDirty(!0),this._textureQuality=Math.min(1,e),1===this._textureQuality&&this._resizedTexture&&(this._resizedTexture.dispose(),this._resizedTexture=null)}getSpriteScale(){return this._spriteScale}setSpriteScale(e){this._spriteScale=e,this._sprite.setScale(e,e),this._sprite.updateTransform()}getPixelRatio(){return this._options.pixelRatio}getExif(){return this._exif}getOptions(){return this._options}getInputTexture(){return this._inputTexture}setSmoothDownscaling(e){this._options.smoothDownscaling=e,this._sprite.setSmoothDownscaling(e),this._resizedSprite.setSmoothDownscaling(e)}setRotation(e){this._rotation=e}getRotation(){return this._rotation}hasChanges(){return this.getOperationsStack().hasChanges()}dispose(){this._operationsStack.dispose(),this._renderer.dispose(),this._exif&&this._exif.dispose(),this._resizedTexture&&this._resizedTexture.dispose()}}})),ma=b((()=>{Oe(),ut(),G(),Is(),Fe(),ht(),$t(),Rs(),dt(),Ps(),zs(),jo(),Yo(),Bs(),Ae(),pa(),Us(),ga(),na.version="3.9.0",na.Math=Xo,na.Operations=Hs,na.Engine=$o,na.Color=Ye,na.LicenseChecker=Ro,na.Operation=ws,na.EventEmitter=Qe,na.Utils=ae,na.Env=es,na.OperationsStack=_s,na.EXIF=fs,na.Image=ms,na.Configurable=Ct,na.Log=fe,na.Loaders=qe,na.RenderType=a,na.ImageFormat=l,na.OptionType=c,na.RendererType=h,na.UniformType=u,na.Base64=ne,oa={},na.UI=oa,sa=na})),ya=b((()=>{ma(),ma()})),_a=b((()=>{aa="precision highp float;\n\nvarying vec2 v_texCoord;\nuniform sampler2D u_image;\n\nuniform float u_gamma;\nuniform float u_shadows;\nuniform float u_highlights;\nuniform float u_whites;\nuniform float u_blacks;\n\nuniform mat4 u_colorMatrix;\nuniform vec4 u_colorOffset;\n\nconst float EPSILON = 0.0000001;\n\nfloat calculateLuminance(vec3 rgb) {\n    // This is the luminance calculation part of the RGB to HSL formular.\n    vec4 p = mix(\n        vec4(rgb.gb, 0.0, -1.0 / 3.0),\n        vec4(rgb.bg, -1.0, 2.0 / 3.0),\n        vec4(rgb.g < rgb.b)\n    );\n\n    vec4 q = mix(\n        vec4(rgb.r, p.yzx),\n        vec4(p.xyw, rgb.r),\n        vec4(rgb.r < p.x)\n    );\n\n    float croma = q.x - min(q.w, q.y);\n    float luminance = q.x - croma * 0.5;\n    return luminance;\n}\n\nvec3 map(vec3 x, float in_min, float in_max, float out_min, float out_max){\n  return (x - in_min) * (out_max - out_min) / (in_max - in_min) + out_min;\n}\n\nvoid main() {\n\n  vec4 color = clamp(texture2D(u_image, v_texCoord), 0.0, 1.0);\n  color.rgb /= max(color.a, EPSILON); // Revert premultiplied alpha\n\n  // Apply gamma\n  if (u_gamma != 1.0) {\n    color.rgb = pow(color.rgb, vec3(1.0 / max(u_gamma, EPSILON)));\n  }\n\n  // Apply shadows and highlights\n  float luminance = calculateLuminance(color.rgb);\n\n  float shadow = u_shadows >= 0.0\n    ? clamp(\n          pow(luminance, 1.0 / (u_shadows + 1.0))\n          + pow(luminance, 2.0 / (u_shadows + 1.0)) * -0.76\n          - luminance\n    , 0.0, max(u_shadows, 1.0))\n    : -clamp(\n          pow(luminance, 1.0 / (-u_shadows + 1.0))\n          + pow(luminance, 2.0 / (-u_shadows + 1.0)) * -0.76\n          - luminance\n    , 0.0, max(-u_shadows, 1.0));\n\n  float highlight = u_highlights < 0.0\n    ? clamp(\n          1.0\n          - pow(1.0 - luminance, 1.0 / (1.0 - u_highlights))\n          - pow(1.0 - luminance, 2.0 / (1.0 - u_highlights)) * -0.8\n          - luminance\n     , -1.0, 0.0)\n    : -clamp(\n          1.0\n          - pow(1.0 - luminance, 1.0 / (1.0 + u_highlights))\n          - pow(1.0 - luminance, 2.0 / (1.0 + u_highlights)) * -0.8\n          - luminance\n     , -1.0, 0.0);\n\n  // Bright color need more contrast and dark color need more brightness.\n  // This is to keep saturatation because the color information of a dark colors is lost.\n  float shadowContrast   = shadow * luminance * luminance;\n  float shadowBrightness = shadow - shadowContrast;\n\n  float offset = luminance + shadowContrast + highlight;\n  color.rgb = clamp(offset * ((color.rgb + shadowBrightness) / max(luminance, EPSILON)), 0.0, 1.0);\n  \n  // Apply Color Matrix\n  color.rgb = clamp(color * u_colorMatrix + u_colorOffset, 0.0, 1.0).rgb;\n  color.rgb = map(color.rgb, 0.0, 1.0, u_blacks / 2.0, 1.0 + u_whites / 2.0);\n  color = clamp(color, 0.0, 1.0);\n  color.rgb *= color.a; // Reset premultiplied alpha\n\n  gl_FragColor = color;\n}\n"}));function va(e,t,i,r,n){return(e-t)*(n-r)/(i-t)+r}var ba,xa,wa,Sa,ka,Ca,Ta,Ea,Da,Ia,Ra,Fa,Aa,Oa,Ma,Pa,za,Ba,La,Ua,Na,Ha,ja,Wa,Va,Ga,qa,Xa,Ya,Qa,Ka,Za,Ja,$a,el,tl,il,rl,nl,ol,sl,al,ll,cl,ul,hl,dl,pl,fl,gl,ml,yl,_l,vl,bl,xl,wl,Sl,kl,Cl,Tl,El,Dl,Il,Rl,Fl,Al,Ol,Ml,Pl,zl,Bl,Ll,Ul,Nl,Hl,jl,Wl,Vl,Gl,ql,Xl,Yl,Ql,Kl,Zl,Jl,$l,ec,tc,ic,rc=b((()=>{ya(),_a(),({ColorMatrix:la}=Xo),ca=1e-7,ua=e=>(Math.max(e.r,e.g,e.b)+Math.min(e.r,e.g,e.b))/2,(ha=class extends $o.Filter{constructor(){super(),this._fragmentSource=aa}_applyCanvas(e,t,i){const r=t.getCanvas(),n=t.getContext(),o=i.getContext(),s=n.getImageData(0,0,r.width,r.height),{colorMatrix:a,gamma:l,shadows:c,highlights:u,whites:h,blacks:d}=this._options,p=1!==l,f=0!==c||0!==u;let g=new Ye(0,0,0,0);for(let m=0;m<r.width*r.height;m++){const e=4*m;if(g.r=s.data[e]/255,g.g=s.data[e+1]/255,g.b=s.data[e+2]/255,p&&(g.r=Math.pow(g.r,1/Math.max(l,ca)),g.g=Math.pow(g.g,1/Math.max(l,ca)),g.b=Math.pow(g.b,1/Math.max(l,ca))),f){const e=ua(g),t=c>=0?ae.clamp(Math.pow(e,1/(c+1))+-.76*Math.pow(e,2/(c+1))-e,0,Math.max(c,1)):-ae.clamp(Math.pow(e,1/(1-c))+-.76*Math.pow(e,2/(1-c))-e,0,Math.max(-c,1)),i=t*e*e,r=t-i,n=e+i+(u<0?ae.clamp(1-Math.pow(1-e,1/(1-u))- -.8*Math.pow(1-e,2/(1-u))-e,-1,0):-ae.clamp(1-Math.pow(1-e,1/(1+u))- -.8*Math.pow(1-e,2/(1+u))-e,-1,0));g.r=ae.clamp(n*((g.r+r)/Math.max(e,ca)),0,1),g.g=ae.clamp(n*((g.g+r)/Math.max(e,ca)),0,1),g.b=ae.clamp(n*((g.b+r)/Math.max(e,ca)),0,1)}g=a.apply(g).clamp(0,1),g.r=va(g.r,0,1,d/2,1+h/2),g.g=va(g.g,0,1,d/2,1+h/2),g.b=va(g.b,0,1,d/2,1+h/2),s.data[e]=255*g.r,s.data[e+1]=255*g.g,s.data[e+2]=255*g.b}o.putImageData(s,0,0)}}).prototype.availableOptions={gamma:{type:"number",default:1,uniformType:"f"},shadows:{type:"number",default:0,uniformType:"f"},highlights:{type:"number",default:1,uniformType:"f"},whites:{type:"number",default:0,uniformType:"f"},blacks:{type:"number",default:0,uniformType:"f"},colorMatrix:{type:"color-matrix",default:new la,uniformType:"mat4"},colorOffset:{type:"array",default:[],uniformType:"4f"}},da=ha})),nc=b((()=>{ba="precision mediump float;\n\n// Input Image with config WRAP_S and WRAP_T: CLAMP_TO_EDGE\nuniform sampler2D u_image;\n\n// Size of one pixel == vec2(1.0 / u_image.width, 1.0 / u_image.height)\nuniform vec2 u_pixelDimension;\n\n// Range (-1.0 - 1.0)\nuniform float u_clarity;\n\nvarying vec2 v_texCoord;\n\nuniform mat4 u_colorMatrix;\nuniform vec4 u_colorOffset;\n\nconst float EPSILON = 0.000001;\n\nvec4 unpremultiply(vec4 col) {\n    col.rgb /= max(col.a, EPSILON);\n    return col;\n}\n\nvoid main() {\n    vec4 color = texture2D(u_image, v_texCoord);\n    color = unpremultiply(color);\n\n    // L = Left, R = Right, C = Center, T = Top, B = Bottom\n    vec4 colLB = texture2D(u_image, v_texCoord + vec2(-u_pixelDimension.x, -u_pixelDimension.y));\n    vec4 colLC = texture2D(u_image, v_texCoord + vec2(-u_pixelDimension.x,                 0.0));\n    vec4 colLT = texture2D(u_image, v_texCoord + vec2(-u_pixelDimension.x,  u_pixelDimension.y));\n\n    vec4 colCL = texture2D(u_image, v_texCoord + vec2(                0.0, -u_pixelDimension.y));\n    vec4 colCR = texture2D(u_image, v_texCoord + vec2(                0.0,  u_pixelDimension.y));\n    \n    vec4 colRB = texture2D(u_image, v_texCoord + vec2( u_pixelDimension.x, -u_pixelDimension.y));\n    vec4 colRC = texture2D(u_image, v_texCoord + vec2( u_pixelDimension.x,                 0.0));\n    vec4 colRT = texture2D(u_image, v_texCoord + vec2( u_pixelDimension.x,  u_pixelDimension.y));\n\n    vec4 mergedColor = color;\n    mergedColor.rgb += unpremultiply(colLB).rgb + unpremultiply(colLC).rgb + unpremultiply(colLT).rgb;\n    mergedColor.rgb += unpremultiply(colCL).rgb + unpremultiply(colCR).rgb;\n    mergedColor.rgb += unpremultiply(colRB).rgb + unpremultiply(colRC).rgb + unpremultiply(colRT).rgb;\n\n    mergedColor /= 9.0;\n\n    float grayValue = clamp(color.r * 0.3 + color.g * 0.59 + color.b * 0.1, 0.111111, 0.999999);\n    // 1.0 and 0.0 result in white not black, therefore we clamp\n\n    // Here we create a function that will map values below 0.1 to 0. Values above 0.2 will be mapped to 1,\n    // and for values between 0.1 and 0.2 it will produce a gradient.\n    // The funtion is mirror at 0.5, meaning values between 0.8 and 0.9 will result in a decending gradient.\n    // And values above 0.9 will be mapped to 0.\n    float frequenceFactor = min(smoothstep(1.0 - grayValue, 0.0, 0.11), smoothstep(grayValue, 0.0, 0.11));\n\n    // here we apply the high pass filter. Its strength is determined by the uniform ,\n    // and the frequence factor. That means the only the mid tones are affected by this filter.\n    // Clarity input is ranging from -1 to 1. But we want to strengthen the effect.\n    // Therefore we see this little magic number '3.7'.\n    color.rgb = clamp(color + clamp((color - mergedColor) * u_clarity * 3.7 * frequenceFactor, 0.0, 10.0), 0.0, 1.0).rgb;\n\n    // apply exposure but only to the mid tones.\n    color.rgb = color.rgb * pow(2.0, u_clarity * 0.27 * frequenceFactor);\n\n    // apply contrast and desaturation matrix\n    color.rgb = clamp(color * u_colorMatrix + u_colorOffset, 0.0, 1.0).rgb;\n\n    color.rgb *= color.a; // Premultiply alpha\n\n    gl_FragColor = clamp(color, 0.0, 1.0);\n}\n"})),oc=b((()=>{ya(),nc(),({Vector2:xa,ColorMatrix:wa}=Xo),(Sa=class extends $o.Filter{constructor(){super(),this._fragmentSource=ba}_applyCanvas(e,t,i){const r=i.getContext(),n=t.getCanvas(),o=t.getContext(),{clarity:s}=this._options,{colorMatrix:a}=this._options,l=new Ye(this._options.colorOffset[0],this._options.colorOffset[1],this._options.colorOffset[2],this._options.colorOffset[3]),{width:c}=n,{height:u}=n,h=o.getImageData(0,0,c,u),d=r.createImageData(c,u);this.canvasShader(h,d,s,a,l),r.putImageData(d,0,0)}canvasShader(e,t,i,r,n){const o=(e,t,i)=>Math.min(Math.max(e,t),i),s=(e,t,i)=>{const r=o((i-e)/(t-e),0,1);return r*r*(3-2*r)},a=4*e.width,{length:l}=e.data,c=l-1,u=e.data,h=t.data,d=new Ye,p=2295,f=e=>u[e=(e=e<0?0:e)>c?c:e];for(let g=0;g<l;g+=4){let e=f(g+0),t=f(g+1),n=f(g+2),l=f(g+3);const c=(e+f(g-4-a+0)+f(g-4+0)+f(g-4+a+0)+f(g-a+0)+f(g+a+0)+f(g+4-a+0)+f(g+4+0)+f(g+4+a))/p,u=(t+f(g-4-a+1)+f(g-4+1)+f(g-4+a+1)+f(g-a+1)+f(g+a+1)+f(g+4-a+1)+f(g+4+1)+f(g+4+a+1))/p,m=(n+f(g-4-a+2)+f(g-4+2)+f(g-4+a+2)+f(g-a+2)+f(g+a+2)+f(g+4-a+2)+f(g+4+2)+f(g+4+a+2))/p,y=(l+f(g-4-a+3)+f(g-4+3)+f(g-4+a+3)+f(g-a+3)+f(g+a+3)+f(g+4-a+3)+f(g+4+3)+f(g+4+a+3))/p;e/=255,t/=255,n/=255,l/=255;const _=o(.3*e+.59*t+.1*n,.111111,.999999),v=Math.min(s(1-_,0,.11),s(_,0,.11)),b=3.7*i*v,x=Math.pow(2,.27*i*v),w=o(e+o((e-c)*b,0,10),0,1)*x,S=o(t+o((t-u)*b,0,10),0,1)*x,k=o(n+o((n-m)*b,0,10),0,1)*x,C=o(l+o((l-y)*b,0,10),0,1);d.set(w,S,k,C);const T=r.apply(d).clamp(0,1);h[g+0]=255*T.r,h[g+1]=255*T.g,h[g+2]=255*T.b,h[g+3]=255*T.a}}}).prototype.availableOptions={clarity:{type:"number",default:0,uniformType:"f"},pixelDimension:{type:"vector2",default:new xa(100,100),uniformType:"2f"},colorMatrix:{type:"color-matrix",default:new wa,uniformType:"mat4"},colorOffset:{type:"array",default:[],uniformType:"4f"}},ka=Sa})),sc=b((()=>{Ca="varying vec2 v_texCoord;\nuniform sampler2D u_image;\nuniform vec2 u_pixelDimension;\nuniform float u_sharpness;\n \nconst float EPSILON = 0.000001;\n \nvoid main() {\n    vec4 color = clamp(texture2D(u_image, v_texCoord), 0.0, 1.0);\n\n    float factor        = mix(0.2, -1.0, float(u_sharpness > 0.0));\n    vec4 sharpenedColor = mix(0.2,  5.0, float(u_sharpness > 0.0)) * color;\n \n    sharpenedColor += factor * clamp(texture2D(u_image, v_texCoord + u_pixelDimension * vec2(-1.0,  0.0)), 0.0, 1.0);\n    sharpenedColor += factor * clamp(texture2D(u_image, v_texCoord + u_pixelDimension * vec2( 0.0, -1.0)), 0.0, 1.0);\n    sharpenedColor += factor * clamp(texture2D(u_image, v_texCoord + u_pixelDimension * vec2( 0.0,  1.0)), 0.0, 1.0);\n    sharpenedColor += factor * clamp(texture2D(u_image, v_texCoord + u_pixelDimension * vec2( 1.0,  0.0)), 0.0, 1.0);\n \n    color.rgb /= max(color.a, EPSILON); // unpremultiply\n    sharpenedColor.rgb /= max(sharpenedColor.a, EPSILON); // unpremultiply\n \n    sharpenedColor = clamp(sharpenedColor, 0.0, 1.0);\n \n    color = clamp(mix(color, sharpenedColor, abs(u_sharpness)), 0.0, 1.0);\n      \n    gl_FragColor = vec4(color.rgb * color.a, color.a); // premultiply\n}"})),ac=b((()=>{ya(),sc(),({Vector2:Ta}=Xo),(Ea=class extends $o.Filter{constructor(){super(),this._fragmentSource=Ca}_applyCanvas(e,t,i){const r=i.getContext(),n=t.getCanvas(),o=t.getContext(),{sharpness:s}=this._options,{width:a}=n,{height:l}=n,c=o.getImageData(0,0,a,l),u=r.createImageData(a,l);this.canvasShader(c,u,s),r.putImageData(u,0,0)}canvasShader(e,t,i){const r=(e,t,i)=>Math.min(Math.max(e,t),i),{width:n}=e,{height:o}=e,s=e.data,a=t.data,l=(e,t,i)=>e*(1-i)+t*i,c=e=>r(s[e]/255,0,1),u=(e,t)=>{const i=r(e,0,n-1),s=r(t,0,o-1);return 4*(i+n*s)},h=[],d=[],p=[-1,0,0,1],f=[0,-1,1,0],g=i>0?-1:.2,m=i>0?5:.2,y=Math.abs(i);for(let _=0;_<n;_++)for(let e=0;e<o;e++){const t=u(_,e);h[0]=c(t+0),h[1]=c(t+1),h[2]=c(t+2),h[3]=c(t+3),d[0]=m*h[0]*h[3],d[1]=m*h[1]*h[3],d[2]=m*h[2]*h[3],d[3]=m*h[3];for(let i=0;i<4;i++){const t=u(_+p[i],e+f[i]),r=c(t+3);d[3]+=g*r;for(let e=0;e<3;e++)d[e]+=g*c(t+e)*r}for(let e=0;e<3;e++)d[e]/=Math.max(d[3],1e-6),d[e]=r(d[e],0,1);d[3]=r(d[3],0,1);for(let e=0;e<4;e++)h[e]=r(l(h[e],d[e],y),0,1),a[t+e]=255*h[e]}}}).prototype.availableOptions={sharpness:{type:"number",default:0,uniformType:"f"},pixelDimension:{type:"vector2",default:new Ta(100,100),uniformType:"2f"}},Da=Ea})),lc=b((()=>{Ia="precision mediump float;\n\n// Input Image with config WRAP_S and WRAP_T: CLAMP_TO_EDGE\nuniform sampler2D u_image;\n\n// Range (-1.0 - 1.0)\nuniform float u_temperature;\n\nconst lowp vec3 warmFilter = vec3(0.93, 0.54, 0.0);\n\nconst mediump mat3 RGBtoYIQ = mat3(0.299, 0.587, 0.114, 0.596, -0.274, -0.322, 0.212, -0.523, 0.311);\nconst mediump mat3 YIQtoRGB = mat3(1.0, 0.956, 0.621, 1.0, -0.272, -0.647, 1.0, -1.105, 1.702);\n\nconst float EPSILON = 0.0000001;\n\nvarying vec2 v_texCoord;\nvoid main() {\n  float temperature = u_temperature;\n  const float tint = 0.0;\n  vec4 source = texture2D(u_image, v_texCoord);\n\n  source.rgb /= max(source.a, EPSILON);   // Revert premultiplied alpha\n\n  vec3 yiq = RGBtoYIQ * source.rgb;\n  yiq.b = clamp(yiq.b + tint*0.5226*0.1, -0.5226, 0.5226);\n  vec3 rgb = YIQtoRGB * yiq;\n\n  vec3 processed = mix(\n    (1.0 - 2.0 * (1.0 - rgb) * (1.0 - warmFilter)),\n    (2.0 * rgb * warmFilter),\n    vec3(rgb.r < 0.5, rgb.g < 0.5, rgb.b < 0.5)\n  );\n\n  vec4 color = vec4(mix(rgb, processed, temperature), source.a);\n\n  color.rgb *= color.a;   // Premultiply alpha again\n\n  gl_FragColor = color;\n}\n"})),cc=b((()=>{ya(),lc(),({Vector3:Ra}=Xo),(Fa=class extends $o.Filter{constructor(){super(),this._fragmentSource=Ia}_applyCanvas(e,t,i){const r=i.getContext(),n=t.getCanvas(),o=t.getContext(),{temperature:s}=this._options,{width:a}=n,{height:l}=n,c=o.getImageData(0,0,a,l),u=r.createImageData(a,l);this.canvasShader(c,u,s),r.putImageData(u,0,0)}canvasShader(e,t,i){const r=(e,t,i)=>Math.min(Math.max(e,t),i),n=(e,t,i)=>e*(1-i)+t*i,o=(e,t)=>[e[0]*t[0]+e[3]*t[1]+e[6]*t[2],e[1]*t[0]+e[4]*t[1]+e[7]*t[2],e[2]*t[0]+e[5]*t[1]+e[8]*t[2]],{length:s}=e.data,a=s-1,l=e.data,c=t.data,u=e=>l[e=(e=e<0?0:e)>a?a:e],h=[.93,.54,0],d=[.299,.587,.114,.596,-.274,-.322,.212,-.523,.311],p=[1,.956,.621,1,-.272,-.647,1,-1.105,1.702];for(let f=0;f<s;f+=4){const e=u(f+0)/255,t=u(f+1)/255,s=u(f+2)/255,a=u(f+3)/255,l=o(d,[e,t,s]);l.z=r(l.z+0,-.5226,.5226);const g=o(p,l),m=[g[0]<.5?2*g[0]*h[0]:1-2*(1-g[0])*(1-h[0]),g[1]<.5?2*g[1]*h[1]:1-2*(1-g[1])*(1-h[1]),g[2]<.5?2*g[2]*h[2]:1-2*(1-g[2])*(1-h[2])];c[f+0]=255*n(g[0],m[0],i),c[f+1]=255*n(g[1],m[1],i),c[f+2]=255*n(g[2],m[2],i),c[f+3]=255*a}}}).prototype.availableOptions={temperature:{type:"number",default:0,uniformType:"f"}},Aa=Fa})),uc=b((()=>{ya(),rc(),oc(),ac(),cc(),({ColorMatrix:Oa}=Xo),(Ma=class extends ws{constructor(){super(...arguments),this._clarityFilter=new ka,this._temperatureFilter=new Aa,this._sharpnessFilter=new Da,this._filter=new da,this._sprite.setFilters([this._clarityFilter,this._temperatureFilter,this._filter])}_render(e){const t=e.getDimensions();t.x=1/t.x,t.y=1/t.y;const i=new Oa;i.multiply(Oa.createSaturationMatrix(-.3*this._options.clarity+1)),i.multiply(Oa.createContrastMatrix(.1*this._options.clarity+1)),this._clarityFilter.set({clarity:this._options.clarity,pixelDimension:t,colorMatrix:i,colorOffset:i.getOffsets()}),this._temperatureFilter.set({temperature:this._options.temperature}),this._sharpnessFilter.set({sharpness:this._options.sharpness,pixelDimension:t});const r=new Oa;r.multiply(Oa.createExposureMatrix(this._options.exposure)),r.multiply(Oa.createSaturationMatrix(this._options.saturation+1)),r.multiply(Oa.createContrastMatrix((this._options.contrast>0?2*this._options.contrast:this._options.contrast)+1)),r.multiply(Oa.createBrightnessMatrix(this._options.brightness)),this._filter.set({gamma:this._options.gamma,shadows:this._options.shadows,highlights:this._options.highlights,whites:this._options.whites,blacks:this._options.blacks,colorMatrix:r,colorOffset:r.getOffsets()});const n=[];return 0!==this._options.clarity&&n.push(this._clarityFilter),0!==this._options.sharpness&&n.push(this._sharpnessFilter),0!==this._options.temperature&&n.push(this._temperatureFilter),n.push(this._filter),this._sprite.setFilters(n),this._renderTexture.render(this._container),Promise.resolve()}dispose(){super.dispose(),this._filter.dispose(),this._clarityFilter.dispose(),this._temperatureFilter.dispose(),this._sharpnessFilter.dispose()}}).identifier="adjustments",Ma.prototype.availableOptions={brightness:{type:"number",default:0,minValue:-1,midValue:0,maxValue:1},saturation:{type:"number",default:0,minValue:-1,midValue:0,maxValue:1},contrast:{type:"number",default:0,minValue:-1,midValue:0,maxValue:1},gamma:{type:"number",default:1,minValue:.5,midValue:1,maxValue:2},exposure:{type:"number",default:0,minValue:-1,midValue:0,maxValue:1},shadows:{type:"number",default:0,minValue:-2,midValue:0,maxValue:2},highlights:{type:"number",default:0,minValue:-1,midValue:0,maxValue:1},clarity:{type:"number",default:0,minValue:-1,midValue:0,maxValue:1},whites:{type:"number",default:0,minValue:-1,midValue:0,maxValue:1},blacks:{type:"number",default:0,minValue:-1,midValue:0,maxValue:1},temperature:{type:"number",default:0,minValue:-1,midValue:0,maxValue:1},sharpness:{type:"number",default:0,minValue:-1,midValue:0,maxValue:1}},sa.Operations.AdjustmentsOperation=Ma,Pa=Ma})),hc=b((()=>{za="/*\n * Based on evanw's glfx.js tilt shift shader:\n * https://github.com/evanw/glfx.js/blob/master/src/filters/blur/tiltshift.js\n * @license\n */\n\nuniform sampler2D u_image;\nuniform float u_blurRadius;\nuniform vec2 u_delta;\nuniform vec2 u_texSize;\nvarying vec2 v_texCoord;\n\nfloat random(vec2 co)\n{\n    highp float a = 12.9898;\n    highp float b = 78.233;\n    highp float c = 43758.5453;\n    highp float dt = dot(co.xy,vec2(a,b));\n    highp float sn = mod(dt, 3.14);\n    return fract(sin(sn) * c);\n}\n\nvoid main() {\n    vec4 color = vec4(0.0);\n    float total = 0.0;\n\n    float offset = random(gl_FragCoord.xy / u_texSize.xy);\n    float radius = u_blurRadius;\n\n    const float steps = 30.0;\n\n    for (float t = -steps; t <= steps; t++) {\n        float percent = (t + offset - 0.5) / steps;\n        float weight = 1.0 - abs(percent);\n\n        // Somehow `sample` is a keyword in headless-gl\n        vec4 _sample = texture2D(u_image, v_texCoord + u_delta * percent * radius / u_texSize);\n\n        color += _sample * weight;\n        total += weight;\n    }\n\n    gl_FragColor = color / total;\n}\n"})),dc=b((()=>{ya(),hc(),({Vector2:Ba}=Xo),(La=class extends $o.Filter{constructor(){super(...arguments),this._fragmentSource=za,this._lastBlurRadius=null,this._lastDimensions=new Ba(0,0),this._blurredRenderTarget=new $o.CanvasRenderTarget(100,100,1)}_applyCanvas(e,t,i){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;if("low"===this._options.blurQuality)return void this._renderLQBlur(e,t,i,r);const o=t.getCanvas(),s=t.getContext(),a=i.getContext();this._lastBlurRadius===this._options.blurRadius&&a.drawImage(o,0,0);const l=s.getImageData(0,0,o.width,o.height),c=a.getImageData(0,0,o.width,o.height);let u=this._options.blurRadius;const{delta:h}=this._options;for(let d=0;d<o.width;d++)for(let e=0;e<o.height;e++){const t=4*(d+e*o.width);let i=0,r=0,s=0,a=0,p=0;n&&(u=n(d/o.width,e/o.height));const f=this._random(d,1-e/o.height);for(let n=-30;n<=30;n++){const t=(n+f-.5)/30,c=1-Math.abs(t),g=h.x*t*u,m=h.y*t*u,y=Math.max(Math.min(d+g,o.width-1),0),_=Math.max(Math.min(e+m,o.height-1),0),v=4*(Math.round(_)*o.width+Math.round(y)),b=l.data[v+3];i+=b*l.data[v]*c,r+=b*l.data[v+1]*c,s+=b*l.data[v+2]*c,a+=b*c,p+=c}i/=p,r/=p,s/=p,a/=p,c.data[t]=i/a,c.data[t+1]=r/a,c.data[t+2]=s/a,c.data[t+3]=a}a.putImageData(c,0,0),this._lastDimensions.copy(new Ba(o.width,o.height))}_renderLQBlur(e,t,i,r){const n=t.getDimensions(),o=!this._lastDimensions.equals(n);this._blurredRenderTarget.setPixelRatio(t.getPixelRatio()),this._blurredRenderTarget.resizeTo(t.getDimensions()),i.setPixelRatio(t.getPixelRatio()),i.resizeTo(t.getDimensions()),(this._lastBlurRadius!==this._options.blurRadius||o)&&(this._blurImage(t,this._blurredRenderTarget,this._options.blurRadius),this._lastBlurRadius=this._options.blurRadius);i.getContext().drawImage(this._blurredRenderTarget.getCanvas(),0,0),this._lastDimensions.copy(n)}_random(e,t){const i=12.9898*e+78.233*t,r=i-3.14*Math.floor(i/3.14),n=43758.5453*Math.sin(r);return n-Math.floor(n)}}).prototype.availableOptions={blurRadius:{type:"number",default:30,uniformType:"f"},delta:{type:"vector2",default:new Ba(1,1),uniformType:"2f"},texSize:{type:"vector2",default:new Ba(100,100),uniformType:"2f"},blurQuality:{type:"string",default:"low"}},Ua=La})),pc=b((()=>{ya(),dc(),({Vector2:Na}=Xo),(Ha=class extends ws{constructor(){super(...arguments),this._lastBlurRadius=this._options.blurRadius;const e={blurQuality:{type:"string"}};this._horizontalFilter=new Ua({},e),this._verticalFilter=new Ua({},e),this._sprite.setFilters([this._horizontalFilter,this._verticalFilter]),this._horizontalFilter.setDelta(new Na(.5,.5)),this._verticalFilter.setDelta(new Na(-.5,.5)),this._filter=new Ua({},e)}_renderWebGL(e){return this._renderBlur(e)}_renderCanvas(e){return this._options.highQualityCanvasBlur?this._renderBlur(e):this._renderLQCanvasBlur(e)}_renderBlur(e){const t=e.getDimensions(),i=t.min(),{blurRadius:r}=this._options,n={blurRadius:r*i,texSize:t,blurQuality:"high"};return this._horizontalFilter.set(n),this._verticalFilter.set(n),this._renderTexture.render(this._container),Promise.resolve()}_renderLQCanvasBlur(e){const{blurRadius:t}=this._options,i=e.getDimensions();return this._filter.set({blurRadius:t,texSize:i,blurQuality:"low"}),this._sprite.setFilters([this._filter]),this._renderTexture.render(this._container),Promise.resolve()}transform(e){const t=this.getBlurRadius(),i=e.applyToRelativeSize(t);this.set({blurRadius:i},!1)}dispose(){super.dispose(),this._filter.dispose(),this._verticalFilter.dispose(),this._horizontalFilter.dispose()}hasChanges(){return!0}}).identifier="blur",Ha.prototype.availableOptions={blurRadius:{type:"number",default:.025},highQualityCanvasBlur:{type:"boolean",default:!1}},sa.Operations.BlurOperation=Ha,ja=Ha})),fc=b((()=>{Wa="varying vec2 v_texCoord;\nuniform sampler2D u_image;\nuniform sampler2D u_filteredImage;\nuniform float u_intensity;\n\nvoid main() {\n  vec4 color0 = texture2D(u_image, v_texCoord);\n  vec4 color1 = texture2D(u_filteredImage, v_texCoord);\n  gl_FragColor = mix(color0, color1, u_intensity);\n}\n"})),gc=b((()=>{ya(),fc(),(Va=class extends $o.Filter{constructor(){super(),this._fragmentSource=Wa}_applyCanvas(e,t,i){const r=t.getCanvas(),n=i.getContext(),{filteredCanvas:o}=this._options;n.save(),n.drawImage(r,0,0),n.globalAlpha=this._options.intensity,n.drawImage(o,0,0),n.restore()}}).prototype.availableOptions={filteredImage:{type:"number",default:1,uniformType:"i"},filteredCanvas:{type:"object",default:null},intensity:{type:"number",default:1,uniformType:"f"}},Ga=class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this._intensity=e,this._stack=[],this._dirtiness={},this._renderTextures={},this._container=new $o.Container,this._sprite=new $o.Sprite,this._container.addChild(this._sprite),this._blendFilter=new Va}push(e){this._stack.push(e)}clear(){this._stack=[]}render(e,t,i){if(this.isEmpty())return Promise.resolve();const r=e.getRenderer();this._sprite.setTexture(t);let n=this._renderTextures[r.id];if(!n){const t=e.getSprite().getTexture().getFrame();n=new $o.RenderTexture(e.getRenderer(),t.width,t.height),this._renderTextures[r.id]=n}const o=i.getDimensions();n.resizeTo(o);const s=this.isDirtyForRenderer(r);if(s){this._stack.forEach((t=>{t.update(e)}));const t=this._stack.map((e=>e.getFilter()));this._sprite.setFilters(t),n.render(this._container),this.setDirtyForRenderer(!1,r)}if(this._blendFilter.setIntensity(this._intensity),r.isOfType("canvas"))this._blendFilter.setFilteredCanvas(n.getRenderTarget().getCanvas());else if(r.isOfType("webgl")){const e=n.getBaseTexture();e.setGLUnit(this._blendFilter.getFilteredImage()),r.updateTexture(e,!1)}return this._sprite.setFilters([this._blendFilter]),i.clear(Ye.TRANSPARENT),i.render(this._container),s&&this.disposeRenderTextures(),Promise.resolve()}setIntensity(e){this._intensity=e}isEmpty(){return 0===this._stack.length}isDirtyForRenderer(e){return e.id in this._dirtiness||(this._dirtiness[e.id]=!0),this._dirtiness[e.id]}setDirtyForRenderer(e,t){this._dirtiness[t.id]=e}setDirty(e){for(const t in this._dirtiness)this._dirtiness[t]=e}disposeRenderTextures(){for(const e in this._renderTextures)this._renderTextures[e].dispose(),delete this._renderTextures[e]}dispose(){this.disposeRenderTextures(),this._stack.forEach((e=>e.dispose())),this._stack=[],this._blendFilter.dispose(),this._sprite.dispose()}}})),mc=b((()=>{ya(),gc(),(qa=class extends Ct{constructor(){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{intensity:{type:"number",default:1,setter(e){return this._stack&&this._stack.setIntensity(e),e}},dirty:{type:"boolean",default:!0},...e}),this._stack=new Ga(this._options.intensity)}render(e,t,i){return this._stack.render(e,t,i).then((e=>(this.setDirty(!1),e)))}setDirtyForRenderer(e,t){this._stack.setDirtyForRenderer(e,t)}disposeRenderTextures(){this._stack.disposeRenderTextures()}dispose(){this._stack.dispose()}}).identifier=null,qa.isIdentity=!1,qa.displayName=null,qa.PrimitivesStack=Ga,Xa=qa})),yc=b((()=>{Ya="varying vec2 v_texCoord;\nuniform sampler2D u_image;\nuniform float u_brightness;\n\nvoid main() {\n  vec4 texColor = texture2D(u_image, v_texCoord);\n  gl_FragColor = vec4((texColor.rgb + vec3(u_brightness) * texColor.a), texColor.a);;\n}\n"})),_c=b((()=>{ya(),Qa=class extends Ct{update(){}getFilter(){return this._filter}dispose(){this._filter&&(this._filter.dispose(),this._filter=null)}}})),vc=b((()=>{ya(),yc(),_c(),(Ka=class extends $o.Filter{constructor(){super(),this._fragmentSource=Ya}_applyCanvas(e,t,i){const r=t.getCanvas(),n=t.getContext(),o=i.getContext(),s=n.getImageData(0,0,r.width,r.height);let{brightness:a}=this._options;if(0!==a){a*=255;for(let e=0;e<r.width*r.height;e++){const t=4*e;s.data[t]+=a,s.data[t+1]+=a,s.data[t+2]+=a}o.putImageData(s,0,0)}else o.putImageData(s,0,0)}}).prototype.availableOptions={brightness:{type:"number",default:0,uniformType:"f"}},(Za=class extends Qa{constructor(){super(...arguments),this._filter=new Ka}update(){this._filter.setBrightness(this._options.brightness)}}).prototype.availableOptions=Ka.prototype.availableOptions,Ja=Za})),bc=b((()=>{$a="varying vec2 v_texCoord;\nuniform sampler2D u_image;\nuniform float u_contrast;\n\nvoid main() {\n  vec4 texColor = texture2D(u_image, v_texCoord);\n  gl_FragColor = vec4(((texColor.rgb - vec3(0.5)) * u_contrast + vec3(0.5) * texColor.a), texColor.a);\n}\n"})),xc=b((()=>{ya(),bc(),_c(),(el=class extends $o.Filter{constructor(){super(),this._fragmentSource=$a}_applyCanvas(e,t,i){const r=t.getCanvas(),n=t.getContext(),o=i.getContext(),s=n.getImageData(0,0,r.width,r.height),{contrast:a}=this._options;if(1!==a){for(let e=0;e<r.width*r.height;e++){const t=4*e;s.data[t]=(s.data[t]-127)*a+127,s.data[t+1]=(s.data[t+1]-127)*a+127,s.data[t+2]=(s.data[t+2]-127)*a+127}o.putImageData(s,0,0)}}}).prototype.availableOptions={contrast:{type:"number",default:1,uniformType:"f"}},(tl=class extends Qa{constructor(){super(...arguments),this._filter=new el}update(){this._filter.setContrast(this._options.contrast)}}).prototype.availableOptions=el.prototype.availableOptions,il=tl})),wc=b((()=>{rl="varying vec2 v_texCoord;\nuniform sampler2D u_image;\nuniform mat4 u_colorMatrix;\nuniform vec4 u_colorMatrixOffset;\n\nvoid main() {\n  vec4 texColor = texture2D(u_image, v_texCoord);\n  gl_FragColor = texColor * u_colorMatrix + u_colorMatrixOffset;\n}\n"})),Sc=b((()=>{ya(),wc(),_c(),({ColorMatrix:nl}=Xo),(ol=class extends $o.Filter{constructor(){super(),this._fragmentSource=rl}_applyCanvas(e,t,i){const r=t.getCanvas(),n=t.getContext(),o=i.getContext(),s=n.getImageData(0,0,r.width,r.height),{colorMatrix:a}=this._options;let l=new Ye(0,0,0,0);for(let c=0;c<r.width*r.height;c++){const e=4*c;l.r=s.data[e]/255,l.g=s.data[e+1]/255,l.b=s.data[e+2]/255,l=a.apply(l),s.data[e]=255*l.r,s.data[e+1]=255*l.g,s.data[e+2]=255*l.b}o.putImageData(s,0,0)}}).prototype.availableOptions={colorMatrix:{type:"color-matrix",default:new nl,uniformType:"mat4"},colorMatrixOffset:{type:"array",default:[],uniformType:"4f"}},(sl=class extends Qa{constructor(){super(...arguments),this._filter=new ol}update(){this._filter.setColorMatrix(this._options.colorMatrix)}}).prototype.availableOptions=ol.prototype.availableOptions,al=sl})),kc=b((()=>{ll="varying vec2 v_texCoord;\nuniform sampler2D u_image;\nuniform float u_desaturation;\n\nvoid main() {\n  vec4 texColor = texture2D(u_image, v_texCoord);\n  vec3 grayXfer = vec3(0.3, 0.59, 0.11);\n  vec3 gray = vec3(dot(grayXfer, texColor.xyz));\n  gl_FragColor = vec4(mix(texColor.xyz, gray, u_desaturation) * texColor.a, texColor.a);\n}\n"})),Cc=b((()=>{ya(),kc(),_c(),(cl=class extends $o.Filter{constructor(){super(),this._fragmentSource=ll}_applyCanvas(e,t,i){const r=t.getCanvas(),n=t.getContext(),o=i.getContext(),s=n.getImageData(0,0,r.width,r.height),a=[.3,.59,.11],{desaturation:l}=this._options;for(let c=0;c<r.width*r.height;c++){const e=4*c,t=a[0]*s.data[e]/255+a[1]*s.data[e+1]/255+a[2]*s.data[e+2]/255;s.data[e]+=(255*t-s.data[e])*l,s.data[e+1]+=(255*t-s.data[e+1])*l,s.data[e+2]+=(255*t-s.data[e+2])*l}o.putImageData(s,0,0)}}).prototype.availableOptions={desaturation:{type:"number",default:1,uniformType:"f"}},(ul=class extends Qa{constructor(){super(...arguments),this._filter=new cl}update(){this._filter.setDesaturation(this._options.desaturation)}}).prototype.availableOptions=cl.prototype.availableOptions,hl=ul})),Tc=b((()=>{dl='precision highp float;\n\nuniform sampler2D u_image;\nuniform vec4 u_lightColor;\nuniform vec4 u_darkColor;\nuniform float u_intensity;\nvarying vec2 v_texCoord;\n\nconst float EPSILON = 0.0000001;\nconst vec3 GRAYSCALE_WEIGHTS = vec3(0.2126, 0.7152, 0.0722);\n\nvec4 duotoneKernel(vec4 sampledCol, vec4 light, vec4 dark, float intensity) {\n  vec4 color = clamp(sampledCol, 0.0, 1.0);\n  color.rgb /= max(color.a, EPSILON);\n  color = clamp(color, 0.0, 1.0); // necessary to get rid of all extended sRGB issues with OpenGL ES\n \n  // Apply intensity as "symmetric gamma"\n  if (intensity > 0.0) {\n    color.rgb = 1.0 - pow(1.0 - color.rgb, vec3(max(intensity + 1.0, EPSILON)));\n  } else {\n    color.rgb = pow(color.rgb, vec3(max(-intensity + 1.0, EPSILON)));\n  }\n \n  // Colorimetric (perceptual luminance-preserving) RGB to grayscale conversion\n  // https://en.wikipedia.org/wiki/Grayscale#Colorimetric_(perceptual_luminance-preserving)_conversion_to_grayscale\n  float luminance = dot(GRAYSCALE_WEIGHTS, color.rgb);\n \n  // Apply DuoTone\n  vec4 duotone = mix(dark, light, clamp(luminance, 0.0, 1.0));\n  duotone.a *= color.a;\n  \n  duotone.rgb *= duotone.a;\n\n  return duotone;\n}\n\nvoid main() {\n  vec4 texColor = texture2D(u_image, v_texCoord);\n  gl_FragColor = duotoneKernel(texColor, u_lightColor, u_darkColor, u_intensity);\n}'})),Ec=b((()=>{ya(),Tc(),_c(),(pl=class extends $o.Filter{constructor(){super(),this._fragmentSource=dl}_applyCanvas(e,t,i){const r=t.getCanvas(),n=t.getContext(),o=i.getContext(),s=n.getImageData(0,0,r.width,r.height),{lightColor:a,darkColor:l,intensity:c}=this._options;for(let u=0;u<r.width*r.height;u++){const e=4*u,t=s.data[e]/255,i=s.data[e+1]/255,r=s.data[e+2]/255,n=s.data[e+3]/255,o=new Ye(t,i,r,n),h=this._duoToneKernel(o,a,l,c);s.data[e]=255*h.r,s.data[e+1]=255*h.g,s.data[e+2]=255*h.b,s.data[e+3]=255*h.a}o.putImageData(s,0,0)}_duoToneKernel(e,t,i,r){if(e.clone().clamp(0,1),r>0){const t=Math.max(r+1,1e-7);e.r=1-Math.pow(1-e.r,t),e.g=1-Math.pow(1-e.g,t),e.b=1-Math.pow(1-e.b,t)}else{const t=Math.max(1-r,1e-7);e.r=Math.pow(e.r,t),e.g=Math.pow(e.g,t),e.b=Math.pow(e.b,t)}const n=.2126*e.r+.7152*e.g+.0722*e.b,o=Math.min(Math.max(n,0),1),s=i.clone().mix(t,o);return s.a*=e.a,s}}).prototype.availableOptions={lightColor:{type:"color",default:Ye.RED,uniformType:"4f"},darkColor:{type:"color",default:Ye.BLACK,uniformType:"4f"},intensity:{type:"number",default:.5,uniformType:"f"}},(fl=class extends Qa{constructor(){super(...arguments),this._filter=new pl}update(){this._filter.setLightColor(this._options.lightColor),this._filter.setDarkColor(this._options.darkColor);const e=2*this._options.intensity-1;this._filter.setIntensity(e)}}).prototype.availableOptions=pl.prototype.availableOptions,gl=fl})),Dc=b((()=>{ml="varying vec2 v_texCoord;\nuniform sampler2D u_image;\nuniform vec3 u_gamma;\n\nvoid main() {\n  vec4 texColor = texture2D(u_image, v_texCoord);\n  vec3 rgb = vec3(texColor.r, texColor.g, texColor.b);\n  rgb = pow(rgb, u_gamma);\n  gl_FragColor = vec4(rgb * texColor.a, texColor.a);;\n}\n"})),Ic=b((()=>{ya(),Dc(),_c(),(yl=class extends $o.Filter{constructor(){super(),this._fragmentSource=ml}_applyCanvas(e,t,i){const r=t.getCanvas(),n=t.getContext(),o=i.getContext(),s=n.getImageData(0,0,r.width,r.height),{gamma:a}=this._options,l=new Float32Array(256);for(let h=0;h<256;h++)l[h]=255*Math.pow(h/255,a.r);const c=new Float32Array(256);for(let h=0;h<256;h++)c[h]=255*Math.pow(h/255,a.g);const u=new Float32Array(256);for(let h=0;h<256;h++)u[h]=255*Math.pow(h/255,a.b);for(let h=0;h<r.width*r.height;h++){const e=4*h;s.data[e]=l[s.data[e]],s.data[e+1]=c[s.data[e+1]],s.data[e+2]=u[s.data[e+2]]}o.putImageData(s,0,0)}}).prototype.availableOptions={gamma:{type:"color",default:Ye.WHITE,uniformType:"3f"}},(_l=class extends Qa{constructor(){super(...arguments),this._filter=new yl}update(){this._filter.setGamma(this._options.gamma)}}).prototype.availableOptions=yl.prototype.availableOptions,vl=_l})),Rc=b((()=>{bl="varying vec2 v_texCoord;\nuniform sampler2D u_image;\n\nuniform vec3 u_color;\n\nvoid main() {\n  vec4 texColor = texture2D(u_image, v_texCoord);\n\n  vec2 textureCoord = v_texCoord - vec2(0.5, 0.5);\n  textureCoord /= 0.75;\n\n  float d = 1.0 - dot(textureCoord, textureCoord);\n  d = clamp(d, 0.2, 1.0);\n  vec3 newColor = texColor.rgb * d * u_color.rgb;\n  gl_FragColor = vec4(vec3(newColor) * texColor.a, texColor.a);\n}\n"})),Fc=b((()=>{ya(),Rc(),_c(),(xl=class extends $o.Filter{constructor(){super(),this._fragmentSource=bl}_applyCanvas(e,t,i){const r=t.getCanvas(),n=t.getContext(),o=i.getContext(),s=n.getImageData(0,0,r.width,r.height),{color:a}=this._options;let l;for(let c=0;c<r.width;c++)for(let e=0;e<r.height;e++){const t=4*(r.width*e+c),i=(c/r.width-.5)/.75,n=(e/r.height-.5)/.75;l=1-(i*i+n*n),l=Math.min(Math.max(l,.1),1),s.data[t]*=l*a.r,s.data[t+1]=s.data[t+1]*(l*a.g),s.data[t+2]=s.data[t+2]*(l*a.b),s.data[t+3]=255}o.putImageData(s,0,0)}}).prototype.availableOptions={color:{type:"color",default:Ye.WHITE,uniformType:"3f"}},(wl=class extends Qa{constructor(){super(...arguments),this._filter=new xl}update(){this._filter.setColor(this._options.color)}}).prototype.availableOptions=xl.prototype.availableOptions,Sl=wl})),Ac=b((()=>{kl="varying vec2 v_texCoord;\nuniform sampler2D u_image;\n\nvoid main() {\n  vec4 texColor = texture2D(u_image, v_texCoord);\n  texColor.b = texColor.g * 0.33;\n  texColor.r = texColor.r * 0.6;\n  texColor.b += texColor.r * 0.33;\n  texColor.g = texColor.g * 0.7;\n  gl_FragColor = texColor;\n}\n"})),Oc=b((()=>{ya(),Ac(),_c(),Cl=class extends $o.Filter{constructor(){super(),this._fragmentSource=kl}_applyCanvas(e,t,i){const r=t.getCanvas(),n=t.getContext(),o=i.getContext(),s=n.getImageData(0,0,r.width,r.height);for(let a=0;a<r.width;a++)for(let e=0;e<r.height;e++){const t=4*(r.width*e+a);s.data[t+2]=.33*s.data[t+1],s.data[t]*=.6,s.data[t+2]+=.33*s.data[t],s.data[t+1]=.7*s.data[t+1],s.data[t+3]=255}o.putImageData(s,0,0)}},Tl=class extends Qa{constructor(){super(...arguments),this._filter=new Cl}}})),Mc=b((()=>{El="varying vec2 v_texCoord;\nuniform sampler2D u_image;\nvec3 W = vec3(0.2125, 0.7154, 0.0721);\n\nvoid main() {\n  vec4 texColor = texture2D(u_image, v_texCoord);\n  float luminance = dot(texColor.rgb, W);\n  gl_FragColor = vec4(vec3(luminance) * texColor.a, texColor.a);\n}\n"})),Pc=b((()=>{ya(),Mc(),_c(),Dl=class extends $o.Filter{constructor(){super(),this._fragmentSource=El}_applyCanvas(e,t,i){const r=t.getCanvas(),n=t.getContext(),o=i.getContext(),s=n.getImageData(0,0,r.width,r.height);for(let a=0;a<r.width;a++)for(let e=0;e<r.height;e++){const t=4*(r.width*e+a),i=.2125*s.data[t]+.7154*s.data[t+1]+.0721*s.data[t+2];s.data[t]=i,s.data[t+1]=i,s.data[t+2]=i}o.putImageData(s,0,0)}},Il=class extends Qa{constructor(){super(...arguments),this._filter=new Dl}}})),zc=b((()=>{Rl="varying vec2 v_texCoord;\nuniform sampler2D u_image;\nuniform sampler2D u_lookupTable;\n\nvoid main() {\n  vec4 texColor = texture2D(u_image, v_texCoord);\n  float r = texture2D(u_lookupTable, vec2(texColor.r, 0.0)).r;\n  float g = texture2D(u_lookupTable, vec2(texColor.g, 0.0)).g;\n  float b = texture2D(u_lookupTable, vec2(texColor.b, 0.0)).b;\n\n  gl_FragColor = vec4(vec3(r, g, b) * texColor.a, texColor.a);\n}\n"})),Bc=b((()=>{ya(),zc(),_c(),(Fl=class extends $o.Filter{constructor(){super(...arguments),this._fragmentSource=Rl}_applyCanvas(e,t,i){const r=t.getCanvas(),n=t.getContext(),o=i.getContext(),s=n.getImageData(0,0,r.width,r.height),a=this._options.lookupTableData;for(let l=0;l<r.width*r.height;l++){const e=4*l,t=s.data[e];s.data[e]=a[4*t];const i=s.data[e+1];s.data[e+1]=a[1+4*i];const r=s.data[e+2];s.data[e+2]=a[2+4*r]}o.putImageData(s,0,0)}}).prototype.availableOptions={lookupTable:{type:"number",default:1,uniformType:"i"},lookupTableData:{type:"array",default:[]}},Al=class extends Qa{constructor(){super(...arguments),this._filter=new Fl({lookupTable:this._options.textureGLUnit}),this._textures={},this._renderers={}}update(e){const t=e.getRenderer();t.isOfType("webgl")?this._updateWebGLTexture(e):t.isOfType("canvas")&&this._filter.setLookupTableData(this._options.data)}_updateWebGLTexture(e){if("undefined"===typeof this._options.data)throw new Error("LookupTable: No data specified.");const t=new Uint8Array(this._options.data),i=e.getRenderer(),{id:r}=i;this._renderers[r]=i,this._textures[r]||(this._textures[r]=new $o.BaseTexture);const n=this._textures[r],o=new $o.PixelArrayImage(256,1,t);n.setSource(o),n.setGLUnit(this._options.textureGLUnit),i.isOfType("webgl")&&i.updateTexture(n)}dispose(){super.dispose();for(const e in this._textures)this._textures[e].dispose(),delete this._textures[e];delete this._options.data}}})),Lc=b((()=>{Ol="/**\n * Based off of GPUImage's LookupFilter:\n * https://github.com/BradLarson/GPUImage/blob/master/framework/Source/GPUImageLookupFilter.m\n */\n\nvarying vec2 v_texCoord;\nuniform sampler2D u_image;\nuniform sampler2D u_lookupTable;\n\nvoid main() {\n  vec4 texColor = texture2D(u_image, v_texCoord);\n  float blueColor = texColor.b * 63.0;\n\n  vec2 quad1;\n  quad1.y = floor(floor(blueColor) / 8.0);\n  quad1.x = floor(blueColor) - (quad1.y * 8.0);\n\n  vec2 quad2;\n  quad2.y = floor(ceil(blueColor) / 8.0);\n  quad2.x = ceil(blueColor) - (quad2.y * 8.0);\n\n  vec2 texCoord1;\n  texCoord1.x = (quad1.x * 0.125) + 0.5/512.0 + ((0.125 - 1.0/512.0) * texColor.r);\n  texCoord1.y = (quad1.y * 0.125) + 0.5/512.0 + ((0.125 - 1.0/512.0) * texColor.g);\n\n  vec2 texCoord2;\n  texCoord2.x = (quad2.x * 0.125) + 0.5/512.0 + ((0.125 - 1.0/512.0) * texColor.r);\n  texCoord2.y = (quad2.y * 0.125) + 0.5/512.0 + ((0.125 - 1.0/512.0) * texColor.g);\n\n  vec4 newColor1 = texture2D(u_lookupTable, texCoord1);\n  vec4 newColor2 = texture2D(u_lookupTable, texCoord2);\n\n  vec4 newColor = mix(newColor1, newColor2, fract(blueColor));\n  gl_FragColor = mix(texColor, vec4(newColor.rgb, texColor.w), texColor.a);\n}\n"})),Uc=b((()=>{ya(),Lc(),_c(),({Vector2:Ml}=Xo),(Pl=class extends $o.Filter{constructor(){super(),this._precomputeQuads(),this._fragmentSource=Ol}_precomputeQuads(){this._quads=[];for(let e=0;e<256;e++){const t=e/255*63,i=new Ml;i.y=.125*(0|t)|0,i.x=(0|t)-8*i.y,this._quads.push(i)}}_applyCanvas(e,t,i){const r=t.getCanvas(),n=t.getContext(),o=i.getContext(),s=this._options.lookupTableImage,a=this._createImageCanvas(s).getContext("2d"),l=n.getImageData(0,0,r.width,r.height),c=a.getImageData(0,0,s.width,s.height),u=new Ml;for(let h=0;h<r.width*r.height*4;h+=4){const e=l.data[h],t=l.data[h+1],i=l.data[h+2],r=l.data[h+3]/255,n=this._quads[i],o=64;u.x=n.x*o,u.y=n.y*o,u.x+=Math.floor(e/4),u.y+=Math.floor(t/4);const a=4*(s.width*u.y+u.x)|0;let d=c.data[a];d=e*(1-r)+d*r;let p=c.data[a+1];p=t*(1-r)+p*r;let f=c.data[a+2];f=i*(1-r)+f*r,l.data[h]=d,l.data[h+1]=p,l.data[h+2]=f}o.putImageData(l,0,0)}_createImageCanvas(e){const t=ae.createCanvas();t.width=e.width,t.height=e.height;return t.getContext("2d").drawImage(e,0,0),t}}).prototype.availableOptions={lookupTable:{type:"number",default:3,uniformType:"i"},lookupTableImage:{type:"image",uniformType:null}},(zl=class extends Qa{constructor(){super(...arguments),this._filter=new Pl,this._textures={}}update(e){const t=e.getRenderer();t.isOfType("webgl")?this._updateWebGLTexture(e):t.isOfType("canvas")&&this._filter.setLookupTableImage(this._options.image)}_updateWebGLTexture(e){const t=e.getRenderer(),{id:i}=t;this._textures[i]||(this._textures[i]=new $o.BaseTexture);const r=this._textures[i];r.setSource(this._options.image),r.setGLUnit(3),t.updateTexture(r)}dispose(){super.dispose();for(const e in this._textures)delete this._textures[e]}}).prototype.availableOptions={image:{type:"image"}},Bl=zl})),Nc=b((()=>{Ll="varying vec2 v_texCoord;\nuniform sampler2D u_image;\nuniform float u_saturation;\n\nconst vec3 luminanceWeighting = vec3(0.2125, 0.7154, 0.0721);\n\nvoid main() {\n  vec4 texColor = texture2D(u_image, v_texCoord);\n  float luminance = dot(texColor.rgb, luminanceWeighting);\n\n  vec3 greyScaleColor = vec3(luminance);\n\n  gl_FragColor = vec4(mix(greyScaleColor, texColor.rgb, u_saturation) * texColor.a, texColor.a);\n}\n"})),Hc=b((()=>{ya(),Nc(),_c(),(Ul=class extends $o.Filter{constructor(){super(),this._fragmentSource=Ll}_applyCanvas(e,t,i){const r=t.getCanvas(),n=t.getContext(),o=i.getContext(),s=n.getImageData(0,0,r.width,r.height),{saturation:a}=this._options;for(let l=0;l<r.width;l++)for(let e=0;e<r.height;e++){const t=4*(r.width*e+l),i=.2125*s.data[t]+.7154*s.data[t+1]+.0721*s.data[t+2];s.data[t]=i*(1-a)+s.data[t]*a,s.data[t+1]=i*(1-a)+s.data[t+1]*a,s.data[t+2]=i*(1-a)+s.data[t+2]*a}o.putImageData(s,0,0)}}).prototype.availableOptions={saturation:{type:"number",default:0,uniformType:"f"}},(Nl=class extends Qa{constructor(){super(...arguments),this._filter=new Ul}update(){this._filter.setSaturation(this._options.saturation)}}).prototype.availableOptions=Ul.prototype.availableOptions,Hl=Nl})),jc=b((()=>{jl="varying vec2 v_texCoord;\nuniform sampler2D u_image;\nuniform vec3 u_color;\n\nvoid main() {\n  vec4 texColor = texture2D(u_image, v_texCoord);\n  vec4 overlayVec4 = vec4(u_color, texColor.a);\n  gl_FragColor = max(overlayVec4 * texColor.a, texColor);\n}\n"})),Wc=b((()=>{ya(),jc(),_c(),(Wl=class extends $o.Filter{constructor(){super(),this._fragmentSource=jl}_applyCanvas(e,t,i){const r=t.getCanvas(),n=t.getContext(),o=i.getContext(),s=n.getImageData(0,0,r.width,r.height);for(let a=0;a<r.width;a++)for(let e=0;e<r.height;e++){const t=4*(r.width*e+a);s.data[t]=Math.max(255*this._options.color.r,s.data[t]),s.data[t+1]=Math.max(255*this._options.color.g,s.data[t+1]),s.data[t+2]=Math.max(255*this._options.color.b,s.data[t+2])}o.putImageData(s,0,0)}}).prototype.availableOptions={color:{type:"color",default:Ye.WHITE,uniformType:"3f"}},(Vl=class extends Qa{constructor(){super(...arguments),this._filter=new Wl}update(){this._filter.setColor(this._options.color)}}).prototype.availableOptions=Wl.prototype.availableOptions,Gl=Vl})),Vc=b((()=>{ya(),Bc(),(ql=class extends Al{constructor(){super(...arguments),this._options.rgbControlPoints||(this._options.rgbControlPoints={red:this._options.controlPoints,green:this._options.controlPoints,blue:this._options.controlPoints}),this._updateLookupTable()}_updateLookupTable(){const e=this._calculateSplineCurve(this._options.rgbControlPoints.red),t=this._calculateSplineCurve(this._options.rgbControlPoints.green),i=this._calculateSplineCurve(this._options.rgbControlPoints.blue);this._options.data=this._buildLookupTable(e,t,i)}_buildLookupTable(e,t,i){const r=[];for(let n=0;n<256;n++)r.push(Math.min(Math.max(n+e[n],0),255)),r.push(Math.min(Math.max(n+t[n],0),255)),r.push(Math.min(Math.max(n+i[n],0),255)),r.push(255);return r}_calculateSplineCurve(e){e=e.sort((function(e,t){return e[0]>t[0]}));const t=this._getSplineCurve(e),i=t[0];let r;if(i[0]>0)for(r=0;r<i[0];r++)t.unshift([0,0]);const n=[];for(r=0;r<t.length;r++){const e=t[r],i=[e[0],e[0]];let o=Math.sqrt(Math.pow(i[0]-e[0],2)+Math.pow(i[1]-e[1],2));i[1]>e[1]&&(o=-o),n.push(o)}return n}_getSplineCurve(e){const t=this._secondDerivative(e),i=t.length,r=[];let n;for(n=0;n<i;n++)r[n]=t[n];const o=[];for(n=0;n<i-1;n++){const t=e[n],i=e[n+1];for(let e=t[0];e<i[0];e++){const s=(e-t[0])/(i[0]-t[0]),a=1-s,l=s,c=i[0]-t[0];let u=a*t[1]+l*i[1]+c*c/6*((a*a*a-a)*r[n]+(l*l*l-l)*r[n+1]);u>255?u=255:u<0&&(u=0),o.push([e,u])}}return 255===o.length&&o.push(e[e.length-1]),o}_secondDerivative(e){const t=e.length;if(t<=0||1===t)return null;const i=[],r=[];let n,o;for(i[0]=[0,1,0],n=1;n<t-1;n++){const t=e[n-1],o=e[n],s=e[n+1];i[n]=i[n]||[],i[n][0]=(o[0]-t[0])/6,i[n][1]=(s[0]-t[0])/3,i[n][2]=(s[0]-o[0])/6,r[n]=(s[1]-o[1])/(s[0]-o[0])-(o[1]-t[1])/(o[0]-t[0])}for(r[0]=0,r[t-1]=0,i[t-1]=[0,1,0],n=1;n<t;n++)o=i[1][0]/i[n-1][1],i[n][1]-=o*i[n-1][2],i[n][0]=0,r[n]-=o*r[n-1];for(n=t-2;n>0;n--)o=i[n][2]/i[n+1][1],i[n][1]-=o*i[n+1][0],i[n][2]=0,r[n]-=o*r[n+1];const s=[];for(n=0;n<t;n++)s[n]=r[n]/i[n][1];return s}}).prototype.availableOptions={rgbControlPoints:{type:"object"},controlPoints:{type:"array",default:[]},textureGLUnit:{type:"number",default:1}},Xl=ql})),Gc=b((()=>{Yl="varying vec2 v_texCoord;\nuniform sampler2D u_image;\n\nvoid main() {\n  vec4 texColor = texture2D(u_image, v_texCoord);\n  float gray = texColor.r * 0.3 + texColor.g * 0.3 + texColor.b * 0.3;\n  gray -= 0.2;\n  gray = clamp(gray, 0.0, 1.0);\n  gray += 0.15;\n  gray *= 1.4;\n  gl_FragColor = vec4(vec3(gray) * texColor.a, texColor.a);\n}\n"})),qc=b((()=>{ya(),Gc(),_c(),Ql=class extends $o.Filter{constructor(){super(),this._fragmentSource=Yl}_applyCanvas(e,t,i){const r=t.getCanvas(),n=t.getContext(),o=i.getContext(),s=n.getImageData(0,0,r.width,r.height);for(let a=0;a<r.width;a++)for(let e=0;e<r.height;e++){const t=4*(r.width*e+a);let i=s.data[t]/255*.3+s.data[t+1]/255*.3+s.data[t+2]/255*.3;i-=.2,i=Math.max(0,Math.min(1,i)),i+=.15,i*=1.4,i*=255,s.data[t]=i,s.data[t+1]=i,s.data[t+2]=i}o.putImageData(s,0,0)}},Kl=class extends Qa{constructor(){super(...arguments),this._filter=new Ql}}})),Xc=b((()=>{Zl="precision highp float;\n\nuniform sampler2D u_image;\n\nuniform sampler2D u_lookupTable;\n\nuniform float u_resolution;     // Texture-Resolution, must be power of 2: 64, 128, 256, 512, 1024, 2048, 4096\nuniform float u_horizontalTileCount; // Horizontal Blue Tiles\nuniform float u_verticalTileCount; // Vertical Blue Tiles\n\nvarying vec2 v_texCoord;\n\nconst float EPSILON = 0.000001;\n\n// Try to get the exact pixel of the lut map image\nvec3 lutColor(int texPosX, int texPosY) {\n    return texture2D(u_lookupTable, (0.5 / u_resolution) + vec2(float(texPosX), float(texPosY)) / u_resolution).rgb;\n}\n\nvec3 bilinearInterpolate(vec3 cRfGf, vec3 cRfGc, vec3 cRcGf, vec3 cRcGc, float redFract, float greenFract) {\n    return mix(mix(cRfGf, cRcGf, redFract), mix(cRfGc, cRcGc, redFract), greenFract);\n}\n\nvoid main() {\n    vec4 inputColor = clamp(texture2D(u_image, v_texCoord.xy), 0.0, 1.0);\n\n    vec3 sourceColor = vec3(inputColor.rgb / max(inputColor.a, EPSILON)); \n\n    vec3 ranges = vec3(\n        floor(u_resolution / u_horizontalTileCount - 1.0),\n        floor(u_resolution / u_verticalTileCount - 1.0),\n        floor(u_horizontalTileCount * u_horizontalTileCount - 1.0)\n    );\n    \n    vec3 tmp = sourceColor * ranges;\n    ivec3 floors = ivec3(tmp);\n    ivec3 ceils = ivec3(ceil(tmp));\n    vec3 fracts = fract(tmp);\n\n    // Map tile index to tile pixel pos.\n    ivec2 pixelsPerTile = ivec2(\n        u_resolution / u_horizontalTileCount, \n        u_resolution / u_verticalTileCount\n      );\n\n    ivec2 tileFloor; // Blue tile index\n    tileFloor.y = floors.z / int(u_horizontalTileCount);\n    tileFloor.x = (floors.z - (tileFloor.y * int(u_horizontalTileCount)));\n\n    ivec2 tileCeil; // Blue tile index\n    tileCeil.y = ceils.z / int(u_horizontalTileCount);\n    tileCeil.x = (ceils.z - (tileCeil.y * int(u_horizontalTileCount)));\n    \n    tileFloor *= pixelsPerTile;\n    tileCeil *= pixelsPerTile; \n    \n    \n    // Interpolate between red and green\n    vec3 lutColorFB = bilinearInterpolate(\n        lutColor(tileFloor.x + floors.x, tileFloor.y + floors.y),\n        lutColor(tileFloor.x + floors.x, tileFloor.y + ceils.y),\n        lutColor(tileFloor.x + ceils.x,  tileFloor.y + floors.y),\n        lutColor(tileFloor.x + ceils.x,  tileFloor.y + ceils.y),\n        fracts.x, fracts.y\n    );\n    vec3 lutColorCB = bilinearInterpolate(\n        lutColor(tileCeil.x + floors.x, tileCeil.y + floors.y),\n        lutColor(tileCeil.x + floors.x, tileCeil.y + ceils.y),\n        lutColor(tileCeil.x + ceils.x,  tileCeil.y + floors.y),\n        lutColor(tileCeil.x + ceils.x,  tileCeil.y + ceils.y),\n        fracts.x, fracts.y\n    );\n\n    // Interpolate between the blue values\n    vec3 interpolation = mix(lutColorFB, lutColorCB, fracts.z);\n\n    // Round Color Values to prevent that for ex. 254.999999 is cutting to 254 instead of 255;\n    interpolation = clamp(floor(interpolation * 255. + .5) / 255., 0.0, 1.0);\n\n    gl_FragColor = vec4(interpolation.rgb * inputColor.a, inputColor.a);\n}\n"})),Yc=b((()=>{ya(),Xc(),_c(),({Vector2:Jl,Vector3:$l}=Xo),(ec=class extends $o.Filter{constructor(){super(),this._precomputeQuads(),this._fragmentSource=Zl}_precomputeQuads(){this._quads=[];for(let e=0;e<256;e++){const t=e/255*63,i=new Jl;i.y=.125*(0|t)|0,i.x=(0|t)-8*i.y,this._quads.push(i)}}_applyCanvas(e,t,i){const{resolution:r,horizontalTileCount:n,verticalTileCount:o}=this._options,s=t.getCanvas(),a=t.getContext(),l=i.getContext(),c=this._options.lookupTableImage,u=this._createImageCanvas(c).getContext("2d");let h={width:128,height:128};r?h={width:r,height:r}:c.width&&c.height&&(h={width:c.width,height:c.height});const d=a.getImageData(0,0,s.width,s.height),p=u.getImageData(0,0,h.width,h.height),f=new $l(h.width/n-1|0,h.height/o-1|0,n*o-1|0),g=new Ye,m=new Ye,y=new Ye,_=new Ye,v=new Ye,b=new Ye,x=new Ye,w=new Ye,S=new Jl,k=new Jl,C=(e,t,i,r)=>{e.r=t.r*(1-r)+i.r*r,e.g=t.g*(1-r)+i.g*r,e.b=t.b*(1-r)+i.b*r},T=(e,t,i)=>{t=.5+t|0;const r=4*((i=.5+i|0)*h.width+t);e.r=p.data[r]/255,e.g=p.data[r+1]/255,e.b=p.data[r+2]/255,e.a=p.data[r+3]/255},E=new Ye,D=new Ye,I=(e,t,i,r,n,o,s)=>{C(E,t,r,o),C(D,i,n,o),C(e,E,D,s)},R=new Jl(h.width,h.height).divide(n,o).floor();for(let F=0;F<s.width*s.height*4;F+=4){g.set(d.data[F]/255,d.data[F+1]/255,d.data[F+2]/255,d.data[F+3]/255);const e=new $l(g.r*f.x,g.g*f.y,g.b*f.z),t=e.clone().floor().toInt(),i=e.clone().ceil().toInt(),r=e.clone().fract();S.y=t.z/n|0,S.x=t.z-S.y*n|0,k.y=i.z/n|0,k.x=i.z-k.y*n|0,S.multiply(R),k.multiply(R),T(v,S.x+t.x,S.y+t.y),T(b,S.x+t.x,S.y+i.y),T(x,S.x+i.x,S.y+t.y),T(w,S.x+i.x,S.y+i.y),I(y,v,b,x,w,r.x,r.y),T(v,k.x+t.x,k.y+t.y),T(b,k.x+t.x,k.y+i.y),T(x,k.x+i.x,k.y+t.y),T(w,k.x+i.x,k.y+i.y),I(_,v,b,x,w,r.x,r.y),C(m,y,_,r.z),d.data[F]=Math.ceil(255*m.r),d.data[F+1]=Math.ceil(255*m.g),d.data[F+2]=Math.ceil(255*m.b)}l.putImageData(d,0,0)}_createImageCanvas(e){const t=ae.createCanvas();t.width=e.width,t.height=e.height;return t.getContext("2d").drawImage(e,0,0),t}}).prototype.availableOptions={lookupTable:{type:"number",default:3,uniformType:"i"},lookupTableImage:{type:"image",uniformType:null},resolution:{type:"number",uniformType:"f"},horizontalTileCount:{type:"number",default:5,uniformType:"f"},verticalTileCount:{type:"number",default:5,uniformType:"f"}},(tc=class extends Qa{constructor(){super(...arguments),this._filter=new ec,this._textures={}}update(e){const t=e.getRenderer();t.isOfType("webgl")?this._updateWebGLTexture(e):t.isOfType("canvas")&&this._filter.setLookupTableImage(this._options.image);const{resolution:i,verticalTileCount:r,horizontalTileCount:n,image:o}=this._options;this._filter.set({resolution:i||o.width,verticalTileCount:r,horizontalTileCount:n})}_updateWebGLTexture(e){const t=e.getRenderer(),{id:i}=t;this._textures[i]||(this._textures[i]=new $o.BaseTexture);const r=this._textures[i];r.setSource(this._options.image),r.setGLUnit(3),r.setMinFilter($o.BaseTexture.NearestFilter),t.updateTexture(r)}dispose(){super.dispose();for(const e in this._textures)delete this._textures[e]}}).prototype.availableOptions={image:{type:"image"},resolution:{type:"number"},horizontalTileCount:{type:"number",default:5},verticalTileCount:{type:"number",default:5}},ic=tc})),Qc={};w(Qc,{Brightness:()=>Ja,ColorMatrixPrimitive:()=>al,Contrast:()=>il,Desaturation:()=>hl,DuoTone:()=>gl,Gamma:()=>vl,Glow:()=>Sl,Gobblin:()=>Tl,Grayscale:()=>Il,LookupTable:()=>Al,LookupTableImage:()=>Bl,Saturation:()=>Hl,SoftColorOverlay:()=>Gl,ThreeDLookupTableImage:()=>ic,ToneCurve:()=>Xl,X400:()=>Kl});var Kc,Zc,Jc,$c,eu,tu,iu,ru,nu,ou,su,au,lu,cu,uu,hu,du,pu,fu,gu,mu,yu,_u,vu,bu,xu,wu,Su,ku,Cu,Tu,Eu,Du,Iu,Ru,Fu,Au,Ou,Mu,Pu,zu,Bu,Lu,Uu,Nu,Hu,ju,Wu,Vu,Gu,qu,Xu,Yu,Qu,Ku,Zu,Ju,$u,eh,th,ih,rh,nh,oh,sh,ah,lh,ch=b((()=>{vc(),xc(),Sc(),Cc(),Ec(),Ic(),Fc(),Oc(),Pc(),Bc(),Uc(),Hc(),Wc(),Vc(),qc(),Yc()})),uh=b((()=>{mc(),ch(),(Kc=class extends Xa{constructor(){super(...arguments),this._stack.push(new Ja({brightness:0}))}render(e,t,i){return this._stack.isEmpty()&&this._stack.push(new Ja({brightness:0})),super.render(e,t,i)}}).isIdentity=!0,Kc.identifier="identity",Zc=Kc})),hh=b((()=>{mc(),ch(),(Jc=class extends Xa{constructor(){super(...arguments),this._stack.push(new il({contrast:.63})),this._stack.push(new Ja({brightness:.12})),this._stack.push(new Xl({rgbControlPoints:{red:[[0,38],[94,94],[148,142],[175,187],[255,255]],green:[[0,0],[77,53],[171,190],[255,255]],blue:[[0,10],[48,85],[174,228],[255,255]]}}))}}).identifier="a15",$c=Jc})),dh=b((()=>{mc(),ch(),(eu=class extends Xa{constructor(){super(...arguments),this._stack.push(new hl({desaturation:.5})),this._stack.push(new Xl({rgbControlPoints:{red:[[0,0],[170,170],[212,219],[234,242],[255,255]],green:[[0,0],[170,168],[234,231],[255,255]],blue:[[0,0],[170,170],[212,208],[255,255]]}}))}}).identifier="breeze",tu=eu})),ph=b((()=>{mc(),ch(),(iu=class extends Xa{constructor(){super(...arguments),this._stack.push(new Il)}}).identifier="bw",ru=iu})),fh=b((()=>{mc(),ch(),(nu=class extends Xa{constructor(){super(...arguments),this._stack.push(new Il),this._stack.push(new il({contrast:1.5}))}}).identifier="bwhard",ou=nu})),gh=b((()=>{mc(),ch(),(su=class extends Xa{constructor(){super(...arguments),this._stack.push(new Xl({rgbControlPoints:{red:[[0,69],[55,110],[202,230],[255,255]],green:[[0,44],[89,93],[185,141],[255,189]],blue:[[0,76],[39,82],[218,138],[255,171]]}}))}}).identifier="celsius",au=su})),mh=b((()=>{mc(),ch(),(lu=class extends Xa{constructor(){super(...arguments),this._stack.push(new Xl({rgbControlPoints:{red:[[0,0],[44,44],[124,143],[221,204],[255,255]],green:[[0,0],[130,127],[213,199],[255,255]],blue:[[0,0],[51,52],[219,204],[255,255]]}}))}}).identifier="chest",cu=lu})),yh=b((()=>{ya(),mc(),ch(),(uu=class extends Xa{constructor(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];super(...t,{intensity:{type:"number",default:.5,required:!0,setter(e){return this._filterPrimitive&&(this._filterPrimitive.setIntensity(e),this._stack.setIntensity(1)),this._dirty=!0,e}}}),this._filterPrimitive=new gl({lightColor:this._options.lightColor||Ye.WHITE,darkColor:this._options.darkColor||Ye.BLACK,intensity:this._options.intensity||.5}),this._stack.push(this._filterPrimitive)}}).prototype.availableOptions={lightColor:{type:"color",default:Ye.WHITE,required:!0,setter(e){return this._filterPrimitive&&this._filterPrimitive.setLightColor(e),this.setDirty&&this.setDirty(!0),e}},darkColor:{type:"color",default:Ye.BLACK,required:!0,setter(e){return this._filterPrimitive&&this._filterPrimitive.setDarkColor(e),this.setDirty&&this.setDirty(!0),e}},intensity:{type:"number",default:.5,required:!0}},uu.identifier="duotone",hu=uu})),_h=b((()=>{mc(),ch(),(du=class extends Xa{constructor(){super(...arguments),this._stack.push(new Xl({rgbControlPoints:{red:[[0,0],[44,28],[63,48],[128,132],[235,248],[255,255]],green:[[0,0],[20,10],[60,45],[190,209],[211,231],[255,255]],blue:[[0,31],[41,62],[150,142],[234,212],[255,224]]}}))}}).identifier="fixie",pu=du})),vh=b((()=>{mc(),ch(),(fu=class extends Xa{constructor(){super(...arguments),this._stack.push(new Hl({saturation:1.35})),this._stack.push(new il({contrast:1.1}))}}).identifier="food",gu=fu})),bh=b((()=>{mc(),ch(),(mu=class extends Xa{constructor(){super(...arguments),this._stack.push(new Xl({rgbControlPoints:{red:[[0,9],[21,11],[45,24],[255,220]],green:[[0,12],[21,21],[42,42],[150,150],[170,173],[255,210]],blue:[[0,28],[43,72],[128,185],[255,220]]}}))}}).identifier="fridge",yu=mu})),xh=b((()=>{mc(),ch(),(_u=class extends Xa{constructor(){super(...arguments),this._stack.push(new Xl({rgbControlPoints:{red:[[0,65],[28,67],[67,113],[125,183],[187,217],[255,229]],green:[[0,52],[42,59],[104,134],[169,209],[255,240]],blue:[[0,52],[65,68],[93,104],[150,153],[255,198]]}}))}}).identifier="front",vu=_u})),wh=b((()=>{mc(),ch(),(bu=class extends Xa{constructor(){super(...arguments),this._stack.push(new il({contrast:1.1})),this._stack.push(new Xl({rgbControlPoints:{red:[[0,0],[94,74],[181,205],[255,255]],green:[[0,0],[127,127],[255,255]],blue:[[0,0],[102,73],[227,213],[255,255]]}}))}}).identifier="glam",xu=bu})),Sh=b((()=>{mc(),ch(),(wu=class extends Xa{constructor(){super(...arguments),this._stack.push(new Tl)}}).identifier="gobblin",Su=wu})),kh=b((()=>{mc(),ch(),(ku=class extends Xa{constructor(){super(...arguments),this._stack.push(new Xl({controlPoints:[[0,0],[53,32],[91,80],[176,205],[255,255]]})),this._stack.push(new Hl({saturation:.9}))}}).identifier="k1",Cu=ku})),Ch=b((()=>{ya(),mc(),ch(),(Tu=class extends Xa{constructor(){super(...arguments),this._stack.push(new Xl({controlPoints:[[0,0],[54,33],[77,82],[94,103],[122,126],[177,193],[229,232],[255,255]]})),this._stack.push(new Gl({color:new Ye(40/255,40/255,40/255)}))}}).identifier="k2",Eu=Tu})),Th=b((()=>{mc(),ch(),(Du=class extends Xa{constructor(){super(...arguments),this._stack.push(new Hl({saturation:.5}))}}).identifier="k6",Iu=Du})),Eh=b((()=>{mc(),ch(),(Ru=class extends Xa{constructor(){super(...arguments),this._stack.push(new Xl({controlPoints:[[0,0],[17,27],[46,69],[90,112],[156,200],[203,243],[255,255]]})),this._stack.push(new Hl({saturation:.7}))}}).identifier="kdynamic",Fu=Ru})),Dh=b((()=>{mc(),ch(),(Au=class extends Xa{constructor(){super(...arguments),this._stack.push(new hl({desaturation:.4})),this._stack.push(new Xl({rgbControlPoints:{red:[[0,20],[40,20],[106,111],[129,153],[190,223],[255,255]],green:[[0,20],[40,20],[62,41],[106,108],[132,159],[203,237],[255,255]],blue:[[0,40],[40,40],[73,60],[133,160],[191,297],[203,237],[237,239],[255,255]]}}))}}).identifier="lenin",Ou=Au})),Ih=b((()=>{mc(),ch(),(Mu=class extends Xa{constructor(){super(...arguments),this._stack.push(new Xl({controlPoints:[[0,0],[87,20],[131,156],[183,205],[255,200]]}))}}).identifier="lomo",Pu=Mu})),Rh=b((()=>{mc(),ch(),(zu=class extends Xa{constructor(){super(...arguments),this._stack.push(new Xl({rgbControlPoints:{red:[[0,0],[41,84],[87,134],[255,255]],green:[[0,0],[255,216]],blue:[[0,0],[255,131]]}}))}}).identifier="mellow",Bu=zu})),Fh=b((()=>{ya(),mc(),ch(),({ColorMatrix:Lu}=Xo),(Uu=class extends Xa{constructor(){super(...arguments);const e=new Lu(.8158218291630716,0,0,0,-.01779810181190647,0,.8098360655737704,0,0,.0916393442622953,0,0,.4596336773932402,0,.12760574782432707,0,0,0,1,0);this._stack.push(new al({colorMatrix:e}));const t=new Ye(.8,.6,.9);this._stack.push(new vl({gamma:t}))}}).identifier="metal",Nu=Uu})),Ah=b((()=>{mc(),ch(),(Hu=class extends Xa{constructor(){super(...arguments),this._stack.push(new Xl({rgbControlPoints:{red:[[0,40],[255,230]],green:[[0,10],[255,225]],blue:[[0,20],[255,181]]}})),this._stack.push(new Sl)}}).identifier="morning",ju=Hu})),Oh=b((()=>{mc(),ch(),(Wu=class extends Xa{constructor(){super(...arguments),this._stack.push(new Xl({rgbControlPoints:{red:[[0,0],[115,130],[195,215],[255,255]],green:[[0,0],[148,153],[172,215],[255,255]],blue:[[0,46],[58,75],[178,205],[255,255]]},textureGLUnit:2})),this._stack.push(new Xl({controlPoints:[[0,0],[117,151],[189,217],[255,255]],textureGLUnit:3})),this._stack.push(new hl({desaturation:.65}))}}).identifier="orchid",Vu=Wu})),Mh=b((()=>{mc(),ch(),(Gu=class extends Xa{constructor(){super(...arguments),this._stack.push(new Xl({rgbControlPoints:{red:[[0,0],[94,74],[181,205],[255,255]],green:[[0,0],[34,34],[99,76],[176,190],[255,255]],blue:[[0,0],[102,73],[227,213],[255,255]]}})),this._stack.push(new Hl({saturation:.8})),this._stack.push(new il({contrast:1.5}))}}).identifier="pola",qu=Gu})),Ph=b((()=>{mc(),ch(),(Xu=class extends Xa{constructor(){super(...arguments),this._stack.push(new Xl({rgbControlPoints:{red:[[0,0],[56,18],[196,209],[255,255]],green:[[0,38],[71,84],[255,255]],blue:[[0,0],[131,133],[204,211],[255,255]]}})),this._stack.push(new Hl({saturation:.8})),this._stack.push(new il({contrast:1.5}))}}).identifier="pola669",Yu=Xu})),zh=b((()=>{mc(),ch(),(Qu=class extends Xa{constructor(){super(...arguments),this._stack.push(new hl({desaturation:.65})),this._stack.push(new Xl({rgbControlPoints:{red:[[0,50],[40,78],[118,170],[181,211],[255,255]],green:[[0,27],[28,45],[109,157],[157,195],[179,208],[206,212],[255,240]],blue:[[0,50],[12,55],[46,103],[103,162],[194,182],[241,201],[255,219]]}}))}}).identifier="quozi",Ku=Qu})),Bh=b((()=>{mc(),ch(),(Zu=class extends Xa{constructor(){super(...arguments),this._stack.push(new Xl({rgbControlPoints:{red:[[0,129],[75,153],[181,227],[255,255]],green:[[0,8],[111,85],[212,158],[255,226]],blue:[[0,5],[75,22],[193,90],[255,229]]}})),this._stack.push(new Sl)}}).identifier="semired",Ju=Zu})),Lh=b((()=>{mc(),ch(),($u=class extends Xa{constructor(){super(...arguments),this._stack.push(new Xl({rgbControlPoints:{red:[[0,0],[62,82],[141,154],[255,255]],green:[[0,39],[56,96],[192,176],[255,255]],blue:[[0,0],[174,99],[255,235]]},textureGLUnit:2})),this._stack.push(new Xl({controlPoints:[[0,0],[55,20],[158,191],[255,255]],textureGLUnit:3}))}}).identifier="sunny",eh=$u})),Uh=b((()=>{mc(),ch(),(th=class extends Xa{constructor(){super(...arguments),this._stack.push(new Xl({rgbControlPoints:{red:[[0,72],[89,99],[176,212],[255,237]],green:[[0,49],[255,192]],blue:[[0,72],[255,151]]}}))}}).identifier="texas",ih=th})),Nh=b((()=>{mc(),ch(),(rh=class extends Xa{constructor(){super(...arguments),this._stack.push(new Kl)}}).identifier="x400",nh=rh})),Hh=b((()=>{ya(),mc(),ch(),(oh=class extends Xa{constructor(){super(...arguments),this._lutPrimitive=new Bl({image:this._options.image}),this._stack.push(this._lutPrimitive)}}).prototype.availableOptions={image:{type:"image",required:!0,setter(e){return this._lutPrimitive&&this._lutPrimitive.setImage(e),this.setDirty(!0),e}}},oh.identifier="lut",sh=oh})),jh=b((()=>{ya(),mc(),ch(),(ah=class extends Xa{constructor(){super(...arguments);const{image:e,resolution:t,verticalTileCount:i,horizontalTileCount:r}=this._options;this._lutPrimitive=new ic({image:e,resolution:t,verticalTileCount:i,horizontalTileCount:r}),this._stack.push(this._lutPrimitive)}}).prototype.availableOptions={image:{type:"image",required:!0,setter(e){return this._lutPrimitive&&this._lutPrimitive.setImage(e),this.setDirty(!0),e}},resolution:{type:"number"},horizontalTileCount:{type:"number",default:5},verticalTileCount:{type:"number",default:5}},ah.identifier="3d-lut",lh=ah})),Wh={};w(Wh,{A15Filter:()=>$c,BWFilter:()=>ru,BWHardFilter:()=>ou,BreezeFilter:()=>tu,CelsiusFilter:()=>au,ChestFilter:()=>cu,DuoToneFilter:()=>hu,FixieFilter:()=>pu,FoodFilter:()=>gu,FridgeFilter:()=>yu,FrontFilter:()=>vu,GlamFilter:()=>xu,GobblinFilter:()=>Su,IdentityFilter:()=>Zc,K1Filter:()=>Cu,K2Filter:()=>Eu,K6Filter:()=>Iu,KDynamicFilter:()=>Fu,LUTFilter:()=>sh,LeninFilter:()=>Ou,LomoFilter:()=>Pu,MellowFilter:()=>Bu,MetalFilter:()=>Nu,MorningFilter:()=>ju,OrchidFilter:()=>Vu,Pola669Filter:()=>Yu,PolaFilter:()=>qu,QuoziFilter:()=>Ku,SemiredFilter:()=>Ju,SunnyFilter:()=>eh,TexasFilter:()=>ih,ThreeDLUTFilter:()=>lh,X400Filter:()=>nh});var Vh,Gh,qh,Xh,Yh,Qh,Kh,Zh,Jh,$h,ed,td,id,rd,nd,od,sd,ad,ld,cd,ud,hd,dd,pd,fd,gd,md,yd,_d,vd,bd,xd,wd,Sd,kd,Cd,Td,Ed,Dd,Id,Rd,Fd,Ad,Od,Md,Pd,zd,Bd,Ld,Ud,Nd,Hd,jd,Wd,Vd,Gd,qd,Xd,Yd,Qd,Kd,Zd,Jd,$d,ep,tp,ip,rp,np,op,sp,ap,lp,cp,up,hp,dp,pp,fp,gp,mp,yp,_p,vp,bp,xp,wp,Sp,kp,Cp,Tp,Ep,Dp,Ip,Rp,Fp,Ap,Op,Mp,Pp,zp,Bp,Lp,Up,Np,Hp,jp,Wp,Vp,Gp,qp,Xp,Yp,Qp,Kp,Zp,Jp,$p,ef,tf,rf,nf,of,sf,af,lf,cf,uf,hf,df,pf,ff,gf,mf,yf,_f,vf,bf,xf,wf,Sf,kf,Cf,Tf,Ef,Df,If,Rf,Ff,Af,Of,Mf,Pf,zf,Bf,Lf,Uf,Nf,Hf,jf,Wf,Vf,Gf,qf,Xf,Yf,Qf,Kf,Zf,Jf,$f,eg,tg,ig,rg,ng,og,sg,ag,lg,cg,ug,hg,dg,pg=b((()=>{uh(),hh(),dh(),ph(),fh(),gh(),mh(),yh(),_h(),vh(),bh(),xh(),wh(),Sh(),kh(),Ch(),Th(),Eh(),Dh(),Ih(),Rh(),Fh(),Ah(),Oh(),Mh(),Ph(),zh(),Bh(),Lh(),Uh(),Nh(),Hh(),jh()})),fg=b((()=>{ya(),pg(),mc(),uh(),ch(),(Vh=class extends ws{_render(e){return this._selectedFilter.render(this._sdk,e,this._renderTexture)}render(e){return this._selectedFilter.getDirty()&&this.setDirty(!0),this.getEnabled()?super.render(e):(this.setDirtyForRenderer(!1,this._sdk.getRenderer()),Promise.resolve(e))}setDirtyForRenderer(e,t){super.setDirtyForRenderer(e,t),this._selectedFilter.setDirtyForRenderer(e,t)}disposeRenderTextures(){super.disposeRenderTextures(),this._selectedFilter&&this._selectedFilter.disposeRenderTextures()}dispose(){super.dispose(),this._selectedFilter&&this._selectedFilter.dispose()}restoreSnapshot(e){const t={...e};if(delete t.filter,e.filter){const t=e.filter.constructor;"3d-lut"===t.identifier?this.setFilter(new t({image:e.filter.getImage(),resolution:e.filter.getResolution(),horizontalTileCount:e.filter.getHorizontalTileCount(),verticalTileCount:e.filter.getVerticalTileCount()})):"duotone"===t.identifier?this.setFilter(new t({lightColor:e.filter.getLightColor(),darkColor:e.filter.getDarkColor(),intensity:e.filter.getIntensity()})):this.setFilter(new t)}this.set(t)}resetToDefaultFilterIntensity(){const e=this._selectedFilter&&this._selectedFilter.availableOptions,t=e&&e.intensity.default;this.setIntensity(t||1)}}).identifier="filter",Vh.prototype.availableOptions={identifier:{type:"string",default:"identity"},intensity:{type:"number",default:1,setter(e){return this._selectedFilter&&this._selectedFilter.setIntensity(e),e}},filter:{type:"object",default:new Zc,setter(e){return this._selectedFilter&&(this._selectedFilter.dispose(),this._selectedFilter=null),this._selectedFilter=e,"undefined"!==typeof this._options.intensity&&this._selectedFilter.set({intensity:this._options.intensity}),e}}},Vh.FilterPrimitives=Qc,Vh.Filters=Wh,Vh.Filter=Xa,sa.Operations.FilterOperation=Vh,Gh=Vh})),gg=b((()=>{ya(),({Vector2:qh}=Xo),(Xh=class extends ws{constructor(){super(...arguments),this._flipContainer=new $o.Container}_render(e){const{outputResolution:t,flipHorizontally:i,flipVertically:r}=this._options;if(i||r){const t=e.getDimensions();this._flipRenderTexture?this._flipRenderTexture.resizeTo(t):(this._flipRenderTexture=new $o.RenderTexture(this._sdk.getRenderer(),t.x,t.y),this._flipSprite=new $o.Sprite(this._flipRenderTexture),this._flipContainer.addChild(this._flipSprite));const n=i?-1:1,o=r?-1:1;this._flipSprite.setScale(n,o),this._flipSprite.setPivot(0,0),this._flipSprite.setPosition(t.x*(1-n)*.5,t.y*(1-o)*.5),this._flipRenderTexture.clear(),this._flipRenderTexture.render(this._container),this._renderTexture.render(this._flipContainer)}else this._renderTexture.render(this._container);return Promise.resolve()}}).identifier="flip",Xh.prototype.availableOptions={flipHorizontally:{type:"boolean",default:!1},flipVertically:{type:"boolean",default:!1}},sa.Operations.FlipOperation=Xh,Yh=Xh})),mg=b((()=>{ya(),({Vector2:Qh}=Xo),(Kh=class extends ws{constructor(){super(...arguments),this._colorOverlayFilter=new $o.Filters.ColorOverlayFilter({color:this.getTintColor()}),this._frameContainer=new $o.Container,this._resetSprites(),this._options.frame&&this._createSpritesForFrame(this._options.frame)}_resetSprites(){this._spriteGroups={top:{},left:{},right:{},bottom:{}},this._sprites=[],this._repeatSprites={top:[],left:[],right:[],bottom:[]}}_createSpritesForFrame(e){if(!e)return this._disposeSprites();const{imageGroups:t,layoutMode:i}=e;this._layoutMode=i||"horizontal-inside",this._disposeSprites(),["top","left","right","bottom"].forEach((e=>{"undefined"!==typeof t[e]&&["start","mid","end"].forEach((i=>{if("undefined"===typeof t[e][i])return;let r=t[e][i];"image"in r&&(r=r.image);const n=$o.Texture.fromImage(r),o=new $o.Sprite(n);this._spriteGroups[e][i]=o,this._sprites.push(o),this._frameContainer.addChild(o)}))}))}_render(e){const t=this._renderTexture.getDimensions();return this._options.frame&&(this._colorOverlayFilter.setColor(this.getTintColor()),this._updateSprites(e)),this._frameRenderTexture?this._frameRenderTexture.resizeTo(t):(this._frameRenderTexture=new $o.RenderTexture(this._sdk.getRenderer(),t.x,t.y),this._frameSprite=new $o.Sprite(this._frameRenderTexture),this._container.addChild(this._frameSprite)),this._frameSprite.setAlpha(this._options.alpha),this._options.frame&&this._options.frame.tintable?this._frameSprite.setFilters([this._colorOverlayFilter]):this._frameSprite.setFilters([]),this._frameRenderTexture.clear(),this._frameRenderTexture.render(this._frameContainer),this._renderTexture.render(this._container),Promise.resolve()}_updateSprites(e){const t=e.getDimensions();this._frameWidth=Math.ceil(e.getDimensions().min()*this._options.scale),this._updateHorizontalSpriteGroup(e,"top",0),this._updateHorizontalSpriteGroup(e,"bottom",t.y-this._frameWidth),this._updateVerticalSpriteGroup(e,"left",0),this._updateVerticalSpriteGroup(e,"right",t.x-this._frameWidth)}_updateHorizontalSpriteGroup(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const r=e.getDimensions(),n="vertical-inside"===this._layoutMode,o=this._spriteGroups[t].start,s=this._spriteGroups[t].mid,a=this._spriteGroups[t].end;let l,c,u=0,h=0;if(o){l=o.getTexture().getDimensions(),c=l.y/l.x,u=Math.floor(this._frameWidth/c);const e=new Qh(0,i);e.x=n?this._frameWidth:0,o.setPosition(e),o.setHeight(this._frameWidth),o.setWidth(u)}if(a){l=a.getTexture().getDimensions(),c=l.y/l.x,h=Math.floor(this._frameWidth*c);const e=new Qh(r.x-h,i);e.x-=n?this._frameWidth:0,a.setPosition(e),a.setHeight(this._frameWidth),a.setWidth(h)}if(s){l=s.getTexture().getDimensions(),c=l.y/l.x;const e=new Qh(u,i);let o=r.x-u-h;if(n&&(e.x+=this._frameWidth,o-=2*this._frameWidth),s.setPosition(e),s.setWidth(o),s.setHeight(this._frameWidth),"repeat"===this._options.frame.imageGroups[t].mid.mode){const i=this._frameWidth/c,r=Math.ceil(o/i);let n=0;if(-1!==r){let i=Math.round(o/r);s.setWidth(i),n+=i,this._ensureRepeatSpritesExist(r-1,t,s);for(let s=0;s<r-1;s++){i=Math.round((o-n)/(r-s-1));const a=this._repeatSprites[t][s],l=e.clone().add(n,0).floor();a.setPosition(l),a.setWidth(i),a.setHeight(this._frameWidth),n+=i}}}}}_ensureRepeatSpritesExist(e,t,i){i.getTexture().setMaxListeners(e+1);const r=this._repeatSprites[t].length;if(e>r){const n=e-r;for(let e=0;e<n;e++){const e=new $o.Sprite(i.getTexture());this._repeatSprites[t].push(e),this._frameContainer.addChild(e),this._sprites.push(e)}}else if(e<r){this._repeatSprites[t].splice(e).forEach((e=>{const t=this._sprites.indexOf(e);-1!==t&&(this._sprites.splice(t,1),this._frameContainer.removeChild(e),e.dispose())}))}}_updateVerticalSpriteGroup(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const r=e.getDimensions(),n="horizontal-inside"===this._layoutMode,o=this._spriteGroups[t].start,s=this._spriteGroups[t].mid,a=this._spriteGroups[t].end;let l,c,u=0,h=0;if(o){l=o.getTexture().getDimensions(),c=l.y/l.x,u=Math.floor(this._frameWidth*c);const e=new Qh(i,0);e.y=n?this._frameWidth:0,o.setPosition(e),o.setWidth(this._frameWidth),o.setHeight(u)}if(a){l=a.getTexture().getDimensions(),c=l.y/l.x,h=Math.floor(this._frameWidth*c);const e=new Qh(i,r.y-h);e.y-=n?this._frameWidth:0,a.setPosition(e),a.setWidth(this._frameWidth),a.setHeight(h)}if(s){l=s.getTexture().getDimensions(),c=l.y/l.x;const e=new Qh(i,u);let o=r.y-u-h;if(n&&(e.y+=this._frameWidth,o-=2*this._frameWidth),s.setPosition(e),s.setHeight(o),s.setWidth(this._frameWidth),"repeat"===this._options.frame.imageGroups[t].mid.mode){const i=this._frameWidth*c,r=Math.ceil(o/i);let n=0;if(-1!==r){let i=Math.round(o/r);s.setHeight(i),n+=i,this._ensureRepeatSpritesExist(r-1,t,s);for(let s=0;s<r-1;s++){i=Math.round((o-n)/(r-s-1));const a=this._repeatSprites[t][s],l=e.clone().add(0,n).floor();a.setPosition(l),a.setHeight(i),a.setWidth(this._frameWidth),n+=i}}}}}_disposeSprites(){this._sprites.forEach((e=>{this._frameContainer.removeChild(e),e.getTexture().dispose(),e.dispose()})),this._resetSprites()}dispose(){super.dispose(),this._disposeSprites(),this._colorOverlayFilter&&this._colorOverlayFilter.dispose(),this._frameRenderTexture&&this._frameRenderTexture.dispose()}static validateFrame(e){if(!e)return;const{imageGroups:t,layoutMode:i}=e;if("string"!==typeof e.identifier)throw new Error("Frame needs a property `identifier` of type String.");if("object"!==typeof e.imageGroups)throw new Error("Frame needs a property `imageGroups` of type Object.");const r=e=>{const{start:i,end:r,mid:n}=t[e];if("undefined"!==typeof t[e]){if("object"!==typeof t[e])throw new Error("Frame: `imageGroups.".concat(e,"` needs to be of type Object."));if("undefined"!==typeof i&&!(i instanceof ms||"undefined"!==typeof HTMLImageElement&&i instanceof HTMLImageElement))throw new Error("Frame: `imageGroups.".concat(e,".start` needs to be of type Image."));if("undefined"!==typeof n&&!(i instanceof ms||"undefined"!==typeof HTMLImageElement&&i instanceof HTMLImageElement)&&"object"!==typeof n)throw new Error("Frame: `imageGroups.".concat(e,".mid` needs to be of type Image or Object."));if("undefined"!==typeof r&&!(r instanceof ms||"undefined"!==typeof HTMLImageElement&&r instanceof HTMLImageElement))throw new Error("Frame: `imageGroups.".concat(e,".end` needs to be of type Image."))}};if("undefined"!==typeof i&&-1===["vertical-inside","horizontal-inside"].indexOf(i))throw new Error("Frame: `layoutMode` must be one of vertical-inside, horizontal-inside");if("undefined"!==typeof tintable&&"boolean"!==typeof tintable)throw new Error("Frame: `tintable` needs to be of type Boolean.");r("top"),r("left"),r("right"),r("bottom")}}).identifier="frame",Kh.prototype.availableOptions={frame:{type:"object",validation:Kh.validateFrame,setter(e,t){return t||this._createSpritesForFrame(e),e},default:null},alpha:{type:"number",default:1},tintColor:{type:"color",default:new Ye(1,1,1,0)},scale:{type:"number",default:.1}},sa.Operations.FrameOperation=Kh,Zh=Kh})),yg=b((()=>{Jh="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIACAAAAADRE4smAAAsTElEQVR4Ae1d4bHjOM5ECAgBISgEZLDOwMrAysDMwMpAzkCTAUNQCAyBIfCr2ifI1DNh+c1tfTMg3b9udtZXC7tJdgMgCP8foJAUBIJx92eoEy5puAKkHH1jX0AchqoJcLwGlv1fDVAnyKtfQMoB1WLQKBBCyuCgVvQhvQGoF3RPb2Bs/AsgEDS6BqbGvwACaHsT+AV1AK/4W18AQy3gCxTAR2vAQxW4xHSD3/kC/qlI9NK7hqg6H8SLspiPv4C+kv0v6ouZQuUEEMfndUtcOQH6qJ9nR2sg1kD+FSdQ4GLS4MA82B+uZvJJRQXkFwT8uRp2VQl99xuGiOyTX4//+AuYqtj/BBGPiVITATjtEel4pdRFAJ/2uP08K9KBYXwPaT5OC9Vlg/kneQ0cUwHcQvz6F7BAXVuA/3GNsG8ofqBQmw3uUg7dCglcZQSgJHizvO1qy4OM3wPCH64BV1fnR8QfdkqAcWD86Q86KP9+o/EjGMfwrhVSpPPUWvy9YoMbsEIqAVrSgXBSCFC3FdK/sV+txc/Kv93OEpgrawiYfybsSWkIaMcK3SurB1P8Ufyk2OB2rNCoEKCV+BW2tGOFXG2N0RiUkkgZUfmumrFCfW0EgNOPKlxB6YtvQAcqRrix+BfFBjdjhVgnQL3xk+cyWwYQVG6FLjOs6PTjotaSCF5T8iUXJLSo3gqxT4kLPig6BKheB1/+/dvzEwGi/KParSDN+arAtMFTA/Gz3+8KTiF/tVZoaxx034zwwlAPvsc/7cifx+8U8tdqhfqwXxVihOMAgnp1sJA/lzu9Tv4KrRD7fFVki2VE+IuB3anvT0z/Y/x9KBRKexPkJ+77njv835YA3kvuaPm79z+6zDGtiP5Mv1sSObMv7gr8l5MfkMclCZaJf9sK0TUWd4U58N8b/NWnb5jo9+KPShM4EvzN4DGmPcL5p1ZIgVghhr8VNBZjuP4P8Rsr/fReGW72UyukIKDJeRYz/rQkoiAYHWkSTz+2QgrOVq657bG8xYAlHWBEQzcdf+OH43SAcPp7o3/N3un34zeS98Vbeonu51ZIYCHve/tPhvl4e+QXdP/JMB9KOkRN/42gJf0ni5eiNfILzjH9J4t3NLn/0QH737etzhj5Bdf0GhP9XlXMRt2Lwu+TX4/fUtH3+t+Jl0H/Co3+/hPmQomPjJQV8iu//9Hi5fk3rJAnU3VMnfyXeJzI8HbIL7i8vf+RT8m9a4WsFH3vzzFPzo3LM/mXlN6P3wT5NeXqJ+fmIP/9+0xJfHsJ2Cj69tqap/BE/lILG49z8CMXCGWl6Bu0Ne/2//19LDa942lalvlMZUKNaOBhA0Xw4578xZQQzvJT0y5+Qx0PFz1b2ZXThFxMoF0LVsh3IDCSALqjPg1QwEX6hC1Wp5DfxAqIp+MyiS/rx+m7FQps7l7j+E6O3Jf1Y8DdPxXy23IAsXunTHIqH6BD/k/lJDGlABaN/Epd5FpuBD5ZIL8gHJd8TkGr6VIoN8J6cc/Gwqf3aoRz+dMRBLNDm62c03s1wshlBe0en2GLQ84mhfyaTOQKZl7e9RWg1ggnVO4D/TJ+q5UV8mstLX0Fjz/E1wW/Uo/EoGb9gu1O5vhWgTzqBGAwAER9C3RKj4SqlIO5sacEpPNfJ38OBstHAIdJlwD/vDXk3wNYPQLwFmHO/6wE9rKwPWilv2DkcRNWy9esng45olr9PhuYbQ+JtQ3Qq4VdTSo6S+FvZ5pXNSC/1+NL2ZdkpuNXDjTI42f9BNPj90ohMRh42UyYqhRuemUJ6GJ3MLMC5ECDlAaFAPG9MnEoN9IFMvCymaxUhQCjniXL0ZeXiTPR8Qqi449nNnL5ik8oCqURDb1l7RQCeM0kRX2jGIKBxP8lJgHk8XdpB1eO32F8ofV49H6+oKWXfVIkpRkCi0sgcP/qpOhn7ye2sfmlBLmKobK8FbB0RATbo037qCazx9dL4L4WtXtrCS/dzcLuN4yvbcy4bmzRMgHQv0hmDOoSEB044pMaYMvsh10I/nUqE4fCRjFazfaWWNwdXF7tu8JGgXbHdwkBgvK3DgowvQFq15WGstWLeFw0DaYn14DEf/zwn1ozNoZRKWm8//Bfb3i0JZYJIPHHN24BX5NxDfjqzdrhjQkGFCxvgaFIgHRTVsd01DR5tj7OX0D7M0CXeLiYrvneiwSQ0h0fzoK4Ku0AhhBfpbTno1kQtNh+7HZQCOA1hRToVUnU2Z/jK2BtpsFVSaLZ1ECsEECPP02kNgQGsj/NXxBUkxDOek+UA2NAjQABdZPkXX/qR68PSrG8BjYM+t+G+XLq+zEqrDGFRSFAcppE0jGBRWAqI6JmE3WQ9Unu8BS/SwewpADZB3p/eNdNqXtbHXOHt3Q9ssHwvJ6X9CYCWah7BDq+AK1YoUO4v7/j5Xpgg+FZB1Os4/cXyRo6RQWqVnCs4fdnr031jBoBJH6u4vfvo+bks5KPL2d9vPXfP/frE2rFkCWmBCVR36djeAQ7Qx4HbXKRi0VVg0s6RBysdLwspKjA6FKCoqrrjZ9+eE97XBUn5IdyXMcMCJ2dmn8gpSDIIUH5dz2F4zlxpobcXpU1AF6p/45mh9yyks0tqMChT6DUfynYnHCqXuCasOiEmLXUxhBNDrnFosWJXdEG/wIPapf/EEwOeew0AbdQcQ08VQb4cFh6OMNfC3XC97lUDInAcNfiB3IFCsSRrOV5BYEKTsg/uV5/MC7cn420O+mH4JAnPlCLv/BcQvQXNFbvVhiQrQFwL9YK3UPKEUa2NOFBYQDv7JF7md1EdrMPIYRlujDaerNSV+5Z0AwYXia4u370SwghzGNPxjL9Snsb7u4vY1B0sFW4N6a8nnK+99YrvDr/leaeZdf3zjXEj1d+a9bt9fsa8HJwmn6+mafCAa8L4fu++uHtlzgvMS1lHagwIORrgBUrZAXkc/EejvP3w/7A72zHL2p9KEhh9SS857ZHt0I2Nr+9cuHjCk73Le0xWo4faM7Fi8SnY8anNaBbIRObn3bFWU8JbfFGoEL8wRT/47a2VSnsn05CzoTwgRUyUvSKqPW9h+fhlz4JYJAzwaYO7PPgOk0KB/d9H8QkiGDXCtFccHmFzMY+umu+QmASX2AvfmVqcYnRw/CNAVnEnS0rpBe9WOV/950BfRJALAoHYZOxtJcqhSP2307CMd/ubVohWf7H/Hffyts3SgJYI/UmdeC91KWqMLqLiiz4VSSTN8j/k6YDI+KeLXNGgKHUCBjPNtNeuhRm9SnIWBSOHu2lfXX+T2qNBNJUEA4zGU376lLY6z0O3TOZ4mCc/4Uit1MIEOX/TG93MPTEmS6FWWOAeL7BzstmgkGb51AocisMgE3uDAr5jZX/dSmMGgN+fSuReDJ3zUsw61ZQYUA2KNIL+U3Bvy+FtUeR445Mgc3zX81suCIBpJDEOvkrkcLajLDu8YE41ML/U0kf9CUCxE04LDr565DCYh2VxC/FEcEWKCqxKEVujs8E2HIeevD1SOHiPvgL7H4Dig9Si9xdeCZADzoqk8JlBkQQVMN/vchL4YkAE+ioTAorDOgq4n8ijRsLFBgAevW3Vil8XP21rwOVMAsMAL32V6UUVh74a4v/uRkG/U3LOqWwMCPqN32sTz0LKjduz6MOQc/7ViqFV3RRz/tWy//0/DAC6KhZCstJeFz3qq0kJhiVza8RKSwMsL//6SUxhf8Cp2x+DUhhAS0D1IGT4mtf9vs6ZfNrRQofo9KSmIrWpDA0wf/3+30blMI6Ki6JKfxvUwq/j6q6IxW0I4W7tvgfj940b0wK+w5qRFAHeTtlvGGbUjgw6KjUB0VlvF2DUjg6bJD/vbL5tSeFp5r5T/pkOK9sfo1JYc/N8l/Z/JqSwvHcMP/vyubXkBRmhHpx3B3JoKANHdgAlO5IDQ1JYQUf/rcmhQUf/rcqhVsAxWb5r0hhT9AU3NGzNm1J4cAN8l/J+zYohaOD9tD/DZvfnyUe/3n+I8Ifg//jmx/58Oel8B/N+/Z/cu/hP7z54e2Pdx5STOEEfwzs/2zn3f3PHv7zX9B5ODj80zJs+pPzY/nPZ2Ju0CrEifEn/laBsc0cHLYXv/IN9E3m4Pp43WViTtAY8Ba3aWON5aBlbvuMz/ETNIJrfFxG4awdA7GJ6LNHqfL4Ox8RWgCG3ZNU960d4xKnlkpwgTIrSHhrxw/E7DaK6KD5a2PklhLQoXsUJZfYkB9Y8iepxAr5NmryMq81PMSvU14eqBf37QsI9O2emkeoFnilx0Ocp7AdgxhaqUjy7WF9fP9gADexAK4xzY8dcKAHA06///KAwSc7ZQ/E/nEO+tpvIsmUJd52QL/NXcKv+MOp+txHSml57IH/iBgaVkZ4qt/6+G0HjCgMWAi4bvLnfn/Y9sARoM+e5lu4kfhlB2S4xM0O9tRKE27ETQUC3pMwAIdm4pcdcPZJMEETkNKnJMBvMQn+qTrvG1OcSF7rcPtGvFC/9cOrT2m5kGTAut3LJUvlhz/N35+gpWz06Ii01H74c5CDLit94sP29YFrJn9MgnMW/yC2r3p0Pr90MmzZzlCr7dMf645Z/Czjh6ov+n67f71I6fMuJ38D5J8uX0d+v/I+rDtggMohNic697Xgs9LnIJaoWuD2sJ4YgCmLP3z54KpB4FehIwWvTqzQ15dT+eE/SLCS650yK3iv/hoe+Yji+0T2sjBhAqxXAIjyjbj6PiHAmFnhE9du/f4N8+H7vPwP6YJ1VP3hL/HTVgeQ+CO1cfh3m+85i+hZrdDYgvL14vtWLzjRGn/1RV8vJn/1PYPPHtzoK099bQl+3l++li9gEPdfd+pLCL8kwfbizFz34S+hFudwTQSC6lNfJymBtTSD4ZYEAfP4fWil4yskgcvvX8dx/Yula2XulNuXAF1sYgOA8fvYPfF9dK99A5D4w2nO4xcrTN5zI1f9PIv4391+7MOI9ccfHK6kn9+4/VkhJYaFt6CPbz8i16J888O9EP8vRS8PUAl4waf+t+Xw9ieHiJUo3/Acv89aoEnRyxGrSX255/dIhk0HRYdKwuxWS9F3F3+/i39hvVTsqkl9RVL6/4DTiHrCrKsj7RUH0OLHF59yWE3qy3dPfkiWd/fiU1xH3nfCkh90x58yD17KGR6pg+gJsypsYU5jhAx3PX4RhvHfT3FXw0VXh/IFvDf6xT0WAF7R8JAT9+hz9f4p/tAdTQbqvOXZGLj7nS9xeIpx1oLbbMIlJmdV+fot/q9N/Vv8+gEvNgFvpnXgJQ6yBZwK8/5C8nx0TYa9yEeTh/9Z6n1TfJr3h8W0FxLhI/5oeEjc+ovLiJv5WfTwAOVvQGSyIJ6sKt8t/jcFbf81lvUs8RuWwXSXXzyvf+BhxiSk9HVNhvRP2VK+nBf7jz8ldyS6/FNosugr7L2r87aVT8k1GfmUtS+A/I6582O0Q3c7/pQwYFTkowWcQj5imzJPc+GDTwmmVT4tIiYMYc74fpL4py9ZwMfk37eLiZiwBIyZ9esyT8OKpxHJkGOQazIiJuyAokg39om3+C9Rv+zRxfV37/u7XBTL5WNAm/Nt8RrD5mlo1j2NNMdF11+CXJRaFPloJf5/A172I45id5j56cQ5B7ONUlLs4vBlfk+Zp5mV/f9pKNgAbPCRenfakh8hyineHwpaKYlmi4GA7clgvjjHWzhLklPcK88OKdURvy4Bb+uxIuwdpBTE/GdKwB/L4HwgbFwvRnr5lC31u9AWsZSzOP+DQKmOyP8Om3x0aGa8LaxVXr9nLms05svk5wt9i19uxpJ8ythN3yC716OcNWq1LR5nP55R/pVI24youB4GExrq94Z11+e0tfmwJ4B7isML4TtRPhAXZukXcnEwlfoSeDH/538NzgyAMXnWPxSuu6oBytGB0bMp6w8Sv/R90vzvH9Gh1iMu2lAG4kohBE3NxpYk1ipc+REOh6+Oz4KTpSVtWDBrlOu3wUhkavOLad3HNvN/jXrH55QyxO4R/1XCN1f09bxecxw3KS/aRp2MKBDbs2QjE60giFeTfYwkfhl1qc+EFwTxTp1fTYAZIEmT5+bn/N78zqT//hucVAAvsnnYwJbp+ueh5kni1zUsbbnyPmTxC5ylAZ9LbmM7Ocn5oJx1F4tLd8n8+DwZbsb5cN7kS1u677TJYD38WTKHYnsFg62WxyGzsZeNv/5lEgtlLE6W+SFTv79k8ANmQz6zfm+vkR+3Y4PyE5SAraW9HotXbOwqhxhkL3CofAGn/DqEX/8w2kp99WvRY0tjMWT85fJVT1688D/sOgdZrPDZ3E3fEcXGbk99fDl75b7DWVa9yxPBYbOCZGrMwcIy2DKsNlCGvKPiF3mVABFWeKmdREuN4FK+9ZSVAPOcL7LyqSDdkmOuiMJXGjywpc1PjrgxzwPozucqtT2UnXJHAHCewAzu+zy9S3uMimbK58B5UdKbifDO1kXvEXclcJi6+yvlG5LEL1bn4QjAGih71pe7VQpHpiDfjP61RQLOloBkfkwhT10PUv8BD8BBL9/KtoEwbicF4GIsfKV5fZPCTu9kRMkMSMmUHhVwNvqmLV5jOq2LG9IZAHsEBYMk/8XxTMyXYC3zozWvbxVd4sMJIbzSJ1z4tJ4lRvnPIT2sIKSIr56D4rTFP37PgxlE3ugRsnn3BZDb7YHJ56lCo6PxwiP6dP7iP5QzGBzWfDBmme/F/O+fp65G3Iq+xQUg3T6DeMUBurgvhhge+BN4lXLgFL8o9n5JaZLh8LP92VicZ3ul6KtVfRda9f64HhVdSAJPhvkfnZwJUd0nRfGNKXknR2UfzN8BH/eZ6+GstkmL4ospDXHd9Ogek1yFsQiSSrZc9iJVLQoD+pQiSfwAXe8ujGAXIoVfYsgz/D6lsd9kL/LF9WSc/x28GX+6/ssZHlTRY9cKvoTPTvoxpQBeoU1l/BcsW5p8wpiSsxu/fo/7JfjRJDz0KSWULJB5DBLIYfzrybeElDxYjl8J7o3LUotL6UsD93Cv5EkUeePmHbXopQUmAsxS9K0AXkzgYdZ4cFuZgGIlM+F5LQe+Fb8wgIFiPVOB6R0PtzoflyRp5ORT1uFVD1+In4Lsl4xQDbq3s8Y3EcQIyLXwH99Xiw5oEfnXGsT59dI/2Wj8uMiR0RrE+XRRJEOb8cM4QJPgrXY8c8vxtwtxfk3HP0G7wCgjENoExRQYWoaTJ1EaxeCgbaCBw98KPvjggw8++OCDDz744IMPPvjggw8++OCDDz744IMP8NZD22APDeMaU9sEIN9w+4k81dAu8CpjdxqAPoqpVcgYcmyY/A01oOlz+Klh8rdLAJqTgNokv+AXtAH9AT5ul/zN3kAKSdDiDaQh5QjQHkLK0TfH/+YJsKQcAzSGLuWIrd6/EbRnhCntAO1hVAZWt4KYchBA2yqoPSMcWifAqXECzClHB82hS40ZYTzrGqiNPAjvosSUY2kh7xsIHnAt2WCpe11VFRQaKPru3W7fFAGk7hVIUUGxhaJvyq/dc8rhWql7hbOigmonvyB0xUSAa6bulW5YVEFYPfkFcg4244Kk7iUIVFJBVD/5BQs9H4FTE0VfwbWggromyJ+fg0vK4Nso+u6kUFe/ERbyP+EmR2DlBOh8KiMwANXvgygkBYFgbMEGu6ThCqAQoI0vIA6DToAm1sBCoYWGAPLqF9CIDR40CoTQhhHuQ3oDUC/ont7A2PgXQCBodA1MjX8BBND2JvCrmrwHvvsFVGqD+aJUw17DV5P3vcHvfAH/VCR66V1DVJ0P4kVZzMdfQF9R3tfrjlBHqMfxedUS106APurn2dEaiBUVPU6gwMWkwdVU9wov14iCCsgvCPhzNTxWJfTdbxgiqqjo637uCKeqir4RD4hSGQE47RHpYKVURwBfKHf+cA10NdzyEMwHaaHqbDD/JK+BYyqAW4hf/wIWqGsL8D+uEfYtxK9/AaGqez5ihXS4yghA6RuGHzYKhLou++pWSF0Drq7Oj4g/7JQA48D40x900P/9FuNHMI7hXSukSOeptfh73QY3YIV0ArSiA+GkEKBuK6R/Y79ai5/1f7uRJTBX1hAw/0zYk94Q0IgVuldWD6b4o/hJt8GNWKFRJ0AT8etsacQKudoaozHoJZECov5dtWGF+toIAKcfVbiC3hDQhg7UjXAb8S+6DW7DCrFCgKrjJ89ltgwgqNwKXWZlXK4QoNaSiEyL8SUXJLSo3gqxT4kLPig6BKhcB8u0mPMTAaL8o9qtIM35qsC0wVMD8bPf7wpOIX+1VmhrHHTfjPDCFc4AFkw5+XfxO4X8tVqhPuxXhRjhOICgXh0s5M/lTq+Qv04rxD5fFdliGRH+YmB36vsT0/8Yfx8KhdLeBPmJ+77nDv+3JYD3kjta/u79jy5zTCuiP9PvlkTO7Iu7Av/l5AfkcUmCZeLftkJ0jcVdYQ789wZ/9YXZZr8Vf1SawJHgbwaPsTje7n0rpEKsEMPfChqLMVz/h/iNlX56rww3+6kVUhDQ5DyLGX9aElEQjI40iacfWyEFZ1OzTTcs+LMX0RSMaGm87c9/OE4HCKe/fbK/hun34zeS98Vbeonu51ZIYCHve/tPhvl4e+QXdP/JMB9KOkRN/42gJf0ni5eiNfILzjH9J4t3NLn/0QH737etzhj5Bdf0GhP9XlXMRt2Lwu+TX4/fUtH3+t+Jl0H/Co3+/hPmQomPjJQJ8uu//9Hi5fk3rJAnU3VMnfyXeJzI8HbIL7i8vf+RT8m9a4WsFH3vzzFPzo3LM/mXlN6I3xL5NeXqJ+fmIP/9+0xJfHsJ2Cj69tqap/BE/lILG49z8CMXCGWl6Bu0Ne/2//19LDa942lalvlMZUKNaOBhA0Xw4578xZQQzvsXoSR+Qx0PFz1b2ZXThFxMoF0LVsh3IDCSALqjPg1QwEX6hC1WZ4L8ygqIp+MyiS/rx+m7FQps7l7j+E6O3Jf1Y8DdPxXy23IAsXunTHIqH6BD/k/lJDGlABaN/Epd5FpuBD4J+S0gHJd8TkGr6VIoN8J6cc/Gwqf3aoRz+dMRBLNDm62c03s1wshlBe0en2GLQ84mjfyKTOQKZl7e9RWg1ggnVO4D/TJ+q5U18istLX0Fjz9EreCnP4E5qFm/YLuTOb5VII86ARgMAFHfAp3aI6Eo5WBu7CkB6fzXyZ+DwfIRwGHSJcA/bw359wBWjwC8RZjzP2uBvSpsD1rpLxh53ITV8jWrp0OOqFa/zwZm20NibQP0emFXkYrOUvjbmeZVDcjv9fhS9iWZ6fiVAw3y+Fk/wfT4vVJIDAZeNhOmKoWbXlsCqtgdzKwAOdAgpUEhQHyvTBzKjXSBDLxsJitVIcCoZ8ly9OVl4kx0vILo+OOZjVy+4hOKQmlEQ29ZO4UAXjNJUd8ohmAg8X+JSQB5/F3awZXjdxhfaD0evZ8vaOllnxRJaYbA4hII3L86KfrZ+4ltbH4pQa5iqCxvBSwdEcH2aNM+qsns8fUSuK9F7d5gwktxs7D7DeNrGzOuG1u0TAD0L5IZg7oERAeO+KQG2DL7YReCf53KxKGwUYxWs70lFncHl1f7rrBRoN3xXUKAoPytgwIMb4D6daWhbPUiHhdNg+nJNSDxHz/8p9aMjWFUShrvP/zXGx5tiWUCSPzxjVvA12RcA756tHh4Y4IBBctbYCgSIN2U1TEdNU2erY/zF9D+DNAlHi6ma773IgGkdMeHsyCuSjuAIcRXKe35aBYELbYfux0UAnhNIQV6VRJ19uf4ClibaXBVkmg2NRArBNDjTxOpDYGB7E/zFwTVJISz3hPlwBhQI0BA3SR515/60WuDUmyvgQ2D/rdhvpz6fowKa0xhUQiQnC6RNExgEZjKiKjbRA1kfZI7PMXv0gEsKUD2gd4f3nXT694mx9zhLV2PbDA8r+clvYlAFuoegY4vQCtW6BDu7+94uR7YYHjWwRTr+P1FsoZOVYGKFRxr+P3Za1M9o0YAiZ+r+P37qDj5vOTjy1kfb/33z/36hFoxZIkpQUnU9+kYHsHOkMdBm1zkYlHV4JIOEQcrHS8LKSowupSgqOp646cf3tMeV8UJ+aEc1zEDQmen5h9IKQhySFD+XU/heE6cqSG3V2UNgFfqv6PZIbesZHMLKnDoEyj1XwomJ5zqF7gmLDohZi21MUSTQ26xaHFiV7TBv8CD2uU/BJNDHjtNwC1UXANPlQE+HJYezvDXQp3wfS4VQyIw3LX4gVyBAnEka3leQaCCE/JPrtcfjAv3ZyPtTvohOOSJDyzErz2XEP0FbdW7FQbkawDci7VC95ByhJEtTXhQGMA7e+ReZjeR3exDCGGZLozW3qxUlHseNAOGlwnurh/9EkII89iTsUy/0t6Gu/vLGBQdbBXujSmvp5zvvfUKr85/pbln2fW9cw3x45XfmnV7/b4GvBycpp9v5qlwwOtC+L6vfnj7Jc5LTEtZByoMCPkaYMUKWQH5XLyH4/z9sD/wO9vxi1ofClJYPQnvue1RrJCZzW+vXPi4gtN9S3uMluMHmnPxIvHpmPFpDShWyMjmp15x1lNCW7wRqBB/MMX/uK1tVQr7p5OQMyF8YIWMFL0ian3v4Xn4pU8CGORMsKkD+zy4TpPCwX3fBzEJIti1QjQXXF4hs7GP7pqvEJjEFxiLX59aXGL0MHxjQBZxZ84KKUUvVvnffWdAnwQQi8JB2GQs7aVK4Yj9t5NwzLZ7o1ZIlv8x/9238vaNkgDWSL1JHXgvdakqjO6iIgt+FcnkDfL/pOnAiLhny5wRYCg1AsazzbSXLoVZfQoyFoWjR3tpX53/k1ojgTQVhMNMRtO+uhT2eo9D90ymOBjnf6HI7RQCRPk/09odTD1xpkth1hggnm+w87KZYNDmORSK3AoDYJM7g0J+Y+V/XQqjxoBf30oknsxd8xLMuhVUGJANivRCflPw70th7VHkuCNTYPP8VzMbrkgAKSSxQv56pLA2I6x7fCAOtfD/VNIHfYkAcRMOi0L+aqSwWEcl8UtxRLAFikosSpGb4zMBtpyHEnxVUri4D/4C5Ruw7IOUIncXngnQg4L6pHCZAREENfFfKfJSeCLABDoqk8IKA7qK+J9I48YCBQaAXv2tVQofV3/t60AlzAIDQK/9VSuF9Qf+GuF/boZBf9OyTikszIjaTR/7U8+Cyo3b86hD0PO+lUrhFV1U8r418z89P4wAOqqVwnISHte9KiyJCUZl82tECgsD7O9/eklM4b/AKZtfA1JYQMsAdeCk+NqX/b5O2fxakcIHqLckpqI1KQxN8P/9ft/mpLCOqktiCv/blMLvo6ruSAXtSOGuLf7HozfNG5PCvoMaEdRB3k4Zb9imFA4MCur1QVEZb9egFI4OG+R/r2x+7UnhqWb+kz4ZziubX2NS2HOz/Fc2v6akcDw3zP+7svk1JIUZoWocdEcyKGhABzYAvTtSQ0NSWMGH/61J4Q//Bc1J4YZAsU3+61LYEzQFd/SsTVtSOHCD/Ffyvg1K4eigPfTK5tcQuG3++9Y2P+Ur8Nwy/6ODhkExhRM0i7tsfu1icNgy/2eGD+zDMhAaByI0DPIB2kbfsgbDmxSiWwV7aURoErNy/aSxXNwErYKU6yetpeP5E3/bW4BvL+724le+gb7JQmwfr7ty3Kk99Ru7PBcdsDXlm2Z8jp+gBci77UNejnINpQSu2cukefydb8QPYNi9S3rfenIvcWqpDytQZgUJb+34gZhdSRYdNH9tjNxSF0LoHp1pS2zIDyz5u6RihXwbjZkytD88xK/Tn5+qFPftCwj0bViBR6gWeKXHa+ynsB2DGFppS+Pbw/r4/sEAbmIBXGOaHzvgQA8GnH7/+SmD77bLHoj94xz0tV9Hl1GbvO2Afhu+iV/xh1P1uY+U0vLYA/8RMTSsjPBUv/Xx2w4YURiwEHDd5M/9/rDtgSNAn73PvHAj8csOyHCJmx3sqZX204ibCgS8J2EADs3ELzvg7JNgaqv0KQnwW0yCf6rO+8YUJ5In29z+Nkao3/rh1ae0XEgyYN3u+bql8sOfZtnlJH7K5s+PSEvthz8HOeiy0ic+bF8fuGbyxyQ4Z/EP1ds+Qefzm8fDlu0MVds+QR/SAzGLn2UGZQstjxscwCKlz7uc/A2Qf7p8Hfn9yvuw7oABKofYnOjc14LPSp+DWKJqgdvrymIApiz+8OWDqwaBX4WOFLw6sUJfX07lh/8gwUqud8qs4L3668jkI4rvE9nLwoQJsF4BIMo3ovi+lQBjZoVPXLv1+zfMh+/z8j+kC9ZR9Ye/xE9bHUDij9TG4d9tvucsome1QmMLyteL71u94ERr/NUXfb2Y/NX3DD57da2vPPW1Jfh5P4FHvoChbvcvqS8h/JI2yLODc92Hv4RaHMY6EQiqT32dpATW0iCuWxIEzOP3oZWOr5AELh/CE8f1L5auleGjbl8CdLGJDQDG77OXxffRvfYNQOIPpzmPX6wwec+NXPXzLOJ/d/uxDyPWH39wuJJ+fuP2Z4WUGBbegj6+/Yhci/LND/dC/L8UvTxAJeAFn/rflsPbnxwiVqJ8w3P8PmuBJkUvR6wm9eWeH6UbNh0UHSoJs1stRd9d/P0u/oX1UrGrJvUVSen/A04j6gmzro60VxxAix9ffMphNakv3z35IVne3YtPcR153wlLftAdf8o8eClneKQOoifMqrCFOY0RMtz1+EUYxn8/xV0NF10dyhfw3ugX91gAeEXDQ07co8/V+6f4Q3c0Gajzlmdj4O53vsThKcZZC26zCZeYnFXl67f4vzb1b/HrB7zYBLyZ1oGXOMgWcCrM+wvJ89E1GfYiH00e/mep903xad4fFtNeSISP+KMoJbsTHmXEzfwseniA8jcgMlkQT1aV7xb/m4K2/5rNf5b4Dctgussvntc/8DBjElL6uiZD+qdsKV/Oi/3Hn5I7El3+KTRZ9BX23oXK9Oan5JqMfMraF0B+x9z5Mdqhux1/ShgwavLRAE4hf2eFMk9z4YNPCaZVPi0iJgxhzvh+kvinL1nAx+Tft4uJmLAEjJn16zJPw+JpFMmQY5BrMvbGRVMU6cY+8Rb/JeqXPbq4/u59f5eLYrl8DGhzvi1eY9g8Dc26p5HmuOj6S5CLUosmH43E/2/Ay37EUewOMz+dOOdgtlFKil0cvszvKfM0s7L/Pw0FG3L56DuwAXfakh8hyineHwpaKYlmi4GA7clgvjjHWzhLklPcK29PKtURvy4Bb+vFSuwdpBTE/GdKwB/L4HwgbFwvRnr5lC31u9AWsZSzOP+DQKmOyP8Om3x0aGa8LaxVXr9nLms05svk5wt9i19uxpJ8ythN3yC716OcNWq1LR5nP55R/pVI24youB4GExrq94Z11+e0tfmwJ4B7isML4TtRPhAXZukXcnEwlfoSeDH/538NzgyAMXnWPxSuu6oBytGB0bMp6w8Sv/R90vzvH9Gh1iMu2lAG4kohBE3NxpYk1ipc+REOh6+Oz4KTpSVtWDBrlOu3wUhkavOLad3HNvN/jXrH55QyxO4R/1XCN1f09bxecxw3KS/aRp2MKBDbs+QjE40giFeTfYwkfhl1qc+EFwTxTp1fTYAZIEmT5+bn/N78zqT//hucVAAvsnnYwJbp+ueh5kni1zUsbbnyPmTxC5ylAZ9LbmM7Ocn5oJx1F4tLd8n8+DwZbsb5cN7kS1u677TJYD38WTKHYnsFg62WxyGzsZeNv/5lEgtlLE6W+SFTv79k8ANmQz6zfm+vkR+3Y4PyE5SAraW9HotXbOwqhxhkL3CofAGn/DqEX/8w2kp99WvRY0tjMWT85fJVT1688D/sOgdZrPDZ3E3fEcXGbk99fDl75b7DWVa9yxPBYbOCZGrMwcIy2DKsNlCGvKPiF3mVABFWeKmdREuN4FK+9ZSVAPOcL7LyqSDdkmOuiMJXGjywpc1PjrgxzwPozucqtT2UnXJHAHCewAzu+zy9S3uMimbK58B5UdKbifDO1kXvEXclcJi6+yvlG5LEL1bn4QjAGih71pe7VQpHpiDfjP61RQLOl4BkfiwhT10PUv8BD8BBL9/KtoEwbicF4GIpfL15fZPCTu9kRMkMSMmUHhVwNvqmLV5jOq2LG9IZAHsEBYMk/8XxTMyXYCvzozevbxVd4sMJIbzSJ1z4tJ4lRvnPIT2sIKSIr56D4rTFP37PgxlE3ugRsnn3BZDb7YHJ56lCo6PxwiP6dP7iP5QzGBzWfDBmme/F/O+fp65G3Iq+xQUg3T6DeMUBurgrhlge+BN4lXLgFL8o9n5JaZLh8LP92VicZ3ul6KtVfRda9f64HhVdSAJPhvkfnZwJUd0nRfGNKXknR2UfzN8BH/eZ6+GstkmL4ospDXHd9Ogek1yFsQiSSrZc9iJVLQoD+pQiSfwAXe8ujGAXIoVfYsgz/D6lsd9kL/LF9WSc/x28GX+6/ssZHlTRY9cKvoTPTvoxpQBeoU1l/BcsW5p8wpiSMx2/co/7JfjRJDz0KSWULJB5DIeBSPzrybeElDyYjV8P7o3LUotL6UsD93Cv5EkUeePmHbXopQUmAsxS9K0AXkzgYdZ4cFuZgGIlM+F5LQe+Fb8wgIFiPVOB6R0PtzoflyRp5ORT1uFVD1+In4Lsl4xQDbq3s8Y3EcQIyLXwH99Xiw5oEfnXGsT59dI/2Wj8uMiR0RrE+XRRJEOb8cM4QJPgrXY8c8vxNwtxfm3HP0G7wCgjENoExRQYWoaTJ1EaxeCgbaC5w/+DDz744IMPPvjggw8++OCDDz744IMPDABvPbQN9tAwrjG1TQDyDdceZU53u8CrzFxoAPocjlYhM2ixXfK31H2gD2GmhsnfLgFoTgJqk/yCX9AMlNeXuF3yN9t+HpKgxfbzIeUI0B5CytE3x//mCbCkHAM0hi7liK02XwvaM8KUdoD2MCrTSltBTDkIoG0V1J4RDq0T4NQ4AeaUo4Pm0KXGjDCeFQ3UTB6Ed1FiyrG0kPcNBA+4lmyw1L2uqgoKLRR9d263b4oAUvcKpKig2ELRN+V3LjnlcK3UvcJZUUG1k18QumIiwDVT90o3LKogrJ78AjkHm3FBUvcSBCqpIKqf/IKFno/AqYmir+BaUEFdE+TPz8ElZfBtFH13Uqir3wgL+Z9wkyOwcgJ0PpURGID+qA/6P9HpZtdg1QgHAAAAAElFTkSuQmCC"})),_g=b((()=>{$h="uniform sampler2D u_image;\nuniform sampler2D u_watermarkTex;\n\nvarying vec2 v_texCoord;\n\n\nvoid main() {\n  vec4 color = texture2D(u_image, v_texCoord);\n  vec4 watermarkColor = texture2D(u_watermarkTex, v_texCoord);\n\n  if (watermarkColor.r > 0.8) {\n    gl_FragColor = mix(color, watermarkColor, 0.3);\n  } else {\n    gl_FragColor = color;\n  }\n}\n"})),vg=b((()=>{ya(),_g(),(ed=class extends $o.Filter{constructor(){super(...arguments),this._fragmentSource=$h}_applyWebGL(e,t,i){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const n=e.getContext(),{canvas:o}=n,s=this.getShaderForRenderer(e),a=t.getFrame(),l=this._watermarkCanvas;l&&a.width===l.width&&a.height===l.height||this._createWatermarkCanvas(a.width,a.height);const c=$o.Texture.fromCanvas(this._watermarkCanvas),u=c.getBaseTexture();e.updateTexture(u),u.setGLUnit(1),e.setRenderTarget(i),r&&i.clear(),e.setShader(s);const h=e.getCurrentRenderTarget().getProjectionMatrix().toArray();s.setUniform("u_projMatrix",h),s.syncUniforms(),n.uniform1i(n.getUniformLocation(s.getProgram(),"u_watermarkTex"),1),n.activeTexture(n.TEXTURE0),n.bindTexture(n.TEXTURE_2D,t.getTexture()),n.activeTexture(n.TEXTURE1),n.bindTexture(n.TEXTURE_2D,u.getGLTextureForRenderer(e)),n.drawElements(n.TRIANGLES,6,n.UNSIGNED_SHORT,0),c.dispose()}_createWatermarkCanvas(e,t){const i=this._options.watermarkImage,r=ae.createCanvas();r.width=e,r.height=t;const n=r.getContext("2d"),o=n.createPattern(i,"repeat");n.fillStyle=o,n.fillRect(0,0,r.width,r.height),this._watermarkCanvas=r,this._watermarkContext=n}_applyCanvas(e,t,i){const r=t.getCanvas(),n=t.getContext(),o=i.getContext();this._options.watermarkImage;this._createWatermarkCanvas(r.width,r.height);const s=n.getImageData(0,0,r.width,r.height),a=this._watermarkContext.getImageData(0,0,r.width,r.height),l=new Ye,c=new Ye,u=new Ye;for(let h=0;h<r.width*r.height*4;h+=4)l.set(s.data[h]/255,s.data[h+1]/255,s.data[h+2]/255,s.data[h+3]/255),c.set(a.data[h]/255,a.data[h+1]/255,a.data[h+2]/255,a.data[h+3]/255),c.r>.8?u.copy(l.clone().mix(c,.3)):u.copy(l),s.data[h]=255*u.r,s.data[h+1]=255*u.g,s.data[h+2]=255*u.b,s.data[h+3]=255*u.a;o.putImageData(s,0,0)}}).prototype.availableOptions={watermarkImage:{type:"object",required:!0}}})),bg=b((()=>{ya(),yg(),vg(),(td=class extends ws{constructor(){super(...arguments),E(this,"_applyWatermarkFilter",(()=>(this._watermarkFilter||(this._watermarkFilter=new ed({watermarkImage:this._watermarkImage})),this._sprite.setFilters([this._watermarkFilter]),this._renderTexture.render(this._container),Promise.resolve()))),E(this,"_loadWatermarkImage",(()=>this._watermarkImage?Promise.resolve():new Promise(((e,t)=>{this._watermarkImage=new ms,this._watermarkImage.onload=e,this._watermarkImage.src=Jh})))),this._watermarkFilter=null,this._watermarkImage=null}_render(e){return this._loadWatermarkImage().then(this._applyWatermarkFilter)}dispose(){this._watermarkFilter&&this._watermarkFilter.dispose(),super.dispose()}}).identifier="license-watermark",td.prototype.availableOptions={},sa.Operations.LicenseWatermarkOperation=td,id=td})),xg=b((()=>{rd="/*!\n * Based on evanw's glfx.js tilt shift shader:\n * https://github.com/evanw/glfx.js/blob/master/src/filters/blur/tiltshift.js\n */\n\nuniform sampler2D u_image;\nuniform float u_blurRadius;\nuniform vec2 u_controlPoint1;\nuniform vec2 u_controlPoint2;\nuniform vec2 u_delta;\nuniform vec2 u_texSize;\nvarying vec2 v_texCoord;\n\nfloat random(vec2 co)\n{\n    highp float a = 12.9898;\n    highp float b = 78.233;\n    highp float c = 43758.5453;\n    highp float dt = dot(co.xy,vec2(a,b));\n    highp float sn = mod(dt, 3.14);\n    return fract(sin(sn) * c);\n}\n\nvoid main() {\n    vec4 color = vec4(0.0);\n    float total = 0.0;\n\n    vec2 vector = u_controlPoint2 - u_controlPoint1;\n    float offset = random(gl_FragCoord.xy / u_texSize.xy);\n\n    float radius = smoothstep(0.0, 1.0,\n      abs(\n        clamp(dot(v_texCoord - u_controlPoint1, vector) / dot(vector, vector), 0.0, 1.0)\n      )\n    ) * u_blurRadius;\n\n    for (float t = -30.0; t <= 30.0; t++) {\n      float percent = (t + offset - 0.5) / 30.0;\n      float weight = 1.0 - abs(percent);\n      vec4 _sample = texture2D(u_image, v_texCoord + u_delta * percent * radius / u_texSize);\n\n      color += _sample * weight;\n      total += weight;\n    }\n\n    gl_FragColor = color / total;\n}\n"})),wg=b((()=>{ya(),dc(),xg(),({Vector2:nd}=Xo),(od=class extends $o.Filter{constructor(){super(...arguments),this._fragmentSource=rd,this._lastBlurRadius=null,this._lastControlPoint1=new nd,this._lastControlPoint2=new nd,this._blurFilter=new Ua,this._blurredRenderTarget=new $o.CanvasRenderTarget(100,100,1),this._maskRenderTarget=new $o.CanvasRenderTarget(100,100,1)}_applyCanvas(e,t,i){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if("low"===this._options.blurQuality)return void this._renderLQBlur(e,t,i,r);const n=t.getDimensions(),o=!i.getDimensions().equals(n);if(t.getBaseTexture().isDirty()||this._lastBlurRadius!==this._options.blurRadius||o){const o=new nd(this._options.delta.x,this._options.delta.y);this._blurFilter.setDelta(o);const s={blurRadius:this._options.blurRadius,texSize:n},a=(e,t,i)=>Math.min(Math.max(e,t),i),l=(e,t,i)=>{const r=a((i-e)/(t-e),0,1);return r*r*(3-2*r)},c=this._options.controlPoint2.clone().subtract(this._options.controlPoint1.clone()),{blurRadius:u}=this._options,h=(e,t)=>l(0,1,Math.abs(a(new nd(e,t).subtract(this._options.controlPoint1).dot(c)/c.dot(c),0,1)))*u;this._blurFilter.set(s),this._blurFilter._applyCanvas(e,t,i,r,h),this._lastBlurRadius=this._options.blurRadius}}_renderLQBlur(e,t,i){const r=t.getDimensions(),n=!this._blurredRenderTarget.getDimensions().equals(r);this._blurredRenderTarget.setPixelRatio(t.getPixelRatio()),this._blurredRenderTarget.resizeTo(t.getDimensions()),this._maskRenderTarget.setPixelRatio(t.getPixelRatio()),this._maskRenderTarget.resizeTo(t.getDimensions());const o=!this._lastControlPoint1.equals(this._options.controlPoint1)||!this._lastControlPoint2.equals(this._options.controlPoint2)||n,s=t.getBaseTexture().isDirty()||this._lastBlurRadius!==this._options.blurRadius||n;o&&(this._renderMask(),this._lastControlPoint1=this._options.controlPoint1.clone(),this._lastControlPoint2=this._options.controlPoint2.clone()),s&&(this._blurImage(t,this._blurredRenderTarget,this._options.blurRadius),this._lastBlurRadius=this._options.blurRadius),this._applyMask(t,i)}_renderMask(){const e=this._maskRenderTarget.getCanvas(),t=this._maskRenderTarget.getContext(),i=new nd(e.width,e.height),r=this._options.controlPoint1.clone().multiply(i),n=this._options.controlPoint2.clone().multiply(i),o=t.createLinearGradient(r.x,r.y,n.x,n.y);o.addColorStop(0,"#FFFFFF"),o.addColorStop(1,"#000000"),t.fillStyle=o,t.fillRect(0,0,e.width,e.height)}_applyMask(e,t){const i=t.getContext(),r=e.getCanvas(),n=e.getContext(),o=this._blurredRenderTarget.getContext(),s=this._maskRenderTarget.getContext(),a=n.getImageData(0,0,r.width,r.height),l=a.data,c=o.getImageData(0,0,r.width,r.height).data,u=s.getImageData(0,0,r.width,r.height).data;let h;for(let d=0;d<r.width*r.height*4;d+=4)h=u[d]/255,l[d]=h*l[d]+(1-h)*c[d],l[d+1]=h*l[d+1]+(1-h)*c[d+1],l[d+2]=h*l[d+2]+(1-h)*c[d+2];i.putImageData(a,0,0)}dispose(){super.dispose(),this._blurFilter.dispose(),this._blurredRenderTarget.dispose(),this._maskRenderTarget.dispose()}}).prototype.availableOptions={blurRadius:{type:"number",default:30,uniformType:"f"},controlPoint1:{type:"vector2",default:new nd(0,.5),uniformType:"2f"},controlPoint2:{type:"vector2",default:new nd(1,.5),uniformType:"2f"},delta:{type:"vector2",default:new nd(1,1),uniformType:"2f"},texSize:{type:"vector2",default:new nd(100,100),uniformType:"2f"}},sd=od})),Sg=b((()=>{ya(),wg(),({Vector2:ad}=Xo),(ld=class extends ws{constructor(){super(...arguments),this._lastBlurRadius=this._options.blurRadius,this._lastControlPoint1=this._options.controlPoint1.clone(),this._lastControlPoint2=this._options.controlPoint2.clone();const e={blurQuality:{type:"string"}};this._horizontalFilter=new sd({},e),this._verticalFilter=new sd({},e),this._sprite.setFilters([this._horizontalFilter,this._verticalFilter]),this._horizontalFilter.setDelta(new ad(.5,.5)),this._verticalFilter.setDelta(new ad(-.5,.5)),this._filter=new sd({},e)}rotate(e){const{controlPoint1:t}=this._options,{controlPoint2:i}=this._options;90===e?(t.flip(),t.x=1-t.x,i.flip(),i.x=1-i.x):-90===e&&(t.flip(),t.y=1-t.y,i.flip(),i.y=1-i.y),this.set({controlPoint1:t,controlPoint2:i})}flip(e){const{controlPoint1:t}=this._options,{controlPoint2:i}=this._options;switch(e){case"horizontal":t.x=1-t.x,i.x=1-i.x;break;case"vertical":t.y=1-t.y,i.y=1-i.y}this.set({controlPoint1:t,controlPoint2:i})}transform(e){const t={};["controlPoint1","controlPoint2"].forEach((i=>{const r=this.getOption(i);t[i]=e.applyToRelativePoint(r)})),["blurRadius"].forEach((i=>{const r=this.getOption(i);t[i]=e.applyToRelativeSize(r)})),this.set(t,!1)}_renderWebGL(e){return this._renderBlur(e)}_renderCanvas(e){return this._options.highQualityCanvasBlur?this._renderBlur(e):this._renderLQCanvasBlur(e)}_renderBlur(e){const t=e.getDimensions(),i=t.min(),{blurRadius:r,controlPoint1:n,controlPoint2:o}=this._options,s={blurRadius:r*i,controlPoint1:n.clone(),controlPoint2:o.clone(),texSize:t,blurQuality:"high"};return this._horizontalFilter.set(s),this._verticalFilter.set(s),this._renderTexture.render(this._container),Promise.resolve()}_renderLQCanvasBlur(e){const t=e.getDimensions(),{blurRadius:i,controlPoint1:r,controlPoint2:n}=this._options;return this._filter.set({blurRadius:i,controlPoint1:r.clone(),controlPoint2:n.clone(),texSize:t,blurQuality:"low"}),this._sprite.setFilters([this._filter]),this._renderTexture.render(this._container),Promise.resolve()}dispose(){super.dispose(),this._filter.dispose(),this._verticalFilter.dispose(),this._horizontalFilter.dispose()}hasChanges(){return!0}}).identifier="linear-focus",ld.prototype.availableOptions={controlPoint1:{type:"vector2",default:new ad(0,.5)},controlPoint2:{type:"vector2",default:new ad(1,.5)},blurRadius:{type:"number",default:.025},highQualityCanvasBlur:{type:"boolean",default:!1}},sa.Operations.LinearFocusOperation=ld,cd=ld})),kg=b((()=>{ud="/*\n * Based on evanw's glfx.js tilt shift shader:\n * https://github.com/evanw/glfx.js/blob/master/src/filters/blur/tiltshift.js\n * @license\n */\n\nuniform sampler2D u_image;\nuniform float u_blurRadius;\nuniform float u_gradientSize;\nuniform float u_size;\nuniform vec2 u_start;\nuniform vec2 u_end;\nuniform vec2 u_delta;\nuniform vec2 u_texSize;\nvarying vec2 v_texCoord;\n\nfloat random(vec2 co)\n{\n    highp float a = 12.9898;\n    highp float b = 78.233;\n    highp float c = 43758.5453;\n    highp float dt = dot(co.xy,vec2(a,b));\n    highp float sn = mod(dt, 3.14);\n    return fract(sin(sn) * c);\n}\n\nvoid main() {\n    vec4 color = vec4(0.0);\n    float total = 0.0;\n\n    float offset = random(gl_FragCoord.xy / u_texSize.xy);\n\n    vec2 normal = normalize(vec2(u_start.y - u_end.y, u_end.x - u_start.x));\n    float radius = smoothstep(0.0, 1.0,\n      (abs(\n        dot(v_texCoord * u_texSize - u_start, normal)\n      ) - u_size) / u_gradientSize\n    ) * u_blurRadius;\n\n    for (float t = -30.0; t <= 30.0; t++) {\n        float percent = (t + offset - 0.5) / 30.0;\n        float weight = 1.0 - abs(percent);\n        vec4 _sample = texture2D(u_image, v_texCoord + u_delta * percent * radius / u_texSize);\n\n        color += _sample * weight;\n        total += weight;\n    }\n\n    gl_FragColor = color / total;\n}\n"})),Cg=b((()=>{ya(),dc(),kg(),({Vector2:hd}=Xo),(dd=class extends $o.Filter{constructor(){super(...arguments),this._fragmentSource=ud,this._lastBlurRadius=null,this._lastGradientRadius=null,this._lastStart=new hd,this._lastEnd=new hd,this._blurFilter=new Ua,this._blurredRenderTarget=new $o.CanvasRenderTarget(100,100,1),this._maskRenderTarget=new $o.CanvasRenderTarget(100,100,1)}_applyCanvas(e,t,i){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if("low"===this._options.blurQuality)return void this._renderLQBlur(e,t,i,r);const n=t.getDimensions(),o=!i.getDimensions().equals(n);if(t.getBaseTexture().isDirty()||this._lastBlurRadius!==this._options.blurRadius||o){const o=new hd(this._options.delta.x,this._options.delta.y);this._blurFilter.setDelta(o);const s={blurRadius:this._options.blurRadius,texSize:n},a=(e,t,i)=>Math.min(Math.max(e,t),i),l=(e,t,i)=>{const r=a((i-e)/(t-e),0,1);return r*r*(3-2*r)},{blurRadius:c,gradientSize:u,size:h,start:d,end:p,texSize:f}=this._options,g=new hd(d.y-p.y,p.x-d.x);g.divide(g.len());const m=(e,t)=>l(0,1,(Math.abs(f.clone().multiply(e,t).subtract(d).dot(g))-h)/u)*c;this._blurFilter.set(s),this._blurFilter._applyCanvas(e,t,i,r,m),this._lastBlurRadius=this._options.blurRadius}}_renderLQBlur(e,t,i){const r=t.getDimensions(),n=!this._blurredRenderTarget.getDimensions().equals(r);this._blurredRenderTarget.setPixelRatio(t.getPixelRatio()),this._blurredRenderTarget.resizeTo(t.getDimensions()),this._maskRenderTarget.setPixelRatio(t.getPixelRatio()),this._maskRenderTarget.resizeTo(t.getDimensions());const o=!this._lastStart.equals(this._options.start)||!this._lastEnd.equals(this._options.end)||this._lastGradientRadius!==this._options.size||n,s=t.getBaseTexture().isDirty()||this._lastBlurRadius!==this._options.blurRadius||n;o&&(this._renderMask(),this._lastStart=this._options.start.clone(),this._lastEnd=this._options.end.clone(),this._lastGradientRadius=this._options.size),s&&(this._blurImage(t,this._blurredRenderTarget,this._options.blurRadius),this._lastBlurRadius=this._options.blurRadius),this._applyMask(t,i)}_renderMask(){const e=this._maskRenderTarget.getCanvas(),t=this._maskRenderTarget.getContext(),i=this._maskRenderTarget.getPixelRatio(),r=new hd(e.width,e.height),n=this._options.size*r.min()*i,o=this._options.gradientSize*r.min()*i,s=this._options.start.clone().multiply(r),a=this._options.end.clone().multiply(r).clone().subtract(s),l=s.clone().add(a.clone().divide(2)),c=a.len(),u=a.clone().divide(c),h=l.clone().add((n+o)*u.y,-(n+o)*u.x),d=l.clone().add(-(n+o)*u.y,(n+o)*u.x),p=t.createLinearGradient(h.x,h.y,d.x,d.y),f=d.clone().subtract(h).len();p.addColorStop(0,"#000000"),p.addColorStop(o/2/f,"#FFFFFF"),p.addColorStop(1-o/2/f,"#FFFFFF"),p.addColorStop(1,"#000000"),t.fillStyle=p,t.fillRect(0,0,e.width,e.height)}_applyMask(e,t){const i=t.getContext(),r=e.getCanvas(),n=e.getContext(),o=this._blurredRenderTarget.getContext(),s=this._maskRenderTarget.getContext(),a=n.getImageData(0,0,r.width,r.height),l=a.data,c=o.getImageData(0,0,r.width,r.height).data,u=s.getImageData(0,0,r.width,r.height).data;let h;for(let d=0;d<r.width*r.height*4;d+=4)h=u[d]/255,l[d]=h*l[d]+(1-h)*c[d],l[d+1]=h*l[d+1]+(1-h)*c[d+1],l[d+2]=h*l[d+2]+(1-h)*c[d+2];i.putImageData(a,0,0)}dispose(){super.dispose(),this._blurFilter.dispose()}}).prototype.availableOptions={blurRadius:{type:"number",default:30,uniformType:"f"},size:{type:"number",default:50,uniformType:"f"},gradientSize:{type:"number",default:50,uniformType:"f"},start:{type:"vector2",default:new hd(0,.5),uniformType:"2f"},end:{type:"vector2",default:new hd(1,.5),uniformType:"2f"},delta:{type:"vector2",default:new hd(1,1),uniformType:"2f"},texSize:{type:"vector2",default:new hd(100,100),uniformType:"2f"}},pd=dd})),Tg=b((()=>{ya(),Cg(),({Vector2:fd}=Xo),(gd=class extends ws{constructor(){super(...arguments),this._lastBlurRadius=this._options.blurRadius,this._lastSize=this._options.size,this._lastGradientSize=this._options.gradientSize;const e={blurQuality:{type:"string"}};this._horizontalFilter=new pd({},e),this._verticalFilter=new pd({},e),this._sprite.setFilters([this._horizontalFilter,this._verticalFilter]),this._horizontalFilter.setDelta(new fd(.5,.5)),this._verticalFilter.setDelta(new fd(-.5,.5)),this._filter=new pd({},e),this._renderBlur.bind(this)}rotate(e){const{start:t}=this._options,{end:i}=this._options;90===e?(t.flip(),t.x=1-t.x,i.flip(),i.x=1-i.x):-90===e&&(t.flip(),t.y=1-t.y,i.flip(),i.y=1-i.y),this.set({start:t,end:i})}flip(e){const{start:t}=this._options,{end:i}=this._options;switch(e){case"horizontal":t.x=1-t.x,i.x=1-i.x;break;case"vertical":t.y=1-t.y,i.y=1-i.y}this.set({start:t,end:i})}transform(e){const t={};["start","end"].forEach((i=>{const r=this.getOption(i);t[i]=e.applyToRelativePoint(r)})),["blurRadius","size","gradientSize"].forEach((i=>{const r=this.getOption(i);t[i]=e.applyToRelativeSize(r)})),this.set(t,!1)}_renderWebGL(e){return this._renderBlur(e)}_renderCanvas(e){return this._options.highQualityCanvasBlur?this._renderBlur(e):this._renderLQCanvasBlur(e)}_renderBlur(e){const t=e.getDimensions(),i=t.min(),r=this._options.start.clone(),n=this._options.end.clone(),{blurRadius:o,size:s,gradientSize:a}=this._options,l={blurRadius:o*i,size:s*i,gradientSize:a*i,start:r.clone().multiply(t),end:n.clone().multiply(t),texSize:t,blurQuality:"high"};return this._horizontalFilter.set(l),this._verticalFilter.set(l),this._renderTexture.render(this._container),Promise.resolve()}_renderLQCanvasBlur(e){const t=e.getDimensions(),{blurRadius:i,size:r,gradientSize:n,start:o,end:s}=this._options;return this._filter.set({blurRadius:i,gradientSize:n,size:r,start:o.clone(),end:s.clone(),texSize:t,blurQuality:"low"}),this._sprite.setFilters([this._filter]),this._renderTexture.render(this._container),Promise.resolve()}dispose(){super.dispose(),this._filter.dispose(),this._verticalFilter.dispose(),this._horizontalFilter.dispose()}hasChanges(){return!0}}).identifier="mirrored-focus",gd.prototype.availableOptions={start:{type:"vector2",default:new fd(0,.5)},end:{type:"vector2",default:new fd(1,.5)},blurRadius:{type:"number",default:.025},size:{type:"number",default:.1},gradientSize:{type:"number",default:.1},highQualityCanvasBlur:{type:"boolean",default:!1}},sa.Operations.MirroredFocusOperation=gd,md=gd})),Eg=b((()=>{ya(),({Vector2:yd}=Xo),(_d=class extends ws{_render(e){const t=this._options.rotation%360,i=t*(Math.PI/180),r=90===t||270===t,n=this._options.flipHorizontally!==this._options.flipVertically,o=r&&n?!this._options.flipVertically:this._options.flipVertically,s=r&&n?!this._options.flipHorizontally:this._options.flipHorizontally;this._sprite.setScale(s?-1:1,o?-1:1),this._sprite.setRotation(i),this._sprite.setAnchor(.5,.5),this._sprite.updateTransform();const a=this._sprite.getBounds();return this._renderTexture.resizeTo(new yd(a.width,a.height)),this._sprite.setPosition(this._renderTexture.getDimensions().divide(2).round()),this._renderTexture.render(this._container),Promise.resolve()}getNewDimensions(e){return e=e.clone(),this._options.rotation%180&&e.flip(),e}flip(e){const{rotation:t}=this._options;switch(90!==t&&270!==t||(e="vertical"===e?"horizontal":"vertical"),e){case"vertical":this.setFlipVertically(!this.getFlipVertically());break;case"horizontal":this.setFlipHorizontally(!this.getFlipHorizontally())}}}).identifier="orientation",_d.prototype.availableOptions={rotation:{type:"number",default:0,validation(e){if(e%90!==0)throw new Error("OrientationOperation: `rotation` has to be a multiple of 90.")},setter:e=>(e+360)%360},flipVertically:{type:"boolean",default:!1},flipHorizontally:{type:"boolean",default:!1}},sa.Operations.OrientationOperation=_d,vd=_d})),Dg=b((()=>{ya(),({Vector2:bd}=Xo),(xd=class extends ws{constructor(){super(...arguments),this._flipContainer=new $o.Container}_render(e){const{position:t,rotation:i,scale:r,pivot:n,outputResolution:o}=this._options,s=this._sdk.getTextureScale(),a=o.clone().multiply(s).ceil();return this._renderTexture.resizeTo(a),this._sprite.setRotation(i),this._sprite.setPosition(t),this._sprite.setPivot(n),this._sprite.setScale(r),this._renderTexture.render(this._container),Promise.resolve()}getNewDimensions(e){const t=this._sdk.getTextureScale();return this._options.outputResolution.clone().multiply(t).ceil()}}).identifier="output",xd.prototype.availableOptions={position:{type:"vector2",default:new bd(0,0)},rotation:{type:"number",default:0},scale:{type:"vector2",default:new bd(1,1)},pivot:{type:"vector2",default:new bd(0,0)},outputResolution:{type:"vector2",default:new bd(100,100)}},sa.Operations.OutputOperation=xd,wd=xd})),Ig=b((()=>{ya(),({OverlayFilter:Sd}=$o.Filters),({Vector2:kd}=Xo),(Cd=class extends ws{constructor(){super(...arguments),this._overlayTexture=$o.Texture.fromImage(this._options.image),this._overlayContainer=new $o.Container,this._overlaySprite=new $o.Sprite,this._overlaySprite.setTexture(this._overlayTexture),this._overlaySprite.setAnchor(0,0),this._overlayContainer.addChild(this._overlaySprite),this._overlayFilter=new $o.Filters.OverlayFilter({overlayImage:this._overlayTexture.getBaseTexture().getGLUnit(),overlayTexture:this._overlayTexture}),this._sprite.setFilters([this._overlayFilter]),this._renderedOverlaySprite=new $o.Sprite,this._renderedOverlayContainer=new $o.Container,this._renderedOverlayContainer.addChild(this._renderedOverlaySprite),this._overlayRendered=!1,this._lastInputDimensions=new kd(0,0)}setOption(e,t){if(super.setOption(e,t),"image"===e&&t&&this._sdk){const e=this._sdk.getRenderer(),i=this._overlayTexture.getBaseTexture();i.setSource(t),e.isOfType("webgl")&&e.updateTexture(i),this._overlayRendered=!1}}_render(e){const t=e.getDimensions(),{image:i,alpha:r,blendMode:n}=this._options;return i?(this._overlayRendered&&this._lastInputDimensions.equals(t)||(this._renderOverlayToRenderTexture(e),this._overlayRendered=!0,this._lastInputDimensions.copy(t)),this._overlayFilter.set({blendMode:n,overlayImage:this._overlayRenderTexture.getBaseTexture().getGLUnit(),overlayTexture:this._overlayRenderTexture,alpha:r}),this._sprite.setFilters([this._overlayFilter]),this._renderTexture.render(this._container),Promise.resolve()):(this._sprite.setFilters([]),this._renderTexture.render(this._container),Promise.resolve())}_renderOverlayToRenderTexture(e){const t=this._sdk.getRenderer(),i=e.getDimensions();this._overlayRenderTexture||(this._overlayRenderTexture=new $o.RenderTexture(t,i.x,i.y),this._renderedOverlaySprite.setTexture(this._overlayRenderTexture));const{width:r,height:n}=this._options.image,o=ae.resizeVectorToFill(new kd(r,n),i),{flipHorizontally:s,flipVertically:a}=this._options,l=s?-1:1,c=a?-1:1;this._overlaySprite.setWidth(o.x*l),this._overlaySprite.setHeight(o.y*c),this._overlaySprite.setPosition(i.x*(1-l)*.5,i.y*(1-c)*.5);const u=this._overlayRenderTexture.getBaseTexture();this._overlayRenderTexture.resizeTo(i),t.isOfType("webgl")&&(u.setGLUnit(4),t.updateTexture(u,!1)),this._overlayRenderTexture.render(this._overlayContainer)}dispose(){super.dispose(),this._overlaySprite&&this._overlaySprite.dispose(),this._overlayRenderTexture&&this._renderedOverlaySprite.dispose(),this._overlayFilter&&this._overlayFilter.dispose(),this._overlayTexture&&this._overlayTexture.dispose(),this._overlayRenderTexture&&this._overlayRenderTexture.dispose(),this._renderedOverlaySprite&&this._renderedOverlaySprite.dispose()}}).identifier="overlay",Cd.BLEND_MODES=Sd.BLEND_MODES,Cd.prototype.availableOptions={identifier:{type:"string"},image:{type:"image"},blendMode:{type:"number",default:Sd.BLEND_MODES.MULTIPLY,available:Object.keys(Sd.BLEND_MODES).map((e=>Sd.BLEND_MODES[e]))},alpha:{type:"number",default:1},flipHorizontally:{type:"boolean",default:!1},flipVertically:{type:"boolean",default:!1}},sa.Operations.OverlayOperation=Cd,Td=Cd})),Rg=b((()=>{Ed="/*\n * Based on evanw's glfx.js tilt shift shader:\n * https://github.com/evanw/glfx.js/blob/master/src/filters/blur/tiltshift.js\n * @license\n */\n\nuniform sampler2D u_image;\nuniform float u_radius;\nuniform float u_blurRadius;\nuniform float u_gradientRadius;\nuniform vec2 u_position;\nuniform vec2 u_delta;\nuniform vec2 u_texSize;\nvarying vec2 v_texCoord;\n\nconst float blurSteps = 30.0;\nconst float EPSILON = 0.000000001;\n\nfloat random(vec2 co)\n{\n    highp float a = 12.9898;\n    highp float b = 78.233;\n    highp float c = 43758.5453;\n    highp float dt = dot(co.xy,vec2(a,b));\n    highp float sn = mod(dt, 3.14);\n    return fract(sin(sn) * c);\n}\n\nvoid main() {\n    vec4 color = vec4(0.0);\n    float total = 0.0;\n\n    vec2 coord = v_texCoord * u_texSize;\n    vec2 diff = coord - u_position;\n    float dist = sqrt(diff.x * diff.x + diff.y * diff.y);\n\n    float blurPercentage = smoothstep( \n      0.0, 1.0,\n      (abs(dist) - u_radius) / u_gradientRadius\n    );\n\n    float radius = blurPercentage * u_blurRadius;\n    float offset = random(gl_FragCoord.xy / u_texSize.xy);\n\n    for (float t = -blurSteps; t <= blurSteps; t++) {\n        float percent = (t + offset - 0.5) / blurSteps;\n        float weight = 1.0 - abs(percent);\n        vec4 _sample = texture2D(u_image, v_texCoord + u_delta * percent * radius / u_texSize);\n\n        color += _sample * weight;\n        total += weight;\n    }\n\n    gl_FragColor = color / max(total, EPSILON);\n}\n"})),Fg=b((()=>{ya(),dc(),Rg(),({Vector2:Dd}=Xo),(Id=class extends $o.Filter{constructor(){super(...arguments),this._fragmentSource=Ed,this._lastBlurRadius=null,this._lastGradientRadius=null,this._lastPosition=new Dd,this._blurFilter=new Ua,this._blurredRenderTarget=new $o.CanvasRenderTarget(100,100,1),this._maskRenderTarget=new $o.CanvasRenderTarget(100,100,1)}_applyCanvas(e,t,i){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if("low"===this._options.blurQuality)return void this._renderLQBlur(e,t,i,r);const n=t.getDimensions(),o=!i.getDimensions().equals(n),{blurRadius:s,position:a,texSize:l,gradientRadius:c}=this._options;if(t.getBaseTexture().isDirty()||this._lastBlurRadius!==s||o){const o=new Dd(this._options.delta.x,this._options.delta.y);this._blurFilter.setDelta(o);const u={blurRadius:s,texSize:n},h=(e,t,i)=>Math.min(Math.max(e,t),i),d=(e,t,i)=>{const r=h((i-e)/(t-e),0,1);return r*r*(3-2*r)},p=(e,t)=>d(0,1,(Math.abs(l.clone().multiply(e,t).subtract(a).len())-this._options.radius)/(2*c))*s;this._blurFilter.set(u),this._blurFilter._applyCanvas(e,t,i,r,p),this._lastBlurRadius=s}}_renderLQBlur(e,t,i){const r=t.getDimensions(),n=!this._blurredRenderTarget.getDimensions().equals(r);this._blurredRenderTarget.setPixelRatio(t.getPixelRatio()),this._blurredRenderTarget.resizeTo(t.getDimensions()),this._maskRenderTarget.setPixelRatio(t.getPixelRatio()),this._maskRenderTarget.resizeTo(t.getDimensions());const o=!this._lastPosition.equals(this._options.position)||this._lastGradientRadius!==this._options.gradientRadius||n,s=t.getBaseTexture().isDirty()||this._lastBlurRadius!==this._options.blurRadius||n;o&&(this._renderMask(),this._lastPosition=this._options.position.clone(),this._lastGradientRadius=this._options.gradientRadius),s&&(this._blurImage(t,this._blurredRenderTarget,this._options.blurRadius),this._lastBlurRadius=this._options.blurRadius),this._applyMask(t,i)}_renderMask(){const e=this._maskRenderTarget.getCanvas(),t=this._maskRenderTarget.getContext(),i=new Dd(e.width,e.height),r=this._maskRenderTarget.getPixelRatio(),n=this._options.position.clone().multiply(i);let{radius:o,gradientRadius:s}=this._options;o*=e.height,s*=e.height;const a=t.createRadialGradient(n.x,n.y,0,n.x,n.y,(o+s)*r);a.addColorStop(0,"#FFFFFF"),a.addColorStop(o/(o+s),"#FFFFFF"),a.addColorStop(1,"#000000"),t.fillStyle=a,t.fillRect(0,0,i.x,i.y)}_applyMask(e,t){const i=t.getContext(),r=e.getCanvas(),n=e.getContext(),o=this._blurredRenderTarget.getContext(),s=this._maskRenderTarget.getContext(),a=n.getImageData(0,0,r.width,r.height),l=a.data,c=o.getImageData(0,0,r.width,r.height).data,u=s.getImageData(0,0,r.width,r.height).data;let h;for(let d=0;d<r.width*r.height*4;d+=4)h=u[d]/255,l[d]=h*l[d]+(1-h)*c[d],l[d+1]=h*l[d+1]+(1-h)*c[d+1],l[d+2]=h*l[d+2]+(1-h)*c[d+2];i.putImageData(a,0,0)}dispose(){super.dispose(),this._blurFilter.dispose(),this._blurredRenderTarget.dispose(),this._maskRenderTarget.dispose()}}).prototype.availableOptions={blurRadius:{type:"number",default:30,uniformType:"f"},radius:{type:"number",default:50,uniformType:"f"},gradientRadius:{type:"number",default:25,uniformType:"f"},position:{type:"vector2",default:new Dd(.5,.5),uniformType:"2f"},delta:{type:"vector2",default:new Dd(1,1),uniformType:"2f"},texSize:{type:"vector2",default:new Dd(100,100),uniformType:"2f"}},Rd=Id})),Ag=b((()=>{ya(),Fg(),({Vector2:Fd}=Xo),(Ad=class extends ws{constructor(){super(...arguments),this._lastBlurRadius=this._options.blurRadius,this._lastGradientRadius=this._options.gradientRadius;const e={blurQuality:{type:"string"}};this._horizontalFilter=new Rd({},e),this._verticalFilter=new Rd({},e),this._sprite.setFilters([this._horizontalFilter,this._verticalFilter]),this._horizontalFilter.setDelta(new Fd(.5,.5)),this._verticalFilter.setDelta(new Fd(-.5,.5)),this._filter=new Rd({},e)}rotate(e){const{position:t}=this._options;90===e?(t.flip(),t.x=1-t.x):-90===e&&(t.flip(),t.y=1-t.y),this.set({position:t})}flip(e){const{position:t}=this._options;switch(e){case"horizontal":t.x=1-t.x;break;case"vertical":t.y=1-t.y}this.set({position:t})}transform(e){const t={},i=this.getPosition();t.position=e.applyToRelativePoint(i),["radius","blurRadius","gradientRadius"].forEach((i=>{const r=this.getOption(i);t[i]=e.applyToRelativeSize(r)})),this.set(t,!1)}_renderWebGL(e){return this._renderBlur(e)}_renderCanvas(e){return this._options.highQualityCanvasBlur?this._renderBlur(e):this._renderLQCanvasBlur(e)}_renderBlur(e){const t=e.getDimensions(),i=t.min(),{position:r,blurRadius:n,radius:o,gradientRadius:s}=this._options,a={blurRadius:n*i,radius:o*i,gradientRadius:s*i,position:r.clone().multiply(t),texSize:t,blurQuality:"high"};return this._horizontalFilter.set(a),this._verticalFilter.set(a),this._renderTexture.render(this._container),Promise.resolve()}_renderLQCanvasBlur(e){const{blurRadius:t,radius:i,gradientRadius:r,position:n}=this._options,o=e.getDimensions();return this._filter.set({blurRadius:t,radius:i,gradientRadius:r,position:n,texSize:o,blurQuality:"low"}),this._sprite.setFilters([this._filter]),this._renderTexture.render(this._container),Promise.resolve()}dispose(){super.dispose(),this._filter.dispose(),this._verticalFilter.dispose(),this._horizontalFilter.dispose()}hasChanges(){return!0}}).identifier="radial-focus",Ad.prototype.availableOptions={position:{type:"vector2",default:new Fd(.5,.5)},radius:{type:"number",default:.25},gradientRadius:{type:"number",default:.125},blurRadius:{type:"number",default:.025},highQualityCanvasBlur:{type:"boolean",default:!1}},sa.Operations.RadialFocusOperation=Ad,Od=Ad})),Og=b((()=>{Md="varying vec2 v_texCoord;\nuniform sampler2D u_image;\nuniform sampler2D u_filterImage;\nuniform sampler2D u_maskImage;\n\nvoid main() {\n  vec4 color0 = texture2D(u_image, v_texCoord);\n  vec4 color1 = texture2D(u_filterImage, v_texCoord);\n  vec4 mask = texture2D(u_maskImage, v_texCoord);\n  gl_FragColor = mix(color0, color1, mask);\n}\n"})),Mg=b((()=>{ya(),Og(),(Pd=class extends $o.Filter{constructor(){super(),this._fragmentSource=Md}_applyCanvas(e,t,i){const r=t.getCanvas(),n=t.getContext(),o=i.getContext(),{maskCanvas:s,filterCanvas:a}=this._options,l=s.getContext("2d"),c=a.getContext("2d"),u=l.getImageData(0,0,r.width,r.height).data,h=n.getImageData(0,0,r.width,r.height),d=h.data,p=c.getImageData(0,0,r.width,r.height).data;let f;for(let g=0;g<r.width*r.height*4;g+=4)f=u[g]/255,d[g]=f*p[g]+(1-f)*d[g],d[g+1]=f*p[g+1]+(1-f)*d[g+1],d[g+2]=f*p[g+2]+(1-f)*d[g+2];o.putImageData(h,0,0)}}).prototype.availableOptions={maskImage:{type:"number",default:1,uniformType:"i"},maskCanvas:{type:"object",default:null},filterImage:{type:"number",default:2,uniformType:"i"},filterCanvas:{type:"object",default:null}},zd=Pd})),Pg=b((()=>{ya(),({Vector2:Bd}=Xo),Ld=class extends Ct{constructor(e,t){super(t),this._isDisposed=!1,this._operation=e,this._dirtiness={},this.id=ae.getUUID(),this._renderTextures={},this._identitySprite=new $o.Sprite,this._sprite=new $o.Sprite,this._hitTestSprite=new $o.Sprite,this._renderers=[]}applyScale(e){}applyRotation(e){const t=this._operation.getInputDimensions();let i=180*this.getRotation()/Math.PI;i+=e,this.setRotation(i*Math.PI/180);const r=(e+360)%360*Math.PI/180,n=Math.cos(r),o=Math.sin(r),s=this._options.position.clone().subtract(.5).multiply(t),a=new Bd(s.x*n-s.y*o,s.x*o+s.y*n).divide(t.clone().flip());this.setPosition(new Bd(.5,.5).add(a))}applyFlip(e){const t=this.getPosition().clone();switch(e){case"horizontal":t.x=1-this._options.position.x;break;case"vertical":t.y=1-this._options.position.y}this.setPosition(t)}applyTransform(e){const t={};t.rotation=e.applyToRotation(this.getRotation()),t.position=e.applyToRelativePoint(this.getPosition()),this._options.dimensions&&(t.dimensions=e.applyToDimensions(this.getDimensions())),this.set(t,!1)}getDisplayObject(){return this._sprite}getHitTestDisplayObject(){return this._sprite}_getTexture(){throw new Error("Sprite#_getTexture is abstract and not implemented in child class.")}_prepareRenderTexture(e){if(this._renderTexture)this._renderTexture.clear();else{const t=this._getTexture();this._renderTextureContainer=new $o.Container,this._renderTextureSprite=new $o.Sprite(t),this._renderTextureContainer.addChild(this._renderTextureSprite),this._renderTexture=this._getRenderTexture(e.getRenderer(),t.getDimensions())}}_rendersToRenderTexture(e){return e.getOptions().smoothDownscaling&&e.getRenderer().isOfType("webgl")}_optionEquals(e,t){return"type"===e||super._optionEquals(e,t)}update(e,t){this._isDisposed||(this._rendersToRenderTexture(e)&&(this._prepareRenderTexture(e),this._renderToRenderTexture(e)),this._updateSprite(t))}_updateSprite(e){[this._sprite,this._hitTestSprite].forEach((t=>{if(!t.getTexture())return;t.setAnchor(this._options.anchor),t.setPosition(this._options.position.clone().multiply(e)),"undefined"!==typeof this._options.alpha&&t.setAlpha(this._options.alpha);let{dimensions:i}=this._options;i&&(i=i.clone().multiply(this._operation.getSDK().getTextureScale()),t.setWidth(i.x),t.setHeight(i.y)),t.updateTransform();const r=t.getTexture().getFrame(),n=new Bd(r.width,r.height);t.setPivot(this._options.pivot.clone().multiply(n)),t.setRotation(this._options.rotation),t.updateTransform()}))}_renderToRenderTexture(e){const t=this._getTexture().getDimensions(),i=this._getRenderTexture(e.getRenderer(),t),r=t.clone();if(this._options.smoothDownscaling&&(r.x=ae.nextHighestPOT(r.x),r.y=ae.nextHighestPOT(r.y)),this._renderTexture.resizeTo(r),this._renderTexture.render(this._renderTextureContainer),this._options.smoothDownscaling){const e=r.clone().subtract(t.x,t.y).divide(r),n=i.getUVs().getUVs();n[0].x=n[3].x=0,n[1].x=n[2].x=1-e.x,n[0].y=n[1].y=0,n[2].y=n[3].y=1-e.y}this._sprite.setTexture(i)}isDirtyForRenderer(e){return e.id in this._dirtiness||(this._dirtiness[e.id]=!0),this._dirtiness[e.id]}setDirtyForRenderer(e,t){this._renderers[t.id]=t,this._dirtiness[t.id]=e}setDirty(e){for(const t in this._dirtiness)this.setDirtyForRenderer(e,this._renderers[t])}_getRenderTexture(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Bd(100,100);return this._renderTextures[e.id]||(this._renderTextures[e.id]=new $o.RenderTexture(e,t.x,t.y,1)),this._renderTextures[e.id]}dispose(){this._isDisposed=!0;for(const e in this._renderTextures)this._renderTextures[e].dispose()}canBeDuplicated(){return!0}canBeDeleted(){return!0}canMaskCanvas(){return!1}canAdjustPadding(){return!1}canBeTakenToFront(){return!0}canBeFlippedHorizontally(){return!0}}})),zg=b((()=>{ya(),({Vector2:Ud}=Xo),(Nd=class extends Ct{constructor(){super(...arguments),this._lastOptions={},this._lastInputDimensions=new Ud(0,0),this._brush=null}getBrushImage(e){if(this._brush&&this.optionsEqual(this._lastOptions)&&e.equals(this._lastInputDimensions))return this._brush;const{image:t,size:i}=this._options;t.width=t.height=Math.ceil(i*e.min());const r=ae.createCanvas();r.width=t.width,r.height=t.height;const n=r.getContext("2d");n.drawImage(t,0,0,r.width,r.height);const o=this._tintImageData(n.getImageData(0,0,r.width,r.height),r.width,r.height);return n.putImageData(o,0,0),this._lastOptions=this.serializeOptions(["size","color"]),this._brush=r,this._lastInputDimensions=e.clone(),r}_tintImageData(e){const{color:t}=this._options;for(let i=0;i<e.data.length;i+=4)e.data[i]+=(255*t.r-e.data[i])*t.a,e.data[i+1]+=(255*t.g-e.data[i+1])*t.a,e.data[i+2]+=(255*t.b-e.data[i+2])*t.a;return e}clone(){return new(0,this.constructor)(this._options)}}).prototype.availableOptions={identifier:{type:"string"},image:{type:"image"},size:{type:"number",default:.05},color:{type:"color",default:Ye.RED}}})),Bg=b((()=>{ya(),zg(),(Hd=class extends Nd{getBrushImage(e){if(this._brush&&this.optionsEqual(this._lastOptions)&&e.equals(this._lastInputDimensions))return this._brush;let{size:t,hardness:i,color:r}=this._options;const n=ae.createCanvas();n.width=n.height=Math.ceil(t*e.min());const o=n.getContext("2d");if(r=r.clone(),r.a=1,1===n.width)o.fillStyle=r.toRGBA(),o.fillRect(0,0,1,1);else{const e=o.createRadialGradient(n.width/2,n.height/2,Math.min(n.width/2-1,n.width/2*i),n.width/2,n.height/2,n.width/2);e.addColorStop(0,r.toRGBA());const t=r.clone();t.a=0,e.addColorStop(1,t.toRGBA()),o.fillStyle=e,o.fillRect(0,0,n.width,n.height)}return this._lastOptions=this.serializeOptions(["size","color","hardness"]),this._brush=n,this._lastInputDimensions=e.clone(),n}}).identifier="imgly_brush_radial",Hd.prototype.availableOptions={...Nd.prototype.availableOptions,hardness:{type:"number",default:1}}})),Lg=b((()=>{ya(),({Vector2:jd,CubicBezierCurve:Wd}=Xo),Vd=class{constructor(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3;this._path=e,this._drawnCanvases=[],this._position=t,this._smooth=i}getBezierCurve(e,t,i,r){if(!t)return null;let n,o,s,a;r?(n=(r.x-t.x)/this._smooth,o=(r.y-t.y)/this._smooth):(n=(i.x-t.x)/this._smooth,o=(i.y-t.y)/this._smooth),e?(s=(i.x-e.x)/this._smooth,a=(i.y-e.y)/this._smooth):(s=(i.x-t.x)/this._smooth,a=(i.y-t.y)/this._smooth);const l=t.clone().add(s,a),c=i.clone().subtract(n,o);return new Wd(t,l,c,i)}renderToCanvas(e,t,i,r,n){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1;if(-1!==this._drawnCanvases.indexOf(t))return;const s=new jd(t.width,t.height),a=t.getContext("2d"),l=this._position.clone().multiply(s),c=r?r.getPosition().clone().multiply(s):null,u=i?i.getPosition().clone().multiply(s):null,h=n?n.getPosition().clone().multiply(s):null,d=(l.clone().subtract(c).len(),e.width/10),p=this.getBezierCurve(u,c,l,h);let f;if(p){p.calculateSegments(20);const e=p.getLength();f=p.arcLengthApproxSample(Math.ceil(e/d))}else f=[l];for(let g=0;g<f.length;g++){const t=f[g];let i=.5*e.width/(2*d);i*=1-o,i=1/(1+i),a.globalAlpha=i,a.drawImage(e,t.x-e.width/2,t.y-e.height/2,e.width,e.height)}a.globalAlpha=1,this._drawnCanvases.push(t)}setPosition(e){this._position=e}getPosition(){return this._position.clone()}setDirty(){this._drawnCanvases=[]}}})),Ug=b((()=>{ya(),Lg(),(Gd=class extends Ct{constructor(e,t,i){super(t),this._operation=e,this._canvas=i||ae.createCanvas(),this._context=this._canvas.getContext("2d")}serializeOption(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return"controlPoints"===e?this._options.controlPoints.map((e=>{const i=e.getPosition();return t?i.toObject():i.clone()})):super.serializeOption(e,t)}_optionEquals(e,t){if("controlPoints"===e){const{controlPoints:e}=this._options;for(let i=0,r=e.length;i<r;i++)if(!e[i].getPosition().equals(t[i]))return!1;return!0}return super._optionEquals(e,t)}render(e){const{controlPoints:t,size:i}=this._options;if(t.length<2)return;const r=this.getBrush(),n=r&&r.getHardness?r.getHardness():1;let o,s,a,l;ae.ensureCanvasDimensions(this._canvas,e),this._brush&&this._lastBrushSize===i&&e.equals(this._brushInputDimensions)||(this._brushInputDimensions=e.clone(),this._lastBrushSize=i);for(let c=0;c<t.length;c++)o=t[c-2],s=t[c-1],a=t[c],l=t[c+1],a.renderToCanvas(this._options.brush.getBrushImage(e),this._canvas,o,s,l,n)}_createBrush(e){let{size:t,hardness:i,color:r}=this._options;const n=ae.createCanvas();n.width=n.height=Math.ceil(t*e.min());const o=n.getContext("2d");if(r=r.clone(),r.a=1,1===n.width)o.fillStyle=r.toRGBA(),o.fillRect(0,0,1,1);else{const e=o.createRadialGradient(n.width/2,n.height/2,Math.min(n.width/2-1,n.width/2*i),n.width/2,n.height/2,n.width/2);e.addColorStop(0,r.toRGBA());const t=r.clone();t.a=0,e.addColorStop(1,t.toRGBA()),o.fillStyle=e,o.fillRect(0,0,n.width,n.height)}return n}addControlPoint(e){const t=new Vd(this,e);this._options.controlPoints.push(t),this.emit("update",this)}getCanvas(){return this._canvas}setCanvas(e){this._canvas=e,this._context=e.getContext("2d")}setDirty(){this._context.clearRect(0,0,this._canvas.width,this._canvas.height),this._options.controlPoints.forEach((e=>{e.setDirty()}))}forEachControlPoint(e){this._options.controlPoints.forEach(e)}renderToCanvas(e){const t=e.getContext("2d");t.save(),t.globalAlpha=this._options.brush.getColor().a,t.drawImage(this._canvas,0,0),t.restore()}getCanvasDimensions(){return this._canvasDimensions}}).prototype.availableOptions={id:{type:"string",default:()=>ae.getUUID()},brush:{type:"object",required:!0},controlPoints:{type:"array",default:[]},closed:{type:"boolean",default:!1}},qd=Gd})),Ng=b((()=>{ya(),Pg(),zg(),Bg(),Ug(),({Vector2:Xd}=Xo),(Yd=class extends Ld{constructor(){super(...arguments),this._persistedPaths=[],this._outputCanvasDirty=!0,this._outputCanvas=ae.createCanvas(),this._outputContext=this._outputCanvas.getContext("2d"),this._persistCanvas=ae.createCanvas(),this._persistContext=this._persistCanvas.getContext("2d"),this._nextCanvas=ae.createCanvas(),this._texture=$o.Texture.fromCanvas(this._outputCanvas),this._sprite.setTexture(this._texture),this._onPathUpdate=this._onPathUpdate.bind(this)}applyFlip(e){this._options.paths.forEach((t=>{t.forEachControlPoint((t=>{const i=t.getPosition().clone();switch(e){case"horizontal":i.x=1-i.x;break;case"vertical":i.y=1-i.y}t.setPosition(i)})),t.setDirty(!0)})),this._reset()}applyRotation(e){this._options.paths.forEach((t=>{t.forEachControlPoint((t=>{const i=t.getPosition().clone();90===e?(i.flip(),i.x=1-i.x):-90===e&&(i.flip(),i.y=1-i.y),t.setPosition(i)})),t.setDirty(!0)})),this._reset()}applyTransform(e){let t=null;this._options.paths.forEach((i=>{i.forEachControlPoint((t=>{t.setPosition(e.applyToRelativePoint(t.getPosition()))}));const r=i.getBrush();r!==t&&(r.setSize(e.applyToRelativeSize(r.getSize())),t=r),i.setDirty(!0)})),this._reset()}clearCanvas(){if(!this._outputCanvas)return;this._outputCanvasDirty=!0;const{width:e,height:t}=this._outputCanvas;this._outputContext.clearRect(0,0,e,t)}clearPersistCanvas(){if(!this._persistCanvas)return;const{width:e,height:t}=this._persistCanvas;this._persistContext.clearRect(0,0,e,t)}serializeOptions(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const i=super.serializeOptions(e,t);return e||(i.type="brush"),i}serializeOption(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return"paths"===e?this._options.paths.map((e=>e.serializeOptions(void 0,t))):super.serializeOption(e,t)}createPath(e){const t=new qd(this._operation,{brush:e},this._nextCanvas);return t.on("update",this._onPathUpdate),this._options.paths.push(t),this.setDirty(!0),t}_onPathUpdate(){this._operation.setDirty(!0),this.setDirty(!0)}_onPathPersist(e){e.renderToCanvas(this._persistCanvas),this._nextCanvas=e.getCanvas();this._nextCanvas.getContext("2d").clearRect(0,0,this._nextCanvas.width,this._nextCanvas.height),this._persistedPaths.push(e)}_getTexture(){return this._texture}setDirtyForRenderer(e,t){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];super.setDirtyForRenderer(e,t,i),e&&i&&(this._persistedPaths=[],this.clearPersistCanvas(),this._options.paths.forEach((e=>{e.setDirty(!0)})))}setDirty(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];for(const i in this._dirtiness)this.setDirtyForRenderer(e,this._renderers[i],t)}render(e){const t=this._operation.getSDK().getRenderer();this.isDirtyForRenderer(t)&&(ae.ensureCanvasDimensions(this._outputCanvas,e),ae.ensureCanvasDimensions(this._persistCanvas,e),this._options.paths.forEach((t=>{t.render(e),t.getClosed()&&-1===this._persistedPaths.indexOf(t)&&this._onPathPersist(t)})),this.clearCanvas(),this._outputContext.drawImage(this._persistCanvas,0,0),this._options.paths.forEach((e=>{e.getClosed()||e.renderToCanvas(this._outputCanvas)})),this.setDirtyForRenderer(!1,t))}update(e,t){t&&(ae.ensureCanvasDimensions(this._outputCanvas,t),ae.ensureCanvasDimensions(this._persistCanvas,t),this._texture.getBaseTexture().update()),this.render(t);const i=e.getRenderer();i.isOfType("webgl")&&i.updateTexture(this._texture.getBaseTexture()),super.update(e,t)}_reset(){this._persistedPaths=[],this._operation&&this._operation.setDirty(!0),this.setDirty(!0),this.clearCanvas(),this.clearPersistCanvas()}getCanvas(){return this._outputCanvas}_createRadialBrush(){return new Hd}_getTempCanvas(){return this._nextCanvas}dispose(){super.dispose(),this._texture&&this._texture.getBaseTexture().dispose()}}).prototype.availableOptions={id:{type:"string",default:()=>ae.getUUID()},position:{type:"vector2",default:new Xd(0,0)},scale:{type:"vector2",default:new Xd(1,1)},anchor:{type:"vector2",default:new Xd(0,0)},pivot:{type:"vector2",default:new Xd(0,0)},rotation:{type:"number",default:0},paths:{type:"array",default:[],setter(e){return e=e.map((e=>{if(e instanceof qd)return e;const{brush:t,closed:i}=e,r=new qd(this._operation,{brush:t,closed:i},this._nextCanvas);return e.controlPoints.forEach((e=>{r.addControlPoint(e)})),r})),this._reset(),e}}},Yd.type="brush",Yd.Brush=Nd,Yd.Path=qd,Yd.Brushes={RadialBrush:Hd},Qd=Yd})),Hg=b((()=>{ya(),dc(),Mg(),Ng(),({Vector2:Kd}=Xo),(Zd=class extends ws{constructor(){super(...arguments);const e=this._sdk.getRenderer();this._lastBlurRadius=null,this._blurredRenderTexture=new $o.RenderTexture(e,100,100,1),this._maskRenderTexture=new $o.RenderTexture(e,100,100,1),this._brushSprite=new Qd(this),this._brushSpriteContainer=new $o.Container;const t=this._brushSprite.getDisplayObject();if(this._brushSpriteContainer.addChild(t),this._outputSprite=new $o.Sprite,this._outputContainer=new $o.Container,this._outputContainer.addChild(this._outputSprite),this._maskFilter=new zd,e.isOfType("webgl")){this._horizontalFilter=new Ua,this._verticalFilter=new Ua,this._sprite.setFilters([this._horizontalFilter,this._verticalFilter]),this._horizontalFilter.setDelta(new Kd(1,1)),this._verticalFilter.setDelta(new Kd(-1,1));let t=this._maskRenderTexture.getBaseTexture();t.setGLUnit(this._maskFilter.getMaskImage()),e.updateTexture(t,!1),t=this._blurredRenderTexture.getBaseTexture(),t.setGLUnit(this._maskFilter.getFilterImage()),e.updateTexture(t,!1)}else e.isOfType("canvas")&&(this._blurFilter=new Ua,this._sprite.setFilters([this._blurFilter]),this._maskFilter.setMaskCanvas(this._maskRenderTexture.getRenderTarget().getCanvas()),this._maskFilter.setFilterCanvas(this._blurredRenderTexture.getRenderTarget().getCanvas()));this._outputSprite.setFilters([this._maskFilter])}flip(e){this._brushSprite.applyFlip(e),this.setDirty(!0,!0),this._lastBlurRadius=null}rotate(e){this._brushSprite.applyRotation(e),this.setDirty(!0,!0),this._lastBlurRadius=null}transform(e,t){this._brushSprite.applyTransform(e,t),this.setDirty(!0,!0),this._lastBlurRadius=null}_render(e){return this._renderBlur(e),this._renderMask(e),this._outputSprite.setTexture(e),this._renderTexture.render(this._outputContainer),Promise.resolve()}_renderMask(e){const t=e.getDimensions();this._maskRenderTexture.getDimensions().equals(t)||this._maskRenderTexture.resizeTo(t),this._brushSprite.update(this._sdk,t),this._maskRenderTexture.clear(Ye.BLACK),this._maskRenderTexture.render(this._brushSpriteContainer);const i=this._sdk.getRenderer();i.isOfType("webgl")&&i.updateTexture(this._maskRenderTexture.getBaseTexture(),!1)}_renderBlur(e){const t=e.getDimensions(),i=this._blurredRenderTexture.getDimensions();i.equals(t)||this._blurredRenderTexture.resizeTo(t);const{blurRadius:r}=this._options;if(this._lastBlurRadius!==r||!i.equals(t)){const e=this._sdk.getRenderer();let i;if(e.isOfType("webgl")){i={blurRadius:r*t.min(),texSize:t},this._horizontalFilter.set(i),this._verticalFilter.set(i)}else e.isOfType("canvas")&&(i={blurRadius:r},this._blurFilter.set(i));this._blurredRenderTexture.render(this._container),this._lastBlurRadius=r}const n=this._sdk.getRenderer();n.isOfType("webgl")&&n.updateTexture(this._blurredRenderTexture.getBaseTexture(),!1)}getBrush(){return this._brushSprite}createPath(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;const i=new Qd.Brushes.RadialBrush({size:e,hardness:t,color:Ye.WHITE}),r=this._brushSprite.createPath(i);return this._options.paths.push(r),this.setDirty(!0),r}setDirtyForRenderer(e,t,i){super.setDirtyForRenderer(e,t,i),this._brushSprite.setDirtyForRenderer(e,t,i)}dispose(){super.dispose();this._sdk.getRenderer().isOfType("webgl")?(this._verticalFilter.dispose(),this._horizontalFilter.dispose()):this._blurFilter.dispose(),this._brushSprite.dispose(),this._maskFilter.dispose(),this._blurredRenderTexture.dispose(),this._maskRenderTexture.dispose()}hasChanges(){return!0}}).identifier="selective-blur",Zd.prototype.availableOptions={blurRadius:{type:"number",default:.05},paths:{type:"array",default:[],setter(e){return this._brushSprite&&this._brushSprite.setPaths(e),e}}},sa.Operations.SelectiveBlurOperation=Zd,Jd=Zd})),jg=b((()=>{ya(),rc(),Pg(),({Vector2:$d,ColorMatrix:ep}=Xo),(tp=class extends Ld{constructor(){super(...arguments);const{image:e}=this._options,t=e.src||e.filePath||e.toDataUrl&&e.toDataURL();this._isSVG=t&&(!!t.match(/\w+\.svg(?=\?|$)/i)||t.match(/data:image\/svg/i)),this._isSVG&&(this._canvas=ae.createCanvas(),this._context=this._canvas.getContext("2d"),this._options.smoothDownscaling=!1),e&&this._onImageUpdate(),this._tintFilter=new $o.Filters.TintFilter,this._adjustmentsFilter=new da,this._lastRenderedDimensions=$d.NULL,this._lastRenderedInputDimensions=$d.NULL,this._onOptionsChange=this._onOptionsChange.bind(this),this._options.adjustments.on("update",this._onOptionsChange)}applyScale(e){this.setDimensions(this.getDimensions().multiply(e))}serializeOptions(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const i=super.serializeOptions(e,t);return e||(i.type="sticker"),i}_rendersToRenderTexture(e){return this._options.smoothDownscaling&&!this._isSVG&&e.getRenderer().isOfType("webgl")||this._hasAdjustments()||"none"!==this._options.tintMode}_getTexture(){return this._inputTexture}update(e,t){const{dimensions:i,image:r}=this._options;i.equals($d.NULL)&&i.set(r.width,r.height),this._sprite.setSmoothDownscaling(!this._isSVG&&this.getSmoothDownscaling());if((!this._lastRenderedInputDimensions.equals(t)||!this._lastRenderedDimensions.equals(i)||this._lastRenderedImage!==r)&&this._isSVG&&e.getRenderer().isOfType("webgl")){r.width=Math.round(i.x),r.height=Math.round(i.y);const e=4096,t=r.width/r.height;r.width>e&&(r.width=e,r.height=Math.round(r.width/t)),r.height>e&&(r.height=e,r.width=Math.round(r.height*t)),this._canvas.width=r.width,this._canvas.height=r.height,this._context.clearRect(0,0,r.width,r.height),this._context.drawImage(r,0,0,r.width,r.height),this._inputTexture.getBaseTexture().update()}this._rendersToRenderTexture(e)&&this._prepareRenderTexture(e);const n=[];if(this._rendersToRenderTexture(e)){if(this._hasAdjustments()){n.push(this._adjustmentsFilter);const{adjustments:e}=this._options,t=new ep;t.multiply(ep.createBrightnessMatrix(e.getBrightness())),t.multiply(ep.createSaturationMatrix(e.getSaturation())),t.multiply(ep.createContrastMatrix(e.getContrast())),this._adjustmentsFilter.set({colorMatrix:t})}this._options.tintMode&&"none"!==this._options.tintMode&&(n.push(this._tintFilter),this._tintFilter.set({mode:$o.Filters.TintFilter.MODES[this._options.tintMode.toUpperCase()],color:this._options.tintColor}),this._sprite.getTexture()&&this._sprite.getTexture()._baseTexture&&this._sprite.getTexture()._baseTexture.setDirty(!0)),this._renderTextureSprite.setFilters(n)}this._rendersToRenderTexture(e)?this._renderToRenderTexture(e):this._sprite.setTexture(this._inputTexture),this._updateSprite(t),this._applyFlip(),this._lastRenderedDimensions.copy(i),this._lastRenderedInputDimensions.copy(t),this._lastRenderedImage=r}_applyFlip(){const e=this._sprite.getScale(),{flipHorizontally:t,flipVertically:i}=this._options;(t&&e.x>0||!t&&e.x<0)&&(e.x*=-1),(i&&e.y>0||!i&&e.y<0)&&(e.y*=-1),this._sprite.setScale(e)}applyFlip(e){super.applyFlip(e);const t={rotation:this._options.rotation},i=-1*(t.rotation/Math.PI*180);switch(t.rotation=i*Math.PI/180,e){case"horizontal":t.flipHorizontally=!this._options.flipHorizontally,this.set(t);break;case"vertical":t.flipVertically=!this._options.flipVertically,this.set(t)}}_hasAdjustments(){const{adjustments:e}=this._options;return 0!==e.getBrightness()||1!==e.getSaturation()||1!==e.getContrast()}_onImageUpdate(){let e=this._options.image;const t=this._operation.getSDK().getRenderer();this._isSVG&&t.isOfType("webgl")&&(e=this._canvas),this._inputTexture&&(this._inputTexture.dispose(),this._inputTexture=null),this._inputTexture=$o.Texture.fromImage(e),this._identitySprite.setTexture(this._inputTexture),this._sprite.setTexture(this._inputTexture),this._renderTexture&&(this._renderTextureSprite.setTexture(this._inputTexture),this._renderTexture.resizeTo(this._inputTexture.getDimensions())),this.setDirty(!0)}scalesUniformly(){return"keepAspect"===this._options.resizeMode}setOption(e,t){let i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];super.setOption(e,t,i),"image"===e&&this._identitySprite&&this._onImageUpdate()}_onOptionsChange(){const e=this._dirtiness;for(const t in e)e[t]=!0}dispose(){super.dispose(),this._inputTexture&&(this._inputTexture.dispose(),this._inputTexture=null),this._tintFilter.dispose(),this._adjustmentsFilter.dispose(),this._options.adjustments.off("updated",this._onOptionsChange)}}).prototype.availableOptions={id:{type:"string",default:()=>ae.getUUID()},identifier:{type:"string",default:""},image:{type:"image",required:!0},position:{type:"vector2",default:$d.NULL},dimensions:{type:"vector2",default:$d.NULL},anchor:{type:"vector2",default:new $d(0,0)},pivot:{type:"vector2",default:new $d(.5,.5)},rotation:{type:"number",default:0},flipHorizontally:{type:"boolean",default:!1},flipVertically:{type:"boolean",default:!1},smoothDownscaling:{type:"boolean",default:!1},tintColor:{type:"color",default:Ye.WHITE},tintMode:{type:"string",default:"none",available:["none","solid","colorized"]},resizeMode:{type:"string",default:"keepAspect",available:["keepAspect","unrestricted"]},alpha:{type:"number",default:1},adjustments:{type:"configurable",structure:{brightness:{type:"number",default:0},saturation:{type:"number",default:1},contrast:{type:"number",default:1}}}},tp.type="sticker",ip=tp})),Wg=b((()=>{E(np=rp=class{constructor(e){this._seed=void 0===e?rp.TimeSeed():e}seed(e){this._seed=void 0===e?rp.TimeSeed():e}next(){let e=0|this._seed;const t=e/rp.SEED_DIVIDER|0,i=e%rp.SEED_DIVIDER|0;return e=rp.SEED_LOW_MULTIPLY*i-rp.SEED_HIGH_MULTIPLY*t,e<=0&&(e+=rp.MAX),-1===e&&(e=rp.MAX-1),this._seed=e,e}nextInRange(e,t){return void 0===t&&(t=e,e=0),e+this.next()%(t-e+1)}nextBool(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return this.nextInRange(e+t-1)>=e}static TimeSeed(){return Date.now()}pickNext(e){return Array.isArray(e)?e[this.next()%e.length]:null}},"MAX",2147483647),E(np,"SEED_DIVIDER",127773),E(np,"SEED_LOW_MULTIPLY",16807),E(np,"SEED_HIGH_MULTIPLY",2836)})),Vg=b((()=>{ya(),({Rectangle:op}=Xo),sp=class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.width=e,this.height=t}set(e,t){this.width=e,this.height=t}aspect(){return this.width/this.height}rectangle(e,t){return new op(e,t,this.width,this.height)}clone(){return new sp(this.width,this.height)}scale(e,t){return void 0===t&&(t=e),this.width*=e,this.height*=t,this}copy(e){return this.width=e.width,this.height=e.height,this}fitInWidthWithOther(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new sp;return this.copy(sp.fitTwoInWidth(e,this,t)[0]),this}static fitTwoInWidth(e,t,i){const r=t.width*i.height+t.height*i.width,n=i.height*e/r,o=t.width*n,s=t.height*n;return[new sp(o,s),new sp(e-o,s)]}}})),Gg=b((()=>{ya(),ap=k(P()),(lp=class extends Ct{async loadImages(e){return(0,ap.default)(e,(async e=>this.addImage(e.path,e.fullPath,e.image)))}addImage(e,t,i){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"anonymous";const n=this.getImages();return i?(n[e]={fullPath:t,image:i},Promise.resolve({fullPath:t,image:i})):new Promise(((o,s)=>{(i=new ms).onload=()=>{n[e]={fullPath:t,image:i},o({fullPath:t,image:i})},i.crossOrigin=ae.getCrossOriginValue(r),i.onerror=s,i.src=t}))}getImage(e){const t=this.getImages()[e];return t?t.image:null}getVariation(e){return this.getFonts()[e]}addFont(e,t){return this.getFonts()[e]=t,t}}).prototype.availableOptions={images:{type:"object",default:{}},fonts:{type:"object",default:{}}},cp=new lp})),qg=b((()=>{ya(),Vg(),Gg(),up=(e,t,i,r)=>{const n=i*(4*r)+4*t;return{r:e[n],g:e[n+1],b:e[n+2],a:e[n+3]}},hp=e=>e.a<=254,dp=(e,t,i)=>{let r=!0;for(let n=0;n<i;n++){const o=up(e,n,t,i);if(!hp(o)){r=!1;break}}return r},pp=function(e,t,i,r){let n=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=0;for(let s=r+1;s<i;s++)if(dp(e,s,t)){if(n)break}else o=s-r+1;return o},fp=function(e,t,i,r){let n=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=0;for(let s=r-1;s>=0;s--)if(dp(e,s,t)){if(n)break}else o=r-s;return o},gp=(e,t,i,r,n)=>{e.beginPath(),e.moveTo(t,i),e.lineTo(r,n),e.stroke()},mp=function(e,t,i,r){let n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"red";e.save(),e.strokeStyle=n,gp(e,i,t,r,t),e.restore()},yp=function(e,t,i,r,n){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"blue";e.save(),e.strokeStyle=o,e.strokeRect(t,i,r,n),e.restore()},(_p=class extends Ct{constructor(e){super(e);const t=cp.getVariation(this.getFontIdentifier());t||fe.warn("TextDesignFont: Unable to find font '".concat(this._fontIdentifier,"'")),this.set({fontVariation:t}),this._metrics=null,this._canvas=ae.createCanvas(),this._context=this._canvas.getContext("2d"),this._isDirty=!0}_onOptionsChange(){this._isDirty=!0}setOption(e,t){let i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];super.setOption(e,t,i,r),"fontIdentifier"!==e||r||this.updateFontVariation()}updateFontVariation(){const e=cp.getVariation(this.getFontIdentifier());return e||fe.warn("TextDesignFont: Unable to find font '".concat(this._fontIdentifier,"'")),this.setFontVariation(e),e}setOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._options={...this._options,...e},this._isDirty=!0}_applyTextOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._context,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{fontSize:i,fontVariation:r,lineHeight:n,textColor:o,alignment:s}={...this._options,...t},{fontStyle:a,fontWeight:l,fontFamily:c}=r.serializeOptions();e.font="".concat(a," ").concat(l," ").concat(i,"px / ").concat(n," ").concat(c),e.fillStyle=o,e.textBaseline="alphabetic",e.textAlign=s||"left"}getTextMetrics(){return this._metrics&&!this._isDirty||this._calculateTextMetrics(),{...this._metrics}}getSizeValue(){return this._metrics&&!this._isDirty||this._calculateTextMetrics(),new sp(this._metrics.width,this._metrics.height)}fitWidth(e){if(!this.getFontVariation())return void fe.warn("TextDesignFont#fitText: missing font variation");this._applyTextOptions(this._context,{fontSize:50});const t=e/this._context.measureText(this.getText()).width,i=Math.floor(50*t);return this.setFontSize(i),this._calculateTextMetrics(),this.getTextMetrics()}fitHeight(e){if(!this.getFontVariation())return void fe.warn("TextDesignFont#fitText: missing font variation");const t=e/this._calculateTextMetrics({fontSize:50}).height,i=Math.floor(50*t);return this.setFontSize(i),this._calculateTextMetrics(),this.getTextMetrics()}_calculateTextMetrics(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=this._canvas,i=this._context,r={...this._options,...e},n=this.getText();this._applyTextOptions(i,r);const o=Math.ceil(i.measureText(n).width),s=Math.floor(o+2*r.fontSize),a=Math.floor(3*r.fontSize);t.width=s,t.height=a;const l=Math.floor(r.fontSize),c=Math.floor(.6*a);this._applyTextOptions(i,r),i.fillText(n,l,c);const u=i.getImageData(0,0,t.width,t.height).data,h=fp(u,s,a,c,this._options.excludeAccents),d=pp(u,s,a,c,this._options.excludeAccents),p=o,f=h+d;return this._metrics={width:p,height:f,ascender:h,descender:d},this._isDirty=!1,{...this._metrics}}draw(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._context,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3?arguments[3]:void 0,n=arguments.length>4&&void 0!==arguments[4]&&arguments[4];e.save(),this._metrics&&!this._isDirty||this._calculateTextMetrics(),this._applyTextOptions(e,r),e.fillText(this.getText(),t,i+this._metrics.ascender),n&&(yp(e,t,i,this._metrics.width,this._metrics.height),mp(e,i+this._metrics.ascender,t,t+this._metrics.width)),e.restore()}}).prototype.availableOptions={text:{type:"string",default:""},fontIdentifier:{type:"string",default:"imgly_font_open_sans_bold"},fontVariation:{type:"object",default:null},lineHeight:{type:"number",default:1},fontSize:{type:"number",default:22},textColor:{type:"string",default:"black"},strokeStyle:{type:"string",default:"black"},outlineWidth:{type:"number",default:0},textBaseline:{type:"string",default:"alphabetic"},excludeAccents:{type:"boolean",default:!1}}})),Xg=b((()=>{ya(),(vp=class extends Ct{}).prototype.availableOptions={text:{type:"string",default:""},frame:{type:"object",default:null},font:{type:"object",default:null}}})),Yg=b((()=>{ya(),(bp=class extends Ct{}).prototype.availableOptions={tintColor:{type:"color",default:Ye.BLACK},textColor:{type:"color",default:Ye.BLACK},alignment:{type:"string",default:"left",available:["left","center","right"]},lineSpacing:{type:"number",default:1},fontIdentifier:{type:"string",default:"imgly_font_open_sans_bold"}}})),Qg=b((()=>{ya(),Vg(),Yg(),({Rectangle:xp}=Xo),(wp=class extends Ct{constructor(e){super(e),this.setSize(new sp(this.getWidth(),0)),this.serverImageSmoothingFix=!1}_getFrame(){const e=this.getSize();return new xp(0,0,e.width,e.height)}_getTextFrame(){return this._getFrame()}_getTextFrameForElement(e){return e.getFrame().clone()}_calculateLayoutElements(){fe.warn("TextDesignRow is an abstract class.")}_getLayoutElements(){return this._options.elements.length<=0&&this.layout(),this.getElements()}_fontSize(e){return fe.warn("TextDesignRow#_fontSize not implemented. @TODO: Is it necessary?"),0}layout(){return this.setElements(this._calculateLayoutElements()),this}textFrame(e,t){return e.getFrame().clone()}willRender(e){}didRender(e){}render(e){e.save(),this._getLayoutElements().forEach((t=>{const{text:i,frame:r,font:n}=t.serializeOptions(),o=this.getAttributes();n.draw(e,r.x,r.y,{textColor:o.getTextColor().toRGBA(),alignment:o.getAlignment()})})),e.restore()}}).prototype.availableOptions={words:{type:"object",default:null},width:{type:"number",default:100},attributes:{type:"configurable",default:new bp},shearingAngle:{type:"number",default:0},elements:{type:"array",default:[]},size:{type:"object",default:null}}})),Kg=b((()=>{ya(),qg(),Xg(),Qg(),({Rectangle:Sp}=Xo),E(Cp=kp=class extends wp{_calculateLayoutElements(){if(this.getWords().size()<=0)return[];const{orientation:e,width:t,size:i,relativeRowOffset:r,attributes:n}=this.serializeOptions(),{fontIdentifier:o}=n,s=this.getWords().joined(3),a=e===kp.Orientations.Left?[s[0],s[1],s[2]]:[s[1],s[2],s[0]],l=ae.Array.range(0,2).map((e=>new _p({text:a[e],fontIdentifier:o,fontSize:60}))),c=l.map((e=>e.getSizeValue())),u=c[0].width>c[1].width?0:1,h=(u+1)%2;l[h].fitWidth(c[u].width),c[h]=l[h].getSizeValue();const d=(c[h].height+c[u].height)/(1-r),p=new _p({text:a[2],fontIdentifier:o});p.fitHeight(d);const f=p.getSizeValue().width,g=c[u].width,m=t/(f+g),y=m*f,_=m*g,v=m*d,b=r*v;i.set(t,v);const x=ae.Array.range(0,3).map((e=>new _p({text:a[e],fontIdentifier:o})));x[0].fitWidth(_),x[1].fitWidth(_),x[2].fitWidth(y);const w=e===kp.Orientations.Left?0:y,S=[w,w,e===kp.Orientations.Left?_:0],k=[0,x[0].getSizeValue().height+b,0],C=x.map(((e,t)=>new Sp(S[t],k[t],e.getSizeValue().width,e.getSizeValue().height)));return x.map(((e,t)=>new vp({text:a[t],font:x[t],frame:C[t]})))}},"Orientations",{Right:"RIGHT",Left:"LEFT"}),Cp.prototype.availableOptions={...wp.prototype.availableOptions,orientation:{type:"string",default:Cp.Orientations.Left,available:[Cp.Orientations.Right,Cp.Orientations.Left]},relativeRowOffset:{type:"number",default:.05}}})),Zg=b((()=>{ya(),({Rectangle:Tp}=Xo),Ep=class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;this.top=e,this.left=t,this.bottom=i,this.right=r}multiply(e){this.top*=e,this.left*=e,this.bottom*=e,this.right*=e}toObject(){return{...this}}equals(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Math.abs(e.top-this.top)<=t&&Math.abs(e.left-this.left)<=t&&Math.abs(e.bottom-this.bottom)<=t&&Math.abs(e.right-this.right)<=t}scale(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1?arguments[1]:void 0;return void 0===t&&(t=e),this.top*=t,this.bottom*=t,this.left*=e,this.right*=e,this}clone(){return new Ep(this.top,this.left,this.bottom,this.right)}applyToRectangle(e){return new Tp(e.x+this.left,e.y+this.top,e.width-this.left-this.right,e.height-this.top-this.bottom)}static get ZERO(){return new Ep(0,0,0,0)}}})),Jg=b((()=>{ya(),qg(),Zg(),Xg(),Qg(),(Dp=class extends wp{_calculateLayoutElements(){const{attributes:e,imageInsets:t,size:i,width:r}=this.serializeOptions(),n=this.getWords().joined(1)[0]||"",{fontIdentifier:o}=e,s=new _p({text:n,fontIdentifier:o});s.fitWidth(this._getTextFrame().width);const a=s.getTextMetrics().height+t.top+t.bottom;i.height=a;const l=this._getTextFrame();return[new vp({text:n,frame:l,font:s})]}}).prototype.availableOptions={...wp.prototype.availableOptions,imageInsets:{type:"object",default:new Ep}}})),$g=b((()=>{ya(),({Rectangle:Ip,Vector2:Rp}=Xo),Fp=(e,t,i,r)=>{e.drawImage(t,i.x,i.y,i.width,i.height,r.x,r.y,r.width,r.height)},Ap=function(e,t,i){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"source-over",n=arguments.length>4&&void 0!==arguments[4]&&arguments[4];e.save(),e.fillStyle=i.toRGBA(),e.globalCompositeOperation=r,e.fillRect(t.x,t.y,t.width,t.height),n&&(e.strokeStyle=i.toRGBA(),e.strokeWith=1,e.strokeRect(t.x,t.y,t.width,t.height)),e.restore()},Op=function(e,t,i,r){let n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"source-over",o=arguments.length>5&&void 0!==arguments[5]&&arguments[5];e.save(),e.fillStyle=r.toRGBA(),e.globalCompositeOperation=n,i=Math.min(Math.max(i,0),.5*Math.min(t.height,t.width));const s=t.x,a=t.x+t.width,l=t.y,c=t.y+t.height;e.beginPath(),e.moveTo(s+i,l),e.arcTo(a,l,a,c,i),e.arcTo(a,c,s,c,i),e.arcTo(s,c,s,l,i),e.arcTo(s,l,a,l,i),e.closePath(),e.fill(),o&&e.stroke(),e.restore()},Mp=function(e,t,i){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:4;e.save(),e.strokeStyle=i.toRGBA(),e.lineWidth=r,e.strokeRect(t.x,t.y,t.width,t.height),e.restore()},Pp=function(e,t,i){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"source-over";e.save();const n=t.height/2,o=t.y+n;let s=t.x+n;const a=t.x+t.width;for(e.fillStyle=i.toRGBA(),e.globalCompositeOperation=r;s<a;)e.beginPath(),e.arc(s,o,n,0,2*Math.PI),e.fill(),s+=4*n;e.restore()},zp=(e,t)=>{const i=t.applyToRectangle(e),{x:r,y:n,width:o,height:s}=e;return{corners:[Ip.FromDiagonalPoints(new Rp(0,0),new Rp(i.x,i.y)),Ip.FromDiagonalPoints(new Rp(0,i.y+i.height),new Rp(i.x,s)),Ip.FromDiagonalPoints(new Rp(i.x+i.width,i.y+i.height),new Rp(o,s)),Ip.FromDiagonalPoints(new Rp(i.x+i.width,0),new Rp(o,i.y))].map((e=>e.translate(r,n))),bars:[Ip.FromDiagonalPoints(new Rp(i.x,0),new Rp(i.x+i.width,i.y)),Ip.FromDiagonalPoints(new Rp(0,i.y),new Rp(i.x,i.y+i.height)),Ip.FromDiagonalPoints(new Rp(i.x,i.y+i.height),new Rp(i.x+i.width,s)),Ip.FromDiagonalPoints(new Rp(i.x+i.width,i.y),new Rp(o,i.y+i.height))].map((e=>e.translate(r,n))),center:i}},Bp=(e,t,i,r)=>{const n=t.naturalWidth||t.width,o=t.naturalHeight||t.height,s=zp(new Ip(0,0,n,o),r),a=zp(i,r);Fp(e,t,s.center,a.center),ae.Array.zip(s.corners,a.corners).forEach((i=>{let[r,n]=i;return Fp(e,t,r,n)})),ae.Array.zip(s.bars,a.bars).forEach((i=>{let[r,n]=i;return Fp(e,t,r,n)}))},Lp=function(e,t,i,r){let n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"source-atop";if(e.save(),r&&(e.globalAlpha=r.a),e.drawImage(t,i.x,i.y,i.width,i.height),r&&(e.globalAlpha=1),r){const t=r.clone();t.a=1,Ap(e,i,t,n)}e.restore()}})),em=b((()=>{ya(),$g(),Zg(),Jg(),(Up=class extends Dp{_getTextColor(){return this.getAutoAdjustTextColor()&&!this.getIsMasked()?this.getBackgroundColor().equals(Ye.WHITE)?Ye.BLACK:Ye.WHITE:this.getAttributes().getTextColor().clone()}_getTextFrame(){return this.getImageInsets().applyToRectangle(this._getFrame())}_getTextFrameForElement(e){const t=super._getTextFrameForElement(e),i=this.getImageInsets();return(this.getIsMasked()||this.getIsUsedInInvertedLayout())&&(t.y-=i.top),t}willRender(e){this.getAttributes().setTextColor(this._getTextColor());const t=this.getImage();if(t){const i=this.getCapInsets(),r=this._getFrame();i&&!i.equals(Ep.ZERO)?Bp(e,t,r,i):e.drawImage(t,r.x,r.y,r.width,r.height),Ap(e,r,this.getBackgroundColor(),"source-atop",!0)}(this.getIsMasked()||this.getIsUsedInInvertedLayout())&&t&&(e.save(),e.globalCompositeOperation="destination-out")}didRender(e){super.didRender(e),(this.getIsMasked()||this.getIsUsedInInvertedLayout())&&e.restore()}}).prototype.availableOptions={...Dp.prototype.availableOptions,image:{type:"image",default:null},capInsets:{type:"object",default:new Ep},backgroundColor:{type:"color",default:Ye.WHITE},autoAdjustTextColor:{type:"boolean",default:!0},isMasked:{type:"boolean",default:!0},isUsedInInvertedLayout:{type:"boolean",default:!1}}})),tm=b((()=>{ya(),Zg(),(Np=class extends Ct{insetsForWidth(e){return this.getRelativeInsets().clone().scale(e)}static get Small(){return new Np({imagePath:"text-design/images/imgly_text_design_asset_banderole_small.png",fontIdentifier:"imgly_font_outfit_bold",relativeInsets:new Ep(.05,.2,.05,.2)})}static get Rectangle(){return new Np({imagePath:"text-design/images/imgly_text_design_asset_black_background.png",fontIdentifier:"imgly_font_outfit_bold",relativeInsets:new Ep(.05,.05,.05,.05),needsImageSmoothingFix:!0})}static get Celebrate1(){return new Np({imagePath:"text-design/images/imgly_text_design_asset_celebrate_01.png",fontIdentifier:"imgly_font_rasa_500",relativeInsets:new Ep(.05,.2,.05,.2)})}static get Celebrate2(){return new Np({imagePath:"text-design/images/imgly_text_design_asset_celebrate_02.png",fontIdentifier:"imgly_font_rasa_500",relativeInsets:new Ep(.05,.2,.05,.2)})}}).prototype.availableOptions={image:{type:"image",default:null},imagePath:{type:"string",default:null},relativeInsets:{type:"object",default:new Ep},fontIdentifier:{type:"string",default:"imgly_font_open_sans_bold"},needsImageSmoothingFix:{type:"boolean",default:!1}}})),im=b((()=>{ya(),Zg(),Vg(),(Hp=class extends Ct{getSize(){const e=this.getRows(),t=this.getWidth(),i=e.length-1;let r=e.reduce(((e,t)=>e+t.getSize().height),0);r+=(i+1)*this.getRelativeLineSpacing()*t;const n=this.getRelativeInsets().clone().scale(t);return r+=n.top+n.bottom,new sp(t,r)}}).prototype.availableOptions={text:{type:"string",default:""},lines:{type:"array",default:[]},relativeInsets:{type:"object",default:new Ep},relativeLineSpacing:{type:"number",default:0},rows:{type:"object",default:[]},background:{type:"object",default:null},width:{type:"number",default:0}}})),rm=b((()=>{ya(),jp=class{constructor(e){this.words=[],e&&this.splitIntoWords(e)}splitIntoWords(e){return this.words=e.match(/\S+/g)||[],[...this.words]}get(){return[...this.words]}getWord(e){return this.words[e]}set(e){return this.words=[...e],this}slice(e,t){return jp.fromWords(this.words.slice(e,t))}getLowerCase(){return this.words.map((e=>e.toLowerCase()))}getUpperCase(){return this.words.map((e=>e.toUpperCase()))}size(){return this.words.length}countNumberOfCharacters(){return this.words.reduce(((e,t)=>e+t.length),0)}joined(e){const t=this.size(),i=Math.floor(t/e),r=t%e;let n=0,o=0;return ae.Array.range(0,e).map((e=>{n=o;const s=i+(e<r?1:0);return o=Math.min(n+s,t),ae.Array.range(n,o).reduce(((e,t)=>e+(t===n?"":" ")+this.words[t]),"")}))}static fromWords(e){const t=new jp;return t.words=[...e],t}}})),nm=b((()=>{ya(),Wg(),Zg(),Jg(),Yg(),im(),rm(),E(Wp=class extends Ct{constructor(e){super(e),this._relativeInsets=new Ep,this._background=null,this._fontRandomizer=new np(0),this._lineNumberRandomizer=new np(0),this._wordsPerLineRandomizer=new np(0),this._seedPool=[this._fontRandomizer,this._lineNumberRandomizer,this._wordsPerLineRandomizer]}seed(e){this._seedPool.forEach((t=>t.seed(e)))}getImagePaths(){return[]}onImagesLoaded(){}getMaximumNumberOfTries(){return 10}getMinLineCountOfRandom(){return 4}getRandomAdditionalLinePercentage(){return.4}_fontForRow(e,t){return this._fontRandomizer.pickNext(this.getFontIdentifiers())}_modifiedText(e){return e.replace("\n"," ").replace("\t"," ")}_minimumNumberOfLines(e){return Math.ceil(Math.sqrt(e.size()))}_maximumNumberOfLines(e){return e.size()}_calculatedNumberOfLines(e){let t=this._minimumNumberOfLines(e);if(e.size()>=this.getMinLineCountOfRandom()){const e=Math.floor(Math.max(1,t*this.getRandomAdditionalLinePercentage()));t+=this._lineNumberRandomizer.nextInRange(0,e)}return Math.min(t,this._maximumNumberOfLines(e))}_randomizedNumberOfWordsPerLine(e,t){if(e>t)return fe.warn("TextDesign#_randomizedNumberOfWordsPerLine: Invalid number of lines"),t;const i=ae.Array.repeat(1,e);return ae.Array.range(e,t).forEach((t=>{const r=this._wordsPerLineRandomizer.nextInRange(0,e-1);i[r]+=1})),i}_textLines(e){const t=new jp(e),i=this._calculatedNumberOfLines(t);return this._randomizedNumberOfWordsPerLine(i,t.size()).reduce(((e,i)=>({index:e.index+i,lines:[...e.lines,t.slice(e.index,Math.min(e.index+i,t.size()))]})),{index:0,lines:[]}).lines}_validTextLines(e){let t=this._textLines(e),i=0;do{if(i=ae.Array.findIndex(t,(e=>e.countNumberOfCharacters()<3)),i>=0){const e=t[i-1],r=t[i+1];(e?e.countNumberOfCharacters():Number.MAX_SAFE_INTEGER)<(r?r.countNumberOfCharacters():Number.MAX_SAFE_INTEGER)&&e?(e.words=[...e.words,...t[i].words],t=[...t.slice(0,i),...t.slice(i+1)]):r&&(r.words=[...t[i].words,...r.words],t=[...t.slice(0,i),...t.slice(i+1)])}}while(i>-1&&t.length>1);return t}_modifiedLines(e){return e}_getBackground(){return this._background}generateLayoutData(e,t){const i=this._modifiedText(e),r=this._modifiedLines(this._validTextLines(i)),n=t*(1-this._relativeInsets.left-this._relativeInsets.right),o=this._layoutRows(r,n);return new Hp({text:i,relativeInsets:this._relativeInsets.clone(),relativeLineSpacing:this.getRelativeLineSpacing(),background:this._background||this._getBackground(),lines:r,rows:o,width:t})}_layoutRows(e,t){return e.map(((e,i)=>this._randomLayoutRow(e,i,t,new bp({fontIdentifier:this._fontForRow(i,e)})).layout()))}_randomLayoutRow(e,t,i,r){return new Dp({words:e,width:i,attributes:r})}},"defaultFontIdentifiers",[]),E(Wp,"identifier","textdesign"),Wp.prototype.availableOptions={fontIdentifiers:{type:"array",default:[]},relativeLineSpacing:{type:"number",default:0}}})),om=b((()=>{ya(),Wg(),Kg(),Jg(),em(),Yg(),tm(),Gg(),nm(),Vp=class extends Wp{constructor(){super(...arguments),E(this,"getImagePaths",(()=>{const e=this.getBanderoles();return e&&e.map((e=>e.getImagePath()))||[]})),E(this,"onImagesLoaded",(()=>{const e=this.getBanderoles();e&&e.forEach((e=>{const t=cp.getImage(e.getImagePath());t?e.setImage(t):fe.warn("TextDesignBlocks#onImagesLoaded: Image not found '".concat(e.getImagePath(),"'"))}))})),this._rowTypeLessThan3WordsRandomizer=new np(0),this._rowTypeMoreThan3WordsRandomizer=new np(0),this._banderolesRandomizer=new np(0),this._seedPool=[...this._seedPool,this._rowTypeLessThan3WordsRandomizer,this._rowTypeMoreThan3WordsRandomizer,this._banderolesRandomizer]}_modifiedText(e){return super._modifiedText(e).toUpperCase()}generateLayoutData(e,t){return this._options.hasMaskedText=!1,super.generateLayoutData(e,t)}_randomLayoutRow(e,t,i,r){if(e.size()<3){const t=0===this._rowTypeLessThan3WordsRandomizer.nextInRange(0,2);return this._layoutRow(e,i,r,t)}const n=this._rowTypeMoreThan3WordsRandomizer.nextInRange(0,3);switch(n){case 0:return new Cp({words:e,width:i,attributes:r,orientation:Cp.Orientations.Left});case 1:return new Cp({words:e,width:i,attributes:r,orientation:Cp.Orientations.Right});case 2:return this._layoutRow(e,i,r,!0);case 3:return new Dp({words:e,width:i,attributes:r});default:throw new Error("TextDesignBlocks#_randomLayoutRow: Invalid randomValue generated: ".concat(n,"."))}}_layoutRow(e,t,i,r){if(this.getHasMaskedText()&&(r=!1),r){this.setHasMaskedText(!0);const i=this._banderolesRandomizer.pickNext(this.getBanderoles()),r=new Up({words:e,width:t,attributes:new bp({alignment:"left",fontIdentifier:i.getFontIdentifier()}),image:i.getImage(),imageInsets:i.insetsForWidth(t),capInsets:null,backgroundColor:Ye.WHITE});return i.getNeedsImageSmoothingFix()&&(r.serverImageSmoothingFix=!0),r}return new Dp({words:e,width:t,attributes:i})}},E(Vp,"defaultFontIdentifiers",["imgly_font_outfit_bold"]),E(Vp,"identifier","imgly_text_design_blocks"),E(Vp,"defaultBanderoles",[Np.Rectangle,Np.Small]),Vp.prototype.availableOptions={...Wp.prototype.availableOptions,fontIdentifiers:{type:"array",default:Vp.defaultFontIdentifiers},relativeLineSpacing:{type:"number",default:.025/3},hasMaskedText:{type:"boolean",default:!1},banderoles:{type:"array",default:Vp.defaultBanderoles}}})),sm=b((()=>{ya(),Jg(),om(),E(Gp=class extends Vp{constructor(){super(...arguments),this._exclusiveFont=null}generateLayoutData(e,t){return this._exclusiveFont=this._fontRandomizer.pickNext(this.getFontIdentifiers()),super.generateLayoutData(e,t)}_fontForRow(e,t){return this._exclusiveFont||super._fontForRow(e,t)}_layoutRow(e,t,i,r){return new Dp({words:e,width:t,attributes:i})}},"defaultFontIdentifiers",["imgly_font_ostrich_sans_heavy","imgly_font_ostrich_sans_bold","imgly_font_ostrich_sans_black"]),E(Gp,"identifier","imgly_text_design_blocks_condensed"),Gp.prototype.availableOptions={...Vp.prototype.availableOptions,fontIdentifiers:{type:"array",default:Gp.defaultFontIdentifiers}}})),am=b((()=>{ya(),$g(),Vg(),Xg(),Qg(),({Rectangle:qp}=Xo),E(Yp=Xp=class extends wp{constructor(){super(...arguments),this.setSize(new sp(this.getWidth(),this.getHeight()))}_calculateLayoutElements(){return[new vp({frame:this._getTextFrame()})]}render(e){const t=this._getFrame(),i=this.getType(),r=this.getAttributes().getTextColor(),n=t.height/3;let o=new qp(t.x,t.y,t.width,n),s=new qp(t.x,t.y+2*n,t.width,n);switch(i){case Xp.FormType.Rect:Ap(e,t,r);break;case Xp.FormType.DoubleRect:Ap(e,o,r),Ap(e,s,r);break;case Xp.FormType.DoubleRectFirstPunctuated:Pp(e,o,r),Ap(e,s,r);break;case Xp.FormType.DoubleRectSecondPunctuated:Ap(e,o,r),Pp(e,s,r);break;case Xp.FormType.LongLine:{const i=t.height/2,n=new qp(t.x,t.y,t.width,i);Op(e,n,.5*n.height,r);break}case Xp.FormType.LongAndShortLine:{const i=.2*t.height,n=.75*i;o=new qp(t.x,t.y+i,t.width,i);const a=t.x+.25*t.width,l=t.y+t.height-n;s=new qp(a,l,.5*t.width,n),Op(e,o,.5*o.height,r),Op(e,s,.5*s.height,r);break}}}},"FormType",{Rect:"RECT",DoubleRect:"DOUBLE_RECT",DoubleRectFirstPunctuated:"DOUBLE_RECT_FIRST_PUNCTUATED",DoubleRectSecondPunctuated:"DOUBLE_RECT_SECOND_PUNCTUATED",LongLine:"LONG_LINE",LongAndShortLine:"LONG_AND_SHORT_LINE"}),Yp.prototype.availableOptions={...wp.prototype.availableOptions,height:{type:"number",default:100},type:{type:"string",default:Yp.FormType.Rect,available:ae.values(Yp.FormType)}}})),lm=b((()=>{ya(),Jg(),am(),om(),E(Qp=class extends Vp{_layoutRow(e,t,i,r){return new Dp({words:e,width:t,attributes:i})}_layoutRows(e,t){const i=super._layoutRows(e,t),r=.08*t;return[new Yp({width:t,height:.032*t,type:Yp.FormType.LongLine,shearingAngle:0}).layout(),...i,new Yp({width:t,height:r,type:Yp.FormType.LongAndShortLine,shearingAngle:0}).layout()]}},"defaultFontIdentifiers",["imgly_font_sue_ellen_francisco"]),E(Qp,"identifier","imgly_text_design_blocks_light"),Qp.prototype.availableOptions={...Vp.prototype.availableOptions,fontIdentifiers:{type:"array",default:Qp.defaultFontIdentifiers}}})),cm=b((()=>{ya(),Jg(),Yg(),lm(),E(Kp=class extends Qp{_layoutRows(e,t){return e.map(((e,i)=>this._randomLayoutRow(e,i,t,new bp({fontIdentifier:this._fontForRow(i,e)})).layout()))}_layoutRow(e,t,i,r){return new Dp({words:e,width:t,attributes:i})}},"defaultFontIdentifiers",["imgly_font_sue_ellen_francisco"]),E(Kp,"identifier","imgly_text_design_blocks_light-v3_1_0"),Kp.prototype.availableOptions={...Qp.prototype.availableOptions,fontIdentifiers:{type:"array",default:Kp.defaultFontIdentifiers}}})),um=b((()=>{ya(),qg(),$g(),Vg(),Xg(),Jg(),({Rectangle:Zp}=Xo),E($p=Jp=class extends Dp{getImageSize(){const e=this.getLeftImage(),t=this.getRightImage(),i=this.getWords(),r=this.getAttributes().getFontIdentifier(),n=e?new sp(e.width,e.height):new sp,o=i.joined(1)[0];if(!o)return n;const s=new _p({text:o,fontIdentifier:r,fontSize:50}).getSizeValue(),a=t?2:1;n.scale(a,1);const l=n.clone().fitInWidthWithOther(this._getFrame().width,s);return l.scale(1/a,1),l}_getTextFrame(){const e=super._getTextFrame().clone(),t=this.getImageSize(),i=this.getRightImage(),r=this.getImagePosition();return i?(e.x+=t.width,e.width-=2*t.width):r===Jp.ImagePosition.Left&&(e.x+=t.width),e}_calculateLayoutElements(){const e=super._calculateLayoutElements(),t=this._getFrame(),i=this.getRightImage(),r=this.getImageSize(),n=this.getImagePosition(),o=this._getTextFrame(),s=this.getAttributes().getFontIdentifier(),a=new _p({text:"stickerClock",fontIdentifier:s});a.fitWidth(this._getTextFrame().width);const l=(new Zp).set(t.x,t.y,r.width,r.height);if(i||n!==Jp.ImagePosition.Right||(l.x+=o.width),e.push(new vp({text:"stickerClock",frame:l,font:a})),i){const t=e[0];if(t){const i=l.clone();i.translate(t.getFrame().width+i.width,0),e.push(new vp({text:"stickerClock",frame:i,font:a}))}}return e}render(e){const t=this._getLayoutElements(),i=this.getAttributes(),r=i.getTextColor(),n=this.getLeftImage(),o=this.getRightImage(),s=t[0],a=t[1],{font:l}=s.serializeOptions(),c=this._getTextFrameForElement(s);if(l.draw(e,c.x,c.y,{textColor:i.getTextColor().toRGBA(),alignment:i.getAlignment()}),n){const t=a.getFrame();e.drawImage(n,t.x,t.y,t.width,t.height),Ap(e,t,r,"source-atop")}if(t.length>2){const i=t[2].getFrame().clone();e.drawImage(o,i.x,i.y,i.width,i.height),Ap(e,i,r,"source-atop")}}},"ImagePosition",{Left:"LEFT",right:"RIGHT"}),$p.prototype.availableOptions={...Dp.prototype.availableOptions,leftImage:{type:"image",default:null},rightImage:{type:"image",default:null},imagePosition:{type:"string",default:$p.ImagePosition.Left,available:[$p.ImagePosition.Left,$p.ImagePosition.Right]}}})),hm=b((()=>{ya(),Jg(),um(),tm(),rm(),om(),E(tf=ef=class extends Vp{_fontForRow(e,t){const i=this.getFontIdentifiers();return i[e%i.length]}_minimumNumberOfLines(e){return Math.max(Math.floor(.7*super._minimumNumberOfLines(e)),1)}_maximumNumberOfLines(e){return Math.max(Math.floor(e.countNumberOfCharacters()/5),1)}_randomLayoutRow(e,t,i,r){return this._createSingleRow(ef.RowType.Single,e,i,r)}_createSingleRow(e,t,i,r){const n=r.getFontIdentifier(),o="imgly_font_allison_regular"===n||"imgly_font_handycheera_regular"===n?(new jp).set(t.getLowerCase()):t;switch(e){case ef.RowType.Single:return new Dp({words:o,width:i,attributes:r});case ef.RowType.SingleImage:return new $p({words:o,width:i,attributes:r});default:return fe.warn("TextDesignCelebrate#_createSingleRow: Invalid row type '".concat(e,"'")),null}}},"defaultFontIdentifiers",["imgly_font_handycheera_regular","imgly_font_rasa_regular"]),E(tf,"defaultBanderoles",[Np.Celebrate1,Np.Celebrate2]),E(tf,"identifier","imgly_text_design_celebrate"),E(tf,"RowType",{Single:"SINGLE",SingleImage:"SINGLE_IMAGE"}),tf.prototype.availableOptions={...Vp.prototype.availableOptions,relativeLineSpacing:{type:"number",default:.01875},fontIdentifiers:{type:"array",default:tf.defaultFontIdentifiers},banderoles:{type:"array",default:tf.defaultBanderoles}}})),dm=b((()=>{ya(),qg(),rm(),$g(),Vg(),Yg(),Xg(),Qg(),E(rf=class extends wp{constructor(){super(...arguments),this.setSize(new sp(this.getWidth(),this.getHeight()))}_getImageFrame(){const e=this._getTextFrame().clone(),t=this.getImage();if(this.getDrawingModeAspectFit()&&t){const i=Math.min(e.width/t.width,e.height/t.height),r=t.width*i,n=t.height*i;e.x+=(e.width-r)/2,e.y+=(e.height-n)/2,e.width=r,e.height=n}return e}_calculateLayoutElements(){return[new vp({text:"",frame:this._getImageFrame(),font:new _p})]}render(e){const t=this.getImage(),i=this._getImageFrame(),r=this.getAttributes().getTextColor();Lp(e,t,i,r)}},"RowImages",{decorative1:"text-design/images/imgly_text_design_asset_decorative_01.png",decorative2:"text-design/images/imgly_text_design_asset_decorative_02.png",decorative3:"text-design/images/imgly_text_design_asset_decorative_05.png",decorative4:"text-design/images/imgly_text_design_asset_decorative_06.png",celebrate1:"text-design/images/imgly_text_design_asset_celebrate_03.png",celebrate2:"text-design/images/imgly_text_design_asset_celebrate_04.png",celebrate3:"text-design/images/imgly_text_design_asset_celebrate_05.png"}),rf.prototype.availableOptions={...wp.prototype.availableOptions,words:{type:"object",default:new jp},height:{type:"number",default:0},image:{type:"image",default:null},imagePath:{type:"string",default:rf.RowImages.decorative1},drawingModeAspectFit:{type:"boolean",default:!1},attributes:{type:"configurable",default:new bp}}})),pm=b((()=>{ya(),Wg(),Jg(),um(),dm(),tm(),Gg(),rm(),om(),hm(),nf=class extends tf{constructor(){super(...arguments),E(this,"getImagePaths",(()=>{const e=this.getBanderoles();return[...e&&e.map((e=>e.getImagePath()))||[],...this._celebrateTypes]})),E(this,"onImagesLoaded",(()=>{const e=this.getBanderoles();e&&e.forEach((e=>{const t=cp.getImage(e.getImagePath());t?e.setImage(t):fe.warn("TextDesignBlocks#onImagesLoaded: Image not found '".concat(e.getImagePath(),"'"))}))})),this._celebrateTypes=[rf.RowImages.celebrate1,rf.RowImages.celebrate2,rf.RowImages.celebrate3],this._exclusiveFont=null,this._typeRandomizer=new np(0),this._useMaskedRandomizer=new np(0),this._seedPool.push(this._typeRandomizer),this._seedPool.push(this._useMaskedRandomizer)}_fontForRow(e,t){const i=this.getFontIdentifiers();return i[e%(i.length-1)]}_layoutRows(e,t){const i=this._typeRandomizer.pickNext(this._celebrateTypes),r=cp.getImage(i);r||fe.warn("TextDesignCelebrateSimple#_layoutRows: Image not fount '".concat(i,"'"));return[new rf({width:t,height:.5*t,drawingModeAspectFit:!0,image:r}).layout(),...super._layoutRows(e,t)]}_randomLayoutRow(e,t,i,r){const n=e.countNumberOfCharacters();n<4&&r.setFontIdentifier("imgly_font_rasa_regular");const o=this._useMaskedRandomizer.nextBool(2,1);return n<13&&o&&!this.getHasMaskedText()?this._layoutRow(e,i,r,!0):super._randomLayoutRow(e,t,i,r)}},E(nf,"identifier","imgly_text_design_celebrate_simple"),E(nf,"defaultFontIdentifiers",["imgly_font_allison_regular","imgly_font_rasa_regular","imgly_font_rasa_500"]),nf.prototype.availableOptions={...tf.prototype.availableOptions,fontIdentifiers:{type:"array",default:nf.defaultFontIdentifiers}}})),fm=b((()=>{ya(),(of=class extends Ct{render(e,t,i,r,n){fe.warn("TextDesignBackground#render: Abstract class")}}).prototype.availableOptions={}})),gm=b((()=>{ya(),Gg(),$g(),fm(),({Rectangle:sf}=Xo),(af=class extends of{getImagePaths(){const{topImagePath:e,bottomImagePath:t,leftImagePath:i,rightImagePath:r}=this._options;return[e,t,i,r].filter((e=>""!==e))}render(e,t,i,r,n){const o=i.clone().scale(t.width),s=t.rectangle(0,0),a=cp.getImage(this.getTopImagePath()),l=cp.getImage(this.getLeftImagePath()),c=cp.getImage(this.getRightImagePath()),u=cp.getImage(this.getBottomImagePath());if(a){const t=a.width/a.height,i=o.top*this.getTopImageFillRate(),n=i*t,l=s.width/2,c=new sf(l-n/2,0,n,i);Lp(e,a,c,r)}if(u){const t=u.width/u.height,i=o.bottom*this.getBottomImageFillRate(),n=i*t,a=s.width/2,l=new sf(a-n/2,s.height-i,n,i);Lp(e,u,l,r)}if(l){const t=l.width/l.height,i=o.left*this.getLeftImageFillRate(),n=i/t,a=s.height/2,c=new sf(0,a-n/2,i,n);Lp(e,l,c,r)}if(c){const t=c.width/c.height,i=o.right*this.getRightImageFillRate(),n=i/t,a=s.height/2-n/2,l=new sf(s.width-i,a,i,n);Lp(e,c,l,r)}}}).prototype.availableOptions={topImagePath:{type:"string",default:""},leftImagePath:{type:"string",default:""},bottomImagePath:{type:"string",default:""},rightImagePath:{type:"string",default:""},topImageFillRate:{type:"number",default:1},leftImageFillRate:{type:"number",default:1},bottomImageFillRate:{type:"number",default:1},rightImageFillRate:{type:"number",default:1}},af.Backgrounds=[new af({topImagePath:"text-design/images/imgly_xib_image_text_design_equal_width_background1_1.png",leftImagePath:"text-design/images/imgly_xib_image_text_design_equal_width_background1_2.png",rightImagePath:"text-design/images/imgly_xib_image_text_design_equal_width_background1_2.png",bottomImagePath:"text-design/images/imgly_xib_image_text_design_equal_width_background1_3.png",topImageFillRate:.8,leftImageFillRate:.6,rightImageFillRate:.6,bottomImageFillRate:.8}),new af({leftImagePath:"text-design/images/imgly_xib_image_text_design_equal_width_background2_1.png",rightImagePath:"text-design/images/imgly_xib_image_text_design_equal_width_background2_1.png",bottomImagePath:"text-design/images/imgly_xib_image_text_design_equal_width_background2_2.png",leftImageFillRate:.6,rightImageFillRate:.6,bottomImageFillRate:.6}),new af({topImagePath:"text-design/images/imgly_xib_image_text_design_equal_width_background3_1.png",bottomImagePath:"text-design/images/imgly_xib_image_text_design_equal_width_background3_2.png",topImageFillRate:.6,bottomImageFillRate:.6}),new af({topImagePath:"text-design/images/imgly_xib_image_text_design_equal_width_background4_1.png",leftImagePath:"text-design/images/imgly_xib_image_text_design_equal_width_background4_3.png",rightImagePath:"text-design/images/imgly_xib_image_text_design_equal_width_background4_3.png",bottomImagePath:"text-design/images/imgly_xib_image_text_design_equal_width_background4_2.png",topImageFillRate:.1,leftImageFillRate:.6,rightImageFillRate:.6,bottomImageFillRate:.6})]})),mm=b((()=>{ya(),gm(),Wg(),Zg(),Jg(),rm(),nm(),E(lf=class extends Wp{constructor(){super(...arguments),this._relativeInsets=new Ep(.1,.1,.1,.1),this._alreadyContainsARowWithScriptFont=!1,this._backgroundsRandomizer=new np(0),this._seedPool.push(this._backgroundsRandomizer)}getImagePaths(){return ae.Array.flatten(af.Backgrounds.map((e=>e.getImagePaths())))}_getBackground(){return this._backgroundsRandomizer.pickNext(af.Backgrounds)}generateLayoutData(e,t){return this._alreadyContainsARowWithScriptFont=!1,this._background=this._getBackground(),super.generateLayoutData(e,t)}_modifiedText(e){return super._modifiedText(e).toUpperCase()}_fontForRow(e,t){let i=super._fontForRow(e,t);return"imgly_font_petit_formal_script"===i&&(this._alreadyContainsARowWithScriptFont&&(i="imgly_font_bungee_inline"),this._alreadyContainsARowWithScriptFont=!0),i}_randomLayoutRow(e,t,i,r){const n="imgly_font_petit_formal_script"===r.getFontIdentifier();return new Dp({words:n?(new jp).set(e.getLowerCase()):e,width:i,attributes:r})}},"identifier","imgly_text_design_equal_width"),E(lf,"defaultFontIdentifiers",["imgly_font_ultra","imgly_font_bungee_inline","imgly_font_petit_formal_script"]),lf.prototype.availableOptions={...Wp.prototype.availableOptions,fontIdentifiers:{type:"array",default:lf.defaultFontIdentifiers},relativeLineSpacing:{type:"number",default:.025}}})),ym=b((()=>{ya(),Zg(),mm(),E(cf=class extends lf{constructor(){super(...arguments),this._relativeInsets=new Ep}_getBackground(){return null}},"defaultFontIdentifiers",["imgly_font_ultra"]),E(cf,"identifier","imgly_text_design_equal_width_fat"),cf.prototype.availableOptions={...lf.prototype.availableOptions,fontIdentifiers:{type:"array",default:cf.defaultFontIdentifiers}}})),_m=b((()=>{ya(),Zg(),(uf=class extends Ct{insetsForWidth(e){return this.getRelativeInsets().clone().scale(e)}}).prototype.availableOptions={imagePath:{type:"string",default:""},minimumHeightRatio:{type:"number",default:0},sizeToFitContent:{type:"boolean",default:!0},capInsets:{type:"object",default:new Ep},relativeInsets:{type:"object",default:new Ep}},uf.Box=new uf({imagePath:"text-design/images/imgly_text_design_asset_black_background.png",relativeInsets:new Ep(.1,.1,.1,.1)}),uf.Badge1=new uf({imagePath:"text-design/images/imgly_text_design_asset_badge1.png",relativeInsets:new Ep(.3,.18,.2,.18)}),uf.Badge2=new uf({imagePath:"text-design/images/imgly_text_design_asset_badge2.png",relativeInsets:new Ep(.3,.18,.2,.18)}),uf.Badge3=new uf({imagePath:"text-design/images/imgly_text_design_asset_badge3.png",relativeInsets:new Ep(.3,.18,.2,.18)}),uf.Badge4=new uf({imagePath:"text-design/images/imgly_text_design_asset_badge4.png",relativeInsets:new Ep(.3,.18,.2,.18)}),uf.SpeechBubble1=new uf({imagePath:"text-design/images/imgly_text_design_asset_speech_bubble_small2.png",relativeInsets:new Ep(.04,.07,.12,.07),capInsets:new Ep(57,171,123,51)}),uf.SpeechBubble2=new uf({imagePath:"text-design/images/imgly_text_design_asset_speech_bubble3.png",relativeInsets:new Ep(.04,.07,.12,.07),capInsets:new Ep(6,105,87,15)}),uf.SpeechBubble3=new uf({imagePath:"text-design/images/imgly_text_design_asset_speech_bubble_small.png",relativeInsets:new Ep(.165664675,.2,.165664675,.2),minimumHeightRatio:.7}),uf.SpeechBubble4=new uf({imagePath:"text-design/images/imgly_text_design_asset_speech_bubble4.png",relativeInsets:new Ep(.124800224,.2,.291200523,.2),minimumHeightRatio:.7}),uf.SpeechBubble5=new uf({imagePath:"text-design/images/imgly_text_design_asset_speech_bubble5.png",relativeInsets:new Ep(.114892823,.27,.15984926,.27)}),uf.Watercolor1=new uf({imagePath:"text-design/images/imgly_text_design_asset_watercolor_01.png",minimumHeightRatio:.7,relativeInsets:new Ep(.2,.25,.2,.25)}),uf.Watercolor2=new uf({imagePath:"text-design/images/imgly_text_design_asset_watercolor_02.png",minimumHeightRatio:.7,relativeInsets:new Ep(.08,.25,.3,.25)}),uf.Watercolor3=new uf({imagePath:"text-design/images/imgly_text_design_asset_watercolor_03.png",minimumHeightRatio:.7,relativeInsets:new Ep(.1,.2,.15,.2)})})),vm=x((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.arabic=void 0;var t="[".concat("\u0620-\u064a\u066e-\u066f\u0671-\u06d5\u06ee-\u06ef\u06fa-\u06ff").concat("\u0750-\u077f","]"),i="".concat(t).concat("[\u064b-\u065f\u0670]","*");e.arabic=i})),bm=x((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.bengali=void 0;var t="[\\u{0980}-\\u{09FF}]",i="".concat(t,"(").concat("\\u{09CD}").concat(t,"|").concat("[\\u{0980}-\\u{0983}\\u{09BC}-\\u{09D7}\\u{09E2}\\u{09E3}\\u{09FE}]",")*");e.bengali=i})),xm=x((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.devanagari=void 0;var t="[\\u{0900}-\\u{097F}]",i="".concat(t,"(").concat("\\u{094D}").concat(t,"|").concat("[\\u{0900}-\\u{0903}\\u{093A}-\\u{0957}\\u{0962}\\u{0963}]",")*");e.devanagari=i})),wm=x((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.gujarati=void 0;var t="[\\u{0A80}-\\u{0AFF}]",i="".concat(t,"(").concat("\\u{0ACD}").concat(t,"|").concat("[\\u{0A81}-\\u{0A83}\\u{0ABC}\\u{0ABE}-\\u{0ACD}\\u{0AE2}\\u{0AE3}\\u{0AFA}-\\u{0AFF}]",")*");e.gujarati=i})),Sm=x((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.hebrew=void 0;var t="".concat("[\u05d0-\u05ea]").concat("[\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7]","*");e.hebrew=t})),km=x((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.japaneseKana=void 0;var t="((".concat("[\\u{30A0}-\\u{30FF}]","|").concat("[\\u{3041}-\\u{3096}\\u{309D}-\\u{309F}]",")").concat("[\\u{3099}-\\u{309A}]","?|").concat("[\\u{309B}-\\u{309C}]",")");e.japaneseKana=t})),Cm=x((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.kannada=void 0;var t="[\\u{0C80}-\\u{0CFF}]",i="".concat(t,"(").concat("\\u{0CCD}").concat(t,"|").concat("[\\u{0C81}-\\u{0C83}\\u{0CBC}\\u{0CBE}-\\u{0CCD}\\u{0CD5}\\u{0CD6}\\u{0CE2}\\u{0CE3}]",")*");e.kannada=i})),Tm=x((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.khmer=void 0;var t="[\\u{1780}-\\u{17FF}]",i="".concat(t,"(").concat("\\u{17D2}").concat(t,"|").concat("[\\u{17B6}-\\u{17D1}\\u{17D3}\\u{17DD}]",")*");e.khmer=i})),Em=x((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.lao=void 0;var t="".concat("[\\u{0E80}-\\u{0EFF}]").concat("[\\u{0EB1}\\u{0EB4}-\\u{0EBC}\\u{0EC8}-\\u{0ECD}]","*");e.lao=t})),Dm=x((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.malayalam=void 0;var t="[\\u{0D00}-\\u{0D7F}]",i="".concat(t,"(").concat("\\u{0D4D}").concat(t,"|").concat("[\\u{0D00}-\\u{0D03}\\u{0D3B}\\u{0D3C}\\u{0D3E}-\\u{0D4D}\\u{0D57}\\u{0D62}-\\u{0D63}]",")*");e.malayalam=i})),Im=x((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.myanmar=void 0;var t="[\\u{1000}-\\u{109F}]",i="[".concat(["\\u{102B}-\\u{1038}","\\u{103A}-\\u{103E}","\\u{1056}-\\u{1059}","\\u{105E}-\\u{1060}","\\u{1062}-\\u{1064}","\\u{1067}-\\u{106D}","\\u{1071}-\\u{1074}","\\u{1082}-\\u{108D}","\\u{108F}","\\u{109A}-\\u{109D}"].join(""),"]"),r="".concat(t,"(").concat("\\u{1039}").concat(t,"|").concat(i,")*");e.myanmar=r})),Rm=x((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.tamil=void 0;var t="".concat("[\\u{0B80}-\\u{0BFF}]").concat("[\\u{0B82}-\\u{0B83}\\u{0BBE}-\\u{0BD7}\\u{0962}\\u{0963}]","*");e.tamil=t})),Fm=x((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.telugu=void 0;var t="[\\u{0C00}-\\u{0C7F}]",i="".concat(t,"(").concat("\\u{0C4D}").concat(t,"|").concat("[\\u{0C00}-\\u{0C04}\\u{0C3E}-\\u{0C56}\\u{0C62}\\u{0C63}]",")*");e.telugu=i})),Am=x((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.thai=void 0;var t="".concat("[\\u0E00-\\u0E7F]").concat("[\\u0E31\\u0E33-\\u0E3A\\u0E47-\\u0E4E]","*");e.thai=t})),Om=x((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.tibetan=void 0;var t="".concat("[\\u{0F00}-\\u{0FFF}]").concat("[\\0F18\\0F19\\0F35\\0F37\\0F39\\0F3E\\0F3F\\u{0F71}-\\u{0F87}\\u{0F8D}-\\u{0FBC}\\u{0FC6}]","*");e.tibetan=t})),Mm=x((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.emojiVariation=e.keyCap=e.countryFlag=void 0;e.countryFlag="[\\u{1F1E6}-\\u{1F1FF}]{2}";e.keyCap="[0-9#\\*][\\u{FE0F}]?\\u{20E3}";var t="(".concat(["[\\u{2600}-\\u{26FF}]","[\\u{2700}-\\u{27BF}]","[\\u{1F300}-\\u{1F5FF}]","[\\u{1F600}-\\u{1F64F}]","[\\u{1F680}-\\u{1F6FF}]","[\\u{1F700}-\\u{1F77F}]","[\\u{1F900}-\\u{1F9FF}]"].join("|"),")"),i="".concat(t,"(").concat("\\u{200D}").concat(t,"|").concat("[\\u{1F3FB}-\\u{1F3FF}]","|").concat("[\\u{FE0E}\\u{FE0F}]",")*");e.emojiVariation=i})),Pm=x(((e,t)=>{var i=vm(),r=bm(),n=xm(),o=wm(),s=Sm(),a=km(),l=Cm(),c=Tm(),u=Em(),h=Dm(),d=Im(),p=Rm(),f=Fm(),g=Am(),m=Om(),y=Mm(),_=[y.countryFlag,y.keyCap,y.emojiVariation,i.arabic,r.bengali,n.devanagari,o.gujarati,s.hebrew,a.japaneseKana,l.kannada,c.khmer,u.lao,h.malayalam,d.myanmar,p.tamil,f.telugu,g.thai,m.tibetan,"."],v=new RegExp("(".concat(_.join("|"),")"),"gu");t.exports={splitGraphemes:function(e){return e.match(v)||[]}}})),zm=b((()=>{hf=k(Pm()),df=class{constructor(e){this._context=e,this._lastFontStyle={}}getLines(){let e=[],t=[];const i=this._lines.length;for(let r=0;r<i;r++){const i=this._lines[r],n=this._buildWords(i),o=n.length;for(let r=0;r<o;r++){const i=n[r],o=t.concat(i).join("").replace(/\s+$/i,"");if(this._getWidth(o)>this._maxWidth){t.length>0&&(e.push(t.join("")),t=[i]);const r=i.replace(/\s+$/i,"");if(this._getWidth(r)>this._maxWidth){const r=this._splitWord(i);e=e.concat(r.lines),r.rest&&(t=[r.rest])}}else t.push(i)}e.push(t.join("")),t=[]}return e.map((e=>this._trimLine(e,this._context.textAlign)))}_trimLine(e,t){return e}_buildWords(e){const t=[];let i="";const r=e.length;for(let n=0;n<r;n++){const o=e[n];i+=o," "!==o&&"-"!==o&&n!==r-1||(t.push(i),i="")}return t}_splitWord(e){const t={lines:[],rest:null},i=(0,hf.splitGraphemes)(e),r=i.length;let n=[];for(let o=0;o<r;o++){const e=i[o];this._getWidth(n.concat(e).join(""))>this._maxWidth?(n.length>0&&t.lines.push(n.join("")),n=[e]):n.push(e),o===r-1&&n.length>0&&(t.rest=n.join(""))}return t}_fontStyleChanged(){return this._context.font!==this._lastFontStyle&&(this._lastFontStyle=this._context.font,!0)}_getWidth(e){return this._context.measureText(e).width}setText(e){this._text=e,this._lines=e.split("\n")}setMaxWidth(e){this._maxWidth=e}}})),Bm=b((()=>{ya(),zm(),({Vector2:pf}=Xo),ff=class{constructor(e,t){this._text=e,this._operation=t,this._textOptions={},this.rotation=0,this._createCanvas(),this._createTexture()}_createCanvas(){this._canvas=ae.createCanvas(),this._context=this._canvas.getContext("2d"),this._textSplitter=new df(this._context),this._finalCanvas=ae.createCanvas(),this._finalContext=this._finalCanvas.getContext("2d")}_createTexture(){this._texture=$o.Texture.fromCanvas(this._canvas),this._finalTexture=$o.Texture.fromCanvas(this._finalCanvas)}_applyTextOptions(e,t){t.font="".concat(this._text.getFontStyle()," ").concat(this._text.getFontWeight()," ").concat(e.fontSize,'px "').concat(this._text.getFontFamily(),'"'),this._text.getTextMetrics()?t.textBaseline="alphabetic":t.textBaseline="top",t.textAlign=this._text.getAlignment(),t.fillStyle=this._text.getColor().toRGBA(),t.strokeStyle=this._text.getOutlineColor().toRGBA();const i=this._text.getOutlineWidth();i>0&&(t.lineWidth=i)}_buildOutputLines(e){return this._textSplitter.setText(this._text.getText()),this._textSplitter.setMaxWidth(e),this._textSplitter.getLines().map((e=>e.replace(/\s+$/i,"")))}_renderTextLine(e,t,i){const r=this._text.getAlignment(),n=new pf(0,t);switch(r){case"left":n.x=i;break;case"center":n.x=this._canvas.width/2;break;case"right":n.x=this._canvas.width-i}this._context.save(),this._context.translate(n.x,n.y),this._context.fillText(e,0,0),this._context.restore();this._text.getOutlineWidth()>0&&(this._context.miterLimit=2,this._context.strokeText(e,n.x,n.y))}update(e,t){const i=this.calculateFontStyles(e,t);if(i){const{dimensions:r,lines:n}=this._calculateText(e,i,t);this._renderText(e,r,n,i,t),this._updateFinalTexture()}}_updateFinalTexture(){const{width:e,height:t}=this._canvas,{rotation:i}=this,r=Math.cos(i),n=Math.sin(i),o=new pf(Math.abs(e*r)+Math.abs(t*n),Math.abs(e*n)+Math.abs(t*r));this._finalCanvas.width=o.x,this._finalCanvas.height=o.y,this._finalContext.save(),this._finalContext.translate(this._finalCanvas.width/2,this._finalCanvas.height/2),this._finalContext.rotate(i),this._finalContext.drawImage(this._canvas,-e/2,-t/2),this._finalContext.restore()}_renderText(e,t,i,r,n){this._canvas.width=t.x,this._canvas.height=t.y,this._text.getMaxHeight()&&(this._canvas.height=Math.min(this._text.getMaxHeight()*n.y,this._canvas.height)),this._context=this._canvas.getContext("2d"),this._context.fillStyle=this._text.getBackgroundColor().toRGBA(),this._context.fillRect(0,0,t.x,t.y),this._applyTextOptions(r,this._context);const o=this._padding(n),s=this._text.getTextMetrics(),a=this._text.getFontSize()*n.y,l=1/s.unitsPerEm*a,c=s.ascender*l;for(let u=0;u<i.length;u++){const e=i[u];this._renderTextLine(e,r.topPadding+r.lineHeight*u+o+c,o)}}calculateFontStyles(e,t){const i=this._text.getFontFamily(),r=this._text.getFontSize()*t.y,n=this._text.getAbsoluteTextHeight(t),o=n*this._text.getLineHeight(),s={fontFamily:i,fontSize:r,lineHeight:o,topPadding:n*(this._text.getLineHeight()-1)/2};return this._textOptions.fontFamily===i&&this._textOptions.fontSize===r&&this._textOptions.lineHeight===o||(this._textOptions=s),s}_calculateText(e,t,i){const r=this._text.getMaxWidth()*i.x;this._applyTextOptions(t,this._context);const n=new pf;let o=this._text.getText().split("\n");"undefined"!==typeof r&&(n.x=r,o=this._buildOutputLines(r));for(let l=0;l<o.length;l++){const e=o[l];n.x=Math.max(n.x,this._context.measureText(e).width)}const{lineHeight:s}=t;n.y=o.length*s;const a=this._padding(i);return n.y+=2*a,n.x+=2*a,{dimensions:n,lines:o}}_padding(e){return.2*this._text.getAbsoluteTextHeight(e)}getTexture(){return this._texture}getFinalTexture(){return this._finalTexture}getDimensions(e,t){const i=this.calculateFontStyles(e,t),{dimensions:r}=this._calculateText(e,i,t);return r}dispose(){this._measurementElement&&document.body.removeChild(this._measurementElement),this._texture&&(this._texture.dispose(),this._texture=null),this._finalTexture&&(this._finalTexture.dispose(),this._finalTexture=null)}}})),Lm=b((()=>{ya(),zm(),Vg(),Gg(),({Vector2:gf}=Xo),(mf=class extends Ct{constructor(e){super(e),this._textOptions={},this._createCanvas()}_createCanvas(){this._canvas=ae.createCanvas(),this._context=this._canvas.getContext("2d"),this._textSplitter=new df(this._context),this._finalCanvas=ae.createCanvas(),this._finalContext=this._finalCanvas.getContext("2d"),this.updateFontVariation()}setOption(e,t){let i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];super.setOption(e,t,i,r),"fontIdentifier"!==e||r||this.updateFontVariation()}updateFontVariation(){const e=cp.getVariation(this.getFontIdentifier());return e||fe.warn("TextDesignFont: Unable to find font '".concat(this._fontIdentifier,"'")),this.setFontVariation(e),e}_applyTextOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._context;const{fontSize:i,fontVariation:r,lineHeight:n,textColor:o,alignment:s}={...this._options,...e},{fontStyle:a,fontWeight:l,fontFamily:c}=r.serializeOptions();t.font="".concat(a," ").concat(l," ").concat(i,'px "').concat(c,'"'),t.fillStyle=o,t.textBaseline="top",t.textAlign=s||"left"}_buildOutputLines(e){return this._textSplitter.setText(this.getText()),this._textSplitter.setMaxWidth(e),this._textSplitter.getLines()}_renderTextLine(e,t){const i=this.getAlignment(),r=new gf(0,t);switch(i){case"center":r.x=this._canvas.width/2;break;case"right":r.x=this._canvas.width}this._context.fillText(e,r.x,r.y)}update(){const e=this.calculateFontStyles();if(e){const{dimensions:t,lines:i}=this._calculateText(e);this._dimensions=t,this._renderText(t,i,e)}}draw(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this.update(),e.drawImage(this._canvas,t,i,this._dimensions.x,this._dimensions.y)}_renderText(e,t,i){this._canvas.width=e.x,this._canvas.height=e.y,this._context=this._canvas.getContext("2d"),this._applyTextOptions(i,this._context);for(let r=0;r<t.length;r++){const e=t[r];this._renderTextLine(e,i.topPadding+i.lineHeight*r)}}getFontFamily(){return this.getFontVariation().getFontFamily()}calculateFontStyles(){const e=this.getFontFamily(),t=this.getFontSize(),i=this.getAbsoluteTextHeight(),r={fontFamily:e,fontSize:t,textHeight:i,lineHeight:i*this.getLineHeight(),topPadding:i*(this.getLineHeight()-1)/2};return this._textOptions={...r},r}getTextMetrics(){return this.getFontVariation().getTextMetrics()}getAbsoluteTextHeight(){const e=this.getFontSize(),t=this.getTextMetrics();if(t){const i=1/t.unitsPerEm*e,r=t.ascender*i,n=t.descender*i;return r+Math.abs(n)}return e*this.getLineHeight()*1.1}_calculateText(e){this._applyTextOptions(e,this._context);const t=new gf;let i=this.getText().split("\n");for(let n=0;n<i.length;n++){const e=i[n];t.x=Math.max(t.x,this._context.measureText(e).width)}const{lineHeight:r}=e;return t.y=i.length*r,{dimensions:t,lines:i}}getDimensions(){const e=this.calculateFontStyles(),{dimensions:t}=this._calculateText(e);return t}fitMaxHeight(){this.update();const e=this.getDimensions();this.getText().split("\n"),this.getMaxHeight(),e.y}fitMaxWidth(){const e=this.getDimensions().x,t=this.getMaxWidth()/e;this.setFontSize(this.getFontSize()*t),this._textOptions.fontSize=this.getFontSize()}fitInFrame(e){this.setMaxWidth(e.width),this.setMaxHeight(e.height),this.fitMaxWidth(),this.fitMaxHeight()}getSize(){const e=this.getDimensions();return new sp(e.x,e.y)}}).prototype.availableOptions={text:{type:"string",default:""},fontIdentifier:{type:"string",default:"imgly_font_open_sans_bold"},fontVariation:{type:"object",default:null},lineHeight:{type:"number",default:1},fontSize:{type:"number",default:22},textColor:{type:"string",default:"black"},strokeStyle:{type:"string",default:"black"},outlineWidth:{type:"number",default:0},textBaseline:{type:"string",default:"alphabetic"},excludeAccents:{type:"boolean",default:!0},maxWidth:{type:"number",default:100},maxHeight:{type:"number",default:0},alignment:{type:"string",default:"left",available:["left","center","right"]}}})),Um=b((()=>{ya(),Bm(),qg(),Lm(),Xg(),em(),(yf=class extends Up{_calculateLayoutElements(){const e=this.getWords(),t=this._getTextFrame(),i=this.getAttributes().getFontIdentifier(),r=this.getImageInsets(),n=new _p({text:e.getWord(0),fontIdentifier:i});n.fitWidth(t.width);const o=new vp({text:e.getWord(0),frame:t,font:n});o.setFrame(this._getTextFrameForElement(o));const s=this.getSize();return(this.getSizeToFitContent()||s.height<=1)&&(s.height=r.top+o.getFrame().height+r.bottom),s.height=Math.max(s.height,this.getMinimumHeight()),[o]}_getTextFrameForElement(e){const t=this.getWords().getWord(0),i=this.getAttributes(),r=i.getFontIdentifier(),n=this.getImageInsets(),o=this.getImageInsets().applyToRectangle(this._getFrame()).scale(this.getTextScaleFactor()),s=new mf({text:t,fontIdentifier:r,alignment:i.getAlignment(),lineHeight:1});s.fitInFrame(o);const a=s.getSize();o.height=a.height;let l=a.height*this.getRowScaleFactor();this.getSizeToFitContent()&&(l+=n.top+n.bottom);const c=this._getFrame(),u=i.getAlignment();if(this.getCenteredVertically())o.y=c.height/2-l/2+n.top;else switch(u){case"left":o.y=c.height-l-n.bottom;break;case"center":o.y=c.height/2-l/2+l*this.getCenterOffset(),o.x=(c.width-o.width)/2;break;case"right":o.x=c.width-o.width-n.right}return o}render(e){e.save(),this._getLayoutElements().forEach((t=>{let{text:i,frame:r}=t.serializeOptions();const n=this.getAttributes(),o=n.getFontIdentifier(),s=new mf({text:i,fontIdentifier:o,alignment:n.getAlignment(),lineHeight:1,textColor:n.getTextColor().toRGBA()});r=this._getTextFrameForElement(t),s.fitInFrame(r),s.draw(e,r.x,r.y)})),e.restore()}}).prototype.availableOptions={...Up.prototype.availableOptions,centerOffset:{type:"number",default:0},sizeToFitContent:{type:"boolean",default:!1},textScaleFactor:{type:"number",default:.95},rowScaleFactor:{type:"number",default:1},minimumHeight:{type:"number",default:0},centeredVertically:{type:"boolean",default:!1}}})),Nm=b((()=>{ya(),_m(),Wg(),Um(),Gg(),rm(),nm(),E(vf=_f=class extends Wp{constructor(){super(...arguments),this._rowType=uf.Box,this._alignmentRandomizer=new np(0),this._isMaskedRandomizer=new np(0),this._seedPool.push(this._alignmentRandomizer),this._seedPool.push(this._isMaskedRandomizer)}getImagePaths(){return[uf.Box.getImagePath()]}_modifiedText(e){return super._modifiedText(e).toLowerCase()}_modifiedLines(e){const t=new jp;return t.set([e.reduce(((e,t)=>"".concat(e).concat(""===e?"":"\n").concat(t.joined(1)[0])),"")]),[t]}_layoutRows(e,t){const i=super._layoutRows(e,t),r=i[0];if(r&&this.getSquareLayout()){const e=r.getSize();e.height=e.width}return i}getAlignment(){return this._alignmentRandomizer.pickNext(this.constructor.ValidAlignments||_f.ValidAlignments)}_randomLayoutRow(e,t,i,r){const n=this.getAlignment(),o=this._rowType,s=cp.getImage(o.getImagePath());r.setAlignment(n);const a=new yf({words:e,width:i,attributes:r,image:s,imageInsets:o.insetsForWidth(i),capInsets:o.getCapInsets(),backgroundColor:Ye.WHITE,centerOffset:0,textScaleFactor:.7,isMasked:this._isMaskedRandomizer.nextBool()});this._rowType===uf.Box&&(a.serverImageSmoothingFix=!0);const l=a.getSize();return this.getSquareLayout()?l.height=l.width:l.height=Math.max(l.height,l.width*o.getMinimumHeightRatio()),a}},"defaultFontIdentifiers",["imgly_font_lexend_bold"]),E(vf,"Alignment",{Left:"left",Center:"center",Right:"right"}),E(vf,"ValidAlignments",[_f.Alignment.Left,_f.Alignment.Center,_f.Alignment.Right]),E(vf,"identifier","imgly_text_design_masked"),vf.prototype.availableOptions={...Wp.prototype.availableOptions,fontIdentifiers:{type:"array",default:vf.defaultFontIdentifiers},squareLayout:{type:"boolean",default:!0}}})),Hm=b((()=>{ya(),_m(),Wg(),Nm(),E(bf=class extends vf{constructor(){super(...arguments),this._possibleRowTypes=[uf.Badge1,uf.Badge2,uf.Badge3,uf.Badge4],this._rowTypesRandomizer=new np(0),this._isMaskedRandomizer=new np(0),this._seedPool.push(this._rowTypesRandomizer),this._seedPool.push(this._isMaskedRandomizer)}getImagePaths(){return this._possibleRowTypes.map((e=>e.getImagePath()))}_randomLayoutRow(e,t,i,r){this._rowType=this._rowTypesRandomizer.pickNext(this._possibleRowTypes),r.setLineSpacing(.9);const n=super._randomLayoutRow(e,t,i,r);return n.set({textScaleFactor:.9}),n}},"defaultFontIdentifiers",["imgly_font_outfit_bold"]),E(bf,"identifier","imgly_text_design_masked_badge"),E(bf,"ValidAlignments",[vf.Alignment.Center]),bf.prototype.availableOptions={...vf.prototype.availableOptions,fontIdentifiers:{type:"array",default:bf.defaultFontIdentifiers}}})),jm=b((()=>{ya(),_m(),Wg(),Nm(),E(xf=class extends vf{constructor(){super(...arguments),this._possibleRowTypes=[uf.SpeechBubble1,uf.SpeechBubble3],this._rowTypesRandomizer=new np(0),this._isMaskedRandomizer=new np(0),this._seedPool.push(this._rowTypesRandomizer),this._seedPool.push(this._isMaskedRandomizer)}getImagePaths(){return this._possibleRowTypes.map((e=>e.getImagePath()))}_rowTypes(e){return this._possibleRowTypes}_randomLayoutRow(e,t,i,r){this._rowType=this._rowTypesRandomizer.pickNext(this._rowTypes(e)),r.setLineSpacing(.9);const n=super._randomLayoutRow(e,t,i,r);return n.set({textScaleFactor:1,minimumHeight:i*this._rowType.getMinimumHeightRatio(),sizeToFitContent:this._rowType.getSizeToFitContent(),centeredVertically:!0}),n}},"defaultFontIdentifiers",["imgly_font_roboto_black_italic","imgly_font_roboto_light_italic","imgly_font_roboto_black","imgly_font_roboto_light"]),E(xf,"identifier","imgly_text_design_masked_speech_bubble"),xf.prototype.availableOptions={...vf.prototype.availableOptions,fontIdentifiers:{type:"array",default:xf.defaultFontIdentifiers},squareLayout:{type:"boolean",default:!1},alignment:{type:"string",default:"left",available:vf.ValidAlignments}}})),Wm=b((()=>{ya(),_m(),Nm(),jm(),E(wf=class extends xf{constructor(){super(...arguments),this._possibleRowTypes=[uf.SpeechBubble2,uf.SpeechBubble4,uf.SpeechBubble2,uf.SpeechBubble4,uf.SpeechBubble5],this._possibleRowTypesForMin15=this._possibleRowTypes.slice(0,2),this._possibleRowTypesForMax14=this._possibleRowTypes.slice(2)}_rowTypes(e){return e.countNumberOfCharacters()<15?this._possibleRowTypesForMax14:this._possibleRowTypesForMin15}},"defaultFontIdentifiers",["imgly_font_permanent_marker"]),E(wf,"identifier","imgly_text_design_masked_speech_bubble_comic"),wf.prototype.availableOptions={...xf.prototype.availableOptions,fontIdentifiers:{type:"array",default:wf.defaultFontIdentifiers}}})),Vm=b((()=>{ya(),Um(),Nm(),E(Sf=class extends vf{_modifiedText(e){return super._modifiedText(e).toUpperCase()}_randomLayoutRow(e,t,i,r){const n=this._alignmentRandomizer.pickNext(vf.ValidAlignments);return r.setAlignment(n),new yf({words:e,width:i,attributes:r,image:null,backgroundColor:Ye.WHITE,centerOffset:0,sizeToFitContent:!0,isMasked:!1,autoAdjustTextColor:!1})}},"defaultFontIdentifiers",["imgly_font_abril_fatface_regular"]),E(Sf,"identifier","imgly_text_design_multiline"),Sf.prototype.availableOptions={...vf.prototype.availableOptions,fontIdentifiers:{type:"array",default:Sf.defaultFontIdentifiers}}})),Gm=b((()=>{ya(),({Rectangle:kf}=Xo),(Cf=class extends Ct{getContentFrame(){const e=this.getFrame().clone(),t=.1*e.width;return e.insetBy(t,t)}intersects(e){return this.getFrame().intersects(e.getFrame())}}).prototype.availableOptions={frame:{type:"object",default:new kf}}})),qm=b((()=>{ya(),Gg(),$g(),fm(),Gm(),({Rectangle:Tf}=Xo),(Ef=class extends of{constructor(){super(...arguments),this._MAX_TRIES=1e3,this._PRECISION=1e3}render(e,t,i,r,n){const{imagePaths:o,relativeParticleSize:s}=this._options;if(o.length<=0)return;const a=t.width/t.height,l=new Tf(Math.round(i.left*this._PRECISION),Math.round(i.top*this._PRECISION*a),this._PRECISION,this._PRECISION);l.width-=l.x+Math.round(i.right*this._PRECISION),l.height-=l.y+Math.round(i.bottom*this._PRECISION*a);const c=[];let u=0,h=0;for(;u<this.getParticleCount()&&h<this._MAX_TRIES;){const e=s/2,t=Math.round(e*this._PRECISION),i=Math.round(e*this._PRECISION*a),r=Math.floor(this._PRECISION)-t,o=Math.floor(this._PRECISION)-i,d=n.nextInRange(t,r),p=n.nextInRange(i,o),f=new Tf(d-t,p-i,2*t,2*i);f.intersects(l)||this.hasCollision(c,f)||(c.push(new Cf({frame:f})),u+=1),h+=1}for(let d=0;d<c.length;d++){const i=c[d],s=n.pickNext(o),a=cp.getImage(s),l=n.nextInRange(140,230)/255,u=t.width/this._PRECISION,h=t.height/this._PRECISION,p=i.getContentFrame();p.x*=u,p.y*=h,p.width*=u,p.height*=h;const f=r.clone();f.a=l,Lp(e,a,p,f,"source-atop")}}hasCollision(e,t){for(let i=0;i<e.length;i++)if(t.intersects(e[i].getFrame()))return!0;return!1}}).prototype.availableOptions={...of.prototype.availableOptions,particleCount:{type:"number",default:50},relativeParticleSize:{type:"number",default:.08},imagePaths:{type:"array",default:[]}}})),Xm=b((()=>{ya(),qm(),E(Df=class extends Ef{},"Images",["text-design/images/imgly_text_design_particle_brush_01.png","text-design/images/imgly_text_design_particle_brush_02.png","text-design/images/imgly_text_design_particle_brush_03.png","text-design/images/imgly_text_design_particle_brush_04.png","text-design/images/imgly_text_design_particle_brush_05.png","text-design/images/imgly_text_design_particle_brush_06.png","text-design/images/imgly_text_design_particle_brush_07.png","text-design/images/imgly_text_design_particle_brush_08.png","text-design/images/imgly_text_design_particle_brush_09.png","text-design/images/imgly_text_design_particle_brush_10.png"]),Df.prototype.availableOptions={...Ef.prototype.availableOptions,imagePaths:{type:"array",default:[...Df.Images]},relativeParticleSize:{type:"number",default:.12}}})),Ym=b((()=>{ya(),qm(),E(If=class extends Ef{},"Images",["text-design/images/imgly_text_design_particle_circle_01.png","text-design/images/imgly_text_design_particle_circle_02.png","text-design/images/imgly_text_design_particle_circle_03.png","text-design/images/imgly_text_design_particle_circle_04.png","text-design/images/imgly_text_design_particle_circle_05.png","text-design/images/imgly_text_design_particle_circle_06.png","text-design/images/imgly_text_design_particle_circle_07.png","text-design/images/imgly_text_design_particle_circle_08.png","text-design/images/imgly_text_design_particle_circle_09.png","text-design/images/imgly_text_design_particle_circle_10.png"]),If.prototype.availableOptions={...Ef.prototype.availableOptions,imagePaths:{type:"array",default:[...If.Images]},relativeParticleSize:{type:"number",default:.12}}})),Qm=b((()=>{ya(),qm(),E(Rf=class extends Ef{},"Images",["text-design/images/imgly_text_design_particle_triangle_01.png","text-design/images/imgly_text_design_particle_triangle_02.png","text-design/images/imgly_text_design_particle_triangle_03.png","text-design/images/imgly_text_design_particle_triangle_04.png","text-design/images/imgly_text_design_particle_triangle_05.png","text-design/images/imgly_text_design_particle_triangle_06.png","text-design/images/imgly_text_design_particle_triangle_07.png","text-design/images/imgly_text_design_particle_triangle_08.png","text-design/images/imgly_text_design_particle_triangle_09.png","text-design/images/imgly_text_design_particle_triangle_10.png"]),Rf.prototype.availableOptions={...Ef.prototype.availableOptions,imagePaths:{type:"array",default:[...Rf.Images]}}})),Km=b((()=>{ya(),Wg(),Zg(),Jg(),um(),dm(),Gg(),rm(),nm(),E(Af=Ff=class extends Wp{constructor(){super(...arguments),this._relativeInsets=new Ep(0,0,0,0),this._INVALID_FONTS_IF_LESS_THEN_5_CHARS=["imgly_font_montserrat_light"],this._INVALID_FONTS_IF_LESS_THEN_4_CHARS=["imgly_font_montserrat_light","imgly_font_cookie_regular"],this._lineCount=0,this._decorativeRowCreated=!1,this._useImageRowRandomizer=new np(0),this._rowTypeRandomizer=new np(0),this._lineDecorativeTypeRandomizer=new np(0),this._seedPool.push(this._useImageRowRandomizer),this._seedPool.push(this._rowTypeRandomizer),this._seedPool.push(this._lineDecorativeTypeRandomizer)}getImagePaths(){return[...Ff.DecoratorImages,...Ff.RowImages]}_fontForRow(e,t){const i=t.countNumberOfCharacters();let r=this.getFontIdentifiers();return i<4?r=r.filter((e=>this._INVALID_FONTS_IF_LESS_THEN_4_CHARS.indexOf(e)<0)):i<5&&(r=r.filter((e=>this._INVALID_FONTS_IF_LESS_THEN_5_CHARS.indexOf(e)<0))),r[e%r.length]}_modifiedText(e){return super._modifiedText(e).toUpperCase()}_modifiedLines(e){return this._lineCount=e.length,e}generateLayoutData(e,t){return this._decorativeRowCreated=!1,super.generateLayoutData(e,t)}_randomLayoutRow(e,t,i,r){let n=e;switch(r.getFontIdentifier()){case"imgly_font_cookie_regular":n=(new jp).set(e.getLowerCase());break;case"imgly_font_permanent_marker":n=(new jp).set(e.getUpperCase())}const o=this.getDecorativeRowsInTheMiddleOnly()&&(0===t||t===this._lineCount-1);if(this._useImageRowRandomizer.nextBool()||this._decorativeRowCreated||o)return new Dp({words:n,width:i,attributes:r});this._decorativeRowCreated=!0;const[s,a]=this._randomDecoratorImages();return new $p({words:e,width:i,attributes:r,leftImage:s,rightImage:a})}_layoutRows(e,t){const i=super._layoutRows(e,t);if(!this.getDecorationsVisible())return i;const r=.0625*t,n=new rf({width:t,height:r,image:cp.getImage(this._rowTypeRandomizer.pickNext(Ff.RowImages))}).layout(),o=new rf({width:t,height:r,image:cp.getImage(this._rowTypeRandomizer.pickNext(Ff.RowImages))}).layout();return[n,...i,o]}_randomDecoratorImages(){return this._lineDecorativeTypeRandomizer.nextInRange(0,1)?Ff.DecoratorImages.slice(0,2).map((e=>cp.getImage(e))):Ff.DecoratorImages.slice(2).map((e=>cp.getImage(e)))}},"defaultFontIdentifiers",["imgly_font_permanent_marker","imgly_font_cookie_regular","imgly_font_cookie_regular","imgly_font_montserrat_light"]),E(Af,"identifier","imgly_text_design_sunshine"),E(Af,"RowImages",[rf.RowImages.decorative1,rf.RowImages.decorative2,rf.RowImages.decorative3,rf.RowImages.decorative4]),E(Af,"DecoratorImages",["text-design/images/imgly_text_design_asset_decorative_03.png","text-design/images/imgly_text_design_asset_decorative_04.png","text-design/images/imgly_text_design_asset_decorative_07.png","text-design/images/imgly_text_design_asset_decorative_08.png"]),Af.prototype.availableOptions={...Wp.prototype.availableOptions,fontIdentifiers:{type:"array",default:Af.defaultFontIdentifiers},relativeLineSpacing:{type:"number",default:.025/3*4},decorationsVisible:{type:"boolean",default:!0},decorativeRowsInTheMiddleOnly:{type:"boolean",default:!1}}})),Zm=b((()=>{ya(),Xm(),Ym(),Qm(),Wg(),Zg(),Gg(),Km(),E(Mf=Of=class extends Af{constructor(){super(...arguments),this._relativeInsets=new Ep(.3,.3,.3,.3),this._backgroundRandomizer=new np(0),this._decoTypeRandomizer=new np(0),this._seedPool.push(this._backgroundRandomizer),this._seedPool.push(this._decoTypeRandomizer)}getImagePaths(){return[...Af.RowImages,...ae.Array.flatten(Of.Backgrounds.map((e=>e.getImagePaths()))),...Of.DecoratorImages]}_getBackground(){return this._backgroundRandomizer.pickNext(Of.Backgrounds)}_randomDecoratorImages(){switch(this._decoTypeRandomizer.nextInRange(0,2)){case 0:return Of.DecoratorImages.slice(0,2).map((e=>cp.getImage(e)));case 1:case 2:return Of.DecoratorImages.slice(2).map((e=>cp.getImage(e)));default:return fe.warn("TextDesignParticles#_randomDecoratorImages: Number generated not in valid range."),Of.DecoratorImages.slice(2).map((e=>cp.getImage(e)))}}},"defaultFontIdentifiers",["imgly_font_permanent_marker","imgly_font_cookie_regular","imgly_font_cookie_regular","imgly_font_montserrat_light"]),E(Mf,"identifier","imgly_text_design_particles"),E(Mf,"Backgrounds",[new Df,new If,new Rf]),E(Mf,"DecoratorImages",["text-design/images/imgly_text_design_particle_holder_01.png","text-design/images/imgly_text_design_particle_holder_02.png","text-design/images/imgly_text_design_particle_holder_03.png","text-design/images/imgly_text_design_particle_holder_04.png"]),Mf.prototype.availableOptions={...Af.prototype.availableOptions,fontIdentifiers:{type:"array",default:Mf.defaultFontIdentifiers},decorationsVisible:{type:"boolean",default:!1},decorativeRowsInTheMiddleOnly:{type:"boolean",default:!0}}})),Jm=b((()=>{ya(),Wg(),Zg(),am(),nm(),E(Pf=class extends Wp{constructor(){super(...arguments),this._relativeInsets=new Ep(.1,0,0,0),this._rowTypeRandomizer=new np(0),this._seedPool.push(this._rowTypeRandomizer)}_modifiedText(e){return super._modifiedText(e).toUpperCase()}_randomLayoutRow(e,t,i,r){const n=super._randomLayoutRow(e,t,i,r);return n.setShearingAngle(this.getShearingAngle()),n}_layoutRows(e,t){const i=super._layoutRows(e,t),r=ae.values(Yp.FormType);return[new Yp({width:t,height:30,type:this._rowTypeRandomizer.pickNext(r),shearingAngle:this.getShearingAngle()}).layout(),...i,new Yp({width:t,height:30,type:this._rowTypeRandomizer.pickNext(r),shearingAngle:this.getShearingAngle()}).layout()]}},"defaultFontIdentifiers",["imgly_font_outfit_bold"]),E(Pf,"identifier","imgly_text_design_rotated"),Pf.prototype.availableOptions={...Wp.prototype.availableOptions,fontIdentifiers:{type:"array",default:Pf.defaultFontIdentifiers},relativeLineSpacing:{type:"number",default:.025/3},shearingAngle:{type:"number",default:-.1}}})),$m=b((()=>{Zg(),dm(),Gg(),Km(),E(zf=class extends Af{constructor(){super(...arguments),this._relativeInsets=new Ep(0,.3,0,.3)}_layoutRows(e,t){const i=super._layoutRows(e,t);if(!this.getDecorationsVisible())return i;const r=new rf({width:t,height:25,image:cp.getImage(this._rowTypeRandomizer.pickNext(Af.RowImages))}).layout(),n=new rf({width:t,height:25,image:cp.getImage(this._rowTypeRandomizer.pickNext(Af.RowImages))}).layout();return[r,...i,n]}},"identifier","imgly_text_design_sunshine-v3_1_0")})),ey=b((()=>{ya(),_m(),Nm(),jm(),E(Bf=class extends xf{constructor(){super(...arguments),this._possibleRowTypes=[uf.Watercolor1,uf.Watercolor2,uf.Watercolor3]}},"defaultFontIdentifiers",["imgly_font_permanent_marker","imgly_font_cookie_regular","imgly_font_cookie_regular"]),E(Bf,"identifier","imgly_text_design_watercolor"),Bf.prototype.availableOptions={...xf.prototype.availableOptions,fontIdentifiers:{type:"array",default:Bf.defaultFontIdentifiers},alignment:{type:"string",default:vf.Alignment.Center,available:vf.ValidAlignments}}})),ty=b((()=>{ya(),Wg(),em(),Um(),Vg(),$g(),({Rectangle:Lf}=Xo),Uf=1e3,Nf=class{constructor(){this._layoutData=null,this._layout=null,this._text="",this._seed=0,this._debugMode=!1,this.randomizer=new np}createLayout(e,t,i){this._layout=e,this._text=t,this._seed=i,e.seed(i),this._layoutData=e.generateLayoutData(t,Uf)}calculateAspect(){return this._layoutData?this._layoutData.getSize().aspect():(fe.warn("TextDesignRenderer#calculateAspect: No layout data"),1)}draw(e,t,i,r){const n=this._layoutData;if(this._layoutData){const o=new sp(Uf,Uf/t.aspect()),s=t.width/Uf,a=n.getRelativeInsets().clone().scale(o.width),l=n.getRelativeLineSpacing()*o.width;let c=a.top;e.save(),this.randomizer.seed(this._seed);const u=n.getBackground();u&&u.render(e,t,n.getRelativeInsets(),r?Ye.WHITE:i,this.randomizer),e.scale(s,s),n.getRows().forEach((t=>{e.save();const n=t.getAttributes();if(e.transform(1,t.getShearingAngle(),0,1,a.left,c),n.setTextColor(r?Ye.WHITE:i.clone()),n.setTintColor(r?Ye.WHITE:i.clone()),(t instanceof Up||t instanceof yf)&&(t.setBackgroundColor(r?Ye.WHITE:i.clone()),t.setIsUsedInInvertedLayout(r)),this._debugMode&&(t._debugMode=!0),t.willRender(e),t.render(e),t.didRender(e),this._debugMode){const i=t._getFrame(),r=t._getTextFrame();Mp(e,i,Ye.GREEN),Mp(e,r,Ye.BLUE),t._getLayoutElements().forEach((i=>{const r=i.getFrame(),n=t._getTextFrameForElement(i);Mp(e,r,new Ye(1,1,0)),Mp(e,n,new Ye(0,1,1))}))}c+=t.getSize().height+l,e.restore()})),this._debugMode&&Mp(e,new Lf(0,0,o.width,o.height),Ye.RED),e.restore()}}}})),iy=b((()=>{ya(),Pg(),om(),sm(),lm(),cm(),hm(),pm(),mm(),ym(),Nm(),Hm(),jm(),Wm(),Vm(),Zm(),Jm(),Km(),$m(),ey(),Wg(),Vg(),Gg(),ty(),({Vector2:Hf}=Xo),(jf=class extends Ld{constructor(e,t){super(e,t),this._isDisposed=!1,this._renderer=new Nf,this._canvas=ae.createCanvas(),this._context=this._canvas.getContext("2d"),this._texture=$o.Texture.fromCanvas(this._canvas),this._sprite.setTexture(this._texture),this._aspect=1,this._isLayoutDirty=!0,this.getSeed()<0&&this.setSeed(np.TimeSeed())}seed(e){this.setSeed(e||np.TimeSeed()),this._isLayoutDirty=!0}_updateLayout(){const e=this.getLayout();return e?(this._renderer.createLayout(e,this.getText(),this.getSeed()),this._aspect=this._renderer.calculateAspect(),this._isLayoutDirty=!1,!0):null}applyTransform(e){super.applyTransform(e);const t={};this._options.dimensions&&(t.width=e.applyToRelativeSize(this.getWidth())),this.set(t,!1)}applyFlip(e){super.applyFlip(e);let{rotation:t}=this._options;switch(e){case"horizontal":t+=2*(Math.PI-t),this.setRotation(t);break;case"vertical":t+=2*(Math.PI/2-t),this.setRotation(t)}}update(e,t){const i=this._isLayoutDirty;if(this._isDisposed||i&&!this._updateLayout())return;const r=this.getWidth()*t.min()/e.getTextureScale(),n=r/this._aspect,o=new Hf(r,n),s=new Hf(Math.round(2*r),Math.round(2*n)).clamp(new Hf(1,1),new Hf(1/0,1/0)),a=e.getRenderer(),l=a.getMaxDimensions()||1/0;s.x>l&&(s.x=l,s.y=Math.round(s.x/this._aspect)),s.y>l&&(s.y=l,s.x=Math.round(s.y*this._aspect));const c=ae.ensureCanvasDimensions(this._canvas,s);(i||c)&&(this._context.clearRect(0,0,this._canvas.width,this._canvas.height),this._renderer.draw(this._context,new sp(s.x,s.y),this.getColor(),this.getInverted()),this.setDimensions(o),this._texture.getBaseTexture().update(),a.isOfType("webgl")&&a.updateTexture(this._texture.getBaseTexture())),super.update(e,t),this._applyFlip()}_applyFlip(){const e=this._sprite.getScale(),{flipHorizontally:t,flipVertically:i}=this._options;(t&&e.x>0||!t&&e.x<0)&&(e.x*=-1),(i&&e.y>0||!i&&e.y<0)&&(e.y*=-1),this._sprite.setScale(e)}_optionEquals(e,t){if("layout"===e){const{layout:e}=this._options;return!(!e&&t||!t&&e)&&(!(!t.constructor||!e.constructor)&&e.constructor.identifier===t.constructor.identifier)}return super._optionEquals(e,t)}serializeOptions(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e&&this.getPadding()<0){const t=e.indexOf("padding");t>-1&&e.splice(t,1)}const i=super.serializeOptions(e,t);return e||(i.type="textdesign"),i}_getTexture(){return this._texture}canBeFlippedHorizontally(){return!1}canBeDuplicated(){return!0}canMaskCanvas(){return!0}canAdjustPadding(){return!0}dispose(){this._isDisposed=!0,this._texture.dispose(),this._sprite.dispose()}}).Layouts={TextDesignBlocks:Vp,TextDesignBlocksCondensed:Gp,TextDesignBlocksLight:Qp,TextDesignCelebrate:tf,TextDesignCelebrateSimple:nf,TextDesignEqualWidth:lf,TextDesignEqualWidthFat:cf,TextDesignMasked:vf,TextDesignMaskedBadge:bf,TextDesignMaskedSpeechBubble:xf,TextDesignMaskedSpeechBubbleComic:wf,TextDesignMultiline:Sf,TextDesignWatercolor:Bf,TextDesignSunshine:Af,TextDesignParticles:Mf,TextDesignRotated:Pf},jf.LegacyLayouts={TextDesignBlocksLightV310:Kp,TextDesignSunshineV310:zf},jf.AssetManager=cp,jf.prototype.availableOptions={id:{type:"string",default:()=>ae.getUUID()},position:{type:"vector2",default:new Hf(.5,.5)},dimensions:{type:"vector2",default:Hf.NULL},anchor:{type:"vector2",default:new Hf(0,0)},pivot:{type:"vector2",default:new Hf(.5,.5)},rotation:{type:"number",default:0},flipHorizontally:{type:"boolean",default:!1},flipVertically:{type:"boolean",default:!1},layout:{type:"object",default:null,setter(e){return this._isLayoutDirty=!0,e}},text:{type:"string",default:"",setter(e){return this._isLayoutDirty=!0,e}},color:{type:"color",default:Ye.BLACK,setter(e){return this._isLayoutDirty=!0,e}},padding:{type:"number",default:.01,minValue:.01},width:{type:"number",default:.8},inverted:{type:"boolean",default:!1,setter(e){return this._isLayoutDirty=!0,e}},seed:{type:"number",default:-1}},Wf=jf})),ry=b((()=>{ya(),Pg(),Bm(),({Vector2:Vf}=Xo),(Gf=class extends Ld{constructor(){super(...arguments),this._textRenderer=new ff(this,this._operation),this._textRenderer.rotation=this.getRotation(),this._sprite.setTexture(this._textRenderer.getFinalTexture()),this._hitTestSprite.setTexture(this._textRenderer.getTexture())}serializeOptions(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const i=super.serializeOptions(e,t);return e||(i.type="text"),i}getDOMStyle(e,t){const i=this.getFontSize()*t.y;return{fontWeight:this._options.fontWeight,fontSize:"".concat(i,"px"),fontStyle:this._options.fontStyle,fontFamily:this._options.fontFamily,lineHeight:"".concat(this.getAbsoluteTextHeight(t)*this.getLineHeight(),"px"),color:this._options.color.toRGBA(),backgroundColor:this._options.backgroundColor.toRGBA(),textAlign:this._options.alignment}}getAbsoluteTextHeight(e){const t=this.getFontSize()*e.y,i=this.getTextMetrics();if(i){const e=1/i.unitsPerEm*t,r=i.ascender*e,n=i.descender*e;return r+Math.abs(n)}return t*this.getLineHeight()*1.1}getDimensions(e,t){return this._textRenderer.getDimensions(e,t)}applyFlip(e){super.applyFlip(e);let{rotation:t}=this._options;switch(e){case"horizontal":t+=2*(Math.PI-t),this.setRotation(t);break;case"vertical":t+=2*(Math.PI/2-t),this.setRotation(t)}}applyTransform(e){super.applyTransform(e),this.set({fontSize:e.scaleSize(this.getFontSize(),"y"),maxWidth:e.scaleSize(this.getMaxWidth(),"x")},!1)}applyRotation(e){super.applyRotation(e);const t=(e+360)%360,i=this._operation.getInputDimensions();90!==t&&270!==t||(this.setMaxWidth(this.getMaxWidth()/i.x*i.y),this.setFontSize(this.getFontSize()/i.y*i.x))}setOption(e,t){const{flipHorizontally:i,flipVertically:r}=this._options;if("rotation"===e){let e=t;return i&&(e=2*Math.PI-e),r&&(e=2*Math.PI-e),this._options.rotation=e,this._textRenderer&&(this._textRenderer.rotation=e),this._rotation=e,void this.emit("update")}super.setOption(e,t)}getOption(e){return"rotation"===e?this._rotation:super.getOption(e)}getHitTestDisplayObject(){return this._hitTestSprite}update(e,t){if(this._sprite.setVisible(this._options.visible),!this._options.visible)return;this._textRenderer.update(e,t);const i=this._textRenderer.getFinalTexture();i.getBaseTexture().update();const r=e.getRenderer();r.isOfType("webgl")&&r.updateTexture(i.getBaseTexture()),super.update(e,t),this._sprite.setRotation(0),this._textRenderer.getTexture().getBaseTexture().update(),this._hitTestSprite.setRotation(this._rotation),this._hitTestSprite.updateTransform(),this._applyFlip()}_applyFlip(){const e=this._sprite.getScale(),{flipHorizontally:t,flipVertically:i}=this._options;(t&&e.x>0||!t&&e.x<0)&&(e.x*=-1,this.setRotation(this._rotation)),(i&&e.y>0||!i&&e.y<0)&&(e.y*=-1,this.setRotation(this._rotation)),this._sprite.setScale(e)}_getTexture(){return this._textRenderer.getFinalTexture()}dispose(){super.dispose(),this._textRenderer.dispose(),this._hitTestSprite.dispose(),this._sprite.dispose()}canBeFlippedHorizontally(){return!1}canAdjustPadding(){return!1}}).prototype.availableOptions={id:{type:"string",default:()=>ae.getUUID()},fontSize:{type:"number",default:.1},characterSpacing:{type:"number",default:0},lineHeight:{type:"number",default:1.1},fontIdentifier:{type:"string"},fontFamily:{type:"string",default:"Times New Roman"},fontWeight:{type:"*",default:"normal"},fontStyle:{type:"string",default:"normal"},textMetrics:{type:"object",default:null},outlineWidth:{type:"number",default:0},outlineColor:{type:"color",default:Ye.BLACK},alignment:{type:"string",default:"left",available:["left","center","right"]},verticalAlignment:{type:"string",default:"top",available:["top","center","bottom"]},color:{type:"color",default:new Ye(1,0,0,1)},backgroundColor:{type:"color",default:Ye.TRANSPARENT},position:{type:"vector2",default:new Vf(.5,.5)},anchor:{type:"vector2",default:new Vf(0,0)},pivot:{type:"vector2",default:new Vf(.5,.5)},rotation:{type:"number",default:0},text:{type:"string",required:!0},maxWidth:{type:"number",default:.5},maxHeight:{type:"number",default:0},visible:{type:"boolean",default:!0},flipHorizontally:{type:"boolean",default:!1},flipVertically:{type:"boolean",default:!1}},Gf.type="text",qf=Gf})),ny=b((()=>{ya(),Pg(),Ng(),jg(),iy(),ry(),({Vector2:Xf}=Xo),(Yf=class extends ws{constructor(){super(...arguments),this.setSmoothDownscaling(this._sdk.getOptions().smoothDownscaling),this._onSpriteUpdate=this._onSpriteUpdate.bind(this),this._maskCanvas=ae.createCanvas();this._options.sprites.slice().forEach((e=>{this.removeSprite(e),this.addSprite(e)}))}getSpritesOfType(e){return this._options.sprites.filter((t=>t instanceof e))}rotate(e){this._options.sprites.forEach((t=>{t.applyRotation(e)}))}flip(e){this._options.sprites.forEach((t=>{t.applyFlip(e)}))}_onSpriteUpdate(e,t){this.emit("update",this),this.setDirty(!0)}_applyRotation(e,t){this._options.sprites.forEach((i=>i.applyRotation(e,t)))}transform(e){this._options.sprites.forEach((t=>t.applyTransform(e)))}scale(e){this._options.sprites.forEach((t=>t.applyScale(e)))}serializeOption(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return"sprites"===e?this._options.sprites.map((e=>e.serializeOptions(void 0,t))):super.serializeOption(e,t)}createSticker(e){return new ip(this,e)}createText(e){return new qf(this,e)}createBrush(e){return new Qd(this,e)}createTextDesign(e){return new Wf(this,e)}addSprite(e){this._options.sprites.push(e);const t=this.getSmoothDownscaling();e.setSmoothDownscaling&&e.setSmoothDownscaling(t),this._container.addChild(e.getDisplayObject()),this.setDirty(!0),e.on("update",this._onSpriteUpdate),this.emit("update",this,this._options.sprites)}removeSprite(e){const{sprites:t}=this._options,i=t.indexOf(e);return-1!==i&&(e.off("update",this._onSpriteUpdate),this._container.removeChild(e.getDisplayObject()),t.splice(i,1),this.setDirty(!0),!0)}_getOrientatedStageSize(){const e=this._sdk.getSprite().getTexture().getFrame(),t=this._sdk.getOperationsStack().getByIdentifier("orientation");if(t){const i=t?t.getRotation():0;return 270===i||90===i?new Xf(e.height,e.width):new Xf(e.width,e.height)}const i=this._sdk.getOperationsStack().getByIdentifier("output");return i?i.getOutputResolution():new Xf(e.width,e.height)}_render(e){const t=this._container,{sprites:i}=this._options,r=e.getDimensions().clone().floor();let n=new $o.Container;return n.addChild(this._sprite),Promise.all(i.map((e=>e.validateSettings()))).then((()=>{i.forEach((e=>e.update(this._sdk,r)))})).then((()=>{this._renderTexture.clear(),i.forEach((e=>{e.getInverted&&e.getInverted()?(this._renderTexture.render(n),this._renderTexture.render(this._renderMaskedSprite(e.getDisplayObject(),e.getColor?e.getColor():Ye.WHITE,e.getPadding?e.getPadding():-1)),n=new $o.Container):n.addChild(e.getDisplayObject())})),this._renderTexture.render(n),t.addChild(this._sprite),i.forEach((e=>t.addChild(e.getDisplayObject())))}))}_renderMaskedSprite(e,t,i){const r=this._maskCanvas,n=e.getWorldTransform(),o=this._getOrientatedStageSize();ae.ensureCanvasDimensions(r,o);const s=r.getContext("2d");if(s.clearRect(0,0,r.width,r.height),s.save(),s.fillStyle=t.toRGBA(),i<0)s.fillRect(0,0,o.x,o.y);else{const t=Math.abs(e.getWidth()/e.getScale().x),r=Math.abs(e.getHeight()/e.getScale().y),o=t*i;s.transform(n.a,n.b,n.c,n.d,n.tx,n.ty),s.fillRect(-o,-o,t+2*o,r+2*o)}s.restore(),s.save(),s.globalCompositeOperation="destination-out",e._renderCanvas({getCurrentRenderTarget:()=>({getPixelRatio:()=>1}),beforeDraw:t=>{const i=e.getWidth(),r=e.getHeight(),n=e.getScale(),o=n.x<0,s=n.y<0;t.translate(i,r),t.scale(o?-1:1,s?-1:1),t.translate(-i,-r)},getContext:()=>s}),s.restore();const a=new $o.Container,l=new $o.Sprite($o.Texture.fromCanvas(r));return a.addChild(l),a}takeSpriteToFront(e){const{sprites:t}=this._options,i=t.indexOf(e);if(-1===i)return;ae.moveArrayItem(t,i,t.length-1);const r=e.getDisplayObject();this._container.removeChild(r),this._container.addChild(r),this.setDirty(!0)}getSpritesAtPosition(e,t){const i=[];this._options.sprites.forEach((e=>e.update(this._sdk,t)));const r=this._sdk.getSprite(),n=r.getWorldTransform().applyInverseToVector(e),{width:o,height:s}=r.getTexture().getFrame(),a=r.getAnchor().clone().multiply(-o,-s);n.subtract(a);const l=this._options.sprites.slice(0).reverse();for(let c=0,u=l.length;c<u;c++){const e=l[c];e.getHitTestDisplayObject().isAtPosition(n)&&i.push(e)}return i}setDirtyForRenderer(e,t,i){super.setDirtyForRenderer(e,t,i),this._options.sprites.forEach((r=>{r.setDirtyForRenderer(e,t,i)}))}dispose(){super.dispose(),this._options.sprites.forEach((e=>{e.dispose()}))}}).StickerSprite=ip,Yf.TextSprite=qf,Yf.BrushSprite=Qd,Yf.TextDesignSprite=Wf,Yf.identifier="sprite",Yf.prototype.availableOptions={sprites:{type:"array",default:[],setter(e,t){if(e=e.map(((e,t)=>{if(e instanceof Ld)return e;const i={...e};switch(delete i.type,e.type){case"text":return new qf(this,i);case"sticker":return new ip(this,i);case"brush":return new Qd(this,i);case"textdesign":return new Wf(this,i);default:return fe.error(this.constructor.name,"Invalid sprite type: ".concat(e.type)),null}})),!t){if(this._options.sprites){this._options.sprites.slice().forEach((e=>{e.dispose(),this.removeSprite(e)}))}e.forEach((e=>{this.addSprite(e)}))}return e}},smoothDownscaling:{type:"boolean",default:!1}},sa.Operations.SpriteOperation=Yf,Qf=Yf})),oy=b((()=>{ya(),({Vector2:Kf}=Xo),Zf=class{constructor(e,t){this._options=t,this._oldOptions={start:e.getStart().clone(),end:e.getEnd().clone(),rotation:e.getRotation(),textureScale:e.getTextureScale()},this._inputDimensions=e.getInputDimensions(!1),this._rotationDelta=t.rotation-e.getRotation(),this._deltaCos=Math.cos(this._rotationDelta),this._deltaSin=Math.sin(this._rotationDelta),this._oldAbsoluteSize=this._oldOptions.end.clone().subtract(this._oldOptions.start).multiply(this._inputDimensions),this._newAbsoluteSize=t.end.clone().subtract(t.start).multiply(this._inputDimensions),this._absoluteStartDiff=this._oldOptions.start.clone().subtract(t.start).multiply(this._inputDimensions),this._scaleRatio=e.calculateScale(t.rotation)/e.calculateScale(),this._sizeFactor=this._newAbsoluteSize.clone().divide(this._oldAbsoluteSize),this._textureScaleFactor=this._options.textureScale/e.getTextureScale()}applyToRelativePoint(e){const t=this._oldOptions.start,i=this._oldOptions.end,r=t.clone().add(i.clone().subtract(t).divide(2)).multiply(this._inputDimensions),n=e.clone().multiply(this._oldAbsoluteSize).subtract(this._oldAbsoluteSize.clone().divide(2)),o=r.clone().add(n).clone().subtract(this._inputDimensions.clone().divide(2)),s=new Kf(o.x*this._deltaCos-o.y*this._deltaSin,o.x*this._deltaSin+o.y*this._deltaCos),a=this._inputDimensions.clone().divide(2).add(s),l=this._options.start.clone().multiply(this._inputDimensions);return a.clone().subtract(l).divide(this._newAbsoluteSize)}applyToRelativeSize(e){return e*this._oldAbsoluteSize.min()/this._newAbsoluteSize.min()}applyToDimensions(e){return e=e.clone().multiply(this._scaleRatio),this._options.textureScale&&e.multiply(this._textureScaleFactor),e}scaleSize(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"y";return e/this._sizeFactor[t]}applyToRotation(e){return(e+this._rotationDelta)%(2*Math.PI)}invert(){const e=this._options.start.clone(),t=this._options.end.clone(),i=this._inputDimensions,r=-this._rotationDelta,n=Math.cos(r),o=Math.sin(r),s=this._oldAbsoluteSize,a=this._newAbsoluteSize,l=e.clone().subtract(t).multiply(i),c=1/this._scaleRatio,u=new Kf(1/this._sizeFactor.x,1/this._sizeFactor.y),h=1/this._textureScaleFactor,d=this._oldOptions;return this._oldOptions=this._options,this._options=d,this._inputDimensions=i,this._rotationDelta=r,this._deltaCos=n,this._deltaSin=o,this._oldAbsoluteSize=a,this._newAbsoluteSize=s,this._absoluteStartDiff=l,this._scaleRatio=c,this._sizeFactor=u,this._textureScaleFactor=h,this}}})),sy=b((()=>{ya(),oy(),({Vector2:Jf}=Xo),($f=class extends ws{_render(e){this._sprite.setRotation(0);const t=e.getDimensions(),{start:i,end:r,rotation:n,textureScale:o}=this._options,s=r.clone().subtract(i).clone().divide(2),a=i.clone().add(s),l=this.calculateScale()*o,c=t.clone().multiply(l).multiply(s);return this._sprite.setAnchor(a),this._sprite.setRotation(n),this._sprite.setScale(l,l),this._sprite.setPosition(c),this._renderTexture.render(this._container),Promise.resolve()}calculateScale(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._options.rotation;const t=this.getInputDimensions(!1),i=new Jf(Math.abs(t.x*Math.cos(e))+Math.abs(t.y*Math.sin(e)),Math.abs(t.x*Math.sin(e))+Math.abs(t.y*Math.cos(e))),r=t.clone().subtract(i.clone()).divide(2).abs();let n=1;return n=r.y>r.x?2*r.y/t.y+1:2*r.x/t.x+1,n}getNewDimensions(e){const{start:t,end:i,textureScale:r}=this._options,n=this.calculateScale();return e.clone().multiply(r*n).multiply(i.clone().subtract(t)).round()}flip(e){const{start:t,end:i}=this._options,r=t.clone();"horizontal"===e?(t.set(1-i.x,t.y),i.set(1-r.x,i.y)):"vertical"===e&&(t.set(t.x,1-i.y),i.set(i.x,1-r.y))}rotate(e){const{start:t,end:i}=this._options,r=(e+360)%360,n=Math.floor(r/90);for(let o=0;o<n;o++){const e=t.clone();t.set(1-i.y,e.x),i.set(1-e.y,i.x)}}_onBeforeExport(){this._wasEnabledBeforeExport=this.getEnabled(),this.setEnabled(!0)}_onAfterExport(){this.setEnabled(this._wasEnabledBeforeExport,!0)}}).identifier="transform",$f.prototype.availableOptions={start:{type:"vector2",default:new Jf(0,0)},end:{type:"vector2",default:new Jf(1,1)},textureScale:{type:"number",default:1},rotation:{type:"number",default:0}},$f.TransformChange=Zf,sa.Operations.TransformOperation=$f,eg=$f})),ay=b((()=>{l_(),ya(),Ts(),(tg=class extends ws{constructor(){super(...arguments),this._watermarkImage=null,this._watermarkTexture=null,this._loadWatermarkImage=()=>{if(!this._watermarkImage){if(!(this._options.watermarkURI instanceof window.Image)){const e={value:this._options.crossOrigin,cors:!0};return ge.loadImage(this._options.watermarkURI,e).then((e=>{this._watermarkImage=e}))}this._watermarkImage=this._options.watermarkURI}return Promise.resolve()},this._setWatermarkalignment=(e,t)=>{const i=Math.min(t.x,t.y)*ae.clamp(this._options.inset,0,1);switch(this._options.alignment){case"center":this._watermarkSprite.setPosition(new tt(t.x-e.x,t.y-e.y).divide(2));break;case"top-left":this._watermarkSprite.setPosition(new tt(i,i));break;case"top-right":this._watermarkSprite.setPosition(new tt(t.x-e.x-i,i));break;case"bottom-left":this._watermarkSprite.setPosition(new tt(i,t.y-e.y-i));break;case"bottom-right":this._watermarkSprite.setPosition(new tt(t.x-e.x-i,t.y-e.y-i));break;default:this._watermarkSprite.setPosition(new tt(0,0))}},this._watermarkSprite=new $o.Sprite,this._watermarkSprite.setAnchor(0,0),this._container.addChild(this._watermarkSprite)}_render(e){const{alpha:t,size:i}=this._options;return this._loadWatermarkImage().then((()=>{if(this._watermarkImage){this._watermarkTexture||(this._watermarkTexture=$o.Texture.fromImage(this._watermarkImage),this._watermarkSprite.setTexture(this._watermarkTexture));const r=e.getDimensions(),{width:n,height:o}=this._watermarkImage,s=ae.resizeVectorToFit(new tt(n,o),r.clone().multiply(ae.clamp(i,0,1)));this._setWatermarkalignment(s,r),this._watermarkSprite.setWidth(s.x),this._watermarkSprite.setHeight(s.y),this._watermarkSprite.setAlpha(t),this._renderTexture&&this._renderTexture.render(this._container)}return Promise.resolve()}))}dispose(){super.dispose(),this._watermarkSprite.dispose()}}).identifier="watermark",tg.prototype.availableOptions={watermarkURI:{type:"string",required:!0},alignment:{type:"string",default:"top-right"},inset:{type:"number",default:"0.05"},size:{type:"number",default:"0.2"},alpha:{type:"number",default:1},crossOrigin:{type:"string",default:"anonymous"}},sa.Operations.WatermarkOperation=tg,ig=tg})),ly=b((()=>{ya(),uc(),pc(),fg(),gg(),mg(),bg(),Sg(),Tg(),Eg(),Dg(),Ig(),Ag(),Hg(),ny(),sy(),ay(),rg=[Pa,ja,Gh,Zh,id,cd,md,vd,Td,Od,Jd,Qf,eg,ig,wd,Yh],sa.AllOperations=rg})),cy=b((()=>{ly(),ma(),ma()})),uy=b((()=>{ng=[{fontFamily:"Open Sans",variations:[{identifier:"imgly_font_open_sans_bold",fontWeight:"bold",provider:"file",filePath:"fonts/imgly_font_open_sans_bold.woff",default:!0,textMetrics:{unitsPerEm:2048,ascender:2189,descender:-600}}]},{fontFamily:"Aleo",variations:[{identifier:"imgly_font_aleo_bold",fontWeight:"bold",provider:"file",filePath:"fonts/imgly_font_aleo_bold.woff",textMetrics:{unitsPerEm:1e3,ascender:805,descender:-195}}]},{fontFamily:"Amatic SC",variations:[{identifier:"imgly_font_amaticsc",fontWeight:"normal",provider:"file",filePath:"fonts/imgly_font_amaticsc.woff",textMetrics:{unitsPerEm:1e3,ascender:1016,descender:-245}}]},{fontFamily:"Archivo",variations:[{identifier:"imgly_font_archivo_black",fontWeight:"normal",filePath:"fonts/imgly_font_archivo_black.woff",provider:"file",textMetrics:{unitsPerEm:1e3,ascender:878,descender:-210}}]},{fontFamily:"Bungee Inline",variations:[{identifier:"imgly_font_bungee_inline",fontWeight:"normal",fontStyle:"normal",filePath:"fonts/imgly_font_bungee_inline.woff",provider:"file",textMetrics:{unitsPerEm:1e3,ascender:860,descender:-140}}]},{fontFamily:"Carter",variations:[{identifier:"imgly_font_carter_one",fontWeight:"normal",fontStyle:"normal",filePath:"fonts/imgly_font_carter_one.woff",provider:"file",textMetrics:{unitsPerEm:2048,ascender:2264,descender:-890}}]},{fontFamily:"Codystar",variations:[{identifier:"imgly_font_codystar",fontWeight:"normal",fontStyle:"normal",filePath:"fonts/imgly_font_codystar.woff",provider:"file",textMetrics:{unitsPerEm:1024,ascender:953,descender:-255}}]},{fontFamily:"Fira Sans",variations:[{identifier:"imgly_font_fira_sans_regular",fontWeight:"normal",fontStyle:"normal",filePath:"fonts/imgly_font_fira_sans_regular.woff",provider:"file",textMetrics:{unitsPerEm:1e3,ascender:935,descender:-265}}]},{fontFamily:"Krona One",variations:[{identifier:"imgly_font_krona_one",fontWeight:"normal",fontStyle:"normal",filePath:"fonts/imgly_font_krona_one.woff",provider:"file",textMetrics:{unitsPerEm:2048,ascender:2030,descender:-530}}]},{fontFamily:"Kumar One Outline",variations:[{identifier:"imgly_font_kumar_one_outline",fontWeight:"normal",fontStyle:"normal",filePath:"fonts/imgly_font_kumar_one_outline.woff",provider:"file",textMetrics:{unitsPerEm:1e3,ascender:1137,descender:-642}}]},{fontFamily:"Lobster",variations:[{identifier:"imgly_font_lobster",fontWeight:"normal",provider:"file",filePath:"fonts/imgly_font_lobster.woff",textMetrics:{unitsPerEm:1e3,ascender:1e3,descender:-250}}]},{fontFamily:"Molle",variations:[{identifier:"imgly_font_molle",fontWeight:"normal",fontStyle:"normal",filePath:"fonts/imgly_font_molle.woff",provider:"file",textMetrics:{unitsPerEm:2048,ascender:1852,descender:-701}}]},{fontFamily:"Monoton",variations:[{identifier:"imgly_font_monoton",fontWeight:"normal",fontStyle:"normal",filePath:"fonts/imgly_font_monoton.woff",provider:"file",textMetrics:{unitsPerEm:2048,ascender:2366,descender:-822}}]},{fontFamily:"Nixie One",variations:[{identifier:"imgly_font_nixie_one",fontWeight:"normal",fontStyle:"normal",filePath:"fonts/imgly_font_nixie_one.woff",provider:"file",textMetrics:{unitsPerEm:1e3,ascender:926,descender:-210}}]},{fontFamily:"Notable",variations:[{identifier:"imgly_font_notable",fontWeight:"normal",fontStyle:"normal",filePath:"fonts/imgly_font_notable.woff",provider:"file",textMetrics:{unitsPerEm:1e3,ascender:1143,descender:-157}}]},{fontFamily:"Ostrich",variations:[{identifier:"imgly_font_ostrich_sans_black",fontWeight:800,provider:"file",filePath:"fonts/imgly_font_ostrich_sans_black.woff",textMetrics:{unitsPerEm:1e3,ascender:950,descender:-250}},{identifier:"imgly_font_ostrich_sans_bold",fontWeight:"bold",provider:"file",filePath:"fonts/imgly_font_ostrich_sans_bold.woff",textMetrics:{unitsPerEm:1e3,ascender:950,descender:-250}}]},{fontFamily:"Oswald SemiBold",variations:[{identifier:"imgly_font_oswald_semi_bold",fontWeight:600,fontStyle:"normal",filePath:"fonts/imgly_font_oswald_semi_bold.woff",provider:"file",textMetrics:{unitsPerEm:1e3,ascender:1193,descender:-289}}]},{fontFamily:"Palanquin Dark SemiBold",variations:[{identifier:"imgly_font_palanquin_dark_semi_bold",fontWeight:"bold",fontStyle:"normal",filePath:"fonts/imgly_font_palanquin_dark_semi_bold.woff",provider:"file",textMetrics:{unitsPerEm:1e3,ascender:1320,descender:-491}}]},{fontFamily:"Poppins",variations:[{identifier:"imgly_font_poppins",fontWeight:"bold",fontStyle:"normal",filePath:"fonts/imgly_font_poppins.woff",provider:"file",textMetrics:{unitsPerEm:1e3,ascender:1050,descender:-350}}]},{fontFamily:"Permanent Marker",variations:[{identifier:"imgly_font_permanent_marker",fontWeight:"normal",fontStyle:"normal",filePath:"fonts/imgly_font_permanent_marker.woff",provider:"file",textMetrics:{unitsPerEm:1024,ascender:1136,descender:-325}}]},{fontFamily:"Roboto Black",variations:[{identifier:"imgly_font_roboto_black_italic",fontWeight:"normal",fontStyle:"italic",filePath:"fonts/imgly_font_roboto_black_italic.woff",provider:"file",textMetrics:{unitsPerEm:2048,ascender:1900,descender:-500}}]},{fontFamily:"Roboto Light",variations:[{identifier:"imgly_font_roboto_light_italic",fontWeight:"normal",fontStyle:"italic",filePath:"fonts/imgly_font_roboto_light_italic.woff",provider:"file",textMetrics:{unitsPerEm:2048,ascender:1900,descender:-500}}]},{fontFamily:"Sancreek",variations:[{identifier:"imgly_font_sancreek",fontWeight:"normal",fontStyle:"normal",filePath:"fonts/imgly_font_sancreek.woff",provider:"file",textMetrics:{unitsPerEm:2048,ascender:2104,descender:-738}}]},{fontFamily:"Stint Ultra Expanded",variations:[{identifier:"imgly_font_stint_ultra_expanded",fontWeight:"normal",fontStyle:"normal",filePath:"fonts/imgly_font_stint_ultra_expanded.woff",provider:"file",textMetrics:{unitsPerEm:2048,ascender:1853,descender:-483}}]},{fontFamily:"Trashhand",variations:[{identifier:"imgly_font_trash_hand",fontWeight:"normal",provider:"file",filePath:"fonts/imgly_font_trash_hand.woff",textMetrics:{unitsPerEm:1e3,ascender:759,descender:-304}}]},{fontFamily:"VT323",variations:[{identifier:"imgly_font_vt323",fontWeight:"normal",fontStyle:"normal",filePath:"fonts/imgly_font_vt323.woff",provider:"file",textMetrics:{unitsPerEm:1e3,ascender:800,descender:-200}}]},{fontFamily:"Yeseva One",variations:[{identifier:"imgly_font_yeseva_one",fontWeight:"normal",fontStyle:"normal",filePath:"fonts/imgly_font_yeseva_one.woff",provider:"file",textMetrics:{unitsPerEm:1e3,ascender:915,descender:-240}}]},{fontFamily:"Lexend",variations:[{identifier:"imgly_font_lexend_bold",fontWeight:"bold",fontStyle:"normal",provider:"file",filePath:"fonts/imgly_font_lexend_bold.ttf",default:!0,textMetrics:{unitsPerEm:1e3,ascender:1e3,descender:-250}}]},{fontFamily:"Outfit",variations:[{identifier:"imgly_font_outfit_bold",fontWeight:"bold",fontStyle:"normal",provider:"file",filePath:"fonts/imgly_font_outfit_bold.ttf",default:!0,textMetrics:{unitsPerEm:1e3,ascender:1e3,descender:-260}}]}]})),hy=b((()=>{og=[{fontFamily:"Open Sans",variations:[{identifier:"imgly_font_open_sans_bold",fontWeight:"bold",provider:"file",filePath:"fonts/imgly_font_open_sans_bold.woff",default:!0,textMetrics:{unitsPerEm:2048,ascender:2189,descender:-600}}]},{fontFamily:"Abril Fatface",variations:[{identifier:"imgly_font_abril_fatface_regular",fontWeight:"normal",fontStyle:"normal",provider:"file",filePath:"fonts/imgly_font_abril_fatface_regular.woff",textMetrics:{unitsPerEm:1e3,ascender:1058,descender:-291}}]},{fontFamily:"Bungee Inline",variations:[{identifier:"imgly_font_bungee_inline",fontWeight:"normal",fontStyle:"normal",provider:"file",filePath:"fonts/imgly_font_bungee_inline.woff",default:!0,textMetrics:{unitsPerEm:1e3,ascender:860,descender:-140}}]},{fontFamily:"Handycheera",variations:[{identifier:"imgly_font_handycheera_regular",fontWeight:"normal",fontStyle:"normal",provider:"file",filePath:"fonts/imgly_font_handycheera_regular.woff",default:!0,textMetrics:{unitsPerEm:2048,ascender:2199,descender:-808}}]},{fontFamily:"Montserrat Light",variations:[{identifier:"imgly_font_montserrat_light",fontWeight:"normal",fontStyle:"normal",provider:"file",filePath:"fonts/imgly_font_montserrat_light.woff",textMetrics:{unitsPerEm:1e3,ascender:968,descender:-251}}]},{fontFamily:"Ostrich",variations:[{identifier:"imgly_font_ostrich_sans_black",fontWeight:800,provider:"file",filePath:"fonts/imgly_font_ostrich_sans_black.woff",textMetrics:{unitsPerEm:1e3,ascender:950,descender:-250}},{identifier:"imgly_font_ostrich_sans_bold",fontWeight:"bold",provider:"file",filePath:"fonts/imgly_font_ostrich_sans_bold.woff",textMetrics:{unitsPerEm:1e3,ascender:950,descender:-250}},{identifier:"imgly_font_ostrich_sans_heavy",fontWeight:900,provider:"file",filePath:"fonts/imgly_font_ostrich_sans_heavy.woff",textMetrics:{unitsPerEm:1e3,ascender:674,descender:0}}]},{fontFamily:"Permanent Marker",variations:[{identifier:"imgly_font_permanent_marker",fontWeight:"normal",fontStyle:"normal",provider:"file",filePath:"fonts/imgly_font_permanent_marker.woff",textMetrics:{unitsPerEm:1024,ascender:1136,descender:-325}}]},{fontFamily:"Petit Formal Script",variations:[{identifier:"imgly_font_petit_formal_script",fontWeight:"normal",fontStyle:"normal",provider:"file",filePath:"fonts/imgly_font_petit_formal_script.woff",default:!0,textMetrics:{unitsPerEm:2048,ascender:2033,descender:-527}}]},{fontFamily:"Rasa",variations:[{identifier:"imgly_font_rasa_regular",fontWeight:"normal",fontStyle:"normal",provider:"file",filePath:"fonts/imgly_font_rasa_regular.woff",default:!0,textMetrics:{unitsPerEm:2750,ascender:2300,descender:-1050}},{identifier:"imgly_font_rasa_500",fontWeight:500,fontStyle:"normal",provider:"file",filePath:"fonts/imgly_font_rasa_500.woff",default:!0,textMetrics:{unitsPerEm:2750,ascender:2300,descender:-1050}}]},{fontFamily:"Roboto Black",variations:[{identifier:"imgly_font_roboto_black",fontWeight:"normal",fontStyle:"normal",filePath:"fonts/imgly_font_roboto_black.woff",provider:"file",textMetrics:{unitsPerEm:2048,ascender:1900,descender:-500}},{identifier:"imgly_font_roboto_black_italic",fontWeight:"normal",fontStyle:"italic",filePath:"fonts/imgly_font_roboto_black_italic.woff",provider:"file",textMetrics:{unitsPerEm:2048,ascender:1900,descender:-500}}]},{fontFamily:"Roboto Light",variations:[{identifier:"imgly_font_roboto_light",fontWeight:"normal",fontStyle:"normal",filePath:"fonts/imgly_font_roboto_light.woff",provider:"file",textMetrics:{unitsPerEm:2048,ascender:1900,descender:-500}},{identifier:"imgly_font_roboto_light_italic",fontWeight:"normal",fontStyle:"italic",filePath:"fonts/imgly_font_roboto_light_italic.woff",provider:"file",textMetrics:{unitsPerEm:2048,ascender:1900,descender:-500}}]},{fontFamily:"Sue Ellen Francisco",variations:[{identifier:"imgly_font_sue_ellen_francisco",fontWeight:"normal",fontStyle:"normal",filePath:"fonts/imgly_font_sue_ellen_francisco.woff",provider:"file",textMetrics:{unitsPerEm:1024,ascender:1362,descender:-634}}]},{fontFamily:"Ultra",variations:[{identifier:"imgly_font_ultra",fontWeight:"normal",fontStyle:"normal",provider:"file",filePath:"fonts/imgly_font_ultra.woff",default:!0,textMetrics:{unitsPerEm:2048,ascender:2066,descender:-561}}]},{fontFamily:"Allison",variations:[{identifier:"imgly_font_allison_regular",fontWeight:"normal",fontStyle:"normal",provider:"file",filePath:"fonts/imgly_font_allison_regular.ttf",default:!0,textMetrics:{unitsPerEm:1e3,ascender:890,descender:-380}}]},{fontFamily:"Cookie",variations:[{identifier:"imgly_font_cookie_regular",fontWeight:"normal",fontStyle:"normal",provider:"file",filePath:"fonts/imgly_font_cookie_regular.ttf",default:!0,textMetrics:{unitsPerEm:1e3,ascender:789,descender:-320}}]},{fontFamily:"Lexend",variations:[{identifier:"imgly_font_lexend_bold",fontWeight:"bold",fontStyle:"normal",provider:"file",filePath:"fonts/imgly_font_lexend_bold.ttf",default:!0,textMetrics:{unitsPerEm:1e3,ascender:1e3,descender:-250}}]},{fontFamily:"Outfit",variations:[{identifier:"imgly_font_outfit_bold",fontWeight:"bold",fontStyle:"normal",provider:"file",filePath:"fonts/imgly_font_outfit_bold.ttf",default:!0,textMetrics:{unitsPerEm:1e3,ascender:1e3,descender:-260}}]}]})),dy=b((()=>{sg=[{identifier:"imgly_transforms_common",defaultName:"Common Ratios",ratios:[{identifier:"imgly_transform_common_custom",defaultName:"Custom",ratio:"*",selected:!0},{identifier:"imgly_transform_common_square",defaultName:"Square",ratio:1},{identifier:"imgly_transform_common_4-3",defaultName:"4:3",ratio:4/3},{identifier:"imgly_transform_common_16-9",defaultName:"16:9",ratio:16/9}]},{identifier:"imgly_transforms_facebook",defaultName:"Facebook",ratios:[{identifier:"imgly_transform_facebook_profile",defaultName:"Profile Pic",dimensions:{x:300,y:300},forceDimensions:!1,lockDimensions:!0},{identifier:"imgly_transform_facebook_ad",defaultName:"Ad",dimensions:{x:1200,y:627}},{identifier:"imgly_transform_facebook_post",defaultName:"Post",dimensions:{x:940,y:788}},{identifier:"imgly_transform_facebook_cover",defaultName:"Cover",dimensions:{x:851,y:315}}]}]})),py=b((()=>{cy(),uy(),hy(),dy(),ag=[],"undefined"!==typeof sa.Operations.SpriteOperation&&ag.push(sa.Operations.SpriteOperation.BrushSprite.Brushes.RadialBrush),lg={TRANSFORM_RATIO_CATEGORIES:sg,FONTS:ng,TEXT_DESIGN_FONTS:og,BRUSHES:ag}})),fy=b((()=>{_r(),cg={...Hi,LOAD:"load",SAVE:"save",EDITOR_RESIZE:"editor:resize",ZOOM:"editor:zoom",ZOOM_CHANGED:"editor:zoom_changed",HISTORY_REDO:"history:redo",HISTORY_BEFORE_REDO:"history:before-redo",TEXT_SCALED:"editor:text:scaled",TRANSFORM_RESIZE:"transform:resize",TRANSFORM_AFTER_EDIT:"transform:after-edit",ADDED_STICKER:"sticker:added-sticker",SPRITES_DESELECTED:"editor:sprite:deselected-all",CANVAS_FOCUS:"canvas:focus"},ug=cg})),gy=b((()=>{py(),fy(),hg={EVENTS:ug,DEFAULTS:lg}}));function my(){const{userAgent:e,appVersion:t}=navigator;return-1!==t.indexOf("MSIE")?t.match(/MSIE\s+?([0-9]+)/i)[1]:-1!==e.indexOf("Trident")&&e.match(/rv:([0-9]+)/i)[1]}var yy,_y,vy,by,xy,wy,Sy,ky,Cy,Ty,Ey,Dy,Iy,Ry,Fy,Ay,Oy,My,Py,zy,By,Ly,Uy,Ny,Hy,jy,Wy,Vy,Gy,qy,Xy,Yy,Qy,Ky,Zy,Jy,$y,e_,t_,i_,r_,n_,o_,s_=b((()=>{dg={getIEVersion:my}})),a_=b((()=>{cy(),Ge(),Oe(),D(),s_(),yy=sa.Utils,({Vector2:_y}=sa.Math),vy={getInnerDimensionsForElement(e){const t=new _y(e.offsetWidth,e.offsetHeight),i=window.getComputedStyle(e,null);return t.x-=parseInt(i.getPropertyValue("padding-left"),10),t.x-=parseInt(i.getPropertyValue("padding-right"),10),t.y-=parseInt(i.getPropertyValue("padding-top"),10),t.y-=parseInt(i.getPropertyValue("padding-bottom"),10),t},getEventPosition(e){let t=e.clientX,i=e.clientY;if(-1!==e.type.indexOf("touch")){if(!e.touches.length)return;t=e.touches[0].clientX,i=e.touches[0].clientY}return new _y(t,i)},createTransparentPatternCanvas(){const e=document.createElement("canvas"),t=e.getContext("2d");return e.width=10,e.height=10,t.fillStyle="white",t.fillRect(0,0,e.width,e.height),t.fillStyle="#cccccc",t.fillRect(0,0,e.width/2,e.height/2),t.fillRect(e.width/2,e.height/2,e.width,e.height),e},supportsMSBlob(){const e=document.createElement("canvas"),t="undefined"!==typeof e.msToBlob;return n(e),t},translate(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=this.fetch(e,t);if(!r)return fe.info("Utils#translate","Unable to translate `".concat(t,"`")),null;for(const n in i)r=r.replace("${".concat(n,"}"),i[n]);return r},fetch(e,t,i){const r=(t=(t=t.replace(/\[(\w+)]/g,".$1")).replace(/^\./,"")).split(".");for(let n=0;n<r.length;n++){if(!(e=e[r[n]]))break}return"undefined"!==typeof e&&e},isMobile(){const e=navigator.userAgent||navigator.vendor||window.opera;return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4))},select(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;i||(i=e=>e);const r=[];return t.forEach((t=>{e.forEach((e=>{i(e)===t&&r.push(e)}))})),r},getJSONP:e=>new We(e).load(),cloneCategories:(e,t)=>e.map((e=>((e=yy.clone(e))[t]=e[t].slice(0),e))),mergeCategories(e,t,i){e=this.cloneCategories(e,i);let r=null;return t.forEach((t=>{e.forEach((e=>{t.identifier===e.identifier&&(r=e)})),r?r[i]=r[i].concat(t[i]):e.push(t)})),e},wrapFiltersInCategories:(e,t)=>e.map((e=>{let i=e;return t in i||(i={identifier:"imgly_filters_wrapped-".concat(e.identifier),displayFlat:!0,[t]:[e]}),i})),getStyleObject(e){const t=window.getComputedStyle(e),i={};for(const r in t){const e=t.getPropertyValue(r),n=r.replace(/-([a-z])/g,((e,t)=>t.toUpperCase()));""!==e&&(i[n]=e)}return i},styleElement(e,t){for(const i in t)e.style[i]=t[i]},debounce(e,t,i){let r;return function(){for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];const a=i&&!r;clearTimeout(r),r=setTimeout((()=>{r=null,i||e.apply(this,o)}),t),a&&e.apply(this,o)}},getScrollbarWidth(){const e=document.createElement("div");e.style.visibility="hidden",e.style.width="100px",e.style.msOverflowStyle="scrollbar",document.body.appendChild(e);const t=e.offsetWidth;e.style.overflow="scroll";const i=document.createElement("div");i.style.width="100%",e.appendChild(i);const r=i.offsetWidth;return e.parentNode.removeChild(e),t-r},findIntegerFraction(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,i=Number.MAX_VALUE,r=0,n=0,o=1,s=1;for(let a=0;a<t;a++){const t=o/s-e;if(t<0)o++;else{if(!(t>0))return new _y(o,s);s++}const a=Math.abs(o/s-e);a<i&&(i=a,r=o,n=s)}return new _y(r,n)},toFixed(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;const i=e.toFixed(t);return parseFloat(i)},capitalize:e=>e.charAt(0).toUpperCase()+e.slice(1),flipObject(e){const t={};for(const i in e)t[e[i]]=i;return t},Browser:dg},by=vy})),l_=b((()=>{cy(),_r(),Me(),Oe(),gy(),a_(),({Base64:xy}=sa),({Color:wy}=sa),({ColorMatrix:Sy}=sa.Math),({EventEmitter:ky}=sa),({EXIF:Cy}=sa),({OptionType:Ty}=sa),Ey=sa.Utils,({RenderType:Dy}=sa),({ImageFormat:Iy}=sa),Ry=sa,({UniformType:Fy}=sa),({Vector2:Ay}=sa.Math),({Rectangle:Oy}=sa.Math),({Range:My}=sa.Math),"undefined"!==typeof window&&window.performance&&window.performance.now?window.performance.now.bind(window.performance):ir()})),c_=b((()=>{l_(),E(zy=Py=class{constructor(e,t){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this._ui=e,this._options=t,this._categoriesById={},this._filtersByIdentifier={identity:Ry.Operations.FilterOperation.Filters.IdentityFilter},this._categories=by.wrapFiltersInCategories(ji.DEFAULTS.FILTERS.slice(0),Py.CATEGORY_ITEMS_PROPERTY),this._customAssetsAllowed=i||e.getEditor().getSDK()._l.areCustomAssetsAllowed(),this._customAssetsAllowed&&this._options.categories&&(this._options.categories=by.wrapFiltersInCategories(this._options.categories,Py.CATEGORY_ITEMS_PROPERTY)),this._initCategories()}instantiateFilterWithIdentifier(e){const t={value:this._ui._options.crossOrigin,cors:!0},i=this.getFilterByIdentifier(e);if(!i)return Promise.reject(new Error("Unknown filter with identifier `".concat(e,"`!")));if(!(i.prototype instanceof Ry.Operations.FilterOperation.Filter)){const{lutImage:e,resolution:r,horizontalTileCount:n,verticalTileCount:o}=i;let s,a,{lightColor:l,darkColor:c}=i;return l&&c?(l=wy.fromHex(l),c=wy.fromHex(c),Promise.resolve(new Ry.Operations.FilterOperation.Filters.DuoToneFilter({lightColor:l,darkColor:c}))):(this._ui.getPreloader&&(s=this._ui.getPreloader().getAsset(e)),a=s?Promise.resolve(s):ge.loadImage(this._ui.getAssetPath(e),t),a.then((()=>ge.loadImage(this._ui.getAssetPath(e),t).then((e=>new Ry.Operations.FilterOperation.Filters.ThreeDLUTFilter({image:e,resolution:r,horizontalTileCount:n,verticalTileCount:o}))))))}return Promise.resolve(new i)}_initCategories(){if(this._customAssetsAllowed&&this._options.categories&&(this._options.replaceCategories?this._categories=by.wrapFiltersInCategories(this._options.categories,Py.CATEGORY_ITEMS_PROPERTY):this._categories=by.mergeCategories(this._categories,this._options.categories,Py.CATEGORY_ITEMS_PROPERTY)),this._customAssetsAllowed&&this._options.availableFilters){const e=[];this._categories.forEach((t=>{const i=t.filters.filter((e=>-1!==this._options.availableFilters.indexOf(e.identifier)));i.length>0&&e.push({identifier:t.identifier,defaultName:t.defaultName,filters:i})})),this._categories=e}const e={identifier:"all",defaultName:"All",visible:!1,filters:this._categories.length<=0?[]:this._categories.map((e=>e.filters)).reduce(((e,t)=>e.concat(t)))};this._categories.unshift(e),this._categoriesById.all=e,this._categories.forEach((e=>{this._categoriesById[e.identifier]=e})),e.filters.forEach((e=>{this._filtersByIdentifier[e.identifier]=e}))}getFiltersForCategory(e){if(!this._categoriesById[e])throw new Error("Unknown filter category '".concat(e,"'"));return this._categoriesById[e].filters}getItemsByCategory(e){return this.getFiltersForCategory(e)}getFilterByIdentifier(e){return this._filtersByIdentifier[e]}getCategories(){return this._categories}getCategoryByIdentifier(e){return this._categoriesById[e]}},"CATEGORY_ITEMS_PROPERTY","filters")})),u_=b((()=>{cy(),(By=class extends Ct{}).prototype.availableOptions={fontFamily:{type:"string",required:!0},variations:{type:"array",required:!0}}})),h_=b((()=>{cy(),Ly={100:"Extra Light",200:"Light",300:"Book",400:"Regular",500:"Medium",600:"Semibold",700:"Bold",800:"Black",900:"Extra Black",bold:"Bold",normal:"Regular"},(Uy=class extends Ct{getLabel(){let e=Ly[this._options.fontWeight];if("italic"===this._options.fontStyle)e+=" Italic";return e}}).prototype.availableOptions={identifier:{type:"string",required:!0},fontFamily:{type:"string",required:!0},fontWeight:{type:"*",default:400},fontStyle:{type:"string",default:"normal"},textMetrics:{type:"object",default:null},provider:{type:"string",available:["google","file"]},filePath:{type:"string"},default:{type:"boolean",default:!1},font:{type:"object"}}})),d_=b((()=>{l_(),u_(),h_(),Oe(),I(),Ny=class{constructor(e,t){this._ui=e,this._options=t,this._fonts=[],this._variationsByIdentifier={},this._fontsByFontFamily={},this._initFonts()}_initFonts(){const{fonts:e,replaceFonts:t,availableVariations:i,isTextDesign:r}=this._options;let n=!0;n=this._ui.getEditor().getSDK()._l.areCustomAssetsAllowed(),e&&n&&e.forEach(((t,i)=>{let{variations:r}=t;r&&r.forEach(((t,r)=>{if(o[t.identifier]){const n=s(t.identifier,!0);e[i].variations[r].identifier=n;const{fontFamily:o}=hg.DEFAULTS.FONTS.find((e=>e.variations.some((e=>e.identifier===n))));e[i].fontFamily=o}}))}));let a,l=r?hg.DEFAULTS.TEXT_DESIGN_FONTS:hg.DEFAULTS.FONTS;n&&(l=t?e:l.concat(e||[])),l=l.map((e=>{const{fontFamily:t}=e;let{variations:r}=e;if(n&&i&&(r=r.filter((e=>-1!==i.indexOf(e.identifier)))),0===r.length)return null;const o=new By({fontFamily:t});return r=r.map((e=>{const i=new Uy(e);return i.setFontFamily(t),i.setFont(o),e.default&&!a&&(a=i),null==i.getTextMetrics()&&fe.warn("Missing font metrics for ".concat(i.getIdentifier(),". The SDK will fall back to basic font rendering, which may lead to layout issues. Please provide font metrics for your custom fonts. See https://docs.photoeditorsdk.com/guides/html5/ for more details.")),this._variationsByIdentifier[i.getIdentifier()]=i,i})),o.setVariations(r),this._fontsByFontFamily[t]=o,o})).filter((e=>e)),a||([a]=l[0].getVariations()),this._defaultVariation=a,this._fonts=l}getFonts(){return this._fonts}getFontByFontFamily(e){return this._fontsByFontFamily[e]}getVariationByIdentifier(e){return this._variationsByIdentifier[s(e)]}getVariationsByIdentifier(){return{...this._variationsByIdentifier}}getDefaultVariation(){return this._defaultVariation}}})),p_=b((()=>{l_(),Hy=class{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._ui=e,this._options=t,this._defaultLayouts=Ry.Operations.SpriteOperation.TextDesignSprite.Layouts,this._legacyLayouts=Ry.Operations.SpriteOperation.TextDesignSprite.LegacyLayouts,this._layouts=[],this._init()}_init(){const{availableLayouts:e}=this._options,t={...this._defaultLayouts,...this._legacyLayouts};this._layouts=Object.keys(t).map((e=>({identifier:t[e].identifier,layout:t[e]}))),e&&(e.push(...Object.values(this._legacyLayouts).map((e=>e.identifier))),this._layouts=this._layouts.filter((t=>e.indexOf(t.identifier)>=0)))}getLayoutByIdentifier(e){const t=Ey.Array.find(this._layouts,(t=>t.identifier===e));return t&&t.layout}getLayouts(){return[...this._layouts]}getDefaultLayout(){return this.getLayouts()[0]}}})),f_=b((()=>{h_(),jy=class{constructor(e){this._fontVariation=e||new Uy({fontFamily:"Times New Roman",fontWeight:"normal",fontStyle:"normal"}),this._createRuler()}_createRuler(){this._ruler=document.createElement("div"),this._ruler.innerText="abcdefghijklmnopqrstuvwxzy",document.body.appendChild(this._ruler),this._setRulerStyle()}_setRulerStyle(){this._ruler.style.cssText="\n      position: absolute;\n      top: -9999px;\n      left: -9999px;\n      opacity: 0;\n      display: inline-block;\n      font: ".concat(this._fontVariation.getFontStyle()," ").concat(this._fontVariation.getFontWeight()," ").concat(30,"px ").concat(this._fontVariation.getFontFamily(),";\n    ")}setFontVariation(e){this._fontVariation=e,this._setRulerStyle()}getWidth(){return this._ruler?this._ruler.offsetWidth:-1}dispose(){this._ruler&&(this._ruler.parentNode.removeChild(this._ruler),this._ruler=null)}}})),g_=b((()=>{f_(),Wy="undefined"!==typeof window&&window.performance&&window.performance.now?window.performance.now.bind(window.performance):ir(),Vy=class{constructor(e){this._fontVariation=e,this._defaultFontRuler=new jy,this._customFontRuler=new jy(this._fontVariation)}observe(){const e=Wy();return new Promise(((t,i)=>{const r=window.setInterval((()=>{if(this._defaultFontRuler.getWidth()!==this._customFontRuler.getWidth())return window.clearInterval(r),t();if(Wy()-e>=5e3){const e=new Error("Failed to load font ".concat(this._fontVariation.getFontFamily(),"."));return e.font=this._fontVariation,i(e)}}),50)}))}dispose(){this._defaultFontRuler.dispose(),this._customFontRuler.dispose()}}})),m_=b((()=>{cy(),g_(),Gy=class{constructor(e){this._ui=e,this._fonts=[],this._observers=[]}add(e){this._fonts.push(e)}load(){return 0===this._fonts.length?Promise.resolve():(this._observers=[],this._fonts.forEach((e=>{this._observers.push(new Vy(e))})),ae.executePromises(this._observers.map((e=>e.observe()))))}dispose(){this._observers.forEach((e=>e.dispose()))}}})),y_=b((()=>{m_(),qy=class extends Gy{load(){return Promise.resolve()}}})),__=b((()=>{m_(),Xy={italic:"i"},Yy=class extends Gy{load(){return this._fonts.length&&this._addStylesheetTag(),super.load()}_addStylesheetTag(){const e=this._getFamiliesString(),t=document.createElement("link");t.rel="stylesheet",t.href="https://fonts.googleapis.com/css?family=".concat(e);document.getElementsByTagName("head")[0].appendChild(t)}_getFamiliesString(){const e={};this._fonts.forEach((t=>{const i=t.getFontFamily(),r=t.getFontStyle(),n=t.getFontWeight();e[i]=e[i]||[],"undefined"!==typeof n?e[i].push("".concat(n).concat(Xy[r]||"")):e[i].push(400)}));const t=[];for(const i in e){const r=e[i],n=r.length?":".concat(r.join(",")):"",o=i.replace(" ","+")+n;t.push(o)}return t.join("|")}}})),v_=b((()=>{y_(),__(),Qy=class{constructor(e,t){this._ui=e,this._fonts=t,this._loadedFonts=[]}setFonts(e){this._fonts=e}needsToLoad(){for(let e=0;e<this._fonts.length;e++){let t;if(this._fonts[e].getVariations().forEach((e=>{t=t||e.getProvider()})),t)return!0}}fontLoaded(e){const t=e.getFontFamily();return-1!==this._loadedFonts.indexOf(t)}setFontLoaded(e){if(!this.fontLoaded(e)){const t=e.getFontFamily();this._loadedFonts.push(t)}}load(){const e=this._fonts,t={google:new Yy(this._ui),file:new qy(this._ui)},i=()=>{for(const e in t){t[e].dispose()}};e.filter((e=>!this.fontLoaded(e))).forEach((e=>{e.getVariations().forEach((e=>{const i=e.getProvider();if(!i)return;t[i].add(e)}))}));const r=[];for(const n in t)r.push(t[n].load());return Promise.all(r).then((()=>{i(),e.forEach((e=>{this.setFontLoaded(e)}))})).catch((e=>{throw i(),e}))}}})),b_=b((()=>{l_(),Ky=class{constructor(e,t){this._ui=e,this._options=t,this._brushes=[],this._brushesById={},this._addBrushes(hg.DEFAULTS.BRUSHES);const{brushes:i,replaceBrushes:r,availableBrushes:n}=this._options;this._options.brushes&&this._addBrushes(i,r),n&&(this._brushes=this._brushes.filter((e=>-1!==n.indexOf(e.identifier))))}_addBrushes(e,t){t&&(this._brushes=[],this._brushesById={}),e.forEach((e=>{this._brushes.push(e),this._brushesById[e.identifier]=e}))}getBrushByIdentifier(e){return this._brushesById[e]}getBrushes(){return this._brushes}getFirstBrush(){return this._brushes[0]}}})),x_=b((()=>{Zy=class{constructor(){this._assetsByGroupId={}}addAsset(e,t){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this._assetsByGroupId[e]?i?this._assetsByGroupId[e].unshift(t):this._assetsByGroupId[e].push(t):this._assetsByGroupId[e]=[t]}setAssets(e,t){this._assetsByGroupId[e]=t}getAssets(e){return this._assetsByGroupId[e]=this._assetsByGroupId[e]||[],this._assetsByGroupId[e]}}})),w_=b((()=>{l_(),cy(),x_(),_r(),Ge(),Jy="imgly_sticker_custom",$y=class{constructor(e,t,i){this._ui=e,this._options=t,this._dynamicAssetsLibrary=i||this._ui.getEditor().getDynamicAssetsLibrary()||new Zy,this._categoriesById={},this._categories=[],this._stickersById={},this._customStickerCanvas=ae.createCanvas(),this.reload()}reload(){this._categoriesById={},this._categories=[],this._stickersById={};const e=this._ui.getEditor().getSDK()._l.areCustomAssetsAllowed();this._addCategories(ji.DEFAULTS.STICKER_CATEGORIES);const{categories:t,replaceCategories:i}=this._options;if(e&&this._options.categories?this._addCategories(t,i):(this._updateCategoriesMap(),this._updateAllCategory()),e){const e=this._dynamicAssetsLibrary.getAssets("sticker");if(e.length>0){const t=this._createCustomStickerCategory(e);this._addCategories([t],!1,!0)}}}loadExternal(e){return new We(e).load().then((e=>{this._addCategories(e.categories,this._options.replaceCategories)}))}_addCategories(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this._categories=t?e.slice(0):i?this._mergeCategories(e,this._categories):this._mergeCategories(this._categories,e),this._updateCategoriesMap(),this._updateAllCategory()}_mergeCategories(e,t){e=by.cloneCategories(e,"stickers");for(const i of t){let t=!1;for(const r of e)if(i.identifier===r.identifier){for(const e of i.stickers){let t=!1;for(const i of r.stickers)if(e.identifier===i.identifier){Object.assign(i,e),t=!0;break}t||r.stickers.push(e)}t=!0;break}t||e.push(i)}return e}_updateCategoriesMap(){this._categoriesById={},this._categories.forEach((e=>{this._categoriesById[e.identifier]=e})),this._categories.forEach((e=>{e.stickers.forEach((e=>{this._stickersById[e.identifier]=e}))})),"undefined"!==typeof this._options.availableStickers&&null!==this._options.availableStickers&&(this._categories.forEach((e=>{e.identifier!==Jy&&(e.stickers=e.stickers.filter((e=>-1!==this._options.availableStickers.indexOf(e.identifier))))})),this._categories=this._categories.filter((e=>e.stickers.length>0))),this._updateAllCategory()}_updateAllCategory(){this._allCategory={identifier:"all",defaultName:"All",stickers:this._categories.map((e=>e.stickers)).reduce(((e,t)=>e.concat(t)),[])},this._categoriesById.all=this._allCategory}renderStickerThumbnailFromImage(e){const t=this._customStickerCanvas,i=t.getContext("2d");i.save();const r=62/e.width,n=r*e.height;t.width=62,t.height=62,i.clearRect(0,0,e.width,e.height),i.translate(0,.5*(t.height-n)),i.scale(r,r),i.drawImage(e,0,0);const o=t.toDataURL("image/png");return i.restore(),{data:o,width:62,height:n}}addCustomStickerFromImage(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"none";const r="data:image/svg"===e.src.substring(0,14);e=this._ui.getEditor().getSDK().correctExifOrientation(e);const n=((e,t)=>{const i=e.x/e.y;return i>1?new Ay(t,t/i):new Ay(t*i,t)})(new Ay(e.width,e.height),2048),o=r?n:(e=>{const t=this._ui.getEditor().getSDK().getRenderer(),i=new Ay(e.width,e.height),r=1e6*this._ui.getEditor().getMaxMegapixels();let n=t.getMaxDimensions();const o=i.x*i.y>r,s=null!==n&&(i.x>n||i.y>n);if(o){const t=e.width/e.height,i=e.height/e.width;n=new Ay(Math.sqrt(r*t),Math.sqrt(r*i)).floor().max()}const a=i.clone();return(o||s)&&(i.x/i.y>1?(a.x=n,a.y=n/i.x*i.y):(a.x=n/i.y*i.x,a.y=n)),a})(e),s=this._customStickerCanvas,a=s.getContext("2d");a.save();const l=this.renderStickerThumbnailFromImage(e);r?(e.width>e.height?(s.width=2048,s.height=2048/e.width*e.height):(s.height=2048,s.width=2048/e.height*e.width),e.width=s.width,e.height=s.height):(s.width=o.x,s.height=o.y,a.scale(o.x/e.width,o.y/e.height)),a.drawImage(e,0,0,e.width,e.height);const c=s.toDataURL();a.restore();const u={identifier:ae.generateUUID(),defaultName:t||"",tintMode:i,images:{mediaThumb:{uris:[l.data],rawData:!0,width:l.width,height:l.height},mediaBase:{uris:r?[c,e.src]:[c],rawData:!0,isSVG:r,width:o.x,height:o.y}}},h=this._dynamicAssetsLibrary;h.addAsset("sticker",u,!0);const d=h.getAssets("sticker");if(1===d.length){const e=this._createCustomStickerCategory(d);this._addCategories([e],!1,!0)}else this.getCategory(Jy).stickers=d,this._updateAllCategory();this._updateCategoriesMap()}_createCustomStickerCategory(e){return{identifier:Jy,defaultName:"Custom",metaData:{backgroundImage:e[e.length-1].images.mediaBase.uris[0],rawData:!0},stickers:e}}getStickersForCategory(e){if(!this._categoriesById[e])throw new Error("Unknown sticker category '".concat(e,"'"));return this._categoriesById[e].stickers}getStickerByIdentifier(e){return this._stickersById[e]}getCategories(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]?[this._allCategory].concat(this._categories):this._categories}getCategory(e){return this._categoriesById[e]}static getURLForSticker(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"base";const{images:i}=e,r="base"===t&&i.mediaBase||i.mediaThumb,n=r.uris||[r.uri];if(!by.Browser.getIEVersion()){const e=n.filter((e=>/\.svg$/i.test(e)));return e.length?e[0]:n[0]}const o=n.filter((e=>!/\.svg$/i.test(e)));return o.length?o[0]:n[0]}}})),S_=b((()=>{l_(),v_(),b_(),c_(),d_(),w_(),e_=k(P()),"undefined"!==typeof Ry.Operations.SpriteOperation&&(t_=Ry.Operations.SpriteOperation.BrushSprite),(i_=class{constructor(e,t){this._editor=e,this._ui=this._editor.getUI(),this._data=t,this._filterManager=new zy(this._ui,this._getOptions("filter")),this._stickerManager=new $y(this._ui,this._getOptions("sticker")),this._brushManager=new Ky(this._ui,this._getOptions("brush")),this._fontManager=new Ny(this._ui,this._getOptions("text"))}_getOptions(e){const{controls:t}=this._editor;let i={};t&&t.get(e)&&(i=t.get(e).defaultOptions);const r=this._editor.getOptions();return Ey.deepDefaults({},r.editor.controlsOptions[e]||{},i)}deserialize(){return this._validateVersion().then((()=>this._deserializeInputImage())).then((()=>this._deserializeOperations()))}_validateVersion(){return this._data.version!==this.constructor.version?Promise.reject(new Error("Invalid version ".concat(this._data.version,", expected ").concat(this.constructor.version))):Promise.resolve()}_deserializeInputImage(){return new Promise(((e,t)=>{const{data:i,type:r}=this._data.inputImage;if(i&&r){const t=new window.Image;t.addEventListener("load",(()=>{this._editor.setImage(t),e()})),t.src="data:".concat(r,";base64,").concat(i)}else e()}))}async _deserializeOperations(){const{operations:e}=this._data;return(0,e_.default)(e,(async e=>this._deserializeOperation(e)))}_deserializeOperation(e){switch(e.type){case"crop":return this._deserializeCropOperation(e);case"orientation":return this._deserializeOrientationOperation(e);case"filter":return this._deserializeFilterOperation(e);case"adjustments":return this._deserializeAdjustmentsOperation(e);case"sprite":return this._deserializeSpriteOperation(e);case"focus":return this._deserializeFocusOperation(e)}}_deserializeCropOperation(e){const{options:t}=e;let{rotation:i}=t;const r=Ay.fromObject(t.start),n=Ay.fromObject(t.end);i>Math.PI&&(i-=2*Math.PI);const o={start:r,end:n};"undefined"!==typeof i&&(o.rotation=i);const s=this._editor.operations.getOrCreate("transform");return this._editor.broadcastTransform(s,o),s.set(o),Promise.resolve(s)}_deserializeOrientationOperation(e){const{options:t}=e,i=this._editor.operations.getOrCreate("orientation");return i?(i.set(t),Promise.resolve(i)):Promise.resolve()}_deserializeFilterOperation(e){const{options:t}=e;return this._filterManager.getFilterByIdentifier(t.name)?this._filterManager.instantiateFilterWithIdentifier(t.name).then((e=>{const i=this._editor.operations.getOrCreate("filter");return i.set({identifier:t.name,filter:e,intensity:t.intensity}),i})):(fe.warn("Deserializer","Unknown filter `".concat(t.name,"`")),Promise.resolve())}_deserializeAdjustmentsOperation(e){const{AdjustmentsOperation:t}=Ry.Operations,{options:i}=e,r={};return["brightness","saturation","contrast","exposure","shadows","highlights","clarity"].forEach((e=>{if("undefined"===typeof i[e])return;const{minValue:n,midValue:o,maxValue:s}=t.prototype.availableOptions[e];let a=i[e];a=a<0?o+(o-n)*a:o+(s-o)*a,r[e]=a})),Promise.resolve(this._editor.operations.getOrCreate("adjustments",r))}_deserializeSpriteOperation(e){const{options:t}=e,i=this._editor.operations.getOrCreate("sprite");if(!i)return Promise.resolve();const r=t.sprites.map((e=>this._deserializeSprite(i,e))).filter((e=>e));return Promise.all(r).then((e=>(i.setSprites(e.filter((e=>e))),i)))}_deserializeSprite(e,t){switch(t.type){case"sticker":return this._deserializeSticker(e,t);case"text":return this._deserializeText(e,t);case"brush":return this._deserializeBrush(e,t);case"textdesign":return this._deserializeTextDesign&&this._deserializeTextDesign(e,t)}}_deserializeSticker(e,t){const{SpriteOperation:i}=Ry.Operations,{options:r}=t,n=this._stickerManager.getStickerByIdentifier(r.name),o=this._stickerManager.getURLForSticker(n);return n?new Promise(((t,n)=>{const s=new window.Image;s.addEventListener("load",(()=>{const n=i.StickerSprite.prototype.availableOptions.adjustments.structure,{rotation:o,flipHorizontally:a,flipVertically:l}=r,c={identifier:r.name,image:s,position:Ay.fromObject(r.position),dimensions:Ay.fromObject(r.dimensions),rotation:o,flipHorizontally:a,flipVertically:l,adjustments:{}};"undefined"!==typeof r.adjustments&&["brightness","contrast","saturation"].forEach((e=>{"undefined"!==typeof r.adjustments[e]&&(c.adjustments[e]=r.adjustments[e]+n[e].default)})),t(e.createSticker(c))})),s.crossOrigin=this._editor.getCrossOrigin(),s.src=this._editor.getUI().getAssetPath(o)})):(fe.warn("Deserializer","Unknown sticker '".concat(r.name,"'. Skipping sprite.")),Promise.resolve())}_deserializeText(e,t){const{options:i}=t,{fontSize:r,lineHeight:n,fontFamily:o,fontWeight:s,alignment:a,rotation:l,maxWidth:c,color:u,backgroundColor:h}=i,d=new Qy(this._ui);let p=this._fontManager.getFontByFontFamily(o);return p||(p=this._fontManager.getDefaultFont()),d.setFonts([p]),d.load().then((()=>{const t=e.createText({fontSize:r,lineHeight:n,fontFamily:o,fontWeight:s,alignment:a,rotation:l,maxWidth:c,text:i.text,color:wy.fromArray(u),backgroundColor:wy.fromArray(h),position:Ay.fromObject(i.position)});return t._edited=!0,t}))}_deserializeBrush(e,t){const{options:i}=t,{paths:r}=i,n=e.createBrush();return r.forEach((e=>{this._deserializeBrushPath(n,e)})),Promise.resolve(n)}_deserializeBrushPath(e,t){const{points:i}=t,r=this._createBrushForPath(t),n=e.createPath(r);n.setClosed(!0),i.forEach((e=>{n.addControlPoint(Ay.fromObject(e))}))}_createBrushForPath(e){const{color:t,size:i}=e,r={color:wy.fromArray(t),size:i},n=this._brushManager.getFirstBrush();if(n.prototype&&n.prototype instanceof t_){return new n(r)}const o={...n};delete o.image;class s extends t_{}return s.identifier=n.identifier,new s({...o,...r})}_deserializeFocusOperation(e){const{options:t}=e.options;switch(e.options.type){case"radial":{const{position:e,radius:i,gradientRadius:r,blurRadius:n}=t;return Promise.resolve(this._editor.operations.getOrCreate("radial-focus",{position:Ay.fromObject(e),radius:i,gradientRadius:r,blurRadius:n}))}case"linear":{const{start:e,end:i,size:r,gradientSize:n,blurRadius:o}=t;return Promise.resolve(this._editor.operations.getOrCreate("mirrored-focus",{start:Ay.fromObject(e),end:Ay.fromObject(i),size:r,gradientSize:n,blurRadius:o}))}}}_getInputDimensionsForOperation(e){let t=!1,i=this._editor.getInputDimensions();return this._editor.operations.getStack().forEach((r=>{r===e&&(t=!0),t||(i=r.getNewDimensions(i))})),i}}).version="1.0.0"})),k_=b((()=>{l_(),r_=2*Math.PI,(n_=class{constructor(e){this._editor=e,this._serializeOperations=this._serializeOperations.bind(this)}serialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._options={...e,image:!0};const t={version:this.constructor.version};return this._serializeInputImage(t).then(this._serializeOperations)}_serializeInputImage(e){const t=this._editor.getImage(),{width:i,height:r}=t;if(!this._options.image)return e.inputImage={width:i,height:r},Promise.resolve(e);const n=Ey.createCanvas();n.width=t.width,n.height=t.height;n.getContext("2d").drawImage(t,0,0);const o=n.toDataURL(Iy.PNG);return e.inputImage={type:Iy.PNG,data:o.replace(/^data:image\/(.*?);base64,/,""),width:i,height:r},Promise.resolve(e)}_serializeOperations(e){const t=[];return this._editor.operations.getStack().forEach((e=>{const i=this._serializeOperation(e,t);i&&t.push(i)})),e.operations=t.filter((e=>e)),Promise.resolve(e)}_serializeOperation(e,t){switch(e.constructor.identifier){case"transform":return this._serializeTransformOperation(e);case"orientation":return this._serializeOrientationOperation(e);case"filter":return this._serializeFilterOperation(e);case"adjustments":return this._serializeAdjustmentsOperation(e);case"sprite":return this._serializeSpriteOperation(e,t);case"radial-focus":return this._serializeRadialFocusOperation(e);case"mirrored-focus":return this._serializeLinearFocusOperation(e);default:fe.warn("Unable to serialize operation of type ".concat(e.constructor.identifier))}}_serializeTransformOperation(e){const t=e.serializeOptions(["start","end","rotation"],!0);return t.rotation=(t.rotation+r_)%r_,{type:"crop",options:t}}_serializeOrientationOperation(e){return{type:"orientation",options:e.serializeOptions(["flipVertically","flipHorizontally","rotation"],!0)}}_serializeFilterOperation(e){return"identity"===e.getIdentifier()?null:{type:"filter",options:{intensity:e.getIntensity(),name:e.getIdentifier()}}}_serializeAdjustmentsOperation(e){const{availableOptions:t}=e,i={};return["brightness","saturation","contrast","exposure","shadows","highlights","clarity"].forEach((r=>{const n=t[r],o=e.getOption(r),{minValue:s,midValue:a,maxValue:l}=n;i[r]=o<=a?(o-s)/(a-s)-1:(o-a)/(l-a)})),{type:"adjustments",options:i}}_serializeSpriteOperation(e,t){const i=t.filter((e=>"sprite"===e.type));let r,n=!0;if(i.length?(r=i.pop(),n=!1):r={type:"sprite",options:{sprites:[]}},e.getSprites().forEach((t=>{let i=null;t instanceof e.constructor.StickerSprite?i=this._serializeSticker(e,t):t instanceof e.constructor.TextSprite?i=this._serializeText(e,t):t instanceof e.constructor.BrushSprite?i=this._serializeBrush(e,t):t instanceof e.constructor.TextDesignSprite&&(i=this._serializeTextDesign&&this._serializeTextDesign(e,t)),i&&r.options.sprites.push(i)})),n)return r}_serializeSticker(e,t){const i=t.getAdjustments(),r=t.serializeOptions(["identifier","position","dimensions","flipVertically","flipHorizontally","rotation"],!0);r.name=r.identifier,delete r.identifier,r.rotation=(r.rotation+r_)%r_;const n=i.availableOptions;return r.adjustments={brightness:i.getBrightness()-n.brightness.default,saturation:i.getSaturation()-n.saturation.default,contrast:i.getContrast()-n.contrast.default},{type:"sticker",options:r}}_serializeText(e,t){const i=t.serializeOptions(["fontSize","lineHeight","fontFamily","fontWeight","alignment","color","backgroundColor","position","rotation","text","maxWidth"],!0);return i.rotation=(i.rotation+r_)%r_,{type:"text",options:i}}_serializeBrush(e,t){return{type:"brush",options:{paths:t.getPaths().map((e=>this._serializePath(e)))}}}_serializePath(e){const t=e.getBrush().serializeOptions(["color","size"],!0);return t.points=e.getControlPoints().map((e=>e.getPosition().toObject())),t}_serializeRadialFocusOperation(e){return{type:"focus",options:{type:"radial",options:e.serializeOptions(["position","radius","gradientRadius","blurRadius"],!0)}}}_serializeLinearFocusOperation(e){return{type:"focus",options:{type:"linear",options:e.serializeOptions(["start","end","blurRadius","size","gradientSize"],!0)}}}_getInputDimensionsForOperation(e){let t=!1,i=this._editor.getInputDimensions();return this._editor.operations.getStack().forEach((r=>{r===e&&(t=!0),t||(i=r.getNewDimensions(i))})),i}}).version="1.0.0"})),C_={};w(C_,{default:()=>o_});var T_,E_,D_,I_,R_=b((()=>{S_(),k_(),(o_=class{constructor(e){this._editor=e}serialize(){return new n_(this._editor).serialize(...arguments)}deserialize(e){return new i_(this._editor,e).deserialize()}}).version="1.0.0"})),F_=b((()=>{l_(),S_(),(T_=class extends i_{_deserializeOperation(e){return"selective-blur"===e.type?this._deserializeSelectiveBlurOperation(e):super._deserializeOperation(e)}_deserializeCropOperation(e){const{options:t}=e;let{rotation:i}=t;const r=Ay.fromObject(t.start),n=Ay.fromObject(t.end),o=t.dimensions?Ay.fromObject(t.dimensions):null;if(n.x-r.x<=0||n.y-r.y<=0)throw new Error("A crop should not result in negative or zero dimensions - start: ".concat(r," - end: ").concat(n));i>Math.PI&&(i-=2*Math.PI);const s={start:r,end:n};"undefined"!==typeof i&&(s.rotation=i);const a=this._editor.operations.getOrCreate("transform");if(!a)return Promise.resolve();if(this._editor.broadcastTransform(a,s),a.set(s),o){const e=n.clone().subtract(r),t=a.getInputDimensions(!1).multiply(e);a.setTextureScale(o.x/t.x)}return Promise.resolve(a)}}).version="1.0.1"})),A_=b((()=>{k_(),E_=2*Math.PI,(D_=class extends n_{_serializeTransformOperation(e){const t=e.serializeOptions(["start","end","rotation","textureScale"],!0);return t.rotation=(t.rotation+E_)%E_,1!==t.textureScale&&(t.dimensions=e.getNewDimensions(e.getInputDimensions(!1))),delete t.textureScale,{type:"crop",options:t}}}).version="1.0.1"})),O_={};w(O_,{default:()=>I_});var M_,P_,z_,B_,L_,U_,N_,H_,j_,W_,V_=b((()=>{F_(),A_(),(I_=class{constructor(e){this._editor=e}serialize(){return new D_(this._editor).serialize(...arguments)}deserialize(e){return new T_(this._editor,e).deserialize()}}).version="1.0.1"})),G_=b((()=>{Me(),l_(),({OptionType:M_}=Ry),(P_=class extends Ry.Configurable{constructor(e){super(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}),this._loaded=!1,this._loading=!1,this._ui=e,this._frame=Ry.Utils.deepClone(this._options)}load(){if(this._loaded)return Promise.resolve();if(this._loading)return Promise.reject(new Error("Called Frame#load while it's already loading"));this._loading=!0;const{imageGroups:e}=this._frame,t=[];return["top","left","right","bottom"].forEach((i=>{if(!(i in e))return;const r=e[i];["start","mid","end"].forEach((e=>{e in r&&t.push(this._loadPart(i,e))}))})),Promise.all(t).then((()=>{this._loaded=!0,this._loading=!1})).catch((e=>{this._loaded=!1,this._loading=!1}))}_loadPart(e,t){const{imageGroups:i}=this._frame,r=i[e][t];let n=r;return"string"!==typeof r&&"image"in r&&(n=r.image),ge.load(this._ui.getAssetPath(n)).then((i=>("string"!==typeof r?this._frame.imageGroups[e][t].image=i:this._frame.imageGroups[e][t]=i,i)))}getFrame(){return this._frame}}).prototype.availableOptions={identifier:{type:M_.STRING,required:!0},defaultName:{type:M_.STRING},thumbnail:{type:M_.STRING},tintable:{type:M_.BOOLEAN,default:!1},layoutMode:{type:M_.STRING,default:"horizontal-inside",available:["horizontal-inside","vertical-inside"]},imageGroups:{type:M_.OBJECT,required:!0}}})),q_=b((()=>{l_(),z_=class{constructor(e,t){this._ui=e,this._options=t,this._categoriesById={},this._categories=[],this._framesById={},this._addCategories(ji.DEFAULTS.FRAME_CATEGORIES),this._customAssetsAllowed=e.getEditor().getSDK()._l.areCustomAssetsAllowed();const{categories:i,replaceCategories:r}=this._options;this._customAssetsAllowed&&this._options.categories?this._addCategories(i,r):this._updateAllCategory()}_addCategories(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this._categories=t?e.slice(0):by.mergeCategories(this._categories,e,"frames"),this._categoriesById={},this._categories.forEach((e=>{this._categoriesById[e.identifier]=e}));const{availableFrames:i}=this._options;this._customAssetsAllowed&&i&&this._categories.forEach((e=>{e.frames=e.frames.filter((e=>-1!==i.indexOf(e.identifier)))})),this._categories.forEach((e=>{e.frames.forEach((e=>{this._framesById[e.identifier]=e}))})),this._updateAllCategory()}_updateAllCategory(){this._allCategory={identifier:"all",defaultName:"All",frames:this._categories.map((e=>e.frames)).reduce(((e,t)=>e.concat(t)),[])},this._categoriesById.all=this._allCategory}getFramesForCategory(e){if(!this._categoriesById[e])throw new Error("Unknown frame category '".concat(e,"'"));return this._categoriesById[e].frames}getFrameByIdentifier(e){return this._framesById[e]}getCategories(){return this._categories}getCategory(e){return this._categoriesById[e]}}})),X_=b((()=>{l_(),B_=class{constructor(e,t){this._ui=e,this._options=t,this._overlays=ji.DEFAULTS.OVERLAYS.slice(0),this._overlaysByIdentifier={};const i=e.getEditor().getSDK()._l.areCustomAssetsAllowed();i&&t.overlays&&(t.replaceOverlays?this._overlays=t.overlays:this._overlays=this._overlays.concat(t.overlays)),i&&t.availableOverlays&&(this._overlays=this._overlays.filter((e=>-1!==t.availableOverlays.indexOf(e.identifier)))),this._overlays.forEach((e=>{this._overlaysByIdentifier[e.identifier]=e}))}getOverlays(){return this._overlays}getOverlayByIdentifier(e){return this._overlaysByIdentifier[e]}}})),Y_=b((()=>{l_(),({OverlayFilter:L_}=Ry.Engine.Filters),U_={[L_.BLEND_MODES.NORMAL]:"normal",[L_.BLEND_MODES.OVERLAY]:"overlay",[L_.BLEND_MODES.HARD_LIGHT]:"hard light",[L_.BLEND_MODES.SOFT_LIGHT]:"soft light",[L_.BLEND_MODES.MULTIPLY]:"multiply",[L_.BLEND_MODES.DARKEN]:"darken",[L_.BLEND_MODES.LIGHTEN]:"lighten",[L_.BLEND_MODES.SCREEN]:"screen",[L_.BLEND_MODES.COLOR_BURN]:"color burn"}})),Q_=b((()=>{l_(),v_(),G_(),Me(),q_(),X_(),w_(),F_(),Y_(),N_=Ey.flipObject(U_),(H_=class extends T_{constructor(){super(...arguments),this._frameManager=new z_(this._ui,this._getOptions("frame"));const e=this._getOptions("overlay");e&&(this._overlayManager=new B_(this._ui,e))}_deserializeSprite(e,t){return"frame"===t.type?this._deserializeFrame(e,t):"overlay"===t.type?this._deserializeOverlay(e,t):super._deserializeSprite(e,t)}_deserializeOperation(e){return"transform"===e.type?this._deserializeTransformOperation(e):super._deserializeOperation(e)}_deserializeOrientationOperation(e){if(this._data.meta&&"html5"!==this._data.meta.platform)return super._deserializeOrientationOperation(e);const{rotation:t,flipHorizontally:i,flipVertically:r}=e.options;let n=90===t&&!i&&!r;return n|=90===t&&i&&r,n|=270===t&&!i&&!r,n|=270===t&&i&&r,n&&(e.options.flipHorizontally=!e.options.flipHorizontally,e.options.flipVertically=!e.options.flipVertically),super._deserializeOrientationOperation(e)}_deserializeTransformOperation(e){return super._deserializeCropOperation(e).then((e=>{if(!e)return;const t=Ey.Array.find(this._data.operations,(e=>"orientation"===e.type));if(t){const{options:i}=t;let{rotation:r,flipHorizontally:n,flipVertically:o}=i;90!==r&&270!==r||(!n&&o||n&&!o)&&(n=!n,o=!o),e.rotate(i.rotation),n&&(e.flip("horizontal"),e.setRotation(-1*e.getRotation())),o&&(e.flip("vertical"),e.setRotation(-1*e.getRotation()))}return e}))}_deserializeFrame(e,t){const{identifier:i}=t.options,r=this._frameManager.getFrameByIdentifier(i);if(!r)return fe.warn("Deserializer","Unknown frame `".concat(i,"`. Skipping frame.")),Promise.resolve();const n=new P_(this._ui,r);return n.load().then((()=>{this._editor.operations.getOrCreate("frame",{frame:n.getFrame()})}))}_deserializeOverlay(e,t){const{blendMode:i,intensity:r,identifier:n}=t.options,o=this._overlayManager.getOverlayByIdentifier(n);if(!o)return fe.warn("Deserializer","Unknown overlay `".concat(n,"`. Skipping overlay.")),Promise.resolve();const s=this._editor.getUI().getAssetPath(o.image);return ge.load(s).then((e=>{this._editor.operations.getOrCreate("overlay",{alpha:r,identifier:n,blendMode:parseInt(N_[i||o.blendMode],10),image:e})}))}_createBrushForPath(e){const t=super._createBrushForPath(e);return"undefined"!==typeof e.hardness&&t.hasOption("hardness")&&t.setHardness(e.hardness),t}_deserializeSticker(e,t){const{SpriteOperation:i}=Ry.Operations,{options:r}=t,n=this._stickerManager.getStickerByIdentifier(r.identifier),o=$y.getURLForSticker(n,"base");if(!n)return fe.warn("Deserializer","Unknown sticker `".concat(r.identifier,"`. Skipping sprite.")),Promise.resolve();const s=e.getInputDimensions(!1);return new Promise(((t,a)=>{const l=new window.Image;l.addEventListener("load",(()=>{const o=i.StickerSprite.prototype.availableOptions.adjustments.structure,{rotation:a,flipHorizontally:c,flipVertically:u}=r,h={identifier:r.identifier,image:l,position:Ay.fromObject(r.position),dimensions:Ay.fromObject(r.dimensions).multiply(s.min()),rotation:a,flipHorizontally:c,flipVertically:u,adjustments:{}};"undefined"!==typeof r.adjustments&&["brightness","contrast","saturation"].forEach((e=>{"undefined"!==typeof r.adjustments[e]&&(h.adjustments[e]=r.adjustments[e]+o[e].default)})),"undefined"!==typeof r.tintColor&&"undefined"!==typeof n.tintMode&&(h.tintColor=wy.fromArray(r.tintColor),h.tintMode=n.tintMode),t(e.createSticker(h))})),l.crossOrigin=this._editor.getCrossOrigin(),l.src=this._editor.getUI().getAssetPath(o)}))}_deserializeFilterOperation(e){const{options:t}=e;return this._filterManager.getFilterByIdentifier(t.identifier)?this._filterManager.instantiateFilterWithIdentifier(t.identifier).then((e=>{const i=this._editor.operations.getOrCreate("filter");if(i)return i.set({identifier:t.identifier,filter:e,intensity:t.intensity}),i})):(fe.warn("Deserializer","Unknown filter `".concat(t.identifier,"`")),Promise.resolve())}_deserializeFocusOperation(e){const{options:t,type:i}=e.options;if("radial"!==i)return super._deserializeFocusOperation(e);const r=this._editor.getImage(),n=r.width/r.height,{start:o,end:s,gradientRadius:a,blurRadius:l}=t,c=Ay.fromObject(s).subtract(Ay.fromObject(o)).multiply(n,1).len();return Promise.resolve(this._editor.operations.getOrCreate("radial-focus",{position:Ay.fromObject(o),radius:c,gradientRadius:a,blurRadius:l}))}_deserializeText(e,t){const{options:i}=t,{fontSize:r,lineHeight:n,fontIdentifier:o,alignment:s,rotation:a,maxWidth:l,color:c,backgroundColor:u}=i,h=new Qy(this._ui);let d=this._fontManager.getVariationByIdentifier(o);return d?h.setFonts([d.getFont()]):d=this._fontManager.getDefaultFont(),h.load().then((()=>{const t=e.getInputDimensions(!1),o=l*t.min()/t.x,h=e.createText({fontSize:r,lineHeight:n,fontFamily:d.getFontFamily(),fontWeight:d.getFontWeight(),fontIdentifier:d.getIdentifier(),alignment:s,rotation:a,maxWidth:o,text:i.text,color:wy.fromArray(c),backgroundColor:wy.fromArray(u),position:Ay.fromObject(i.position)});return h._edited=!0,h}))}}).version="2.0.0"})),K_=b((()=>{A_(),Y_(),(j_=class extends D_{_serializeSticker(e,t){const i=e.getInputDimensions(!1),r=super._serializeSticker(e,t);return"none"!==t.getTintMode()&&(r.options.tintColor=t.serializeOption("tintColor",!0)),r.options.dimensions=t.getDimensions().clone().divide(i.min()).toObject(),r.options.identifier=r.options.name,delete r.options.name,r}_serializePath(e){const t=super._serializePath(e),i=e.getBrush();return i.hasOption("hardness")&&(t.hardness=i.getOption("hardness")),t}_serializeOperation(e,t){return"frame"===e.constructor.identifier?(this._serializeFrameOperation(e,t),null):"overlay"===e.constructor.identifier?(this._serializeOverlayOperation(e,t),null):super._serializeOperation(e,t)}_serializeFrameOperation(e,t){const i=t.filter((e=>"sprite"===e.type));let r;i.length?r=i.pop():(r={type:"sprite",options:{sprites:[]}},t.push(r)),r.options.sprites.push({type:"frame",options:this._getFrameOptions(e)})}_serializeOverlayOperation(e,t){if(!e.getIdentifier())return;const i=t.filter((e=>"sprite"===e.type));let r;i.length?r=i.pop():(r={type:"sprite",options:{sprites:[]}},t.push(r)),r.options.sprites.push({type:"overlay",options:{identifier:e.getIdentifier(),intensity:e.getAlpha(),blendMode:U_[e.getBlendMode()]}})}_getFrameOptions(e){return{identifier:e.getFrame().identifier}}_serializeOrientationOperation(e){const t=super._serializeOrientationOperation(e);return 90!==t.options.rotation&&270!==t.options.rotation||(t.options.flipHorizontally=!t.options.flipHorizontally,t.options.flipVertically=!t.options.flipVertically),t}_serializeTransformOperation(e){const{operations:t}=this._editor;if(t.exists("orientation")){e=e.clone();const i=t.get("orientation");e.rotate(-i.getRotation()),i.getFlipVertically()&&(e.flip("vertical"),e.setRotation(-1*e.getRotation())),i.getFlipHorizontally()&&(e.flip("horizontal"),e.setRotation(-1*e.getRotation()))}const i=super._serializeTransformOperation(e);return i.type="transform",i}_serializeText(e,t){const i=super._serializeText(e,t),r=e.getInputDimensions(!1);return i.options.fontIdentifier=t.getFontIdentifier(),i.options.maxWidth=i.options.maxWidth*r.x/r.min(),delete i.options.fontFamily,i}_serializeFilterOperation(e){const t=super._serializeFilterOperation(e);return t?(t.options.identifier=t.options.name,delete t.options.name,t):null}_serializeRadialFocusOperation(e){const t=super._serializeRadialFocusOperation(e),i=t.options.options;return i.start=i.position,delete i.position,i.end={x:i.start.x+i.radius,y:i.start.y},delete i.radius,t}}).version="2.0.0"})),Z_={};w(Z_,{default:()=>W_});var J_,$_,ev,tv,iv,rv=b((()=>{Q_(),K_(),(W_=class{constructor(e){this._editor=e}serialize(){return new j_(this._editor).serialize(...arguments)}deserialize(e){return new H_(this._editor,e).deserialize()}}).version="2.0.0"})),nv=b((()=>{l_(),Me(),d_(),w_(),p_(),Q_(),"undefined"!==typeof Ry.Operations.SpriteOperation&&(J_=Ry.Operations.SpriteOperation.BrushSprite.Brush),($_=class extends H_{_deserializeSticker(e,t){const{SpriteOperation:i}=Ry.Operations,{options:r}=t,n=this._stickerManager.getStickerByIdentifier(r.identifier);if(!n)return fe.warn("Deserializer","Unknown sticker `".concat(r.identifier,"`. Skipping sprite.")),Promise.resolve();const{mediaBase:o}=n.images,s=$y.getURLForSticker(n,"base"),a=o.rawData?o.uris[0]:this._editor.getUI().getAssetPath(s),l=e.getInputDimensions(!1);return ge.load(a).then((t=>{const o=i.StickerSprite.prototype.availableOptions.adjustments.structure,{rotation:s,flipHorizontally:a,flipVertically:c}=r,u={identifier:r.identifier,image:t,position:Ay.fromObject(r.position),dimensions:Ay.fromObject(r.dimensions).multiply(l.min()),rotation:s||0,flipHorizontally:a,flipVertically:c,resizeMode:n.resizeMode||"keepAspect",adjustments:{}};return"undefined"!==typeof r.adjustments&&["brightness","contrast","saturation"].forEach((e=>{"undefined"!==typeof r.adjustments[e]&&(u.adjustments[e]=r.adjustments[e]+o[e].default)})),"undefined"!==typeof r.tintMode&&"undefined"!==typeof r.tintColor?(u.tintColor=wy.fromArray(r.tintColor.rgba),u.tintMode=r.tintMode):"undefined"!==typeof r.tintColor&&"undefined"!==typeof n.tintMode&&(u.tintColor=wy.fromArray(r.tintColor.rgba),u.tintMode=n.tintMode),"undefined"!==typeof r.alpha&&(u.alpha=r.alpha),e.createSticker(u)}))}_deserializeTransformOperation(e){return super._deserializeTransformOperation(e).then((e=>{if(e)return e._ratio=null,e}))}_deserializeInputImage(){let{data:e,type:t,uri:i}=this._data.image;return e&&t&&(i="data:".concat(t,";base64,").concat(e)),i?ge.load(i).then((e=>{this._editor.setImage(e)})):Promise.resolve()}_deserializeAdjustmentsOperation(e){const{AdjustmentsOperation:t}=Ry.Operations;return super._deserializeAdjustmentsOperation(e).then((i=>{if(!i)return null;const{options:r}=e,n={};return["gamma","whites","blacks","temperature"].forEach((e=>{if("undefined"===typeof r[e])return;const{minValue:i,midValue:o,maxValue:s}=t.prototype.availableOptions[e];let a=r[e];a=a<0?o+(o-i)*a:o+(s-o)*a,n[e]=a})),i.set(n),i}))}_deserializeFocusOperation(e){const{options:t}=e.options;switch(e.options.type){case"radial":return super._deserializeFocusOperation(e);case"linear":{const{start:e,end:i,blurRadius:r}=t;return Promise.resolve(this._editor.operations.getOrCreate("linear-focus",{controlPoint1:Ay.fromObject(e),controlPoint2:Ay.fromObject(i),blurRadius:r}))}case"mirrored":{const{start:e,end:i,size:r,gradientSize:n,blurRadius:o}=t;return Promise.resolve(this._editor.operations.getOrCreate("mirrored-focus",{start:Ay.fromObject(e),end:Ay.fromObject(i),size:r,gradientSize:n,blurRadius:o}))}case"gaussian":{const{blurRadius:e}=t;return Promise.resolve(this._editor.operations.getOrCreate("blur",{blurRadius:e}))}}}_deserializeText(e,t){const{options:i}=t,{fontSize:r,lineHeight:n,fontIdentifier:o,alignment:s,rotation:a,maxWidth:l,color:c,backgroundColor:u}=i,h=this._ui.getFontLoader();let d=this._fontManager.getVariationByIdentifier(o);return d?h.setFonts([d.getFont()]):d=this._fontManager.getDefaultVariation(),h.load().then((()=>{const t=e.getInputDimensions(!1),o=l*t.min()/t.x,h=e.createText({fontSize:r,lineHeight:n,fontFamily:d.getFontFamily(),fontWeight:d.getFontWeight(),fontIdentifier:d.getIdentifier(),textMetrics:d.getTextMetrics(),alignment:s,rotation:a,maxWidth:o,text:i.text,color:wy.fromArray(c.rgba),backgroundColor:wy.fromArray(u.rgba),position:Ay.fromObject(i.position)});return h._edited=!0,h}))}_createBrushForPath(e){const{identifier:t,color:i,size:r,hardness:n}=e.brush,o={color:wy.fromArray(i.rgba),size:r};"undefined"!==typeof n&&(o.hardness=n);let s=this._brushManager.getBrushByIdentifier(t);if(s||(s=this._brushManager.getFirstBrush()),s.prototype&&s.prototype instanceof J_){return new s(o)}const a={...s};delete a.image;class l extends J_{}return l.identifier=s.identifier,new l({...a,...o})}_deserializeFrame(e,t){return super._deserializeFrame(e,t).then((()=>{const e=this._editor.operations.get("frame"),{size:i,alpha:r,tintColor:n}=t.options,o={};"undefined"!==typeof i&&(o.scale=i),"undefined"!==typeof r&&(o.alpha=r),"undefined"!==typeof n&&(o.tintColor=wy.fromArray(n.rgba)),e.set(o)}))}_deserializeTextDesign(e,t){const{options:i}=t,{position:r,rotation:n,flipHorizontally:o,flipVertically:s,text:a,color:l,width:c,seed:u,inverted:h}=i;let{identifier:d}=i;d===Ry.Operations.SpriteOperation.TextDesignSprite.Layouts.TextDesignBlocksLight.identifier?d=Ry.Operations.SpriteOperation.TextDesignSprite.LegacyLayouts.TextDesignBlocksLightV310.identifier:d===Ry.Operations.SpriteOperation.TextDesignSprite.Layouts.TextDesignSunshine.identifier&&(d=Ry.Operations.SpriteOperation.TextDesignSprite.LegacyLayouts.TextDesignSunshineV310.identifier);const p=new Hy(this._ui,this._getOptions("textdesign")),f=new Ny(this._ui,{fonts:hg.DEFAULTS.TEXT_DESIGN_FONTS,replaceFonts:!0}),{AssetManager:g}=e.constructor.TextDesignSprite,m=this._ui.getFontLoader(),y=new(p.getLayoutByIdentifier(d));return m.setFonts(f.getFonts()),g.setFonts({...g.getFonts(),...f.getVariationsByIdentifier()}),m.load().then((()=>{const t=y.getImagePaths().map((e=>({path:e,fullPath:this._ui.getAssetPath(e),image:null})));return g.loadImages(t).then((()=>(y.onImagesLoaded(),e.createTextDesign({position:r,rotation:n,flipHorizontally:o,flipVertically:s,text:a,color:wy.fromArray(l.rgba),width:c,seed:u,inverted:h,layout:y}))))}))}}).version="3.0.0"})),ov=b((()=>{cy(),(ev=class extends Ct{}).prototype.availableOptions={identifier:{type:"string",required:!0},defaultName:{type:"string",required:!0},ratio:{type:"*",required:!1,default:null},selected:{type:"boolean",required:!1},dimensions:{type:"vector2",required:!1},lockDimensions:{type:"boolean",required:!1,default:null},forceDimensions:{type:"boolean",required:!1,default:null}}})),sv=b((()=>{l_(),ov(),K_(),(tv=class extends j_{serialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.serialize(e).then((e=>(e.meta={platform:"html5",version:this._editor.getSDK().version,createdAt:Ey.ISODateString(new Date)},e.image=e.inputImage,delete e.inputImage,e)))}_serializeSticker(e,t){const i=super._serializeSticker(e,t);return i.options.alpha=t.getAlpha(),i.options.tintColor&&(i.options.tintColor={rgba:i.options.tintColor}),i}_serializeText(e,t){const i=super._serializeText(e,t);return i.options.color={rgba:i.options.color},i.options.backgroundColor={rgba:i.options.backgroundColor},i.options.flipHorizontally=!1,i.options.flipVertically=!1,delete i.options.fontWeight,i}_serializePath(e){const t=super._serializePath(e);delete t.hardness,delete t.size,delete t.color;const i=e.getBrush();t.brush=i.serializeOptions(["identifier","size","color"],!0),"undefined"===typeof t.brush.identifier&&delete t.brush.identifier,t.brush.color={rgba:t.brush.color};const r=i.getOption("hardness");return"undefined"!==r&&(t.brush.hardness=r),t}_serializeFrameOperation(e,t){super._serializeFrameOperation(e,t);const i=t.filter((e=>"sprite"===e.type));let r;if(i.length){r=i.pop();const t=r.options.sprites.filter((e=>"frame"===e.type))[0];e.getTintColor().equals(new wy(1,1,1,0))||(t.options.tintColor={rgba:e.serializeOption("tintColor",!0)});const n=e.serializeOptions(["scale","alpha"],!0);t.options={...t.options,...n},t.options.size=t.options.scale,delete t.options.scale}}_serializeTransformOperation(e){const t=super._serializeTransformOperation(e);if(e._ratio){let i;i=e._ratio instanceof ev?e._ratio.getIdentifier():e._ratio.identifier,t.options.meta={identifier:i}}return delete t.options.scale,t}_serializeAdjustmentsOperation(e){const t=super._serializeAdjustmentsOperation(e),{availableOptions:i}=e,r={};return["gamma","whites","blacks","temperature"].forEach((t=>{const n=i[t],o=e.getOption(t),{minValue:s,midValue:a,maxValue:l}=n;r[t]=o<=a?(o-s)/(a-s)-1:(o-a)/(l-a)})),t.options={...t.options,...r},t}_serializeOperation(e,t){switch(e.constructor.identifier){case"mirrored-focus":return this._serializeMirroredFocusOperation(e);case"linear-focus":return this._serializeLinearFocusOperation(e);case"blur":return this._serializeBlurOperation(e);default:return super._serializeOperation(e,t)}}_serializeMirroredFocusOperation(e){return{type:"focus",options:{type:"mirrored",options:e.serializeOptions(["start","end","blurRadius","size","gradientSize"],!0)}}}_serializeLinearFocusOperation(e){const t=e.serializeOptions(["controlPoint1","controlPoint2","blurRadius"],!0);return t.start=t.controlPoint1,delete t.controlPoint1,t.end=t.controlPoint2,delete t.controlPoint2,{type:"focus",options:{type:"linear",options:t}}}_serializeBlurOperation(e){return{type:"focus",options:{type:"gaussian",options:e.serializeOptions(["blurRadius"],!0)}}}}).version="3.0.0"})),av={};w(av,{default:()=>iv});var lv,cv,uv,hv=b((()=>{nv(),sv(),(iv=class{constructor(e){this._editor=e}serialize(){return new tv(this._editor).serialize(...arguments)}deserialize(e){return new $_(this._editor,e).deserialize()}}).version="3.0.0"})),dv=b((()=>{l_(),d_(),p_(),nv(),(lv=class extends $_{_deserializeTextDesign(e,t){const{options:i}=t,{position:r,rotation:n,flipHorizontally:o,flipVertically:s,text:a,color:l,width:c,seed:u,inverted:h}=i;let{identifier:d}=i;d===Ry.Operations.SpriteOperation.TextDesignSprite.Layouts.TextDesignBlocksLight.identifier?d=Ry.Operations.SpriteOperation.TextDesignSprite.LegacyLayouts.TextDesignBlocksLightV310.identifier:d===Ry.Operations.SpriteOperation.TextDesignSprite.Layouts.TextDesignSunshine.identifier&&(d=Ry.Operations.SpriteOperation.TextDesignSprite.LegacyLayouts.TextDesignSunshineV310.identifier);const p=new Hy(this._ui,this._getOptions("textdesign")),f=new Ny(this._ui,{fonts:hg.DEFAULTS.TEXT_DESIGN_FONTS,replaceFonts:!0}),{AssetManager:g}=e.constructor.TextDesignSprite,m=this._ui.getFontLoader(),y=new(p.getLayoutByIdentifier(d));return m.setFonts(f.getFonts()),g.setFonts({...g.getFonts(),...f.getVariationsByIdentifier()}),m.load().then((()=>{const t=y.getImagePaths().map((e=>({path:e,fullPath:this._ui.getAssetPath(e),image:null})));return g.loadImages(t).then((()=>(y.onImagesLoaded(),e.createTextDesign({position:r,rotation:n,flipHorizontally:o,flipVertically:s,text:a,color:wy.fromArray(l.rgba),width:c,seed:u,inverted:h,layout:y}))))}))}}).version="3.1.0"})),pv=b((()=>{l_(),sv(),(cv=class extends tv{_serializeTextDesign(e,t){const i=t.serializeOptions(["position","rotation","flipHorizontally","flipVertically","text","color","width","seed","inverted"],!0);i.color={rgba:i.color};const r=t.getLayout();return r&&(i.identifier=r.constructor.identifier),{type:"textdesign",options:i}}}).version="3.1.0"})),fv={};w(fv,{default:()=>uv});var gv,mv,yv,_v=b((()=>{dv(),pv(),(uv=class{constructor(e){this._editor=e}serialize(){return new cv(this._editor).serialize(...arguments)}deserialize(e){return new lv(this._editor,e).deserialize()}}).version="3.1.0"})),vv=b((()=>{l_(),d_(),p_(),dv(),(gv=class extends lv{_deserializeTextDesign(e,t){const{options:i}=t,{position:r,rotation:n,flipHorizontally:o,flipVertically:s,text:a,color:l,width:c,seed:u,inverted:h}=i;let{identifier:d}=i;d===Ry.Operations.SpriteOperation.TextDesignSprite.Layouts.TextDesignBlocksLight.identifier?d=Ry.Operations.SpriteOperation.TextDesignSprite.LegacyLayouts.TextDesignBlocksLightV310.identifier:d===Ry.Operations.SpriteOperation.TextDesignSprite.Layouts.TextDesignSunshine.identifier&&(d=Ry.Operations.SpriteOperation.TextDesignSprite.LegacyLayouts.TextDesignSunshineV310.identifier);const p="padding"in i?i.padding/c:-1,f=new Hy(this._ui,this._getOptions("textdesign")),g=new Ny(this._ui,{fonts:hg.DEFAULTS.TEXT_DESIGN_FONTS,replaceFonts:!0}),{AssetManager:m}=e.constructor.TextDesignSprite,y=this._ui.getFontLoader(),_=new(f.getLayoutByIdentifier(d));return y.setFonts(g.getFonts()),m.setFonts({...m.getFonts(),...g.getVariationsByIdentifier()}),y.load().then((()=>{const t=_.getImagePaths().map((e=>({path:e,fullPath:this._ui.getAssetPath(e),image:null})));return m.loadImages(t).then((()=>(_.onImagesLoaded(),e.createTextDesign({position:r,rotation:n,flipHorizontally:o,flipVertically:s,text:a,color:wy.fromArray(l.rgba),width:c,seed:u,inverted:h,layout:_,padding:p}))))}))}}).version="3.2.0"})),bv=b((()=>{pv(),(mv=class extends cv{_serializeTextDesign(e,t){const i=t.serializeOptions(["position","rotation","flipHorizontally","flipVertically","text","color","width","seed","inverted","padding"],!0);i.color={rgba:i.color};const r=t.getLayout();return r&&(i.identifier=r.constructor.identifier),i.padding*=i.width,{type:"textdesign",options:i}}}).version="3.2.0"})),xv={};w(xv,{default:()=>yv});var wv,Sv,kv,Cv=b((()=>{vv(),bv(),(yv=class{constructor(e){this._editor=e}serialize(){return new mv(this._editor).serialize(...arguments)}deserialize(e){return new gv(this._editor,e).deserialize()}}).version="3.2.0"})),Tv=b((()=>{vv(),(wv=class extends gv{_deserializeOperation(e){return super._deserializeOperation(e)}_deserializeOrientationOperation(e){const{options:t}=e,i=this._editor.operations.getOrCreate("orientation");return i?(i.set(t),Promise.resolve(i)):Promise.resolve()}}).version="3.4.0"})),Ev=b((()=>{Y_(),bv(),(Sv=class extends mv{_serializeOperation(e,t){return"artfilter"===e.constructor.identifier?this._serializeStyle(e):super._serializeOperation(e,t)}_serializeOrientationOperation(e){return{type:"orientation",options:e.serializeOptions(["flipVertically","flipHorizontally","rotation"],!0)}}_serializeStyle(e){const{identifier:t,intensity:i,blendMode:r}=e.getOptions(),{tileEdgeLength:n,overlappingFactor:o}=e.getStyleTransferModel().getOptions();return{type:"artFilter",options:{identifier:t,intensity:i,blendMode:U_[r],tileEdgeLength:n,overlappingFactor:o}}}}).version="3.4.0"})),Dv={};w(Dv,{default:()=>kv});var Iv,Rv,Fv,Av=b((()=>{Tv(),Ev(),(kv=class{constructor(e){this._editor=e}serialize(){return new Sv(this._editor).serialize(...arguments)}deserialize(e){return new wv(this._editor,e).deserialize()}}).version="3.4.0"})),Ov=b((()=>{l_(),d_(),p_(),Tv(),(Iv=class extends wv{_deserializeTextDesign(e,t){const{options:i}=t,{position:r,rotation:n,flipHorizontally:o,flipVertically:s,text:a,color:l,width:c,seed:u,inverted:h,identifier:d}=i,p="padding"in i?i.padding/c:-1,f=new Hy(this._ui,this._getOptions("textdesign")),g=new Ny(this._ui,{fonts:hg.DEFAULTS.TEXT_DESIGN_FONTS,replaceFonts:!0}),{AssetManager:m}=e.constructor.TextDesignSprite,y=this._ui.getFontLoader(),_=new(f.getLayoutByIdentifier(d));return y.setFonts(g.getFonts()),m.setFonts({...m.getFonts(),...g.getVariationsByIdentifier()}),y.load().then((()=>{const t=_.getImagePaths().map((e=>({path:e,fullPath:this._ui.getAssetPath(e),image:null})));return m.loadImages(t).then((()=>(_.onImagesLoaded(),e.createTextDesign({position:r,rotation:n,flipHorizontally:o,flipVertically:s,text:a,color:wy.fromArray(l.rgba),width:c,seed:u,inverted:h,layout:_,padding:p}))))}))}}).version="3.5.0"})),Mv=b((()=>{Ev(),(Rv=class extends Sv{}).version="3.5.0"})),Pv={};w(Pv,{default:()=>Fv});var zv,Bv,Lv,Uv=b((()=>{Ov(),Mv(),(Fv=class{constructor(e){this._editor=e}serialize(){return new Rv(this._editor).serialize(...arguments)}deserialize(e){return new Iv(this._editor,e).deserialize()}}).version="3.5.0"})),Nv=b((()=>{l_(),Ov(),(zv=class extends Iv{_deserializeAdjustmentsOperation(e){const{AdjustmentsOperation:t}=Ry.Operations;return super._deserializeAdjustmentsOperation(e).then((i=>{if(!i)return null;const{options:r}=e,n="sharpness",o={};if("undefined"===typeof r[n])return;const{minValue:s,midValue:a,maxValue:l}=t.prototype.availableOptions[n];let c=r[n];return c=c<0?a+(a-s)*c:a+(l-a)*c,o[n]=c,i.set(o),i}))}}).version="3.6.0"})),Hv=b((()=>{Mv(),(Bv=class extends Rv{_serializeAdjustmentsOperation(e){const t=super._serializeAdjustmentsOperation(e),i="sharpness",{availableOptions:r}=e,n={},o=r[i],s=e.getOption(i),{minValue:a,midValue:l,maxValue:c}=o;return n[i]=s<=l?(s-a)/(l-a)-1:(s-l)/(c-l),t.options={...t.options,...n},t}}).version="3.6.0"})),jv={};w(jv,{default:()=>Lv});var Wv,Vv,Gv,qv=b((()=>{Nv(),Hv(),(Lv=class{constructor(e){this._editor=e}serialize(){return new Bv(this._editor).serialize(...arguments)}deserialize(e){return new zv(this._editor,e).deserialize()}}).version="3.6.0"})),Xv=b((()=>{cy(),Nv(),(Wv=class extends zv{deserialize(){return this._validateVersion().then((()=>this._deserializeAssetLibrary())).then((()=>this._deserializeInputImage())).then((()=>this._deserializeOperations()))}_deserializeAssetLibrary(){return new Promise(((e,t)=>{const i=this._data;if(!i.assetLibrary)return void e();const{assets:r}=i.assetLibrary,n=[];for(const o in r)n.push(this._deserializeCustomAssets(o,r[o]));return Promise.all(n).then((()=>{e()})).catch((e=>{console.error(e),t(e)}))}))}_deserializeCustomAssets(e,t){return"stickers"===e?this._deserializeCustomStickerAssets(t):Promise.reject(new Error("Unknown asset type: ".concat(e)))}_deserializeCustomStickerAssets(e){let t="none";const i=this._editor.getOptions().editor;i&&i.controlsOptions&&i.controlsOptions.sticker&&(t=i.controlsOptions.sticker.customStickerTintMode||"none");const r=e.map((e=>new Promise(((i,r)=>{const{identifier:n,raster:o}=e,s=void 0!==e.svg;let a="data:".concat(o.type,";base64,").concat(o.data),l=new ms;l.onload=()=>{const r=this._editor.getSDK();l=r.correctExifOrientation(l),l.toDataURL&&(a=l.toDataURL());let o={data:"",width:1,height:1};o=this._stickerManager.renderStickerThumbnailFromImage(l);const c={identifier:n,defaultName:e.name||"",tintMode:t,images:{mediaBase:{uris:[a],rawData:!0,isSVG:s,width:l.width,height:l.height},mediaThumb:{uris:[o.data],rawData:!0,width:o.width,height:o.height}}};if(s){const t="data:image/svg+xml;base64,".concat(e.svg.data);c.images.mediaBase.uris.push(t)}i(c)},l.onerror=()=>{r(new Error("Invalid base64 data: ".concat(a)))},l.src=a}))));return Promise.all(r).then((e=>{this._editor.getDynamicAssetsLibrary().setAssets("sticker",e),this._stickerManager.reload()}))}}).version="3.7.0"})),Yv=b((()=>{Hv(),(Vv=class extends Bv{serialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.serialize(e).then((e=>this._serializeAssetLibrary(e).then((e=>e))))}_serializeAssetLibrary(e){if(!this._editor.getDynamicAssetsLibrary)return Promise.resolve(e);const t=this._editor.getDynamicAssetsLibrary(),i=this._serializeCustomStickerAssets(e,t);return 0===i.length||(e.assetLibrary={assets:{stickers:i}}),Promise.resolve(e)}_serializeCustomStickerAssets(e,t){const i=t.getAssets("sticker");if(0===i.length)return[];const r=e.operations.filter((e=>"sprite"===e.type)).flatMap((e=>e.options.sprites)).filter((e=>"sticker"===e.type)).map((e=>e.options.identifier)),n={};r.forEach((e=>{n[e]=!0}));return i.filter((e=>n[e.identifier])).map((e=>{const{identifier:t,defaultName:i,images:r}=e,n=r.mediaBase.uris[0],{isSVG:o}=r.mediaBase,s=/^data:(image\/(jpeg|png));base64,(.*)$/g.exec(n),a={identifier:t,name:i,raster:{type:s[1],data:s[3]}};return i&&(a.name=i),o&&(a.svg={data:r.mediaBase.uris[1].replace(/^data:image\/svg\+xml;base64,/g,"")}),a}))}}).version="3.7.0"})),Qv={};w(Qv,{default:()=>Gv});var Kv,Zv,Jv,$v=b((()=>{Xv(),Yv(),(Gv=class{constructor(e){this._editor=e}serialize(){return new Vv(this._editor).serialize(...arguments)}deserialize(e){return new Wv(this._editor,e).deserialize()}}).version="3.7.0"})),eb=b((()=>{Xv(),(Kv=class extends Wv{}).version="3.8.0"})),tb=b((()=>{Yv(),(Zv=class extends Vv{_serializeSticker(e,t){const i=super._serializeSticker(e,t);return i.options.tintMode=t.getTintMode(),i}}).version="3.8.0"})),ib={};w(ib,{default:()=>Jv});var rb,nb,ob,sb,ab=b((()=>{eb(),tb(),(Jv=class{constructor(e){this._editor=e}serialize(){return new Zv(this._editor).serialize(...arguments)}deserialize(e){return new Kv(this._editor,e).deserialize()}}).version="3.8.0"})),lb=b((()=>{l_(),eb(),(rb=class extends Kv{_deserializeTransformOperation(e){return super._deserializeCropOperation(e).then((e=>{if(!e)return;const t=Ey.Array.find(this._data.operations,(e=>"orientation"===e.type));if(t){const{options:i}=t;e.rotate(i.rotation),i.flipHorizontally&&(e.flip("horizontal"),e.setRotation(-1*e.getRotation())),i.flipVertically&&(e.flip("vertical"),e.setRotation(-1*e.getRotation()))}return e._ratio=null,e}))}_deserializeText(e,t){const{options:i}=t,{fontSize:r,lineHeight:n,fontIdentifier:o,alignment:s,rotation:a,maxWidth:l,color:c,backgroundColor:u}=i,h=this._ui.getFontLoader();let d=this._fontManager.getVariationByIdentifier(o);return d?h.setFonts([d.getFont()]):d=this._fontManager.getDefaultVariation(),h.load().then((()=>{const t=e.getInputDimensions(!1),o=t.min(),h=t.x,p=t.y,f=l*o/h,g=r*o/p,m=e.createText({fontSize:g,lineHeight:n,fontFamily:d.getFontFamily(),fontWeight:d.getFontWeight(),fontIdentifier:d.getIdentifier(),textMetrics:d.getTextMetrics(),alignment:s,rotation:a,maxWidth:f,text:i.text,color:wy.fromArray(c.rgba),backgroundColor:wy.fromArray(u.rgba),position:Ay.fromObject(i.position)});return m._edited=!0,m}))}}).version="3.9.0"})),cb=b((()=>{ov(),tb(),nb=2*Math.PI,(ob=class extends Zv{_serializeTransformOperation(e){const{operations:t}=this._editor;if(t.exists("orientation")){e=e.clone();const i=t.get("orientation");i.getFlipVertically()&&(e.flip("vertical"),e.setRotation(-1*e.getRotation())),i.getFlipHorizontally()&&(e.flip("horizontal"),e.setRotation(-1*e.getRotation())),e.rotate(-i.getRotation())}const i=e.serializeOptions(["start","end","rotation","textureScale"],!0);i.rotation=(i.rotation+nb)%nb,1!==i.textureScale&&(i.dimensions=e.getNewDimensions(e.getInputDimensions(!1))),delete i.textureScale;const r={type:"transform",options:i};if(e._ratio){let t;t=e._ratio instanceof ev?e._ratio.getIdentifier():e._ratio.identifier,r.options.meta={identifier:t}}return delete r.options.scale,r}_serializeText(e,t){const i=e.getInputDimensions(!1),r=super._serializeText(e,t);return r.options.fontSize=r.options.fontSize*i.y/i.min(),r}}).version="3.9.0"})),ub={};w(ub,{default:()=>sb});var hb,db,pb,fb=b((()=>{lb(),cb(),(sb=class{constructor(e){this._editor=e}serialize(){return new ob(this._editor).serialize(...arguments)}deserialize(e){return new rb(this._editor,e).deserialize()}}).version="3.9.0"})),gb=b((()=>{lb(),(hb=class extends rb{}).version="3.12.0"})),mb=b((()=>{cb(),(db=class extends ob{_serializeCustomStickerAssets(e,t){const i=t.getAssets("sticker");if(0===i.length)return[];const r=e.operations.filter((e=>"sprite"===e.type)).flatMap((e=>e.options.sprites)).filter((e=>"sticker"===e.type)).map((e=>e.options.identifier)),n={};r.forEach((e=>{n[e]=!0}));return i.filter((e=>n[e.identifier])).map((e=>{const{identifier:t,defaultName:i,images:r}=e,n=r.mediaBase.uris[0],{isSVG:o}=r.mediaBase,s=/^data:(image\/(jpeg|png|gif));base64,(.*)$/g.exec(n),a={identifier:t,name:i,raster:{type:s[1],data:s[3]}};return i&&(a.name=i),o&&(a.svg={data:r.mediaBase.uris[1].replace(/^data:image\/svg\+xml;base64,/g,"")}),a}))}}).version="3.12.0"})),yb={};w(yb,{default:()=>pb});var _b=b((()=>{gb(),mb(),(pb=class{constructor(e){this._editor=e}serialize(){return new db(this._editor).serialize(...arguments)}deserialize(e){return new hb(this._editor,e).deserialize()}}).version="3.12.0"})),vb="An invariant failed, however the error is obfuscated because this is an production build.",bb=[];Object.freeze(bb);var xb={};Object.freeze(xb);var wb={};function Sb(){return"undefined"!==typeof window?window:"undefined"!==typeof i.g?i.g:"undefined"!==typeof self?self:wb}function kb(){return++Kx.mobxGuid}function Cb(e){throw Tb(!1,e),"X"}function Tb(e,t){if(!e)throw new Error("[mobx] "+(t||vb))}function Eb(e){var t=!1;return function(){if(!t)return t=!0,e.apply(this,arguments)}}var Db=function(){};function Ib(e){return null!==e&&"object"===typeof e}function Rb(e){if(null===e||"object"!==typeof e)return!1;var t=Object.getPrototypeOf(e);return t===Object.prototype||null===t}function Fb(e,t,i){Object.defineProperty(e,t,{enumerable:!1,writable:!0,configurable:!0,value:i})}function Ab(e,t,i){Object.defineProperty(e,t,{enumerable:!1,writable:!1,configurable:!0,value:i})}function Ob(e,t){var i="isMobX"+e;return t.prototype[i]=!0,function(e){return Ib(e)&&!0===e[i]}}function Mb(e){return void 0!==Sb().Map&&e instanceof Sb().Map}function Pb(e){return e instanceof Set}function zb(e){for(var t=[];;){var i=e.next();if(i.done)break;t.push(i.value)}return t}function Bb(){return"function"===typeof Symbol&&Symbol.toPrimitive||"@@toPrimitive"}function Lb(e){return null===e?null:"object"===typeof e?""+e:e}function Ub(e,t){for(var i=e.next();!i.done;)t(i.value),i=e.next()}function Nb(){return"function"===typeof Symbol&&Symbol.iterator||"@@iterator"}function Hb(e,t){Ab(e,Nb(),t)}function jb(e){return e[Nb()]=Vb,e}function Wb(){return"function"===typeof Symbol&&Symbol.toStringTag||"@@toStringTag"}function Vb(){return this}var Gb=function(){function e(e){void 0===e&&(e="Atom@"+kb()),this.name=e,this.isPendingUnobservation=!1,this.isBeingObserved=!1,this.observers=[],this.observersIndexes={},this.diffValue=0,this.lastAccessedBy=0,this.lowestObserverState=_x.NOT_TRACKING}return e.prototype.onBecomeUnobserved=function(){},e.prototype.onBecomeObserved=function(){},e.prototype.reportObserved=function(){return iw(this)},e.prototype.reportChanged=function(){ew(),function(e){if(e.lowestObserverState===_x.STALE)return;e.lowestObserverState=_x.STALE;var t=e.observers,i=t.length;for(;i--;){var r=t[i];r.dependenciesState===_x.UP_TO_DATE&&(r.isTracing!==vx.NONE&&rw(r,e),r.onBecomeStale()),r.dependenciesState=_x.STALE}}(this),tw()},e.prototype.toString=function(){return this.name},e}(),qb=Ob("Atom",Gb);function Xb(e,t,i){void 0===t&&(t=Db),void 0===i&&(i=Db);var r=new Gb(e);return function(e,t,i){kw("onBecomeObserved",e,t,i)}(r,t),Sw(r,i),r}function Yb(e,t){return e===t}var Qb={identity:Yb,structural:function(e,t){return fS(e,t)},default:function(e,t){return function(e,t){return"number"===typeof e&&"number"===typeof t&&isNaN(e)&&isNaN(t)}(e,t)||Yb(e,t)},shallow:function(e,t){return fS(e,t,1)}},Kb=function(e,t){return(Kb=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)};function Zb(e,t){function i(){this.constructor=e}Kb(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}var Jb=function(){return Jb=Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++)for(var n in t=arguments[i])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},Jb.apply(this,arguments)};function $b(e,t){var i="function"===typeof Symbol&&e[Symbol.iterator];if(!i)return e;var r,n,o=i.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){n={error:a}}finally{try{r&&!r.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}return s}function ex(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat($b(arguments[t]));return e}var tx={},ix={};function rx(e){if(!0!==e.__mobxDidRunLazyInitializers){var t=e.__mobxDecorators;if(t)for(var i in Fb(e,"__mobxDidRunLazyInitializers",!0),t){var r=t[i];r.propertyCreator(e,r.prop,r.descriptor,r.decoratorTarget,r.decoratorArguments)}}}function nx(e,t){return function(){var i,r=function(r,n,o,s){if(!0===s)return t(r,n,o,r,i),null;if(!Object.prototype.hasOwnProperty.call(r,"__mobxDecorators")){var a=r.__mobxDecorators;Fb(r,"__mobxDecorators",Jb({},a))}return r.__mobxDecorators[n]={prop:n,propertyCreator:t,descriptor:o,decoratorTarget:r,decoratorArguments:i},function(e,t){var i=t?tx:ix;return i[e]||(i[e]={configurable:!0,enumerable:t,get:function(){return rx(this),this[e]},set:function(t){rx(this),this[e]=t}})}(n,e)};return function(e){return(2===e.length||3===e.length)&&"string"===typeof e[1]||4===e.length&&!0===e[3]}(arguments)?(i=bb,r.apply(null,arguments)):(i=Array.prototype.slice.call(arguments),r)}}function ox(e,t,i){return Dw(e)?e:Array.isArray(e)?mx.array(e,{name:i}):Rb(e)?mx.object(e,void 0,{name:i}):Mb(e)?mx.map(e,{name:i}):Pb(e)?mx.set(e,{name:i}):e}function sx(e){return e}function ax(e){Tb(e);var t=nx(!0,(function(t,i,r,n,o){(function(e,t,i,r){var n=oS(e);if(Mw(n)){var o=zw(n,{object:e,name:t,type:"add",newValue:i});if(!o)return;i=o.newValue}var s=n.values[t]=new Wx(i,r,n.name+"."+t,!1);i=s.value,Object.defineProperty(e,t,function(e){return sS[e]||(sS[e]={configurable:!0,enumerable:!0,get:function(){return this.$mobx.read(this,e)},set:function(t){this.$mobx.write(this,e,t)}})}(t)),n.keys&&n.keys.push(t);!function(e,t,i,r){var n=Bw(e),o=hw(),s=n||o?{type:"add",object:t,name:i,newValue:r}:null;o&&pw(Jb(Jb({},s),{name:e.name,key:i}));n&&Uw(e,s);o&&gw()}(n,e,t,i)})(t,i,r?r.initializer?r.initializer.call(t):r.value:void 0,e)})),i=t;return i.enhancer=e,i}var lx={deep:!0,name:void 0,defaultDecorator:void 0};function cx(e){return null===e||void 0===e?lx:"string"===typeof e?{name:e,deep:!0}:e}function ux(e){return e.defaultDecorator?e.defaultDecorator.enhancer:!1===e.deep?sx:ox}Object.freeze(lx),Object.freeze({deep:!1,name:void 0,defaultDecorator:void 0});var hx=ax(ox),dx=ax((function(e,t,i){return void 0===e||null===e||uS(e)||Kw(e)||eS(e)||rS(e)?e:Array.isArray(e)?mx.array(e,{name:i,deep:!1}):Rb(e)?mx.object(e,void 0,{name:i,deep:!1}):Mb(e)?mx.map(e,{name:i,deep:!1}):Pb(e)?mx.set(e,{name:i,deep:!1}):Cb(!1)})),px=ax(sx),fx=ax((function(e,t,i){return fS(e,t)?t:e}));var gx={box:function(e,t){arguments.length>2&&yx("box");var i=cx(t);return new Wx(e,ux(i),i.name,!0,i.equals)},shallowBox:function(e,t){return arguments.length>2&&yx("shallowBox"),mx.box(e,{name:t,deep:!1})},array:function(e,t){arguments.length>2&&yx("array");var i=cx(t);return new Vw(e,ux(i),i.name)},shallowArray:function(e,t){return arguments.length>2&&yx("shallowArray"),mx.array(e,{name:t,deep:!1})},map:function(e,t){arguments.length>2&&yx("map");var i=cx(t);return new Jw(e,ux(i),i.name)},shallowMap:function(e,t){return arguments.length>2&&yx("shallowMap"),mx.map(e,{name:t,deep:!1})},set:function(e,t){arguments.length>2&&yx("set");var i=cx(t);return new iS(e,ux(i),i.name)},object:function(e,t,i){return"string"===typeof arguments[1]&&yx("object"),function(e,t,i,r){0;r=cx(r);var n=r.defaultDecorator||(!1===r.deep?px:hx);rx(e),oS(e,r.name,n.enhancer),ew();try{for(var o=Object.getOwnPropertyNames(t),s=0,a=o.length;s<a;s++){var l=o[s],c=Object.getOwnPropertyDescriptor(t,l);0;var u=(i&&l in i?i[l]:c.get?bx:n)(e,l,c,!0);u&&Object.defineProperty(e,l,u)}}finally{tw()}return e}({},e,t,cx(i))},shallowObject:function(e,t){return"string"===typeof arguments[1]&&yx("shallowObject"),mx.object(e,{},{name:t,deep:!1})},ref:px,shallow:dx,deep:hx,struct:fx},mx=function(e,t,i){if("string"===typeof arguments[1])return hx.apply(null,arguments);if(Dw(e))return e;var r=Rb(e)?mx.object(e,t,i):Array.isArray(e)?mx.array(e,t):Mb(e)?mx.map(e,t):Pb(e)?mx.set(e,t):e;if(r!==e)return r;Cb(!1)};function yx(e){Cb("Expected one or two arguments to observable."+e+". Did you accidentally try to use observable."+e+" as decorator?")}Object.keys(gx).forEach((function(e){return mx[e]=gx[e]}));var _x,vx,bx=nx(!1,(function(e,t,i,r,n){var o=i.get,s=i.set,a=n[0]||{};!function(e,t,i){var r=oS(e);i.name=r.name+"."+t,i.context=e,r.values[t]=new Gx(i),Object.defineProperty(e,t,function(e){return aS[e]||(aS[e]={configurable:Kx.computedConfigurable,enumerable:!1,get:function(){return lS(this).read(this,e)},set:function(t){lS(this).write(this,e,t)}})}(t))}(e,t,Jb({get:o,set:s},a))})),xx=bx({equals:Qb.structural}),wx=function(e,t,i){if("string"===typeof t)return bx.apply(null,arguments);if(null!==e&&"object"===typeof e&&1===arguments.length)return bx.apply(null,arguments);var r="object"===typeof t?t:{};return r.get=e,r.set="function"===typeof t?t:r.set,r.name=r.name||e.name||"",new Gx(r)};wx.struct=xx,function(e){e[e.NOT_TRACKING=-1]="NOT_TRACKING",e[e.UP_TO_DATE=0]="UP_TO_DATE",e[e.POSSIBLY_STALE=1]="POSSIBLY_STALE",e[e.STALE=2]="STALE"}(_x||(_x={})),function(e){e[e.NONE=0]="NONE",e[e.LOG=1]="LOG",e[e.BREAK=2]="BREAK"}(vx||(vx={}));var Sx=function(e){this.cause=e};function kx(e){return e instanceof Sx}function Cx(e){switch(e.dependenciesState){case _x.UP_TO_DATE:return!1;case _x.NOT_TRACKING:case _x.STALE:return!0;case _x.POSSIBLY_STALE:for(var t=Ax(!0),i=Rx(),r=e.observing,n=r.length,o=0;o<n;o++){var s=r[o];if(qx(s)){if(Kx.disableErrorBoundaries)s.get();else try{s.get()}catch(a){return Fx(i),Ox(t),!0}if(e.dependenciesState===_x.STALE)return Fx(i),Ox(t),!0}}return Mx(e),Fx(i),Ox(t),!1}}function Tx(e){var t=e.observers.length>0;Kx.computationDepth>0&&t&&Cb(!1),Kx.allowStateChanges||!t&&"strict"!==Kx.enforceActions||Cb(!1)}function Ex(e,t,i){var r=Ax(!0);Mx(e),e.newObserving=new Array(e.observing.length+100),e.unboundDepsCount=0,e.runId=++Kx.runId;var n,o=Kx.trackingDerivation;if(Kx.trackingDerivation=e,!0===Kx.disableErrorBoundaries)n=t.call(i);else try{n=t.call(i)}catch(QS){n=new Sx(QS)}return Kx.trackingDerivation=o,function(e){for(var t=e.observing,i=e.observing=e.newObserving,r=_x.UP_TO_DATE,n=0,o=e.unboundDepsCount,s=0;s<o;s++){0===(a=i[s]).diffValue&&(a.diffValue=1,n!==s&&(i[n]=a),n++),a.dependenciesState>r&&(r=a.dependenciesState)}i.length=n,e.newObserving=null,o=t.length;for(;o--;){0===(a=t[o]).diffValue&&Jx(a,e),a.diffValue=0}for(;n--;){var a;1===(a=i[n]).diffValue&&(a.diffValue=0,Zx(a,e))}r!==_x.UP_TO_DATE&&(e.dependenciesState=r,e.onBecomeStale())}(e),e.observing.length,Ox(r),n}function Dx(e){var t=e.observing;e.observing=[];for(var i=t.length;i--;)Jx(t[i],e);e.dependenciesState=_x.NOT_TRACKING}function Ix(e){var t=Rx(),i=e();return Fx(t),i}function Rx(){var e=Kx.trackingDerivation;return Kx.trackingDerivation=null,e}function Fx(e){Kx.trackingDerivation=e}function Ax(e){var t=Kx.allowStateReads;return Kx.allowStateReads=e,t}function Ox(e){Kx.allowStateReads=e}function Mx(e){if(e.dependenciesState!==_x.UP_TO_DATE){e.dependenciesState=_x.UP_TO_DATE;for(var t=e.observing,i=t.length;i--;)t[i].lowestObserverState=_x.UP_TO_DATE}}var Px=0,zx=1,Bx=Object.getOwnPropertyDescriptor((function(){}),"name");Bx&&Bx.configurable;function Lx(e,t){var i=function(){return Ux(e,t,this,arguments)};return i.isMobxAction=!0,i}function Ux(e,t,i,r){var n=function(e,t,i){var r=hw()&&!!e,n=0;if(r){n=Date.now();var o=i&&i.length||0,s=new Array(o);if(o>0)for(var a=0;a<o;a++)s[a]=i[a];pw({type:"action",name:e,object:t,arguments:s})}var l=Rx();ew();var c=Hx(!0),u=Ax(!0),h={prevDerivation:l,prevAllowStateChanges:c,prevAllowStateReads:u,notifySpy:r,startTime:n,actionId:zx++,parentActionId:Px};return Px=h.actionId,h}(e,i,r);try{return t.apply(i,r)}catch(o){throw n.error=o,o}finally{!function(e){Px!==e.actionId&&Cb("invalid action stack. did you forget to finish an action?");Px=e.parentActionId,void 0!==e.error&&(Kx.suppressReactionErrors=!0);jx(e.prevAllowStateChanges),Ox(e.prevAllowStateReads),tw(),Fx(e.prevDerivation),e.notifySpy&&gw({time:Date.now()-e.startTime});Kx.suppressReactionErrors=!1}(n)}}function Nx(e,t){var i,r=Hx(e);try{i=t()}finally{jx(r)}return i}function Hx(e){var t=Kx.allowStateChanges;return Kx.allowStateChanges=e,t}function jx(e){Kx.allowStateChanges=e}var Wx=function(e){function t(t,i,r,n,o){void 0===r&&(r="ObservableValue@"+kb()),void 0===n&&(n=!0),void 0===o&&(o=Qb.default);var s=e.call(this,r)||this;return s.enhancer=i,s.name=r,s.equals=o,s.hasUnreportedChange=!1,s.value=i(t,void 0,r),n&&hw()&&dw({type:"create",name:s.name,newValue:""+s.value}),s}return Zb(t,e),t.prototype.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},t.prototype.set=function(e){var t=this.value;if((e=this.prepareNewValue(e))!==Kx.UNCHANGED){var i=hw();i&&pw({type:"update",name:this.name,newValue:e,oldValue:t}),this.setNewValue(e),i&&gw()}},t.prototype.prepareNewValue=function(e){if(Tx(this),Mw(this)){var t=zw(this,{object:this,type:"update",newValue:e});if(!t)return Kx.UNCHANGED;e=t.newValue}return e=this.enhancer(e,this.value,this.name),this.equals(this.value,e)?Kx.UNCHANGED:e},t.prototype.setNewValue=function(e){var t=this.value;this.value=e,this.reportChanged(),Bw(this)&&Uw(this,{type:"update",object:this,newValue:e,oldValue:t})},t.prototype.get=function(){return this.reportObserved(),this.dehanceValue(this.value)},t.prototype.intercept=function(e){return Pw(this,e)},t.prototype.observe=function(e,t){return t&&e({object:this,type:"update",newValue:this.value,oldValue:void 0}),Lw(this,e)},t.prototype.toJSON=function(){return this.get()},t.prototype.toString=function(){return this.name+"["+this.value+"]"},t.prototype.valueOf=function(){return Lb(this.get())},t}(Gb);Wx.prototype[Bb()]=Wx.prototype.valueOf;var Vx=Ob("ObservableValue",Wx),Gx=function(){function e(e){this.dependenciesState=_x.NOT_TRACKING,this.observing=[],this.newObserving=null,this.isBeingObserved=!1,this.isPendingUnobservation=!1,this.observers=[],this.observersIndexes={},this.diffValue=0,this.runId=0,this.lastAccessedBy=0,this.lowestObserverState=_x.UP_TO_DATE,this.unboundDepsCount=0,this.__mapid="#"+kb(),this.value=new Sx(null),this.isComputing=!1,this.isRunningSetter=!1,this.isTracing=vx.NONE,Tb(e.get,"missing option for computed: get"),this.derivation=e.get,this.name=e.name||"ComputedValue@"+kb(),e.set&&(this.setter=Lx(this.name+"-setter",e.set)),this.equals=e.equals||(e.compareStructural||e.struct?Qb.structural:Qb.default),this.scope=e.context,this.requiresReaction=!!e.requiresReaction,this.keepAlive=!!e.keepAlive}return e.prototype.onBecomeStale=function(){!function(e){if(e.lowestObserverState!==_x.UP_TO_DATE)return;e.lowestObserverState=_x.POSSIBLY_STALE;var t=e.observers,i=t.length;for(;i--;){var r=t[i];r.dependenciesState===_x.UP_TO_DATE&&(r.dependenciesState=_x.POSSIBLY_STALE,r.isTracing!==vx.NONE&&rw(r,e),r.onBecomeStale())}}(this)},e.prototype.onBecomeUnobserved=function(){},e.prototype.onBecomeObserved=function(){},e.prototype.get=function(){this.isComputing&&Cb("Cycle detected in computation "+this.name+": "+this.derivation),0!==Kx.inBatch||0!==this.observers.length||this.keepAlive?(iw(this),Cx(this)&&this.trackAndCompute()&&function(e){if(e.lowestObserverState===_x.STALE)return;e.lowestObserverState=_x.STALE;var t=e.observers,i=t.length;for(;i--;){var r=t[i];r.dependenciesState===_x.POSSIBLY_STALE?r.dependenciesState=_x.STALE:r.dependenciesState===_x.UP_TO_DATE&&(e.lowestObserverState=_x.UP_TO_DATE)}}(this)):Cx(this)&&(this.warnAboutUntrackedRead(),ew(),this.value=this.computeValue(!1),tw());var e=this.value;if(kx(e))throw e.cause;return e},e.prototype.peek=function(){var e=this.computeValue(!1);if(kx(e))throw e.cause;return e},e.prototype.set=function(e){if(this.setter){Tb(!this.isRunningSetter,"The setter of computed value '"+this.name+"' is trying to update itself. Did you intend to update an _observable_ value, instead of the computed property?"),this.isRunningSetter=!0;try{this.setter.call(this.scope,e)}finally{this.isRunningSetter=!1}}else Tb(!1,!1)},e.prototype.trackAndCompute=function(){hw()&&dw({object:this.scope,type:"compute",name:this.name});var e=this.value,t=this.dependenciesState===_x.NOT_TRACKING,i=this.computeValue(!0),r=t||kx(e)||kx(i)||!this.equals(e,i);return r&&(this.value=i),r},e.prototype.computeValue=function(e){var t;if(this.isComputing=!0,Kx.computationDepth++,e)t=Ex(this,this.derivation,this.scope);else if(!0===Kx.disableErrorBoundaries)t=this.derivation.call(this.scope);else try{t=this.derivation.call(this.scope)}catch(xS){t=new Sx(xS)}return Kx.computationDepth--,this.isComputing=!1,t},e.prototype.suspend=function(){this.keepAlive||(Dx(this),this.value=void 0)},e.prototype.observe=function(e,t){var i=this,r=!0,n=void 0;return function(e,t){void 0===t&&(t=xb);0;var i,r=t&&t.name||e.name||"Autorun@"+kb(),n=!t.scheduler&&!t.delay;if(n)i=new ow(r,(function(){this.track(a)}),t.onError,t.requiresObservable);else{var o=function(e){return e.scheduler?e.scheduler:e.delay?function(t){return setTimeout(t,e.delay)}:ww}(t),s=!1;i=new ow(r,(function(){s||(s=!0,o((function(){s=!1,i.isDisposed||i.track(a)})))}),t.onError,t.requiresObservable)}function a(){e(i)}return i.schedule(),i.getDisposer()}((function(){var o=i.get();if(!r||t){var s=Rx();e({type:"update",object:i,newValue:o,oldValue:n}),Fx(s)}r=!1,n=o}))},e.prototype.warnAboutUntrackedRead=function(){},e.prototype.toJSON=function(){return this.get()},e.prototype.toString=function(){return this.name+"["+this.derivation.toString()+"]"},e.prototype.valueOf=function(){return Lb(this.get())},e}();Gx.prototype[Bb()]=Gx.prototype.valueOf;var qx=Ob("ComputedValue",Gx),Xx=function(){this.version=5,this.UNCHANGED={},this.trackingDerivation=null,this.computationDepth=0,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!0,this.allowStateReads=!0,this.enforceActions=!1,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.computedConfigurable=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1},Yx=!0,Qx=!1,Kx=function(){var e=Sb();return e.__mobxInstanceCount>0&&!e.__mobxGlobals&&(Yx=!1),e.__mobxGlobals&&e.__mobxGlobals.version!==(new Xx).version&&(Yx=!1),Yx?e.__mobxGlobals?(e.__mobxInstanceCount+=1,e.__mobxGlobals.UNCHANGED||(e.__mobxGlobals.UNCHANGED={}),e.__mobxGlobals):(e.__mobxInstanceCount=1,e.__mobxGlobals=new Xx):(setTimeout((function(){Qx||Cb("There are multiple, different versions of MobX active. Make sure MobX is loaded only once or use `configure({ isolateGlobalState: true })`")}),1),new Xx)}();function Zx(e,t){var i=e.observers.length;i&&(e.observersIndexes[t.__mapid]=i),e.observers[i]=t,e.lowestObserverState>t.dependenciesState&&(e.lowestObserverState=t.dependenciesState)}function Jx(e,t){if(1===e.observers.length)e.observers.length=0,$x(e);else{var i=e.observers,r=e.observersIndexes,n=i.pop();if(n!==t){var o=r[t.__mapid]||0;o?r[n.__mapid]=o:delete r[n.__mapid],i[o]=n}delete r[t.__mapid]}}function $x(e){!1===e.isPendingUnobservation&&(e.isPendingUnobservation=!0,Kx.pendingUnobservations.push(e))}function ew(){Kx.inBatch++}function tw(){if(0===--Kx.inBatch){lw();for(var e=Kx.pendingUnobservations,t=0;t<e.length;t++){var i=e[t];i.isPendingUnobservation=!1,0===i.observers.length&&(i.isBeingObserved&&(i.isBeingObserved=!1,i.onBecomeUnobserved()),i instanceof Gx&&i.suspend())}Kx.pendingUnobservations=[]}}function iw(e){var t=Kx.trackingDerivation;return null!==t?(t.runId!==e.lastAccessedBy&&(e.lastAccessedBy=t.runId,t.newObserving[t.unboundDepsCount++]=e,e.isBeingObserved||(e.isBeingObserved=!0,e.onBecomeObserved())),!0):(0===e.observers.length&&Kx.inBatch>0&&$x(e),!1)}function rw(e,t){if(console.log("[mobx.trace] '"+e.name+"' is invalidated due to a change in: '"+t.name+"'"),e.isTracing===vx.BREAK){var i=[];nw(Tw(e),i,1),new Function("debugger;\n/*\nTracing '"+e.name+"'\n\nYou are entering this break point because derivation '"+e.name+"' is being traced and '"+t.name+"' is now forcing it to update.\nJust follow the stacktrace you should now see in the devtools to see precisely what piece of your code is causing this update\nThe stackframe you are looking for is at least ~6-8 stack-frames up.\n\n"+(e instanceof Gx?e.derivation.toString().replace(/[*]\//g,"/"):"")+"\n\nThe dependencies for this derivation are:\n\n"+i.join("\n")+"\n*/\n    ")()}}function nw(e,t,i){t.length>=1e3?t.push("(and many more)"):(t.push(""+new Array(i).join("\t")+e.name),e.dependencies&&e.dependencies.forEach((function(e){return nw(e,t,i+1)})))}var ow=function(){function e(e,t,i,r){void 0===e&&(e="Reaction@"+kb()),void 0===r&&(r=!1),this.name=e,this.onInvalidate=t,this.errorHandler=i,this.requiresObservable=r,this.observing=[],this.newObserving=[],this.dependenciesState=_x.NOT_TRACKING,this.diffValue=0,this.runId=0,this.unboundDepsCount=0,this.__mapid="#"+kb(),this.isDisposed=!1,this._isScheduled=!1,this._isTrackPending=!1,this._isRunning=!1,this.isTracing=vx.NONE}return e.prototype.onBecomeStale=function(){this.schedule()},e.prototype.schedule=function(){this._isScheduled||(this._isScheduled=!0,Kx.pendingReactions.push(this),lw())},e.prototype.isScheduled=function(){return this._isScheduled},e.prototype.runReaction=function(){if(!this.isDisposed){if(ew(),this._isScheduled=!1,Cx(this)){this._isTrackPending=!0;try{this.onInvalidate(),this._isTrackPending&&hw()&&dw({name:this.name,type:"scheduled-reaction"})}catch(e){this.reportExceptionInDerivation(e)}}tw()}},e.prototype.track=function(e){ew();var t,i=hw();i&&(t=Date.now(),pw({name:this.name,type:"reaction"})),this._isRunning=!0;var r=Ex(this,e,void 0);this._isRunning=!1,this._isTrackPending=!1,this.isDisposed&&Dx(this),kx(r)&&this.reportExceptionInDerivation(r.cause),i&&gw({time:Date.now()-t}),tw()},e.prototype.reportExceptionInDerivation=function(e){var t=this;if(this.errorHandler)this.errorHandler(e,this);else{if(Kx.disableErrorBoundaries)throw e;var i="[mobx] Encountered an uncaught exception that was thrown by a reaction or observer component, in: '"+this+"'";Kx.suppressReactionErrors?console.warn("[mobx] (error in reaction '"+this.name+"' suppressed, fix error of causing action below)"):console.error(i,e),hw()&&dw({type:"error",name:this.name,message:i,error:""+e}),Kx.globalReactionErrorHandlers.forEach((function(i){return i(e,t)}))}},e.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this._isRunning||(ew(),Dx(this),tw()))},e.prototype.getDisposer=function(){var e=this.dispose.bind(this);return e.$mobx=this,e},e.prototype.toString=function(){return"Reaction["+this.name+"]"},e.prototype.trace=function(e){void 0===e&&(e=!1),function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var i=!1;"boolean"===typeof e[e.length-1]&&(i=e.pop());var r=function(e){switch(e.length){case 0:return Kx.trackingDerivation;case 1:return hS(e[0]);case 2:return hS(e[0],e[1])}}(e);if(!r)return Cb(!1);r.isTracing===vx.NONE&&console.log("[mobx.trace] '"+r.name+"' tracing enabled");r.isTracing=i?vx.BREAK:vx.LOG}(this,e)},e}(),sw=100,aw=function(e){return e()};function lw(){Kx.inBatch>0||Kx.isRunningReactions||aw(cw)}function cw(){Kx.isRunningReactions=!0;for(var e=Kx.pendingReactions,t=0;e.length>0;){++t===sw&&(console.error("Reaction doesn't converge to a stable state after "+sw+" iterations. Probably there is a cycle in the reactive function: "+e[0]),e.splice(0));for(var i=e.splice(0),r=0,n=i.length;r<n;r++)i[r].runReaction()}Kx.isRunningReactions=!1}var uw=Ob("Reaction",ow);function hw(){return!!Kx.spyListeners.length}function dw(e){if(Kx.spyListeners.length)for(var t=Kx.spyListeners,i=0,r=t.length;i<r;i++)t[i](e)}function pw(e){dw(Jb(Jb({},e),{spyReportStart:!0}))}var fw={spyReportEnd:!0};function gw(e){dw(e?Jb(Jb({},e),{spyReportEnd:!0}):fw)}function mw(e){return Kx.spyListeners.push(e),Eb((function(){Kx.spyListeners=Kx.spyListeners.filter((function(t){return t!==e}))}))}function yw(){Cb(!1)}function _w(e){return function(t,i,r){if(r){if(r.value)return{value:Lx(e,r.value),enumerable:!1,configurable:!0,writable:!0};var n=r.initializer;return{enumerable:!1,configurable:!0,writable:!0,initializer:function(){return Lx(e,n.call(this))}}}return function(e){return function(t,i,r){Object.defineProperty(t,i,{configurable:!0,enumerable:!1,get:function(){},set:function(t){Fb(this,i,vw(e,t))}})}}(e).apply(this,arguments)}}var vw=function(e,t,i,r){return 1===arguments.length&&"function"===typeof e?Lx(e.name||"<unnamed action>",e):2===arguments.length&&"function"===typeof t?Lx(e,t):1===arguments.length&&"string"===typeof e?_w(e):!0!==r?_w(t).apply(null,arguments):void(e[t]=Lx(e.name||t,i.value))};function bw(e,t){return Ux("string"===typeof e?e:e.name||"<unnamed action>","function"===typeof e?e:t,this,void 0)}function xw(e,t,i){Fb(e,t,Lx(t,i.bind(e)))}vw.bound=function(e,t,i,r){return!0===r?(xw(e,t,i.value),null):i?{configurable:!0,enumerable:!1,get:function(){return xw(this,t,i.value||i.initializer.call(this)),this[t]},set:yw}:{enumerable:!1,configurable:!0,set:function(e){xw(this,t,e)},get:function(){}}};var ww=function(e){return e()};function Sw(e,t,i){return kw("onBecomeUnobserved",e,t,i)}function kw(e,t,i,r){var n="function"===typeof r?hS(t,i):hS(t),o="function"===typeof r?r:i,s=n[e];return"function"!==typeof s?Cb(!1):(n[e]=function(){s.call(this),o.call(this)},function(){n[e]=s})}function Cw(e){var t=e.enforceActions,i=e.computedRequiresReaction,r=e.computedConfigurable,n=e.disableErrorBoundaries,o=e.arrayBuffer,s=e.reactionScheduler,a=e.reactionRequiresObservable,l=e.observableRequiresReaction;if(!0===e.isolateGlobalState&&((Kx.pendingReactions.length||Kx.inBatch||Kx.isRunningReactions)&&Cb("isolateGlobalState should be called before MobX is running any reactions"),Qx=!0,Yx&&(0===--Sb().__mobxInstanceCount&&(Sb().__mobxGlobals=void 0),Kx=new Xx)),void 0!==t){var c=void 0;switch(t){case!0:case"observed":c=!0;break;case!1:case"never":c=!1;break;case"strict":case"always":c="strict";break;default:Cb("Invalid value for 'enforceActions': '"+t+"', expected 'never', 'always' or 'observed'")}Kx.enforceActions=c,Kx.allowStateChanges=!0!==c&&"strict"!==c}void 0!==i&&(Kx.computedRequiresReaction=!!i),void 0!==a&&(Kx.reactionRequiresObservable=!!a),void 0!==l&&(Kx.observableRequiresReaction=!!l,Kx.allowStateReads=!Kx.observableRequiresReaction),void 0!==r&&(Kx.computedConfigurable=!!r),void 0!==n&&(!0===n&&console.warn("WARNING: Debug feature only. MobX will NOT recover from errors if this is on."),Kx.disableErrorBoundaries=!!n),"number"===typeof o&&Yw(o),s&&function(e){var t=aw;aw=function(i){return e((function(){return t(i)}))}}(s)}function Tw(e,t){return Ew(hS(e,t))}function Ew(e){var t={name:e.name};return e.observing&&e.observing.length>0&&(t.dependencies=function(e){var t=[];return e.forEach((function(e){-1===t.indexOf(e)&&t.push(e)})),t}(e.observing).map(Ew)),t}function Dw(e){return 1!==arguments.length&&Cb(!1),function(e,t){if(null===e||void 0===e)return!1;if(void 0!==t){if(uS(e)){var i=e.$mobx;return i.values&&!!i.values[t]}return!1}return uS(e)||!!e.$mobx||qb(e)||uw(e)||qx(e)}(e)}Object.create(Error.prototype);var Iw={detectCycles:!0,exportMapsAsObjects:!0,recurseEverything:!1};function Rw(e,t,i,r){return r.detectCycles&&e.set(t,i),i}function Fw(e,t,i){if(!t.recurseEverything&&!Dw(e))return e;if("object"!==typeof e)return e;if(null===e)return null;if(e instanceof Date)return e;if(Vx(e))return Fw(e.get(),t,i);if(Dw(e)&&function(e){uS(e)?e.$mobx.getKeys():eS(e)||rS(e)?zb(e.keys()):Kw(e)?e.map((function(e,t){return t})):Cb(!1)}(e),!0===t.detectCycles&&null!==e&&i.has(e))return i.get(e);if(Kw(e)||Array.isArray(e)){var r=Rw(i,e,[],t),n=e.map((function(e){return Fw(e,t,i)}));r.length=n.length;for(var o=0,s=n.length;o<s;o++)r[o]=n[o];return r}if(rS(e)||Object.getPrototypeOf(e)===Set.prototype){if(!1===t.exportMapsAsObjects){var a=Rw(i,e,new Set,t);return e.forEach((function(e){a.add(Fw(e,t,i))})),a}var l=Rw(i,e,[],t);return e.forEach((function(e){l.push(Fw(e,t,i))})),l}if(eS(e)||Object.getPrototypeOf(e)===Map.prototype){if(!1===t.exportMapsAsObjects){var c=Rw(i,e,new Map,t);return e.forEach((function(e,r){c.set(r,Fw(e,t,i))})),c}var u=Rw(i,e,{},t);return e.forEach((function(e,r){u[r]=Fw(e,t,i)})),u}var h=Rw(i,e,{},t);for(var d in e)h[d]=Fw(e[d],t,i);return h}function Aw(e,t){var i;return"boolean"===typeof t&&(t={detectCycles:t}),t||(t=Iw),t.detectCycles=void 0===t.detectCycles?!0===t.recurseEverything:!0===t.detectCycles,t.detectCycles&&(i=new Map),Fw(e,t,i)}function Ow(e,t){void 0===t&&(t=void 0),ew();try{return e.apply(t)}finally{tw()}}function Mw(e){return void 0!==e.interceptors&&e.interceptors.length>0}function Pw(e,t){var i=e.interceptors||(e.interceptors=[]);return i.push(t),Eb((function(){var e=i.indexOf(t);-1!==e&&i.splice(e,1)}))}function zw(e,t){var i=Rx();try{var r=e.interceptors;if(r)for(var n=0,o=r.length;n<o&&(Tb(!(t=r[n](t))||t.type,"Intercept handlers should return nothing or a change object"),t);n++);return t}finally{Fx(i)}}function Bw(e){return void 0!==e.changeListeners&&e.changeListeners.length>0}function Lw(e,t){var i=e.changeListeners||(e.changeListeners=[]);return i.push(t),Eb((function(){var e=i.indexOf(t);-1!==e&&i.splice(e,1)}))}function Uw(e,t){var i=Rx(),r=e.changeListeners;if(r){for(var n=0,o=(r=r.slice()).length;n<o;n++)r[n](t);Fx(i)}}var Nw=function(){var e=!1,t={};return Object.defineProperty(t,"0",{set:function(){e=!0}}),Object.create(t)[0]=1,!1===e}(),Hw=0,jw=function(){};!function(e,t){"undefined"!==typeof Object.setPrototypeOf?Object.setPrototypeOf(e.prototype,t):"undefined"!==typeof e.prototype.__proto__?e.prototype.__proto__=t:e.prototype=t}(jw,Array.prototype),Object.isFrozen(Array)&&["constructor","push","shift","concat","pop","unshift","replace","find","findIndex","splice","reverse","sort"].forEach((function(e){Object.defineProperty(jw.prototype,e,{configurable:!0,writable:!0,value:Array.prototype[e]})}));var Ww=function(){function e(e,t,i,r){this.array=i,this.owned=r,this.values=[],this.lastKnownLength=0,this.atom=new Gb(e||"ObservableArray@"+kb()),this.enhancer=function(i,r){return t(i,r,e+"[..]")}}return e.prototype.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},e.prototype.dehanceValues=function(e){return void 0!==this.dehancer&&e.length>0?e.map(this.dehancer):e},e.prototype.intercept=function(e){return Pw(this,e)},e.prototype.observe=function(e,t){return void 0===t&&(t=!1),t&&e({object:this.array,type:"splice",index:0,added:this.values.slice(),addedCount:this.values.length,removed:[],removedCount:0}),Lw(this,e)},e.prototype.getArrayLength=function(){return this.atom.reportObserved(),this.values.length},e.prototype.setArrayLength=function(e){if("number"!==typeof e||e<0)throw new Error("[mobx.array] Out of range: "+e);var t=this.values.length;if(e!==t)if(e>t){for(var i=new Array(e-t),r=0;r<e-t;r++)i[r]=void 0;this.spliceWithArray(t,0,i)}else this.spliceWithArray(e,t-e)},e.prototype.updateArrayLength=function(e,t){if(e!==this.lastKnownLength)throw new Error("[mobx] Modification exception: the internal structure of an observable array was changed. Did you use peek() to change it?");this.lastKnownLength+=t,t>0&&e+t+1>Hw&&Yw(e+t+1)},e.prototype.spliceWithArray=function(e,t,i){var r=this;Tx(this.atom);var n=this.values.length;if(void 0===e?e=0:e>n?e=n:e<0&&(e=Math.max(0,n+e)),t=1===arguments.length?n-e:void 0===t||null===t?0:Math.max(0,Math.min(t,n-e)),void 0===i&&(i=bb),Mw(this)){var o=zw(this,{object:this.array,type:"splice",index:e,removedCount:t,added:i});if(!o)return bb;t=o.removedCount,i=o.added}var s=(i=0===i.length?i:i.map((function(e){return r.enhancer(e,void 0)}))).length-t;this.updateArrayLength(n,s);var a=this.spliceItemsIntoValues(e,t,i);return 0===t&&0===i.length||this.notifyArraySplice(e,i,a),this.dehanceValues(a)},e.prototype.spliceItemsIntoValues=function(e,t,i){var r;if(i.length<1e4)return(r=this.values).splice.apply(r,ex([e,t],i));var n=this.values.slice(e,e+t);return this.values=this.values.slice(0,e).concat(i,this.values.slice(e+t)),n},e.prototype.notifyArrayChildUpdate=function(e,t,i){var r=!this.owned&&hw(),n=Bw(this),o=n||r?{object:this.array,type:"update",index:e,newValue:t,oldValue:i}:null;r&&pw(Jb(Jb({},o),{name:this.atom.name})),this.atom.reportChanged(),n&&Uw(this,o),r&&gw()},e.prototype.notifyArraySplice=function(e,t,i){var r=!this.owned&&hw(),n=Bw(this),o=n||r?{object:this.array,type:"splice",index:e,removed:i,added:t,removedCount:i.length,addedCount:t.length}:null;r&&pw(Jb(Jb({},o),{name:this.atom.name})),this.atom.reportChanged(),n&&Uw(this,o),r&&gw()},e}(),Vw=function(e){function t(t,i,r,n){void 0===r&&(r="ObservableArray@"+kb()),void 0===n&&(n=!1);var o=e.call(this)||this,s=new Ww(r,i,o,n);if(Ab(o,"$mobx",s),t&&t.length){var a=Hx(!0);o.spliceWithArray(0,0,t),jx(a)}return Nw&&Object.defineProperty(s.array,"0",Gw),o}return Zb(t,e),t.prototype.intercept=function(e){return this.$mobx.intercept(e)},t.prototype.observe=function(e,t){return void 0===t&&(t=!1),this.$mobx.observe(e,t)},t.prototype.clear=function(){return this.splice(0)},t.prototype.concat=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this.$mobx.atom.reportObserved(),Array.prototype.concat.apply(this.peek(),e.map((function(e){return Kw(e)?e.peek():e})))},t.prototype.replace=function(e){return this.$mobx.spliceWithArray(0,this.$mobx.values.length,e)},t.prototype.toJS=function(){return this.slice()},t.prototype.toJSON=function(){return this.toJS()},t.prototype.peek=function(){return this.$mobx.atom.reportObserved(),this.$mobx.dehanceValues(this.$mobx.values)},t.prototype.find=function(e,t,i){void 0===i&&(i=0);var r=this.findIndex.apply(this,arguments);return-1===r?void 0:this.get(r)},t.prototype.findIndex=function(e,t,i){void 0===i&&(i=0);for(var r=this.peek(),n=r.length,o=i;o<n;o++)if(e.call(t,r[o],o,this))return o;return-1},t.prototype.splice=function(e,t){for(var i=[],r=2;r<arguments.length;r++)i[r-2]=arguments[r];switch(arguments.length){case 0:return[];case 1:return this.$mobx.spliceWithArray(e);case 2:return this.$mobx.spliceWithArray(e,t)}return this.$mobx.spliceWithArray(e,t,i)},t.prototype.spliceWithArray=function(e,t,i){return this.$mobx.spliceWithArray(e,t,i)},t.prototype.push=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var i=this.$mobx;return i.spliceWithArray(i.values.length,0,e),i.values.length},t.prototype.pop=function(){return this.splice(Math.max(this.$mobx.values.length-1,0),1)[0]},t.prototype.shift=function(){return this.splice(0,1)[0]},t.prototype.unshift=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var i=this.$mobx;return i.spliceWithArray(0,0,e),i.values.length},t.prototype.reverse=function(){var e=this.slice();return e.reverse.apply(e,arguments)},t.prototype.sort=function(e){var t=this.slice();return t.sort.apply(t,arguments)},t.prototype.remove=function(e){var t=this.$mobx.dehanceValues(this.$mobx.values).indexOf(e);return t>-1&&(this.splice(t,1),!0)},t.prototype.move=function(e,t){function i(e){if(e<0)throw new Error("[mobx.array] Index out of bounds: "+e+" is negative");var t=this.$mobx.values.length;if(e>=t)throw new Error("[mobx.array] Index out of bounds: "+e+" is not smaller than "+t)}if(i.call(this,e),i.call(this,t),e!==t){var r,n=this.$mobx.values;r=e<t?ex(n.slice(0,e),n.slice(e+1,t+1),[n[e]],n.slice(t+1)):ex(n.slice(0,t),[n[e]],n.slice(t,e),n.slice(e+1)),this.replace(r)}},t.prototype.get=function(e){var t=this.$mobx;if(t){if(e<t.values.length)return t.atom.reportObserved(),t.dehanceValue(t.values[e]);console.warn("[mobx.array] Attempt to read an array index ("+e+") that is out of bounds ("+t.values.length+"). Please check length first. Out of bound indices will not be tracked by MobX")}},t.prototype.set=function(e,t){var i=this.$mobx,r=i.values;if(e<r.length){Tx(i.atom);var n=r[e];if(Mw(i)){var o=zw(i,{type:"update",object:this,index:e,newValue:t});if(!o)return;t=o.newValue}(t=i.enhancer(t,n))!==n&&(r[e]=t,i.notifyArrayChildUpdate(e,t,n))}else{if(e!==r.length)throw new Error("[mobx.array] Index out of bounds, "+e+" is larger than "+r.length);i.spliceWithArray(e,0,[t])}},t}(jw);Hb(Vw.prototype,(function(){this.$mobx.atom.reportObserved();var e=this,t=0;return jb({next:function(){return t<e.length?{value:e[t++],done:!1}:{done:!0,value:void 0}}})})),Object.defineProperty(Vw.prototype,"length",{enumerable:!1,configurable:!0,get:function(){return this.$mobx.getArrayLength()},set:function(e){this.$mobx.setArrayLength(e)}}),Fb(Vw.prototype,Wb(),"Array"),["indexOf","join","lastIndexOf","slice","toString","toLocaleString"].forEach((function(e){var t=Array.prototype[e];Tb("function"===typeof t,"Base function not defined on Array prototype: '"+e+"'"),Fb(Vw.prototype,e,(function(){return t.apply(this.peek(),arguments)}))})),["every","filter","forEach","map","some"].forEach((function(e){Tb("function"===typeof Array.prototype[e],"Base function not defined on Array prototype: '"+e+"'"),Fb(Vw.prototype,e,(function(t,i){var r=this,n=this.$mobx;return n.atom.reportObserved(),n.dehanceValues(n.values)[e]((function(e,n){return t.call(i,e,n,r)}),i)}))})),["reduce","reduceRight"].forEach((function(e){Fb(Vw.prototype,e,(function(){var t=this,i=this.$mobx;i.atom.reportObserved();var r=arguments[0];return arguments[0]=function(e,n,o){return n=i.dehanceValue(n),r(e,n,o,t)},i.values[e].apply(i.values,arguments)}))})),function(e,t){for(var i=0;i<t.length;i++)Fb(e,t[i],e[t[i]])}(Vw.prototype,["constructor","intercept","observe","clear","concat","get","replace","toJS","toJSON","peek","find","findIndex","splice","spliceWithArray","push","pop","set","shift","unshift","reverse","sort","remove","move","toString","toLocaleString"]);var Gw=qw(0);function qw(e){return{enumerable:!1,configurable:!1,get:function(){return this.get(e)},set:function(t){this.set(e,t)}}}function Xw(e){Object.defineProperty(Vw.prototype,""+e,qw(e))}function Yw(e){for(var t=Hw;t<e;t++)Xw(t);Hw=e}Yw(1e3);var Qw=Ob("ObservableArrayAdministration",Ww);function Kw(e){return Ib(e)&&Qw(e.$mobx)}var Zw={},Jw=function(){function e(e,t,i){if(void 0===t&&(t=ox),void 0===i&&(i="ObservableMap@"+kb()),this.enhancer=t,this.name=i,this.$mobx=Zw,this._keysAtom=Xb(this.name+".keys()"),"function"!==typeof Map)throw new Error("mobx.map requires Map polyfill for the current browser. Check babel-polyfill or core-js/es6/map.js");this._data=new Map,this._hasMap=new Map,this.merge(e)}return e.prototype._has=function(e){return this._data.has(e)},e.prototype.has=function(e){var t=this;if(!Kx.trackingDerivation)return this._has(e);var i=this._hasMap.get(e);if(!i){var r=i=new Wx(this._has(e),sx,this.name+"."+$w(e)+"?",!1);this._hasMap.set(e,r),Sw(r,(function(){return t._hasMap.delete(e)}))}return i.get()},e.prototype.set=function(e,t){var i=this._has(e);if(Mw(this)){var r=zw(this,{type:i?"update":"add",object:this,newValue:t,name:e});if(!r)return this;t=r.newValue}return i?this._updateValue(e,t):this._addValue(e,t),this},e.prototype.delete=function(e){var t=this;if((Tx(this._keysAtom),Mw(this))&&!(n=zw(this,{type:"delete",object:this,name:e})))return!1;if(this._has(e)){var i=hw(),r=Bw(this),n=r||i?{type:"delete",object:this,oldValue:this._data.get(e).value,name:e}:null;return i&&pw(Jb(Jb({},n),{name:this.name,key:e})),Ow((function(){t._keysAtom.reportChanged(),t._updateHasMapEntry(e,!1),t._data.get(e).setNewValue(void 0),t._data.delete(e)})),r&&Uw(this,n),i&&gw(),!0}return!1},e.prototype._updateHasMapEntry=function(e,t){var i=this._hasMap.get(e);i&&i.setNewValue(t)},e.prototype._updateValue=function(e,t){var i=this._data.get(e);if((t=i.prepareNewValue(t))!==Kx.UNCHANGED){var r=hw(),n=Bw(this),o=n||r?{type:"update",object:this,oldValue:i.value,name:e,newValue:t}:null;r&&pw(Jb(Jb({},o),{name:this.name,key:e})),i.setNewValue(t),n&&Uw(this,o),r&&gw()}},e.prototype._addValue=function(e,t){var i=this;Tx(this._keysAtom),Ow((function(){var r=new Wx(t,i.enhancer,i.name+"."+$w(e),!1);i._data.set(e,r),t=r.value,i._updateHasMapEntry(e,!0),i._keysAtom.reportChanged()}));var r=hw(),n=Bw(this),o=n||r?{type:"add",object:this,name:e,newValue:t}:null;r&&pw(Jb(Jb({},o),{name:this.name,key:e})),n&&Uw(this,o),r&&gw()},e.prototype.get=function(e){return this.has(e)?this.dehanceValue(this._data.get(e).get()):this.dehanceValue(void 0)},e.prototype.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},e.prototype.keys=function(){return this._keysAtom.reportObserved(),this._data.keys()},e.prototype.values=function(){var e=this,t=this.keys();return jb({next:function(){var i=t.next(),r=i.done,n=i.value;return{done:r,value:r?void 0:e.get(n)}}})},e.prototype.entries=function(){var e=this,t=this.keys();return jb({next:function(){var i=t.next(),r=i.done,n=i.value;return{done:r,value:r?void 0:[n,e.get(n)]}}})},e.prototype.forEach=function(e,t){var i=this;this._keysAtom.reportObserved(),this._data.forEach((function(r,n){return e.call(t,i.get(n),n,i)}))},e.prototype.merge=function(e){var t=this;return eS(e)&&(e=e.toJS()),Ow((function(){var i=Hx(!0);try{Rb(e)?Object.keys(e).forEach((function(i){return t.set(i,e[i])})):Array.isArray(e)?e.forEach((function(e){var i=$b(e,2),r=i[0],n=i[1];return t.set(r,n)})):Mb(e)?e.constructor!==Map?Cb("Cannot initialize from classes that inherit from Map: "+e.constructor.name):e.forEach((function(e,i){return t.set(i,e)})):null!==e&&void 0!==e&&Cb("Cannot initialize map from "+e)}finally{jx(i)}})),this},e.prototype.clear=function(){var e=this;Ow((function(){Ix((function(){e._data.forEach((function(t,i){return e.delete(i)}))}))}))},e.prototype.replace=function(e){var t=this;return Ow((function(){var i=function(e){if(Mb(e)||eS(e))return e;if(Array.isArray(e))return new Map(e);if(Rb(e)){var t=new Map;for(var i in e)t.set(i,e[i]);return t}return Cb("Cannot convert to map from '"+e+"'")}(e),r=new Map,n=!1;if(Ub(t._data.keys(),(function(e){if(!i.has(e))if(t.delete(e))n=!0;else{var o=t._data.get(e);r.set(e,o)}})),Ub(i.entries(),(function(e){var i=$b(e,2),o=i[0],s=i[1],a=t._data.has(o);if(t.set(o,s),t._data.has(o)){var l=t._data.get(o);r.set(o,l),a||(n=!0)}})),!n)if(t._data.size!==r.size)t._keysAtom.reportChanged();else for(var o=t._data.keys(),s=r.keys(),a=o.next(),l=s.next();!a.done;){if(a.value!==l.value){t._keysAtom.reportChanged();break}a=o.next(),l=s.next()}t._data=r})),this},Object.defineProperty(e.prototype,"size",{get:function(){return this._keysAtom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),e.prototype.toPOJO=function(){var e=this,t={};return this.forEach((function(i,r){return t["symbol"===typeof r?r:$w(r)]=e.get(r)})),t},e.prototype.toJS=function(){return new Map(this)},e.prototype.toJSON=function(){return this.toPOJO()},e.prototype.toString=function(){var e=this;return this.name+"[{ "+zb(this.keys()).map((function(t){return $w(t)+": "+e.get(t)})).join(", ")+" }]"},e.prototype.observe=function(e,t){return Lw(this,e)},e.prototype.intercept=function(e){return Pw(this,e)},e}();function $w(e){return e&&e.toString?e.toString():new String(e).toString()}Hb(Jw.prototype,(function(){return this.entries()})),Ab(Jw.prototype,Wb(),"Map");var eS=Ob("ObservableMap",Jw),tS={},iS=function(){function e(e,t,i){if(void 0===t&&(t=ox),void 0===i&&(i="ObservableSet@"+kb()),this.name=i,this.$mobx=tS,this._data=new Set,this._atom=Xb(this.name),"function"!==typeof Set)throw new Error("mobx.set requires Set polyfill for the current browser. Check babel-polyfill or core-js/es6/set.js");this.enhancer=function(e,r){return t(e,r,i)},e&&this.replace(e)}return e.prototype.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},e.prototype.clear=function(){var e=this;Ow((function(){Ix((function(){e._data.forEach((function(t){e.delete(t)}))}))}))},e.prototype.forEach=function(e,t){var i=this;this._atom.reportObserved(),this._data.forEach((function(r){e.call(t,r,r,i)}))},Object.defineProperty(e.prototype,"size",{get:function(){return this._atom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),e.prototype.add=function(e){var t=this;if((Tx(this._atom),Mw(this))&&!(n=zw(this,{type:"add",object:this,newValue:e})))return this;if(!this.has(e)){Ow((function(){t._data.add(t.enhancer(e,void 0)),t._atom.reportChanged()}));var i=hw(),r=Bw(this),n=r||i?{type:"add",object:this,newValue:e}:null;0,r&&Uw(this,n)}return this},e.prototype.delete=function(e){var t=this;if(Mw(this)&&!(n=zw(this,{type:"delete",object:this,oldValue:e})))return!1;if(this.has(e)){var i=hw(),r=Bw(this),n=r||i?{type:"delete",object:this,oldValue:e}:null;return Ow((function(){t._atom.reportChanged(),t._data.delete(e)})),r&&Uw(this,n),!0}return!1},e.prototype.has=function(e){return this._atom.reportObserved(),this._data.has(this.dehanceValue(e))},e.prototype.entries=function(){var e=0,t=zb(this.keys()),i=zb(this.values());return jb({next:function(){var r=e;return e+=1,r<i.length?{value:[t[r],i[r]],done:!1}:{done:!0}}})},e.prototype.keys=function(){return this.values()},e.prototype.values=function(){this._atom.reportObserved();var e,t=this,i=0;return void 0!==this._data.values?e=zb(this._data.values()):(e=[],this._data.forEach((function(t){return e.push(t)}))),jb({next:function(){return i<e.length?{value:t.dehanceValue(e[i++]),done:!1}:{done:!0}}})},e.prototype.replace=function(e){var t=this;return rS(e)&&(e=e.toJS()),Ow((function(){var i=Hx(!0);try{Array.isArray(e)||Pb(e)?(t.clear(),e.forEach((function(e){return t.add(e)}))):null!==e&&void 0!==e&&Cb("Cannot initialize set from "+e)}finally{jx(i)}})),this},e.prototype.observe=function(e,t){return Lw(this,e)},e.prototype.intercept=function(e){return Pw(this,e)},e.prototype.toJS=function(){return new Set(this)},e.prototype.toString=function(){return this.name+"[ "+zb(this.keys()).join(", ")+" ]"},e}();Hb(iS.prototype,(function(){return this.values()})),Ab(iS.prototype,Wb(),"Set");var rS=Ob("ObservableSet",iS),nS=function(){function e(e,t,i){this.target=e,this.name=t,this.defaultEnhancer=i,this.values={}}return e.prototype.read=function(e,t){if(this.target===e||(this.illegalAccess(e,t),this.values[t]))return this.values[t].get()},e.prototype.write=function(e,t,i){var r=this.target;r!==e&&this.illegalAccess(e,t);var n=this.values[t];if(n instanceof Gx)n.set(i);else{if(Mw(this)){if(!(a=zw(this,{type:"update",object:r,name:t,newValue:i})))return;i=a.newValue}if((i=n.prepareNewValue(i))!==Kx.UNCHANGED){var o=Bw(this),s=hw(),a=o||s?{type:"update",object:r,oldValue:n.value,name:t,newValue:i}:null;s&&pw(Jb(Jb({},a),{name:this.name,key:t})),n.setNewValue(i),o&&Uw(this,a),s&&gw()}}},e.prototype.remove=function(e){if(this.values[e]){var t=this.target;if(Mw(this))if(!(o=zw(this,{object:t,name:e,type:"remove"})))return;try{ew();var i=Bw(this),r=hw(),n=this.values[e].get();this.keys&&this.keys.remove(e),delete this.values[e],delete this.target[e];var o=i||r?{type:"remove",object:t,oldValue:n,name:e}:null;r&&pw(Jb(Jb({},o),{name:this.name,key:e})),i&&Uw(this,o),r&&gw()}finally{tw()}}},e.prototype.illegalAccess=function(e,t){console.warn("Property '"+t+"' of '"+e+"' was accessed through the prototype chain. Use 'decorate' instead to declare the prop or access it statically through it's owner")},e.prototype.observe=function(e,t){return Lw(this,e)},e.prototype.intercept=function(e){return Pw(this,e)},e.prototype.getKeys=function(){var e=this;return void 0===this.keys&&(this.keys=new Vw(Object.keys(this.values).filter((function(t){return e.values[t]instanceof Wx})),sx,"keys("+this.name+")",!0)),this.keys.slice()},e}();function oS(e,t,i){void 0===t&&(t=""),void 0===i&&(i=ox);var r=e.$mobx;return r||(Rb(e)||(t=(e.constructor.name||"ObservableObject")+"@"+kb()),t||(t="ObservableObject@"+kb()),Ab(e,"$mobx",r=new nS(e,t,i)),r)}var sS=Object.create(null),aS=Object.create(null);function lS(e){var t=e.$mobx;return t||(rx(e),e.$mobx)}var cS=Ob("ObservableObjectAdministration",nS);function uS(e){return!!Ib(e)&&(rx(e),cS(e.$mobx))}function hS(e,t){if("object"===typeof e&&null!==e){if(Kw(e))return void 0!==t&&Cb(!1),e.$mobx.atom;if(rS(e))return e.$mobx;if(eS(e)){var i=e;return void 0===t?i._keysAtom:((r=i._data.get(t)||i._hasMap.get(t))||Cb(!1),r)}var r;if(rx(e),t&&!e.$mobx&&e[t],uS(e))return t?((r=e.$mobx.values[t])||Cb(!1),r):Cb(!1);if(qb(e)||qx(e)||uw(e))return e}else if("function"===typeof e&&uw(e.$mobx))return e.$mobx;return Cb(!1)}function dS(e,t){return e||Cb("Expecting some object"),void 0!==t?dS(hS(e,t)):qb(e)||qx(e)||uw(e)||eS(e)||rS(e)?e:(rx(e),e.$mobx?e.$mobx:void Cb(!1))}var pS=Object.prototype.toString;function fS(e,t,i){return void 0===i&&(i=-1),gS(e,t,i)}function gS(e,t,i,r,n){if(e===t)return 0!==e||1/e===1/t;if(null==e||null==t)return!1;if(e!==e)return t!==t;var o=typeof e;if("function"!==o&&"object"!==o&&"object"!=typeof t)return!1;e=mS(e),t=mS(t);var s=pS.call(e);if(s!==pS.call(t))return!1;switch(s){case"[object RegExp]":case"[object String]":return""+e===""+t;case"[object Number]":return+e!==+e?+t!==+t:0===+e?1/+e===1/t:+e===+t;case"[object Date]":case"[object Boolean]":return+e===+t;case"[object Symbol]":return"undefined"!==typeof Symbol&&Symbol.valueOf.call(e)===Symbol.valueOf.call(t)}var a="[object Array]"===s;if(!a){if("object"!=typeof e||"object"!=typeof t)return!1;var l=e.constructor,c=t.constructor;if(l!==c&&!("function"===typeof l&&l instanceof l&&"function"===typeof c&&c instanceof c)&&"constructor"in e&&"constructor"in t)return!1}if(0===i)return!1;i<0&&(i=-1),n=n||[];for(var u=(r=r||[]).length;u--;)if(r[u]===e)return n[u]===t;if(r.push(e),n.push(t),a){if((u=e.length)!==t.length)return!1;for(;u--;)if(!gS(e[u],t[u],i-1,r,n))return!1}else{var h=Object.keys(e),d=void 0;if(u=h.length,Object.keys(t).length!==u)return!1;for(;u--;)if(!yS(t,d=h[u])||!gS(e[d],t[d],i-1,r,n))return!1}return r.pop(),n.pop(),!0}function mS(e){return Kw(e)?e.peek():Mb(e)||eS(e)||Pb(e)||rS(e)?zb(e.entries()):e}function yS(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var _S="$mobx";"object"===typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:mw,extras:{getDebugName:function(e,t){return(void 0!==t?hS(e,t):uS(e)||eS(e)||rS(e)?dS(e):hS(e)).name}},$mobx:_S});var vS,bS,xS,wS,SS,kS,CS=((vS=CS||{}).UNDO="undo",vS.REDO="redo",vS.DELETE="delete",vS.BRING_TO_FRONT="bringtofront",vS.EDIT="edit",vS.DUPLICATE="duplicate",vS.ADD="add",vS.FLIP="flip",vS.INVERT="invert",vS.CLOSE="close",vS.EXPORT="export",vS),TS=((bS=TS||{}).LIBRARY="library",bS.TRANSFORM="transform",bS.FILTER="filter",bS.ADJUSTMENT="adjustment",bS.FOCUS="focus",bS.STICKER="sticker",bS.TEXT="text",bS.TEXT_DESIGN="textdesign",bS.OVERLAY="overlay",bS.FRAME="frame",bS.BRUSH="brush",bS.CUSTOM="customTool",bS),ES=(e=>(e.TEXT="text",e.CARD="card",e))(ES||{}),DS=((xS=DS||{}).LARGE="large",xS.MEDIUM="medium",xS.SMALL="small",xS),IS=((wS=IS||{}).ERROR="error",wS.WARNING="warning",wS.INFO="info",wS.TEXT_EDIT="textEdit",wS),RS=((SS=RS||{}).BrushSize="brush-size",SS.BrushHardness="brush-hardness",SS.FilterIntensity="filter-intensity",SS.TextLineSpacing="text-line-spacing",SS.StickerOpacity="sticker-opacity",SS.OverlayOpacity="overlay-opacity",SS.FrameSize="frame-size",SS.FrameOpacity="frame-opacity",SS.FocusIntensity="focus-intensity",SS),FS=class{constructor(){this.enabled=!0,this.threshold=20,this.snapToHorizontalCenter=!0,this.snapToVerticalCenter=!0,this.snapToLeft=.1,this.snapToRight=.1,this.snapToTop=.1,this.snapToBottom=.1}},AS=class{constructor(){this.enabled=!0,this.threshold=20,this.angles=[0,45,90,135,180,225,270,315]}},OS=class{constructor(){this.position=new FS,this.rotation=new AS}},MS=(e=>(e.CENTER="center",e.TOP_LEFT="top-left",e.TOP_RIGHT="top-right",e.BOTTOM_LEFT="bottom-left",e.BOTTOM_RIGHT="bottom-right",e))(MS||{}),PS=class{constructor(){this.watermarkURI="",this.alignment="top-right",this.inset=.05,this.size=.2}},zS=(e=>(e.OBJECT="object",e))(zS||{}),BS=(e=>(e.IMAGE="image",e.DATA_URL="data-url",e.BLOB="blob",e.MSBLOB="ms-blob",e))(BS||{}),LS=(e=>(e.PNG="image/png",e.JPEG="image/jpeg",e))(LS||{}),US=((kS=US||{}).BMP="image/bmp",kS.GIF="image/gif",kS.ICO="image/x-icon",kS.JPEG="image/jpeg",kS.PNG="image/png",kS.SVG="image/svg+xml",kS.TIFF="image/tiff",kS.WEBP="image/webp",kS),NS=(e=>(e.BRIGHTNESS="brightness",e.CONTRAST="contrast",e.SATURATION="saturation",e.CLARITY="clarity",e.SHADOWS="shadows",e.HIGHLIGHTS="highlights",e.EXPOSURE="exposure",e.GAMMA="gamma",e.BLACKS="blacks",e.WHITES="whites",e.TEMPERATURE="temperature",e.SHARPNESS="sharpness",e))(NS||{}),HS=Object.values(NS).reduce(((e,t)=>(e[t]=!0,e)),{}),jS=(e=>(e.RemoveAdjustmentButton="removeAdjustmentButton",e.Expandable="expandable",e.Separator="separator",e.Items="items",e))(jS||{}),WS=class{constructor(){this.categories=[],this.flattenCategories=!1,this.advancedUIToolControlBarOrder=[{type:"expandable",children:["removeAdjustmentButton","separator"]},"items"]}},VS=(e=>(e.RemoveFilterButton="removeFilterButton",e.FilterIntensitySlider="filterIntensitySlider",e.Expandable="expandable",e.Separator="separator",e.Items="items",e))(VS||{}),GS=(e=>(e.FilterIntensity="filterIntensity",e))(GS||{}),qS=class{constructor(){this.categories=[],this.flattenCategories=!1,this.categoryHeaderType="card",this.enablePreviewThumbnails=!1,this.advancedUIToolControlBarOrder=[{type:"expandable",children:["removeFilterButton","filterIntensitySlider","separator"]},"items"],this.basicUIToolControlBarTabsOrder=["filterIntensity"]}};function XS(e){return void 0!==e.lightColor}var YS,QS,KS,ZS=((YS=ZS||{}).Desert="imgly_duotone_desert",YS.Peach="imgly_duotone_peach",YS.Clash="imgly_duotone_clash",YS.Plum="imgly_duotone_plum",YS.Breezy="imgly_duotone_breezy",YS.DeepBlue="imgly_duotone_deepblue",YS.Frog="imgly_duotone_frog",YS.Sunset="imgly_duotone_sunset",YS.AD1920="imgly_lut_ad1920",YS.Greyed="imgly_lut_bw",YS.Dusty="imgly_lut_x400",YS.Litho="imgly_lut_litho",YS.Sepia="imgly_lut_sepiahigh",YS.Weathered="imgly_lut_plate",YS.HardStuff="imgly_lut_sin",YS.Polaroid="imgly_lut_blues",YS.Sunny70s="imgly_lut_front",YS.Oldtimer="imgly_lut_texas",YS.Inferno="imgly_lut_celsius",YS.Snappy="imgly_lut_cool",YS.Chestnut="imgly_lut_chest",YS.Softy="imgly_lut_winter",YS.Pebble="imgly_lut_kdynamic",YS.Moss="imgly_lut_fall",YS.Lemon="imgly_lut_lenin",YS.GreenGap="imgly_lut_pola669",YS.Colla="imgly_lut_elder",YS.Solanus="imgly_lut_orchid",YS.Kalmen="imgly_lut_bleached",YS.Joran="imgly_lut_bleachedblue",YS.Levante="imgly_lut_breeze",YS.Zephyr="imgly_lut_blueshadows",YS.Golden="imgly_lut_sunset",YS.LowFire="imgly_lut_eighties",YS.Sunrise="imgly_lut_evening",YS.FlatBlack="imgly_lut_k2",YS.Pumpkin="imgly_lut_nogreen",YS.Ancient="imgly_lut_ancient",YS.Candy="imgly_lut_cottoncandy",YS.Classic="imgly_lut_classic",YS.Colorful="imgly_lut_colorful",YS.Creamy="imgly_lut_creamy",YS.Fixie="imgly_lut_fixie",YS.Food="imgly_lut_food",YS.Fridge="imgly_lut_fridge",YS.Glam="imgly_lut_glam",YS.Gobblin="imgly_lut_gobblin",YS.Hicon="imgly_lut_highcontrast",YS.HighCarb="imgly_lut_highcarb",YS.K1="imgly_lut_k1",YS.K6="imgly_lut_k6",YS.Keen="imgly_lut_keen",YS.Lomo="imgly_lut_lomo",YS.Lomo100="imgly_lut_lomo100",YS.Lucid="imgly_lut_lucid",YS.Mellow="imgly_lut_mellow",YS.Neat="imgly_lut_neat",YS.Pale="imgly_lut_pale",YS.Pitched="imgly_lut_pitched",YS.PolaSX="imgly_lut_polasx",YS.Pro400="imgly_lut_pro400",YS.Quozi="imgly_lut_quozi",YS.Settled="imgly_lut_settled",YS.Seventies="imgly_lut_seventies",YS.Soft="imgly_lut_soft",YS.Steel="imgly_lut_steel",YS.Summer="imgly_lut_summer",YS.Tender="imgly_lut_tender",YS.Twilight="imgly_lut_twilight",YS),JS=(e=>(e.DuoTone="imgly_filter_category_duotone",e.BW="imgly_filter_category_bw",e.Vintage="imgly_filter_category_vintage",e.Smooth="imgly_filter_category_smooth",e.Cold="imgly_filter_category_cold",e.Warm="imgly_filter_category_warm",e.Legacy="imgly_filter_category_legacy",e))(JS||{}),$S=(e=>(e.RemoveFocusButton="removeFocusButton",e.FocusIntensitySlider="focusIntensitySlider",e.Expandable="expandable",e.Separator="separator",e.Items="items",e))($S||{}),ek=(e=>(e.FocusIntensity="focusIntensity",e))(ek||{}),tk=class{constructor(){this.items=[],this.advancedUIToolControlBarOrder=[{type:"expandable",children:["removeFocusButton","focusIntensitySlider","separator"]},"items"],this.basicUIToolControlBarTabsOrder=["focusIntensity"]}},ik=(e=>(e.RADIAL="radial",e.LINEAR="linear",e.MIRRORED="mirrored",e.GAUSSIAN="gaussian",e))(ik||{}),rk=(e=>(e.RemoveFrameButton="removeFrameButton",e.FrameOpacitySlider="frameOpacitySlider",e.FrameSizeSlider="frameSizeSlider",e.FrameColorList="frameColorList",e.Separator="separator",e.Items="items",e.Expandable="expandable",e))(rk||{}),nk=(e=>(e.FrameSize="frameSize",e.FrameOpacity="frameOpacity",e.FrameColor="frameColor",e))(nk||{}),ok=class{constructor(){this.items=[],this.advancedUIToolControlBarOrder=[{type:"expandable",children:["removeFrameButton","frameOpacitySlider","frameSizeSlider","frameColorList","separator"]},"items"],this.basicUIToolControlBarTabsOrder=["frameOpacity","frameSize","frameColor"]}},sk=class{constructor(e){this.name=e.name,this.coverImageUrl=e.coverImageUrl}loadCoverImage(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"anonymous";return new Promise(((t,i)=>{const r=new Image;r.addEventListener("load",(()=>{t(r)})),r.addEventListener("error",(()=>{i(new Error("Failed to load image at ".concat(this.coverImage)))})),r.crossOrigin=e,r.src=this.coverImageUrl,this.coverImage=r}))}},ak=class{constructor(e){this.title=e.title,this.category=e.category||e.title,this.thumbUrl=e.thumbUrl,this.rawUrl=e.rawUrl,this.authorName=e.authorName,this.authorAvatar=e.authorAvatar}loadThumbImage(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"anonymous";return new Promise(((t,i)=>{const r=new Image;r.addEventListener("load",(()=>{t(r)})),r.addEventListener("error",(()=>{i(new Error("Failed to load image at ".concat(this.thumbUrl)))})),r.crossOrigin=e,r.src=this.thumbUrl,this.thumbImage=r}))}getThumbImage(){return this.thumbUrl}},lk=class{getData(e){return new Promise(((t,i)=>{const r=new XMLHttpRequest;r.open("GET",e,!0),r.responseType="json",r.onload=()=>{const{status:e}=r;200===e?t(r.response):i(new Error("HTTP Status ".concat(e)))},r.send()}))}},ck=class{loadJSON(e){return(new lk).getData(e)}getCategories(){return Promise.resolve([])}searchImages(e){return Promise.resolve([])}},uk=class extends ck{loadData(){return this.data?Promise.resolve(this.data):this.loadJSON("https://img.ly/static/libraries/unsplash/metadata.json").then((e=>("string"===typeof e&&(e=JSON.parse(e)),this.data=e,e)))}getCategories(){return this.loadData().then((e=>e.categories.map((e=>new sk({name:e.name,coverImageUrl:e.coverImage})))))}searchImages(e){return this.loadData().then((t=>t.images.filter((t=>{const i=e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&").split(/\s+/);for(let e=0;e<i.length;e+=1){const r=i[e];if(!new RegExp(r,"i").test(t.title))return!1}return!0})).map((e=>new ak(e)))))}},hk=(e=>(e.UploadImageButton="uploadImageButton",e.OpenWebcamButton="openWebcamButton",e.SearchFieldInput="searchFieldInput",e.Separator="separator",e.Items="items",e))(hk||{}),dk=class{constructor(){this.enableWebcam=!1,this.enableUpload=!1,this.provider=uk,this.flattenCategories=!1,this.categoryHeaderType="card",this.advancedUIToolControlBarOrder=["searchFieldInput","uploadImageButton","openWebcamButton","separator","items"]}},pk=((QS=pk||{}).RemoveOverlayButton="removeOverlayButton",QS.OverlayOpacitySlider="overlayOpacitySlider",QS.OverlayBlendModeCarousel="overlayBlendModeCarousel",QS.Expandable="expandable",QS.Separator="separator",QS.Items="items",QS),fk=(e=>(e.OverlayOpacity="overlayOpacity",e.OverlayBlendMode="overlayBlendMode",e))(fk||{}),gk=class{constructor(){this.items=[],this.advancedUIToolControlBarOrder=[{type:"expandable",children:["removeOverlayButton","overlayBlendModeCarousel","overlayOpacitySlider","separator"]},"items"],this.basicUIToolControlBarTabsOrder=["overlayBlendMode","overlayOpacity"]}},mk=(e=>(e.NORMAL="normal",e.OVERLAY="overlay",e.SOFT_LIGHT="softLight",e.HARD_LIGHT="hardLight",e.MULTIPLY="multiply",e.DARKEN="darken",e.COLOR_BURN="colorBurn",e.SCREEN="screen",e.LIGHTEN="lighten",e))(mk||{}),yk=((KS=yk||{}).Bokeh="imgly_overlay_bokeh",KS.Chop="imgly_overlay_chop",KS.Clouds="imgly_overlay_clouds",KS.Golden="imgly_overlay_golden",KS.Grain="imgly_overlay_grain",KS.Hearts="imgly_overlay_hearts",KS.LightLeak1="imgly_overlay_lightleak1",KS.LightLeak2="imgly_overlay_lightleak2",KS.Metal="imgly_overlay_metal",KS.Mosaic="imgly_overlay_mosaic",KS.Painting="imgly_overlay_painting",KS.Paper="imgly_overlay_paper",KS.Rain="imgly_overlay_rain",KS.Vintage="imgly_overlay_vintage",KS.Wall1="imgly_overlay_wall1",KS.Wall2="imgly_overlay_wall2",KS.Wood="imgly_overlay_wood",KS),_k=(e=>(e.UploadStickerButton="uploadStickerButton",e.StickerOpacitySlider="stickerOpacitySlider",e.StickerColorList="stickerColorList",e.Separator="separator",e.Items="items",e))(_k||{}),vk=(e=>(e.StickerColor="stickerColor",e.StickerOpacity="stickerOpacity",e))(vk||{}),bk=class{constructor(){this.categories=[],this.canvasActions=["bringtofront","flip","duplicate","delete"],this.flattenCategories=!1,this.categoryHeaderType="card",this.enableCustomUpload=!0,this.customStickerResizeMode="keepAspect",this.customStickerTintMode="none",this.advancedUIToolControlBarOrder=["uploadStickerButton","stickerOpacitySlider","stickerColorList","separator","items"],this.basicUIToolControlBarTabsOrder=["stickerColor","stickerOpacity"]}},xk=(e=>(e.NewTextButton="newTextButton",e.FontFamilyDropdown="fontFamilyDropdown",e.FontSizeInput="fontSizeInput",e.TextAligmentList="textAlignmentList",e.Separator="separator",e.Inline="inline",e.TextColorList="textColorList",e.BackgroundColorList="backgroundColorList",e.LineSpacingSlider="lineSpacingSlider",e))(xk||{}),wk=(e=>(e.FontSize="fontSize",e.TextAligment="textAlignment",e.TextColor="textColor",e.BackgroundColor="backgroundColor",e.LineSpacing="lineSpacing",e))(wk||{}),Sk=class{constructor(){this.fonts=[],this.canvasActions=["edit","bringtofront","duplicate","delete"],this.allowEmojis=!1,this.disableAutoScaling=!1,this.addDefaultTextOnEnter=!0,this.advancedUIToolControlBarOrder=["newTextButton","fontFamilyDropdown",{type:"inline",children:["fontSizeInput","textAlignmentList"]},"separator","textColorList","backgroundColorList","separator","lineSpacingSlider"],this.basicUIToolControlBarTabsOrder=["fontSize","textAlignment","textColor","backgroundColor","lineSpacing"]}};function kk(e){return void 0===e.provider||"file"===e.provider}function Ck(e){return"google"===e.provider}var Tk,Ek=(e=>(e.RemoveBrushButton="removeBrushButton",e.BrushColorList="brushColorList",e.BrushSizeSlider="brushSizeSlider",e.BrushHardnessSlider="brushHardnessSlider",e.Expandable="expandable",e.Separator="separator",e))(Ek||{}),Dk=(e=>(e.BrushSize="brushSize",e.BrushHardness="brushHardness",e.BrushColor="brushColor",e))(Dk||{}),Ik=class{constructor(){this.defaultSize=.05,this.defaultHardness=.5,this.advancedUIToolControlBarOrder=[{type:"expandable",children:["removeBrushButton","separator"]},"brushHardnessSlider","brushSizeSlider","brushColorList"],this.basicUIToolControlBarTabsOrder=["brushColor","brushSize","brushHardness"]}},Rk=(e=>(e.NewTextDesignButton="newTextDesignButton",e.ShuffleLayoutButton="shuffleLayoutButton",e.TextDesignColorList="textDesignColorList",e.Separator="separator",e.Items="items",e))(Rk||{}),Fk=class{constructor(){this.items=[],this.canvasActions=["edit","bringtofront","invert","duplicate","delete"],this.allowEmojis=!1,this.addDefaultTextOnEnter=!0,this.advancedUIToolControlBarOrder=["newTextDesignButton","shuffleLayoutButton","textDesignColorList","separator","items"]}},Ak=(e=>(e.ResetTransformButton="resetTransformButton",e.KeepResolutionCheckbox="keepResolutionCheckbox",e.CropSizeInput="cropSizeInput",e.Separator="separator",e.Items="items",e))(Ak||{}),Ok=(e=>(e.CropSize="cropSize",e.FlipRotate="flipRotate",e.Resolution="resolution",e))(Ok||{}),Mk=class{constructor(){this.categories=[],this.enableRotation=!0,this.enableFlip=!0,this.flattenCategories=!1,this.categoryHeaderType="text",this.advancedUIToolControlBarOrder=["resetTransformButton","keepResolutionCheckbox","cropSizeInput","separator","items"],this.basicUIToolControlBarTabsOrder=["cropSize","flipRotate","resolution"]}},Pk=((Tk=Pk||{}).CommonCategory="imgly_transforms_common",Tk.FacebookCategory="imgly_transforms_facebook",Tk.TwitterCategory="imgly_transforms_twitter",Tk.InstagramCategory="imgly_transforms_instagram",Tk.Custom="imgly_transform_common_custom",Tk.Square="imgly_transform_common_square",Tk.ThreeByFour="imgly_transform_common_3",Tk.FourByThree="imgly_transform_common_4",Tk.NineBySixteen="imgly_transform_common_9",Tk.SixteenByNine="imgly_transform_common_16",Tk.FacebookPost="imgly_transform_facebook_post",Tk.FacebookProfile="imgly_transform_facebook_profile",Tk.FacebookTitle="imgly_transform_facebook_title",Tk.InstagramLandscape="imgly_transform_instagram_landscape",Tk.InstagramPortrait="imgly_transform_instagram_portrait",Tk.InstagramSquare="imgly_transform_instagram_square",Tk.InstagramStory="imgly_transform_instagram_story",Tk.TwitterPost="imgly_transform_twitter_post",Tk.TwitterProfile="imgly_transform_twitter_profile",Tk.TwitterTitle="imgly_transform_twitter_title",Tk),zk=(e=>(e.EXPORT="export",e.CLOSE="close",e.HISTORY_UNDO="historyUndo",e.HISTORY_REDO="historyRedo",e.HISTORY_CHANGE="historyChange",e.EDITOR_READY="editorReady",e.ERROR_IMAGE_LOADING="errorImageLoading",e.IMAGE_LOAD="imageLoad",e.TOOL_ENTER="toolEnter",e.STICKER_UPLOAD_ADD="stickerUploadAdd",e.ERROR_WEBGL_CONTEXT_LOST="errorWebGLContextLost",e.CROP_DIMENSIONS_CHANGE="cropDimensionsChange",e))(zk||{}),Bk=class{constructor(){this.events={}}addListener(e,t){return(this.events[e]||(this.events[e]=[])).push(t),this}removeListener(e,t){const i=this.events[e];if(!i)return this;const r=i.lastIndexOf(t);return-1===r||i.splice(r,1),this}removeAllListeners(e){return this.events[e]=void 0,this}on(e,t){return this.addListener(e,t)}off(e,t){return this.removeListener(e,t)}emit(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),r=1;r<t;r++)i[r-1]=arguments[r];const n=this.events[e];return!(!n||!n.length)&&(n.slice(0).forEach((e=>e.apply(null,i))),!0)}};D();var Lk=()=>"undefined"!==typeof window&&window.navigator&&window.navigator.userAgent||"",Uk=function(){return-1!==(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Lk()).indexOf("Edge")},Nk=function(){return!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Lk()).match(/msie|trident/i)},Hk=function(){return!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Lk()).match(/windows/i)},jk=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Lk();return-1!==e.indexOf("Safari")&&-1===e.indexOf("Chrome")},Wk=function(){return!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Lk()).match(/iP(hone|od|ad)|AppleWebKit/)},Vk=()=>{if("undefined"===typeof document)return!1;const e=document.createElement("canvas"),t=e.getContext("webgl")||e.getContext("experimental-webgl"),i=t&&t instanceof WebGLRenderingContext;return n(e),i};function Gk(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(e=>{const t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))}var qk=class{static fromSize(e){return new qk(e.width,e.height)}static distance(e,t){const i=t.x-e.x,r=t.y-e.y;return Math.sqrt(i*i+r*r)}static dot(e,t){return e.x*t.x+e.y*t.y}static lerp(e,t,i){const r=Math.min(Math.max(i,0),1);return new qk(e.x*r+t.x*(1-r),e.y*r+t.y*(1-r))}static lerpUnclamped(e,t,i){return new qk(e.x*i+t.x*(1-i),e.y*i+t.y*(1-i))}static proportionalFit(e,t){return e.x/e.y>t.x/t.y?t.multiply(e.y/t.y):t.multiply(e.x/t.x)}get magnitude(){return Math.sqrt(this.x*this.x+this.y*this.y)}get normalized(){const e=this.magnitude;return new qk(this.x/e,this.y/e)}get floored(){return new qk(Math.floor(this.x),Math.floor(this.y))}get rounded(){return new qk(Math.round(this.x),Math.round(this.y))}get min(){return Math.min(this.x,this.y)}get max(){return Math.max(this.x,this.y)}get abs(){return new qk(Math.abs(this.x),Math.abs(this.y))}get swapped(){return new qk(this.y,this.x)}constructor(e,t){"number"===typeof e?(this.x=e,this.y=t):(this.x=e.x,this.y=e.y)}clone(){return new qk(this.x,this.y)}add(e,t){return"number"===typeof e?new qk(this.x+e,this.y+t):new qk(this.x+e.x,this.y+e.y)}subtract(e,t){return"number"===typeof e?new qk(this.x-e,this.y-t):new qk(this.x-e.x,this.y-e.y)}multiply(e,t){return"number"===typeof e?new qk(this.x*e,this.y*(void 0===t?e:t)):new qk(this.x*e.x,this.y*e.y)}divide(e,t){return"number"===typeof e?new qk(this.x/e,this.y/(void 0===t?e:t)):new qk(this.x/e.x,this.y/e.y)}equals(e){return this.x===e.x&&this.y===e.y}clamp(e,t){const i=Math.max(e.x,Math.min(t.x,this.x)),r=Math.max(e.y,Math.min(t.y,this.y));return new qk(i,r)}},Xk=qk;Xk.ZERO=new qk(0,0),Xk.ONE=new qk(1,1),Xk.UP=new qk(0,1),Xk.DOWN=new qk(0,-1),Xk.RIGHT=new qk(1,0),Xk.LEFT=new qk(-1,0);var Yk,Qk=((Yk=Qk||{})[Yk.EditorContainer=0]="EditorContainer",Yk[Yk.ToolControlBar=1]="ToolControlBar",Yk[Yk.ToolControlBarExpandableControls=2]="ToolControlBarExpandableControls",Yk[Yk.CanvasContainer=3]="CanvasContainer",Yk[Yk.Canvas=4]="Canvas",Yk[Yk.MainBarButtonClose=5]="MainBarButtonClose",Yk[Yk.MainBarButtonExport=6]="MainBarButtonExport",Yk[Yk.MainBarButtonUndo=7]="MainBarButtonUndo",Yk[Yk.MainBarButtonRedo=8]="MainBarButtonRedo",Yk[Yk.MainBarButtonZoom=9]="MainBarButtonZoom",Yk[Yk.Tooltip=10]="Tooltip",Yk[Yk.Cursor=11]="Cursor",Yk[Yk.CursorContainer=12]="CursorContainer",Yk[Yk.NummericInput=13]="NummericInput",Yk[Yk.BrushSize=14]="BrushSize",Yk[Yk.BrushHardness=15]="BrushHardness",Yk[Yk.Dialog=16]="Dialog",Yk[Yk.DialogBody=17]="DialogBody",Yk[Yk.CardContainer=18]="CardContainer",Yk[Yk.CategoryItemsContainer=19]="CategoryItemsContainer",Yk[Yk.ToolbarItem=20]="ToolbarItem",Yk[Yk.ColorList=21]="ColorList",Yk[Yk.NoResult=22]="NoResult",Yk[Yk.CardLabel=23]="CardLabel",Yk[Yk.CardAvatar=24]="CardAvatar",Yk[Yk.Dropdown=25]="Dropdown",Yk[Yk.DropdownList=26]="DropdownList",Yk[Yk.TextAlignment=27]="TextAlignment",Yk[Yk.Sprite=28]="Sprite",Yk[Yk.SpriteTopLeft=29]="SpriteTopLeft",Yk[Yk.SpriteTopRight=30]="SpriteTopRight",Yk[Yk.SpriteBottomLeft=31]="SpriteBottomLeft",Yk[Yk.SpriteBottomRight=32]="SpriteBottomRight",Yk[Yk.Knob=33]="Knob",Yk[Yk.TextWidth=34]="TextWidth",Yk[Yk.ToolbarWrapper=35]="ToolbarWrapper",Yk[Yk.MainCanvasActionBar=36]="MainCanvasActionBar",Yk[Yk.SpriteActions=37]="SpriteActions",Yk[Yk.CarouselSlider=38]="CarouselSlider",Yk[Yk.CropMask=39]="CropMask",Yk[Yk.FlipRotateControls=40]="FlipRotateControls",Yk[Yk.RotateSlider=41]="RotateSlider",Yk[Yk.CropTopRight=42]="CropTopRight",Yk[Yk.CropTopLeft=43]="CropTopLeft",Yk[Yk.CropBottomRight=44]="CropBottomRight",Yk[Yk.CropBottomLeft=45]="CropBottomLeft",Yk[Yk.Watermark=46]="Watermark",Yk[Yk.Toolbar=47]="Toolbar",Yk[Yk.CanvasBar=48]="CanvasBar",Yk[Yk.Checkbox=49]="Checkbox",Yk[Yk.Focus=50]="Focus",Yk[Yk.SnappingLine=51]="SnappingLine",Yk[Yk.LibraryUploadButton=52]="LibraryUploadButton",Yk[Yk.LibraryWebcamButton=53]="LibraryWebcamButton",Yk[Yk.ZoomLevel=54]="ZoomLevel",Yk[Yk.BasicToolControlBar=55]="BasicToolControlBar",Yk[Yk.SliderTrack=56]="SliderTrack",Yk[Yk.SliderLabel=57]="SliderLabel",Yk),Kk={};for(const aE in Qk){const e=Qk[aE];"string"===typeof e&&(Kk[e]=e)}var Zk,Jk=Kk;Boolean("undefined"!==typeof window&&(null==(Zk=window.Cypress)?void 0:Zk.env("pesdk")));I();var $k={};function eC(){if("undefined"===typeof navigator)return!1;const e=navigator.userAgent||navigator.vendor||window.opera;return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od|ad)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4))}w($k,{isMobile:()=>eC});var tC=e=>{e.preventDefault(),e.stopPropagation()},iC=("undefined"!==typeof window&&window.performance.now.bind(window.performance),class{constructor(e){this.text=e,this.lastOffsetWidth=-1;const t="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;";this.element=document.createElement("div"),this.element.setAttribute("aria-hidden","true"),this.element.appendChild(document.createTextNode(e)),this.collapsible=document.createElement("span"),this.expandable=document.createElement("span"),this.collapsibleInner=document.createElement("span"),this.expandableInner=document.createElement("span"),this.collapsible.style.cssText=t,this.expandable.style.cssText=t,this.expandableInner.style.cssText=t,this.collapsibleInner.style.cssText="display:inline-block;width:200%;height:200%;font-size:16px;max-width:none;",this.collapsible.appendChild(this.collapsibleInner),this.expandable.appendChild(this.expandableInner),this.element.appendChild(this.collapsible),this.element.appendChild(this.expandable)}getElement(){return this.element}setFont(e){this.element.style.cssText="max-width:none;\n      min-width:20px;\n      min-height:20px;\n      display:inline-block;\n      overflow:hidden;\n      position:absolute;\n      width:auto;\n      margin:0;\n      padding:0;\n      top:-999px;\n      white-space:nowrap;\n      font-synthesis:none;\n      font:".concat(e,";")}getWidth(){return this.element.offsetWidth}setWidth(e){this.element.style.width="".concat(e,"px")}onResize(e){const t=()=>{this.onScroll(e)};this.collapsible.addEventListener("scroll",t),this.expandable.addEventListener("scroll",t),this.reset()}reset(){const e=this.getWidth(),t=e+100;return this.expandableInner.style.width="".concat(t,"px"),this.expandable.scrollLeft=t,this.collapsible.scrollLeft=this.collapsible.scrollWidth+100,this.lastOffsetWidth!==e&&(this.lastOffsetWidth=e,!0)}onScroll(e){this.reset()&&null!==this.element.parentNode&&e(this.lastOffsetWidth)}}),rC=class{static getUserAgent(){return window.navigator.userAgent}static getNavigatorVendor(){return window.navigator.vendor}static hasWebKitFallbackBug(){if(null===rC.HAS_WEBKIT_FALLBACK_BUG){const e=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(rC.getUserAgent());rC.HAS_WEBKIT_FALLBACK_BUG=!!e&&(parseInt(e[1],10)<536||536===parseInt(e[1],10)&&parseInt(e[2],10)<=11)}return rC.HAS_WEBKIT_FALLBACK_BUG}static hasSafari10Bug(){if(null===rC.HAS_SAFARI_10_BUG)if(rC.supportsNativeFontLoading()&&/Apple/.test(rC.getNavigatorVendor())){const e=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))(?:\.([0-9]+))/.exec(rC.getUserAgent());rC.HAS_SAFARI_10_BUG=!!e&&parseInt(e[1],10)<603}else rC.HAS_SAFARI_10_BUG=!1;return rC.HAS_SAFARI_10_BUG}static supportsNativeFontLoading(){return null===rC.SUPPORTS_NATIVE_FONT_LOADING&&(rC.SUPPORTS_NATIVE_FONT_LOADING=!!document.fonts),rC.SUPPORTS_NATIVE_FONT_LOADING}static supportsStretch(){if(null===rC.SUPPORTS_STRETCH){const t=document.createElement("div");try{t.style.font="condensend 100px sans-serif"}catch(e){rC.SUPPORTS_STRETCH=!1}rC.SUPPORTS_STRETCH=""!==t.style.font}return rC.SUPPORTS_STRETCH}constructor(e){this.font={fontFamily:"normal",fontStyle:"normal",fontWeight:"normal",fontStretch:"normal",...e}}load(e,t){const i="BESbswy";let r=null;const n=t||rC.DEFAULT_TIMEOUT,o=this.getTime();return new Promise(((e,t)=>{if(rC.supportsNativeFontLoading()&&!rC.hasSafari10Bug()){const s=new Promise(((e,r)=>{const s=()=>{this.getTime()-o>=n?r(new Error(n+"ms timeout exceeded")):document.fonts.load(this.getStyle('"'.concat(this.font.fontFamily,'"')),i).then((t=>{t.length>=1?e():setTimeout(s,25)}),t)};s()})),a=new Promise(((e,t)=>{r=setTimeout((()=>{t(new Error("".concat(n," ms timeout exceeded")))}),n)}));Promise.race([a,s]).then((()=>{clearTimeout(r),e(this)}),t)}else{const s=new iC(i),a=new iC(i),l=new iC(i);let c=-1,u=-1,h=-1,d=-1,p=-1,f=-1;const g=document.createElement("div"),m=()=>{null!==g.parentNode&&g.parentNode.removeChild(g)},y=()=>{if((-1!==c&&-1!==u||-1!==c&&-1!==h||-1!==u&&-1!==h)&&(c===u||c===h||u===h)){if(rC.hasWebKitFallbackBug()&&(c===d&&u===d&&h===d||c===p&&u===p&&h===p||c===f&&u===f&&h===f))return;m(),clearTimeout(r),e(this)}};g.dir="ltr",s.setFont(this.getStyle("sans-serif")),a.setFont(this.getStyle("serif")),l.setFont(this.getStyle("monospace")),g.appendChild(s.getElement()),g.appendChild(a.getElement()),g.appendChild(l.getElement()),document.body.appendChild(g),d=s.getWidth(),p=a.getWidth(),f=l.getWidth();const _=()=>{if(this.getTime()-o>=n)m(),t(new Error("".concat(n," ms timeout exceeded")));else{const e=document.hidden;!0!==e&&void 0!==e||(c=s.getWidth(),u=a.getWidth(),h=l.getWidth(),y()),r=setTimeout(_,50)}};_(),s.onResize((e=>{c=e,y()})),s.setFont(this.getStyle('"'.concat(this.font.fontFamily,'",sans-serif'))),a.onResize((e=>{u=e,y()})),a.setFont(this.getStyle('"'.concat(this.font.fontFamily,'",serif'))),l.onResize((e=>{h=e,y()})),l.setFont(this.getStyle('"'.concat(this.font.fontFamily,'",monospace')))}}))}getStyle(e){return[this.font.fontStyle,this.font.fontWeight,rC.supportsStretch()?this.font.fontStretch:"","100px",e].join(" ")}getTime(){return(new Date).getTime()}},nC=rC;nC.HAS_WEBKIT_FALLBACK_BUG=null,nC.HAS_SAFARI_10_BUG=null,nC.SUPPORTS_STRETCH=null,nC.SUPPORTS_NATIVE_FONT_LOADING=null,nC.DEFAULT_TIMEOUT=6e4;var oC=class extends Bk{constructor(e,t){super(),this.image=e,this.options=t}needsResize(){const e=this.resizedDimensions();return e.x<this.image.width||e.y<this.image.height}resizedDimensions(){const{options:e}=this,t={width:this.image.width,height:this.image.height};let i=Xk.fromSize(t),r=Xk.fromSize(t);const{maxMegaPixels:n}=e;if(n){const e=1e6*(eC()?n.mobile:n.desktop),r=t.width/t.height,o=t.height/t.width,s=new Xk(Math.floor(Math.sqrt(e*r)),Math.floor(Math.sqrt(e*o)));s.x<=t.width&&s.y<=t.height&&(i=s)}const o=e.maxDimensions;o&&(o.height<t.height||o.width<t.width)&&(r=new Xk(o.width,o.height));const s=new Xk(Math.min(i.x,r.x),Math.min(i.y,r.y));return Xk.proportionalFit(s,Xk.fromSize(t)).floored}downscaleIfNecessary(){const e=this.resizedDimensions();if(!(e.x<this.image.width||e.y<this.image.height))return this.image;this.emit("beganImageDownscaling",this.image);const t=document.createElement("canvas");t.width=e.x,t.height=e.y;const i=t.getContext("2d"),{image:r}=this;return i.imageSmoothingQuality="high",i.drawImage(r,0,0,r.width,r.height,0,0,e.x,e.y),this.emit("imageDownscaled",{width:e.x,height:e.y}),t}},sC=e=>t=>{(e=>"Enter"===e.key)(t)&&e(t)},aC=e=>t=>{(e=>"Escape"===e.key)(t)&&e(t)};var lC=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return function(e){const t=function(e){return"/"===e.charAt(0)}(e),i="/"===e.substr(-1);return e=function(e,t){let i=0;for(let r=e.length-1;r>=0;r--){const t=e[r];"."===t?e.splice(r,1):".."===t?(e.splice(r,1),i++):i&&(e.splice(r,1),i--)}if(t)for(;i--;i)e.unshift("..");return e}(e.split("/").filter(Boolean),!t).join("/"),e||t||(e="."),e&&i&&(e+="/"),(t?"/":"")+e}(t.join("/"))},cC=k(R()),uC=function(e,t,i){let[r,n]=i,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;const s=e[t];if(s){if(s<r)return console.error("".concat(t," must be greater than or equal to ").concat(r)),r;if(s>n)return console.error("".concat(t," must be less than or equal to ").concat(n)),n}return s||o},hC=function(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[1,1,1,1];const r=e[t];let n=!0;return r&&r.forEach((e=>{e<0&&(console.error("".concat(e," in ").concat(t," must be greater than or equal to 0")),n=!1),e>1&&(console.error("".concat(e," in ").concat(t," must be less than or equal to 1")),n=!1)})),n&&r||i},dC=e=>.08*e,pC=e=>.03*e,fC={},gC=e=>{let{src:t,crossOrigin:i,key:r,resolve:n,reject:o}=e;fC[r]=t;const s=new Image;s.onload=()=>{fC[r]===t&&(n(s),delete fC[r])},s.onerror=e=>{fC[r]===t&&(o(e),delete fC[r])},s.crossOrigin=i,s.src=t},mC=class extends Error{constructor(e){super(e),this.name="AssetNotFoundError"}},yC=()=>Math.max(window.devicePixelRatio||1,1),_C=new RegExp(/\uD83D\uDC68\u200D\u2764\uFE0F\u200D\uD83D\uDC8B\u200D\uD83D\uDC68|\uD83D\uDC69\u200D\u2764\uFE0F\u200D\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83C\uDFF4\uDB40\uDC67\uDB40\uDC62(?:\uDB40\uDC77\uDB40\uDC6C\uDB40\uDC73|\uDB40\uDC73\uDB40\uDC63\uDB40\uDC74|\uDB40\uDC65\uDB40\uDC6E\uDB40\uDC67)\uDB40\uDC7F|\uD83D\uDC68\uD83C\uDFFF\u200D\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFE])|\uD83D\uDC68\uD83C\uDFFE\u200D\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFD\uDFFF])|\uD83D\uDC68\uD83C\uDFFD\u200D\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])|\uD83D\uDC68\uD83C\uDFFC\u200D\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFD-\uDFFF])|\uD83D\uDC68\uD83C\uDFFB\u200D\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFC-\uDFFF])|\uD83D\uDC69(?:\u200D\uD83D\uDC69\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|\uD83C\uDFFF\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69])(?:\uD83C[\uDFFB-\uDFFE])|\uD83C\uDFFE\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69])(?:\uD83C[\uDFFB-\uDFFD\uDFFF])|\uD83C\uDFFD\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69])(?:\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])|\uD83C\uDFFC\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69])(?:\uD83C[\uDFFB\uDFFD-\uDFFF])|\uD83C\uDFFB\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69])(?:\uD83C[\uDFFC-\uDFFF]))|\uD83E\uDDD1(?:\uD83C[\uDFFB-\uDFFF])\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC68\u200D(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|\uD83D\uDC68\u200D\u2764\uFE0F\u200D\uD83D\uDC68|\uD83D\uDC69\u200D\u2764\uFE0F\u200D(?:\uD83D[\uDC68\uDC69])|\uD83E\uDDD1\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83D\uDC69\u200D\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC68(?:\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|(?:\uD83D[\uDC67-\uDC69])\u200D(?:\uD83D[\uDC66\uDC67]))|(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2695\u2696\u2708]\uFE0F)|(?:\uD83D\uDC41\uFE0F\u200D\uD83D\uDDE8|\uD83C\uDFF3\uFE0F\u200D\u26A7|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642])\uFE0F|(?:\uD83E\uDDD1(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC69(?:\uD83C[\uDFFB-\uDFFF]))\u200D[\u2695\u2696\u2708]\uFE0F|\uD83D\uDC69\u200D(?:\uD83D[\uDC67\uDC69])\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C\uDFF3\uFE0F\u200D\uD83C\uDF08|\uD83E\uDDD1(?:\uD83C[\uDFFB-\uDFFF])\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|(?:\uD83D\uDC3B\u200D\u2744|\uD83C\uDFF4\u200D\u2620|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E-\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3C-\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD6-\uDDDF])\u200D[\u2640\u2642])\uFE0F|\uD83E\uDDD1\u200D[\u2695\u2696\u2708]\uFE0F|(?:\uD83D[\uDC68\uDC69])(?:(?:\uD83C[\uDFFB-\uDFFF])\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\u200D[\u2695\u2696\u2708]\uFE0F)|\uD83D\uDC15\u200D\uD83E\uDDBA|\uD83D\uDC08\u200D\u2B1B|\uD83E\uDDD1\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDC66\uDC67\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|[#\*0-9]\uFE0F\u20E3|\uD83C\uDDFD\uD83C\uDDF0|\uD83C\uDDF6\uD83C\uDDE6|\uD83C\uDDF4\uD83C\uDDF2|\uD83C\uDDFF(?:\uD83C[\uDDE6\uDDF2\uDDFC])|\uD83C\uDDFE(?:\uD83C[\uDDEA\uDDF9])|\uD83C\uDDFC(?:\uD83C[\uDDEB\uDDF8])|\uD83C\uDDFB(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA])|\uD83C\uDDFA(?:\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF])|\uD83C\uDDF9(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF])|\uD83C\uDDF8(?:\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF])|\uD83C\uDDF7(?:\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC])|\uD83C\uDDF5(?:\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE])|\uD83C\uDDF3(?:\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF])|\uD83C\uDDF2(?:\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF])|\uD83C\uDDF1(?:\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE])|\uD83C\uDDF0(?:\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF])|\uD83C\uDDEF(?:\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5])|\uD83C\uDDEE(?:\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9])|\uD83C\uDDED(?:\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA])|\uD83C\uDDEC(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE])|\uD83C\uDDEB(?:\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7])|\uD83C\uDDEA(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA])|\uD83C\uDDE9(?:\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF])|\uD83C\uDDE8(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF])|\uD83C\uDDE7(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF])|\uD83C\uDDE6(?:\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF])|(?:[\u270A\u270B]|\uD83C[\uDF85\uDFC3\uDFC7]|\uD83D[\uDC43\uDC4A-\uDC4C\uDC4F\uDC50\uDC66-\uDC69\uDC6B-\uDC6E\uDC70-\uDC78\uDC7C\uDC81-\uDC83\uDC85-\uDC87\uDCAA\uDD7A\uDD95\uDD96\uDE45-\uDE47\uDE4B-\uDE4F\uDEA3\uDEB4-\uDEB6\uDEC0\uDECC]|\uD83E[\uDD0C\uDD0F\uDD18-\uDD1C\uDD1E\uDD1F\uDD26\uDD30-\uDD39\uDD3D\uDD3E\uDD77\uDDB5\uDDB6\uDDB8\uDDB9\uDDBB\uDDCD-\uDDCF\uDDD1-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u26F9\u270C\u270D]|\uD83C[\uDFC2\uDFC4\uDFCA-\uDFCC]|\uD83D[\uDC42\uDC46-\uDC49\uDC4D\uDC4E\uDD74\uDD75\uDD90])(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])|(?:[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9\u23EA\u23ED-\u23EF\u23F1-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26A7\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7\u26F8\u26FA\u26FD\u2702\u2708\u2709\u270F\u2712\u2714\u2716\u271D\u2721\u2733\u2734\u2744\u2747\u2753\u2757\u2763\u2764\u27A1\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDD70\uDD71\uDD7E\uDD7F\uDE02\uDE1A\uDE2F\uDE37\uDF0D-\uDF0F\uDF15\uDF1C\uDF21\uDF24-\uDF2C\uDF36\uDF78\uDF7D\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E\uDF9F\uDFA7\uDFAC-\uDFAE\uDFC6\uDFCD\uDFCE\uDFD4-\uDFE0\uDFED\uDFF3\uDFF5\uDFF7]|\uD83D[\uDC08\uDC15\uDC1F\uDC26\uDC3F\uDC41\uDC53\uDC6A\uDC7D\uDCA3\uDCB0\uDCB3\uDCBB\uDCBF\uDCCB\uDCDA\uDCDF\uDCE4-\uDCE6\uDCEA-\uDCED\uDCF7\uDCF9-\uDCFB\uDCFD\uDD08\uDD0D\uDD12\uDD13\uDD49\uDD4A\uDD50-\uDD67\uDD6F\uDD70\uDD73\uDD76-\uDD79\uDD87\uDD8A-\uDD8D\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA\uDE10\uDE87\uDE8D\uDE91\uDE94\uDE98\uDEAD\uDEB2\uDEB9\uDEBA\uDEBC\uDECB\uDECD-\uDECF\uDEE0-\uDEE5\uDEE9\uDEF0\uDEF3])\uFE0F|[\u23E9-\u23F3\u23F8-\u23FA\u25FB-\u25FE\u2614\u2615\u267F\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26C8\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2705\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDED5-\uDED7\uDEE0-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEFC\uDFE0-\uDFEB]|\uD83E[\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDD78\uDD7A-\uDDCB\uDDCD-\uDDFF\uDE70-\uDE74\uDE78-\uDE7A\uDE80-\uDE86\uDE90-\uDEA8\uDEB0-\uDEB6\uDEC0-\uDEC2\uDED0-\uDED6]/g),vC=e=>e.replace(_C,""),bC=e=>{try{return new URL(e),!0}catch(t){return!1}},xC=e=>e instanceof HTMLImageElement,wC=[{identifier:"basics",name:"Basics",items:[{identifier:"brightness"},{identifier:"contrast"},{identifier:"saturation"},{identifier:"gamma"}]},{identifier:"refinements",name:"Refinements",items:[{identifier:"clarity"},{identifier:"shadows"},{identifier:"highlights"},{identifier:"exposure"},{identifier:"blacks"},{identifier:"whites"},{identifier:"temperature"},{identifier:"sharpness"}]}],SC=[{identifier:"imgly_filter_category_duotone",name:"DuoTone",thumbnailURI:"./categories/duotone.jpg",items:[{identifier:"imgly_duotone_desert",name:"Desert",thumbnailURI:"./items/imgly_duotone_desert.jpg",lightColor:"#e1de9a",darkColor:"#cb2129",defaultIntensity:.5},{identifier:"imgly_duotone_peach",name:"Peach",thumbnailURI:"./items/imgly_duotone_peach.jpg",lightColor:"#e9abb8",darkColor:"#0040ff",defaultIntensity:.5},{identifier:"imgly_duotone_clash",name:"Clash",thumbnailURI:"./items/imgly_duotone_clash.jpg",lightColor:"#f41a0f",darkColor:"#23007c",defaultIntensity:.5},{identifier:"imgly_duotone_plum",name:"Plum",thumbnailURI:"./items/imgly_duotone_plum.jpg",lightColor:"#74d7ff",darkColor:"#23007c",defaultIntensity:.5},{identifier:"imgly_duotone_breezy",name:"Breezy",thumbnailURI:"./items/imgly_duotone_breezy.jpg",lightColor:"#68fdff",darkColor:"#c20000",defaultIntensity:.5},{identifier:"imgly_duotone_deepblue",name:"Deep Blue",thumbnailURI:"./items/imgly_duotone_deepblue.jpg",lightColor:"#2de9eb",darkColor:"#58007c",defaultIntensity:.5},{identifier:"imgly_duotone_frog",name:"Frog",thumbnailURI:"./items/imgly_duotone_frog.jpg",lightColor:"#5bff60",darkColor:"#7f23a9",defaultIntensity:.5},{identifier:"imgly_duotone_sunset",name:"Sunset",thumbnailURI:"./items/imgly_duotone_sunset.jpg",lightColor:"#f8ea46",darkColor:"#c400be",defaultIntensity:.5}]},{identifier:"imgly_filter_category_bw",name:"B & W",thumbnailURI:"./categories/b&w.jpg",items:[{identifier:"imgly_lut_ad1920",name:"1920 A.D.",thumbnailURI:"./items/imgly_lut_ad1920.jpg",lutURI:"./items/imgly_lut_ad1920_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_bw",name:"Greyed",thumbnailURI:"./items/imgly_lut_bw.jpg",lutURI:"./items/imgly_lut_bw_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_x400",name:"Dusty",thumbnailURI:"./items/imgly_lut_x400.jpg",lutURI:"./items/imgly_lut_dusty_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_litho",name:"Litho",thumbnailURI:"./items/imgly_lut_litho.jpg",lutURI:"./items/imgly_lut_litho_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_sepiahigh",name:"Sepia",thumbnailURI:"./items/imgly_lut_sepiahigh.jpg",lutURI:"./items/imgly_lut_sepia_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_plate",name:"Weathered",thumbnailURI:"./items/imgly_lut_plate.jpg",lutURI:"./items/imgly_lut_weathered_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_sin",name:"Hard Stuff",thumbnailURI:"./items/imgly_lut_sin.jpg",lutURI:"./items/imgly_lut_hard_stuff_8_8_512.png",defaultIntensity:1,horizontalTileCount:8,verticalTileCount:8}]},{identifier:"imgly_filter_category_vintage",name:"Vintage",thumbnailURI:"./categories/vintage.jpg",items:[{identifier:"imgly_lut_blues",name:"Polaroid",thumbnailURI:"./items/imgly_lut_blues.jpg",lutURI:"./items/imgly_lut_polaroid_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_front",name:"Sunny 70s",thumbnailURI:"./items/imgly_lut_front.jpg",lutURI:"./items/imgly_lut_sunny_70s_8_8_512.png",defaultIntensity:1,horizontalTileCount:8,verticalTileCount:8},{identifier:"imgly_lut_texas",name:"Oldtimer",thumbnailURI:"./items/imgly_lut_texas.jpg",lutURI:"./items/imgly_lut_oldtimer_8_8_512.png",defaultIntensity:1,horizontalTileCount:8,verticalTileCount:8},{identifier:"imgly_lut_celsius",name:"Inferno",thumbnailURI:"./items/imgly_lut_celsius.jpg",lutURI:"./items/imgly_lut_inferno_8_8_512.png",defaultIntensity:1,horizontalTileCount:8,verticalTileCount:8},{identifier:"imgly_lut_cool",name:"Snappy",thumbnailURI:"./items/imgly_lut_cool.jpg",lutURI:"./items/imgly_lut_snappy_5_5_128.png",defaultIntensity:1}]},{identifier:"imgly_filter_category_smooth",name:"Smooth",thumbnailURI:"./categories/smooth.jpg",items:[{identifier:"imgly_lut_chest",name:"Chestnut",thumbnailURI:"./items/imgly_lut_chest.jpg",lutURI:"./items/imgly_lut_chestnut_8_8_512.png",defaultIntensity:1,horizontalTileCount:8,verticalTileCount:8},{identifier:"imgly_lut_winter",name:"Softy",thumbnailURI:"./items/imgly_lut_winter.jpg",lutURI:"./items/imgly_lut_softly_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_kdynamic",name:"Pebble",thumbnailURI:"./items/imgly_lut_kdynamic.jpg",lutURI:"./items/imgly_lut_pebble_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_fall",name:"Moss",thumbnailURI:"./items/imgly_lut_fall.jpg",lutURI:"./items/imgly_lut_moss_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_lenin",name:"Lemon",thumbnailURI:"./items/imgly_lut_lenin.jpg",lutURI:"./items/imgly_lut_lemon_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_pola669",name:"Green Gap",thumbnailURI:"./items/imgly_lut_pola669.jpg",lutURI:"./items/imgly_lut_green_gap_5_5_128.png",defaultIntensity:1}]},{identifier:"imgly_filter_category_cold",name:"Cold",thumbnailURI:"./categories/cold.jpg",items:[{identifier:"imgly_lut_elder",name:"Colla",thumbnailURI:"./items/imgly_lut_elder.jpg",lutURI:"./items/imgly_lut_colla_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_orchid",name:"Solanus",thumbnailURI:"./items/imgly_lut_orchid.jpg",lutURI:"./items/imgly_lut_solanus_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_bleached",name:"Kalmen",thumbnailURI:"./items/imgly_lut_bleached.jpg",lutURI:"./items/imgly_lut_kalmen_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_bleachedblue",name:"Joran",thumbnailURI:"./items/imgly_lut_bleachedblue.jpg",lutURI:"./items/imgly_lut_joran_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_breeze",name:"Levante",thumbnailURI:"./items/imgly_lut_breeze.jpg",lutURI:"./items/imgly_lut_levante_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_blueshadows",name:"Zephyr",thumbnailURI:"./items/imgly_lut_blueshadows.jpg",lutURI:"./items/imgly_lut_zephyr_5_5_128.png",defaultIntensity:1}]},{identifier:"imgly_filter_category_warm",name:"Warm",thumbnailURI:"./categories/warm.jpg",items:[{identifier:"imgly_lut_sunset",name:"Golden",thumbnailURI:"./items/imgly_lut_sunset.jpg",lutURI:"./items/imgly_lut_golden_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_eighties",name:"Low Fire",thumbnailURI:"./items/imgly_lut_eighties.jpg",lutURI:"./items/imgly_lut_low_fire_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_evening",name:"Sunrise",thumbnailURI:"./items/imgly_lut_evening.jpg",lutURI:"./items/imgly_lut_sunrise_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_k2",name:"Flat Black",thumbnailURI:"./items/imgly_lut_k2.jpg",lutURI:"./items/imgly_lut_flat_black_8_8_512.png",defaultIntensity:1,horizontalTileCount:8,verticalTileCount:8},{identifier:"imgly_lut_nogreen",name:"Pumpkin",thumbnailURI:"./items/imgly_lut_nogreen.jpg",lutURI:"./items/imgly_lut_pumpkin_5_5_128.png",defaultIntensity:1}]},{identifier:"imgly_filter_category_legacy",name:"Legacy",thumbnailURI:"./categories/legacy.jpg",items:[{identifier:"imgly_lut_ancient",name:"Ancient",thumbnailURI:"./items/imgly_lut_ancient.jpg",lutURI:"./items/imgly_lut_ancient_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_cottoncandy",name:"Candy",thumbnailURI:"./items/imgly_lut_cottoncandy.jpg",lutURI:"./items/imgly_lut_cottoncandy_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_classic",name:"Classic",thumbnailURI:"./items/imgly_lut_classic.jpg",lutURI:"./items/imgly_lut_classic_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_colorful",name:"Colorful",thumbnailURI:"./items/imgly_lut_colorful.jpg",lutURI:"./items/imgly_lut_colorful_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_creamy",name:"Creamy",thumbnailURI:"./items/imgly_lut_creamy.jpg",lutURI:"./items/imgly_lut_creamy_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_fixie",name:"Fixie",thumbnailURI:"./items/imgly_lut_fixie.jpg",lutURI:"./items/imgly_lut_fixie_8_8_512.png",defaultIntensity:1,horizontalTileCount:8,verticalTileCount:8},{identifier:"imgly_lut_food",name:"Food",thumbnailURI:"./items/imgly_lut_food.jpg",lutURI:"./items/imgly_lut_food_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_fridge",name:"Fridge",thumbnailURI:"./items/imgly_lut_fridge.jpg",lutURI:"./items/imgly_lut_fridge_8_8_512.png",defaultIntensity:1,horizontalTileCount:8,verticalTileCount:8},{identifier:"imgly_lut_glam",name:"Glam",thumbnailURI:"./items/imgly_lut_glam.jpg",lutURI:"./items/imgly_lut_glam_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_gobblin",name:"Gobblin",thumbnailURI:"./items/imgly_lut_gobblin.jpg",lutURI:"./items/imgly_lut_gobblin_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_highcontrast",name:"Hicon",thumbnailURI:"./items/imgly_lut_highcontrast.jpg",lutURI:"./items/imgly_lut_highcontrast_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_highcarb",name:"High Carb",thumbnailURI:"./items/imgly_lut_highcarb.jpg",lutURI:"./items/imgly_lut_highcarb_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_k1",name:"K1",thumbnailURI:"./items/imgly_lut_k1.jpg",lutURI:"./items/imgly_lut_k1_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_k6",name:"K6",thumbnailURI:"./items/imgly_lut_k6.jpg",lutURI:"./items/imgly_lut_k6_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_keen",name:"Keen",thumbnailURI:"./items/imgly_lut_keen.jpg",lutURI:"./items/imgly_lut_keen_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_lomo",name:"Lomo",thumbnailURI:"./items/imgly_lut_lomo.jpg",lutURI:"./items/imgly_lut_lomo_8_8_512.png",defaultIntensity:1,horizontalTileCount:8,verticalTileCount:8},{identifier:"imgly_lut_lomo100",name:"Lomo 100",thumbnailURI:"./items/imgly_lut_lomo100.jpg",lutURI:"./items/imgly_lut_lomo100_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_lucid",name:"Lucid",thumbnailURI:"./items/imgly_lut_lucid.jpg",lutURI:"./items/imgly_lut_lucid_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_mellow",name:"Mellow",thumbnailURI:"./items/imgly_lut_mellow.jpg",lutURI:"./items/imgly_lut_mellow_8_8_512.png",defaultIntensity:1,horizontalTileCount:8,verticalTileCount:8},{identifier:"imgly_lut_neat",name:"Neat",thumbnailURI:"./items/imgly_lut_neat.jpg",lutURI:"./items/imgly_lut_neat_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_pale",name:"Pale",thumbnailURI:"./items/imgly_lut_pale.jpg",lutURI:"./items/imgly_lut_pale_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_pitched",name:"Pitched",thumbnailURI:"./items/imgly_lut_pitched.jpg",lutURI:"./items/imgly_lut_pitched_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_polasx",name:"Pola SX",thumbnailURI:"./items/imgly_lut_polasx.jpg",lutURI:"./items/imgly_lut_polasx_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_pro400",name:"Pro 400",thumbnailURI:"./items/imgly_lut_pro400.jpg",lutURI:"./items/imgly_lut_pro400_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_quozi",name:"Quozi",thumbnailURI:"./items/imgly_lut_quozi.jpg",lutURI:"./items/imgly_lut_quozi_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_settled",name:"Settled",thumbnailURI:"./items/imgly_lut_settled.jpg",lutURI:"./items/imgly_lut_settled_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_seventies",name:"Seventies",thumbnailURI:"./items/imgly_lut_seventies.jpg",lutURI:"./items/imgly_lut_seventies_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_soft",name:"Soft",thumbnailURI:"./items/imgly_lut_soft.jpg",lutURI:"./items/imgly_lut_soft_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_steel",name:"Steel",thumbnailURI:"./items/imgly_lut_steel.jpg",lutURI:"./items/imgly_lut_steel_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_summer",name:"Summer",thumbnailURI:"./items/imgly_lut_summer.jpg",lutURI:"./items/imgly_lut_summer_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_tender",name:"Tender",thumbnailURI:"./items/imgly_lut_tender.jpg",lutURI:"./items/imgly_lut_tender_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_twilight",name:"Twilight",thumbnailURI:"./items/imgly_lut_twilight.jpg",lutURI:"./items/imgly_lut_twilight_5_5_128.png",defaultIntensity:1}]}],kC=[{identifier:"radial",thumbnailURI:"./items/radial.png"},{identifier:"mirrored",thumbnailURI:"./items/mirrored.png"},{identifier:"linear",thumbnailURI:"./items/linear.png"},{identifier:"gaussian",thumbnailURI:"./items/gaussian.png"}],CC=[{identifier:"imgly_font_open_sans_bold",fontFamily:"Open Sans",fontWeight:"bold",fontURI:"./fonts/imgly_font_open_sans_bold.woff",format:"woff",textMetrics:{unitsPerEm:2048,ascender:2189,descender:-600}},{identifier:"imgly_font_aleo_bold",fontFamily:"Aleo",fontWeight:"bold",fontURI:"./fonts/imgly_font_aleo_bold.woff",format:"woff",textMetrics:{unitsPerEm:1e3,ascender:805,descender:-195}},{identifier:"imgly_font_amaticsc",fontFamily:"Amatic SC",fontWeight:"normal",fontURI:"./fonts/imgly_font_amaticsc.woff",format:"woff",textMetrics:{unitsPerEm:1e3,ascender:1016,descender:-245}},{identifier:"imgly_font_archivo_black",fontFamily:"Archivo",fontWeight:"normal",fontURI:"./fonts/imgly_font_archivo_black.woff",format:"woff",textMetrics:{unitsPerEm:1e3,ascender:878,descender:-210}},{identifier:"imgly_font_bungee_inline",fontFamily:"Bungee Inline",fontWeight:"normal",fontStyle:"normal",fontURI:"./fonts/imgly_font_bungee_inline.woff",format:"woff",textMetrics:{unitsPerEm:1e3,ascender:860,descender:-140}},{identifier:"imgly_font_fira_sans_regular",fontFamily:"Fira Sans",fontWeight:"normal",fontStyle:"normal",fontURI:"./fonts/imgly_font_fira_sans_regular.woff",format:"woff",textMetrics:{unitsPerEm:1e3,ascender:935,descender:-265}},{identifier:"imgly_font_carter_one",fontFamily:"Carter One",fontWeight:"normal",fontStyle:"normal",fontURI:"./fonts/imgly_font_carter_one.woff",format:"woff",textMetrics:{unitsPerEm:2048,ascender:2264,descender:-890}},{identifier:"imgly_font_codystar",fontFamily:"Codystar",fontWeight:"normal",fontStyle:"normal",fontURI:"./fonts/imgly_font_codystar.woff",format:"woff",textMetrics:{unitsPerEm:1024,ascender:953,descender:-255}},{identifier:"imgly_font_krona_one",fontFamily:"Krona One",fontWeight:"normal",fontStyle:"normal",fontURI:"./fonts/imgly_font_krona_one.woff",format:"woff",textMetrics:{unitsPerEm:2048,ascender:2030,descender:-530}},{identifier:"imgly_font_kumar_one_outline",fontFamily:"Kumar One Outline",fontWeight:"normal",fontStyle:"normal",fontURI:"./fonts/imgly_font_kumar_one_outline.woff",format:"woff",textMetrics:{unitsPerEm:1e3,ascender:1137,descender:-642}},{identifier:"imgly_font_lobster",fontFamily:"Lobster",fontWeight:"normal",fontURI:"./fonts/imgly_font_lobster.woff",format:"woff",textMetrics:{unitsPerEm:1e3,ascender:1e3,descender:-250}},{identifier:"imgly_font_molle",fontFamily:"Molle",fontWeight:"normal",fontStyle:"italic",fontURI:"./fonts/imgly_font_molle.woff",format:"woff",textMetrics:{unitsPerEm:2048,ascender:1852,descender:-701}},{identifier:"imgly_font_monoton",fontFamily:"Monoton",fontWeight:"normal",fontStyle:"normal",fontURI:"./fonts/imgly_font_monoton.woff",format:"woff",textMetrics:{unitsPerEm:2048,ascender:2366,descender:-822}},{identifier:"imgly_font_nixie_one",fontFamily:"Nixie One",fontWeight:"normal",fontStyle:"normal",fontURI:"./fonts/imgly_font_nixie_one.woff",format:"woff",textMetrics:{unitsPerEm:1e3,ascender:926,descender:-210}},{identifier:"imgly_font_notable",fontFamily:"Notable",fontWeight:"normal",fontStyle:"normal",fontURI:"./fonts/imgly_font_notable.woff",format:"woff",textMetrics:{unitsPerEm:1e3,ascender:1143,descender:-157}},{identifier:"imgly_font_ostrich_sans_black",fontFamily:"Ostrich",fontWeight:800,fontStyle:"normal",fontURI:"./fonts/imgly_font_ostrich_sans_black.woff",format:"woff",textMetrics:{unitsPerEm:1e3,ascender:950,descender:-250}},{identifier:"imgly_font_ostrich_sans_bold",fontFamily:"Ostrich",fontWeight:"bold",fontStyle:"normal",fontURI:"./fonts/imgly_font_ostrich_sans_bold.woff",format:"woff",textMetrics:{unitsPerEm:1e3,ascender:950,descender:-250}},{identifier:"imgly_font_oswald_semi_bold",fontFamily:"Oswald SemiBold",googleFamily:"Oswald",fontWeight:600,fontStyle:"normal",fontURI:"./fonts/imgly_font_oswald_semi_bold.woff",format:"woff",textMetrics:{unitsPerEm:1e3,ascender:1193,descender:-289}},{identifier:"imgly_font_palanquin_dark_semi_bold",fontFamily:"Palanquin Dark SemiBold",googleFamily:"Palanquin Dark",fontWeight:"bold",fontStyle:"normal",fontURI:"./fonts/imgly_font_palanquin_dark_semi_bold.woff",format:"woff",textMetrics:{unitsPerEm:1e3,ascender:1320,descender:-491}},{identifier:"imgly_font_poppins",fontFamily:"Poppins",fontWeight:"bold",fontStyle:"normal",fontURI:"./fonts/imgly_font_poppins.woff",format:"woff",textMetrics:{unitsPerEm:1e3,ascender:1050,descender:-350}},{identifier:"imgly_font_permanent_marker",fontFamily:"Permanent Marker",fontWeight:"normal",fontStyle:"normal",fontURI:"./fonts/imgly_font_permanent_marker.woff",format:"woff",textMetrics:{unitsPerEm:1024,ascender:1136,descender:-325}},{identifier:"imgly_font_roboto_black_italic",fontFamily:"Roboto Black",fontWeight:"bold",fontStyle:"italic",googleFamily:"Roboto",fontURI:"./fonts/imgly_font_roboto_black_italic.woff",format:"woff",textMetrics:{unitsPerEm:2048,ascender:1900,descender:-500}},{identifier:"imgly_font_roboto_light_italic",fontFamily:"Roboto Light",googleFamily:"Roboto",fontWeight:300,fontStyle:"italic",fontURI:"./fonts/imgly_font_roboto_light_italic.woff",format:"woff",textMetrics:{unitsPerEm:2048,ascender:1900,descender:-500}},{identifier:"imgly_font_sancreek",fontFamily:"Sancreek",fontWeight:"normal",fontStyle:"normal",fontURI:"./fonts/imgly_font_sancreek.woff",format:"woff",textMetrics:{unitsPerEm:2048,ascender:2104,descender:-738}},{identifier:"imgly_font_stint_ultra_expanded",fontFamily:"Stint Ultra Expanded",fontWeight:"normal",fontStyle:"normal",fontURI:"./fonts/imgly_font_stint_ultra_expanded.woff",format:"woff",textMetrics:{unitsPerEm:2048,ascender:1853,descender:-483}},{identifier:"imgly_font_trash_hand",fontFamily:"Trash Hand",fontWeight:"normal",fontURI:"./fonts/imgly_font_trash_hand.woff",format:"woff",textMetrics:{unitsPerEm:1e3,ascender:759,descender:-304}},{identifier:"imgly_font_vt323",fontFamily:"VT323",fontWeight:"normal",fontStyle:"normal",fontURI:"./fonts/imgly_font_vt323.woff",format:"woff",textMetrics:{unitsPerEm:1e3,ascender:800,descender:-200}},{identifier:"imgly_font_yeseva_one",fontFamily:"Yeseva One",fontWeight:"normal",fontStyle:"normal",fontURI:"./fonts/imgly_font_yeseva_one.woff",format:"woff",textMetrics:{unitsPerEm:1e3,ascender:915,descender:-240}},{identifier:"imgly_font_abril_fatface_regular",fontFamily:"Abril Fatface",fontWeight:"normal",fontStyle:"normal",fontURI:"./fonts/imgly_font_abril_fatface_regular.woff",format:"woff",textMetrics:{unitsPerEm:1e3,ascender:1058,descender:-291}},{identifier:"imgly_font_montserrat_light",fontFamily:"Montserrat Light",googleFamily:"Montserrat",fontWeight:300,fontStyle:"normal",fontURI:"./fonts/imgly_font_montserrat_light.woff",format:"woff",textMetrics:{unitsPerEm:1e3,ascender:968,descender:-251}},{identifier:"imgly_font_handycheera_regular",fontFamily:"Handycheera",fontWeight:"normal",fontStyle:"normal",fontURI:"./fonts/imgly_font_handycheera_regular.woff",format:"woff",textMetrics:{unitsPerEm:2048,ascender:2199,descender:-808}},{identifier:"imgly_font_ostrich_sans_heavy",fontFamily:"Ostrich",fontWeight:900,fontStyle:"normal",fontURI:"./fonts/imgly_font_ostrich_sans_heavy.woff",format:"woff",textMetrics:{unitsPerEm:1e3,ascender:674,descender:0}},{identifier:"imgly_font_petit_formal_script",fontFamily:"Petit Formal Script",fontWeight:"normal",fontStyle:"normal",fontURI:"./fonts/imgly_font_petit_formal_script.woff",format:"woff",textMetrics:{unitsPerEm:2048,ascender:2033,descender:-527}},{identifier:"imgly_font_rasa_500",fontFamily:"Rasa",fontWeight:500,fontStyle:"normal",fontURI:"./fonts/imgly_font_rasa_500.woff",format:"woff",textMetrics:{unitsPerEm:2750,ascender:2300,descender:-1050}},{identifier:"imgly_font_rasa_regular",fontFamily:"Rasa",fontWeight:"normal",fontStyle:"normal",fontURI:"./fonts/imgly_font_rasa_regular.woff",format:"woff",textMetrics:{unitsPerEm:2750,ascender:2300,descender:-1050}},{identifier:"imgly_font_roboto_black",fontFamily:"Roboto Black",fontWeight:"normal",fontStyle:"normal",fontURI:"./fonts/imgly_font_roboto_black.woff",format:"woff",textMetrics:{unitsPerEm:2048,ascender:1900,descender:-500}},{identifier:"imgly_font_roboto_light",fontFamily:"Roboto Light",fontWeight:"normal",fontStyle:"normal",fontURI:"./fonts/imgly_font_roboto_light.woff",format:"woff",textMetrics:{unitsPerEm:2048,ascender:1900,descender:-500}},{identifier:"imgly_font_sue_ellen_francisco",fontFamily:"Sue Ellen Francisco",fontWeight:"normal",fontStyle:"normal",fontURI:"./fonts/imgly_font_sue_ellen_francisco.woff",format:"woff",textMetrics:{unitsPerEm:1024,ascender:1362,descender:-634}},{identifier:"imgly_font_ultra",fontFamily:"Ultra",fontWeight:"normal",fontStyle:"normal",fontURI:"./fonts/imgly_font_ultra.woff",format:"woff",textMetrics:{unitsPerEm:2048,ascender:2066,descender:-561}},{identifier:"imgly_font_allison_regular",fontFamily:"Allison",fontWeight:"normal",fontStyle:"normal",fontURI:"./fonts/imgly_font_allison_regular.ttf",format:"truetype",textMetrics:{unitsPerEm:1e3,ascender:890,descender:-380}},{identifier:"imgly_font_cookie_regular",fontFamily:"Cookie",fontWeight:"normal",fontStyle:"normal",fontURI:"./fonts/imgly_font_cookie_regular.ttf",format:"truetype",textMetrics:{unitsPerEm:1e3,ascender:789,descender:-320}},{identifier:"imgly_font_lexend_bold",fontFamily:"Lexend",fontWeight:"bold",fontStyle:"normal",fontURI:"./fonts/imgly_font_lexend_bold.ttf",format:"truetype",textMetrics:{unitsPerEm:1e3,ascender:1e3,descender:-250}},{identifier:"imgly_font_outfit_bold",fontFamily:"Outfit",fontWeight:"bold",fontStyle:"normal",fontURI:"./fonts/imgly_font_outfit_bold.ttf",format:"truetype",textMetrics:{unitsPerEm:1e3,ascender:1e3,descender:-260}}],TC=["imgly_font_open_sans_bold","imgly_font_aleo_bold","imgly_font_amaticsc","imgly_font_archivo_black","imgly_font_bungee_inline","imgly_font_carter_one","imgly_font_codystar","imgly_font_fira_sans_regular","imgly_font_krona_one","imgly_font_kumar_one_outline","imgly_font_lexend_bold","imgly_font_lobster","imgly_font_molle","imgly_font_monoton","imgly_font_nixie_one","imgly_font_notable","imgly_font_ostrich_sans_black","imgly_font_ostrich_sans_bold","imgly_font_oswald_semi_bold","imgly_font_outfit_bold","imgly_font_palanquin_dark_semi_bold","imgly_font_poppins","imgly_font_permanent_marker","imgly_font_roboto_black_italic","imgly_font_roboto_light_italic","imgly_font_sancreek","imgly_font_stint_ultra_expanded","imgly_font_trash_hand","imgly_font_vt323","imgly_font_yeseva_one"],EC=["imgly_font_abril_fatface_regular","imgly_font_allison_regular","imgly_font_bungee_inline","imgly_font_cookie_regular","imgly_font_handycheera_regular","imgly_font_lexend_bold","imgly_font_montserrat_light","imgly_font_ostrich_sans_black","imgly_font_ostrich_sans_bold","imgly_font_ostrich_sans_heavy","imgly_font_outfit_bold","imgly_font_permanent_marker","imgly_font_petit_formal_script","imgly_font_rasa_500","imgly_font_rasa_regular","imgly_font_roboto_black","imgly_font_roboto_light","imgly_font_roboto_black_italic","imgly_font_roboto_light_italic","imgly_font_sue_ellen_francisco","imgly_font_ultra"],DC=[{identifier:"imgly_frame_dia",name:"Dia",layoutMode:"horizontal-inside",thumbnailURI:"./items/imgly_frame_dia/imgly_frame_dia_thumb.png",imageGroups:{top:{mid:{image:"./items/imgly_frame_dia/imgly_frame_dia_top.png",mode:"repeat"}},left:{start:"./items/imgly_frame_dia/imgly_frame_dia_top_corner_left.png",mid:"./items/imgly_frame_dia/imgly_frame_dia_left.png",end:"./items/imgly_frame_dia/imgly_frame_dia_bottom_corner_left.png"},right:{start:"./items/imgly_frame_dia/imgly_frame_dia_top_corner_right.png",mid:"./items/imgly_frame_dia/imgly_frame_dia_right.png",end:"./items/imgly_frame_dia/imgly_frame_dia_bottom_corner_right.png"},bottom:{mid:{image:"./items/imgly_frame_dia/imgly_frame_dia_bottom.png",mode:"repeat"}}}},{identifier:"imgly_frame_art_decor",name:"Art Decor",tintable:!0,layoutMode:"horizontal-inside",thumbnailURI:"./items/imgly_frame_art_decor/imgly_frame_art_decor_thumb.png",imageGroups:{top:{start:"./items/imgly_frame_art_decor/imgly_frame_art_decor_top_corner_left.png",mid:{image:"./items/imgly_frame_art_decor/imgly_frame_art_decor_top.png",mode:"stretch"},end:"./items/imgly_frame_art_decor/imgly_frame_art_decor_top_corner_right.png"},left:{mid:{image:"./items/imgly_frame_art_decor/imgly_frame_art_decor_left.png",mode:"stretch"}},right:{mid:{image:"./items/imgly_frame_art_decor/imgly_frame_art_decor_right.png",mode:"stretch"}},bottom:{start:"./items/imgly_frame_art_decor/imgly_frame_art_decor_bottom_corner_left.png",mid:{image:"./items/imgly_frame_art_decor/imgly_frame_art_decor_bottom.png",mode:"stretch"},end:"./items/imgly_frame_art_decor/imgly_frame_art_decor_bottom_corner_right.png"}}},{identifier:"imgly_frame_black_passepartout",name:"Black Passepartout",layoutMode:"horizontal-inside",thumbnailURI:"./items/imgly_frame_black_passepartout/imgly_frame_black_passepartout_thumb.png",imageGroups:{top:{start:"./items/imgly_frame_black_passepartout/imgly_frame_black_passepartout_top_corner_left.png",mid:{image:"./items/imgly_frame_black_passepartout/imgly_frame_black_passepartout_top.png",mode:"stretch"},end:"./items/imgly_frame_black_passepartout/imgly_frame_black_passepartout_top_corner_right.png"},left:{mid:{image:"./items/imgly_frame_black_passepartout/imgly_frame_black_passepartout_left.png",mode:"stretch"}},right:{mid:{image:"./items/imgly_frame_black_passepartout/imgly_frame_black_passepartout_right.png",mode:"stretch"}},bottom:{start:"./items/imgly_frame_black_passepartout/imgly_frame_black_passepartout_bottom_corner_left.png",mid:{image:"./items/imgly_frame_black_passepartout/imgly_frame_black_passepartout_bottom.png",mode:"stretch"},end:"./items/imgly_frame_black_passepartout/imgly_frame_black_passepartout_bottom_corner_right.png"}}},{identifier:"imgly_frame_wood_passepartout",name:"Wood Passepartout",layoutMode:"horizontal-inside",thumbnailURI:"./items/imgly_frame_wood_passepartout/imgly_frame_wood_passepartout_thumb.png",imageGroups:{top:{start:"./items/imgly_frame_wood_passepartout/imgly_frame_wood_passepartout_top_corner_left.png",mid:{image:"./items/imgly_frame_wood_passepartout/imgly_frame_wood_passepartout_top.png",mode:"stretch"},end:"./items/imgly_frame_wood_passepartout/imgly_frame_wood_passepartout_top_corner_right.png"},left:{mid:{image:"./items/imgly_frame_wood_passepartout/imgly_frame_wood_passepartout_left.png",mode:"stretch"}},right:{mid:{image:"./items/imgly_frame_wood_passepartout/imgly_frame_wood_passepartout_right.png",mode:"stretch"}},bottom:{start:"./items/imgly_frame_wood_passepartout/imgly_frame_wood_passepartout_bottom_corner_left.png",mid:{image:"./items/imgly_frame_wood_passepartout/imgly_frame_wood_passepartout_bottom.png",mode:"stretch"},end:"./items/imgly_frame_wood_passepartout/imgly_frame_wood_passepartout_bottom_corner_right.png"}}},{identifier:"imgly_frame_lowpoly_shadow",name:"Low Poly",layoutMode:"horizontal-inside",thumbnailURI:"./items/imgly_frame_lowpoly_shadow/imgly_frame_lowpoly_shadow_thumb.png",imageGroups:{top:{start:"./items/imgly_frame_lowpoly_shadow/imgly_frame_lowpoly_shadow_top_corner_left.png",mid:{image:"./items/imgly_frame_lowpoly_shadow/imgly_frame_lowpoly_shadow_top.png",mode:"stretch"},end:"./items/imgly_frame_lowpoly_shadow/imgly_frame_lowpoly_shadow_top_corner_right.png"},left:{mid:{image:"./items/imgly_frame_lowpoly_shadow/imgly_frame_lowpoly_shadow_left.png",mode:"stretch"}},right:{mid:{image:"./items/imgly_frame_lowpoly_shadow/imgly_frame_lowpoly_shadow_right.png",mode:"stretch"}},bottom:{start:"./items/imgly_frame_lowpoly_shadow/imgly_frame_lowpoly_shadow_bottom_corner_left.png",mid:{image:"./items/imgly_frame_lowpoly_shadow/imgly_frame_lowpoly_shadow_bottom.png",mode:"stretch"},end:"./items/imgly_frame_lowpoly_shadow/imgly_frame_lowpoly_shadow_bottom_corner_right.png"}}}],IC=[{identifier:"imgly_overlay_golden",name:"Golden",defaultBlendMode:"lighten",overlayURI:"./items/imgly_overlay_golden.jpg",thumbnailURI:"./items/imgly_overlay_golden_thumb.jpg"},{identifier:"imgly_overlay_lightleak1",name:"Lightleak",defaultBlendMode:"screen",overlayURI:"./items/imgly_overlay_lightleak1.jpg",thumbnailURI:"./items/imgly_overlay_lightleak1_thumb.jpg"},{identifier:"imgly_overlay_rain",name:"Rain",defaultBlendMode:"overlay",overlayURI:"./items/imgly_overlay_rain.jpg",thumbnailURI:"./items/imgly_overlay_rain_thumb.jpg"},{identifier:"imgly_overlay_mosaic",name:"Mosaic",defaultBlendMode:"multiply",overlayURI:"./items/imgly_overlay_mosaic.jpg",thumbnailURI:"./items/imgly_overlay_mosaic_thumb.jpg"},{identifier:"imgly_overlay_vintage",name:"Vintage",defaultBlendMode:"overlay",overlayURI:"./items/imgly_overlay_vintage.jpg",thumbnailURI:"./items/imgly_overlay_vintage_thumb.jpg"},{identifier:"imgly_overlay_paper",name:"Paper",defaultBlendMode:"multiply",overlayURI:"./items/imgly_overlay_paper.jpg",thumbnailURI:"./items/imgly_overlay_paper_thumb.jpg"},{identifier:"imgly_overlay_bokeh",name:"Bokeh",defaultBlendMode:"lighten",overlayURI:"./items/imgly_overlay_bokeh.jpg",thumbnailURI:"./items/imgly_overlay_bokeh_thumb.jpg"},{identifier:"imgly_overlay_hearts",name:"Hearts",defaultBlendMode:"screen",overlayURI:"./items/imgly_overlay_hearts.jpg",thumbnailURI:"./items/imgly_overlay_hearts_thumb.jpg"},{identifier:"imgly_overlay_lightleak2",name:"Lightleak 2",defaultBlendMode:"lighten",overlayURI:"./items/imgly_overlay_lightleak2.jpg",thumbnailURI:"./items/imgly_overlay_lightleak2_thumb.jpg"},{identifier:"imgly_overlay_wood",name:"Wood",defaultBlendMode:"multiply",overlayURI:"./items/imgly_overlay_wood.jpg",thumbnailURI:"./items/imgly_overlay_wood_thumb.jpg"},{identifier:"imgly_overlay_chop",name:"Chop",defaultBlendMode:"multiply",overlayURI:"./items/imgly_overlay_chop.jpg",thumbnailURI:"./items/imgly_overlay_chop_thumb.jpg"},{identifier:"imgly_overlay_metal",name:"Metal",defaultBlendMode:"overlay",overlayURI:"./items/imgly_overlay_metal.jpg",thumbnailURI:"./items/imgly_overlay_metal_thumb.jpg"},{identifier:"imgly_overlay_painting",name:"Painting",defaultBlendMode:"overlay",overlayURI:"./items/imgly_overlay_painting.jpg",thumbnailURI:"./items/imgly_overlay_painting_thumb.jpg"},{identifier:"imgly_overlay_grain",name:"Grain",defaultBlendMode:"overlay",overlayURI:"./items/imgly_overlay_grain.jpg",thumbnailURI:"./items/imgly_overlay_grain_thumb.jpg"},{identifier:"imgly_overlay_clouds",name:"Clouds",defaultBlendMode:"softLight",overlayURI:"./items/imgly_overlay_clouds.jpg",thumbnailURI:"./items/imgly_overlay_clouds_thumb.jpg"},{identifier:"imgly_overlay_wall1",name:"Wall",defaultBlendMode:"lighten",overlayURI:"./items/imgly_overlay_wall1.jpg",thumbnailURI:"./items/imgly_overlay_wall1_thumb.jpg"},{identifier:"imgly_overlay_wall2",name:"Wall 2",defaultBlendMode:"overlay",overlayURI:"./items/imgly_overlay_wall2.jpg",thumbnailURI:"./items/imgly_overlay_wall2_thumb.jpg"}],RC=[{identifier:"imgly_sticker_emoticons",name:"Emoticons",thumbnailURI:"./categories/emoticons.png",items:[{identifier:"imgly_sticker_emoticons_grin",stickerURI:"./emoticons/imgly_sticker_emoticons_grin.svg",tintMode:"none",name:"Grin",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_laugh",stickerURI:"./emoticons/imgly_sticker_emoticons_laugh.svg",tintMode:"none",name:"Laugh",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_smile",stickerURI:"./emoticons/imgly_sticker_emoticons_smile.svg",tintMode:"none",name:"Smile",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_wink",stickerURI:"./emoticons/imgly_sticker_emoticons_wink.svg",tintMode:"none",name:"Wink",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_tongue_out_wink",stickerURI:"./emoticons/imgly_sticker_emoticons_tongue_out_wink.svg",tintMode:"none",name:"Tongue out wink",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_angel",stickerURI:"./emoticons/imgly_sticker_emoticons_angel.svg",tintMode:"none",name:"Angel",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_kisses",stickerURI:"./emoticons/imgly_sticker_emoticons_kisses.svg",tintMode:"none",name:"Kisses",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_loving",stickerURI:"./emoticons/imgly_sticker_emoticons_loving.svg",tintMode:"none",name:"Loving",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_kiss",stickerURI:"./emoticons/imgly_sticker_emoticons_kiss.svg",tintMode:"none",name:"Kiss",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_wave",stickerURI:"./emoticons/imgly_sticker_emoticons_wave.svg",tintMode:"none",name:"Wave",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_nerd",stickerURI:"./emoticons/imgly_sticker_emoticons_nerd.svg",tintMode:"none",name:"Nerd",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_cool",stickerURI:"./emoticons/imgly_sticker_emoticons_cool.svg",tintMode:"none",name:"Cool",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_blush",stickerURI:"./emoticons/imgly_sticker_emoticons_blush.svg",tintMode:"none",name:"Blush",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_duckface",stickerURI:"./emoticons/imgly_sticker_emoticons_duckface.svg",tintMode:"none",name:"Duckface",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_furious",stickerURI:"./emoticons/imgly_sticker_emoticons_furious.svg",tintMode:"none",name:"Furious",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_angry",stickerURI:"./emoticons/imgly_sticker_emoticons_angry.svg",tintMode:"none",name:"Angry",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_steaming_furious",stickerURI:"./emoticons/imgly_sticker_emoticons_steaming_furious.svg",tintMode:"none",name:"Steaming Furious",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_sad",stickerURI:"./emoticons/imgly_sticker_emoticons_sad.svg",tintMode:"none",name:"Sad",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_anxious",stickerURI:"./emoticons/imgly_sticker_emoticons_anxious.svg",tintMode:"none",name:"Anxious",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_cry",stickerURI:"./emoticons/imgly_sticker_emoticons_cry.svg",tintMode:"none",name:"Cry",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_sobbing",stickerURI:"./emoticons/imgly_sticker_emoticons_sobbing.svg",tintMode:"none",name:"Sobbing",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_loud_cry",stickerURI:"./emoticons/imgly_sticker_emoticons_loud_cry.svg",tintMode:"none",name:"Loud Cry",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_wide_grin",stickerURI:"./emoticons/imgly_sticker_emoticons_wide_grin.svg",tintMode:"none",name:"Wide grin",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_impatient",stickerURI:"./emoticons/imgly_sticker_emoticons_impatient.svg",tintMode:"none",name:"Impatient",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_tired",stickerURI:"./emoticons/imgly_sticker_emoticons_tired.svg",tintMode:"none",name:"Tired",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_asleep",stickerURI:"./emoticons/imgly_sticker_emoticons_asleep.svg",tintMode:"none",name:"Asleep",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_sleepy",stickerURI:"./emoticons/imgly_sticker_emoticons_sleepy.svg",tintMode:"none",name:"Sleepy",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_deceased",stickerURI:"./emoticons/imgly_sticker_emoticons_deceased.svg",tintMode:"none",name:"Deceased",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_attention",stickerURI:"./emoticons/imgly_sticker_emoticons_attention.svg",tintMode:"none",name:"Attention",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_question",stickerURI:"./emoticons/imgly_sticker_emoticons_question.svg",tintMode:"none",name:"Question",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_not_speaking_to_you",stickerURI:"./emoticons/imgly_sticker_emoticons_not_speaking_to_you.svg",tintMode:"none",name:"Not speaking to you",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_sick",stickerURI:"./emoticons/imgly_sticker_emoticons_sick.svg",tintMode:"none",name:"Sick",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_pumpkin",stickerURI:"./emoticons/imgly_sticker_emoticons_pumpkin.svg",tintMode:"none",name:"Pumpkin",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_boxer",stickerURI:"./emoticons/imgly_sticker_emoticons_boxer.svg",tintMode:"none",name:"Boxer",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_idea",stickerURI:"./emoticons/imgly_sticker_emoticons_idea.svg",tintMode:"none",name:"Idea",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_smoking",stickerURI:"./emoticons/imgly_sticker_emoticons_smoking.svg",tintMode:"none",name:"Smoking",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_beer",stickerURI:"./emoticons/imgly_sticker_emoticons_beer.svg",tintMode:"none",name:"Beer",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_skateboard",stickerURI:"./emoticons/imgly_sticker_emoticons_skateboard.svg",tintMode:"none",name:"Skateboard",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_guitar",stickerURI:"./emoticons/imgly_sticker_emoticons_guitar.svg",tintMode:"none",name:"Guitar",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_music",stickerURI:"./emoticons/imgly_sticker_emoticons_music.svg",tintMode:"none",name:"Music",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_sunbathing",stickerURI:"./emoticons/imgly_sticker_emoticons_sunbathing.svg",tintMode:"none",name:"Sunbathing",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_hippie",stickerURI:"./emoticons/imgly_sticker_emoticons_hippie.svg",tintMode:"none",name:"Hippie",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_humourous",stickerURI:"./emoticons/imgly_sticker_emoticons_humourous.svg",tintMode:"none",name:"Humourous",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_hitman",stickerURI:"./emoticons/imgly_sticker_emoticons_hitman.svg",tintMode:"none",name:"Hitman",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_harry_potter",stickerURI:"./emoticons/imgly_sticker_emoticons_harry_potter.svg",tintMode:"none",name:"Harry Potter",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_business",stickerURI:"./emoticons/imgly_sticker_emoticons_business.svg",tintMode:"none",name:"Business",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_batman",stickerURI:"./emoticons/imgly_sticker_emoticons_batman.svg",tintMode:"none",name:"Batman",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_skull",stickerURI:"./emoticons/imgly_sticker_emoticons_skull.svg",tintMode:"none",name:"Skull",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_ninja",stickerURI:"./emoticons/imgly_sticker_emoticons_ninja.svg",tintMode:"none",name:"Ninja",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_masked",stickerURI:"./emoticons/imgly_sticker_emoticons_masked.svg",tintMode:"none",name:"Masked",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_alien",stickerURI:"./emoticons/imgly_sticker_emoticons_alien.svg",tintMode:"none",name:"Alien",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_wrestler",stickerURI:"./emoticons/imgly_sticker_emoticons_wrestler.svg",tintMode:"none",name:"Wrestler",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_devil",stickerURI:"./emoticons/imgly_sticker_emoticons_devil.svg",tintMode:"none",name:"Devil",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_star",stickerURI:"./emoticons/imgly_sticker_emoticons_star.svg",tintMode:"none",name:"Star",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_baby_chicken",stickerURI:"./emoticons/imgly_sticker_emoticons_baby_chicken.svg",tintMode:"none",name:"Baby Chicken",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_rabbit",stickerURI:"./emoticons/imgly_sticker_emoticons_rabbit.svg",tintMode:"none",name:"Rabbit",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_pig",stickerURI:"./emoticons/imgly_sticker_emoticons_pig.svg",tintMode:"none",name:"Pig",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_chicken",stickerURI:"./emoticons/imgly_sticker_emoticons_chicken.svg",tintMode:"none",name:"Chicken",resizeMode:"keepAspect"}]},{identifier:"imgly_sticker_shapes",name:"Shapes",thumbnailURI:"./categories/shapes.png",items:[{identifier:"imgly_sticker_shapes_badge_01",stickerURI:"./shapes/imgly_sticker_shapes_badge_01.svg",tintMode:"solid",name:"Shape Badge 01",resizeMode:"keepAspect"},{identifier:"imgly_sticker_shapes_badge_04",stickerURI:"./shapes/imgly_sticker_shapes_badge_04.svg",tintMode:"solid",name:"Shape Badge 04",resizeMode:"keepAspect"},{identifier:"imgly_sticker_shapes_badge_12",stickerURI:"./shapes/imgly_sticker_shapes_badge_12.svg",tintMode:"solid",name:"Shape Badge 12",resizeMode:"keepAspect"},{identifier:"imgly_sticker_shapes_badge_06",stickerURI:"./shapes/imgly_sticker_shapes_badge_06.svg",tintMode:"solid",name:"Shape Badge 06",resizeMode:"keepAspect"},{identifier:"imgly_sticker_shapes_badge_13",stickerURI:"./shapes/imgly_sticker_shapes_badge_13.svg",tintMode:"solid",name:"Shape Badge 13",resizeMode:"keepAspect"},{identifier:"imgly_sticker_shapes_badge_36",stickerURI:"./shapes/imgly_sticker_shapes_badge_36.svg",tintMode:"solid",name:"Shape Badge 36",resizeMode:"keepAspect"},{identifier:"imgly_sticker_shapes_badge_08",stickerURI:"./shapes/imgly_sticker_shapes_badge_08.svg",tintMode:"solid",name:"Shape Badge 08",resizeMode:"keepAspect"},{identifier:"imgly_sticker_shapes_badge_11",stickerURI:"./shapes/imgly_sticker_shapes_badge_11.svg",tintMode:"solid",name:"Shape Badge 11",resizeMode:"keepAspect"},{identifier:"imgly_sticker_shapes_badge_35",stickerURI:"./shapes/imgly_sticker_shapes_badge_35.svg",tintMode:"solid",name:"Shape Badge 35",resizeMode:"keepAspect"},{identifier:"imgly_sticker_shapes_badge_28",stickerURI:"./shapes/imgly_sticker_shapes_badge_28.svg",tintMode:"solid",name:"Shape Badge 28",resizeMode:"keepAspect"},{identifier:"imgly_sticker_shapes_badge_32",stickerURI:"./shapes/imgly_sticker_shapes_badge_32.svg",tintMode:"solid",name:"Shape Badge 32",resizeMode:"keepAspect"},{identifier:"imgly_sticker_shapes_badge_15",stickerURI:"./shapes/imgly_sticker_shapes_badge_15.svg",tintMode:"solid",name:"Shape Badge 15",resizeMode:"keepAspect"},{identifier:"imgly_sticker_shapes_badge_20",stickerURI:"./shapes/imgly_sticker_shapes_badge_20.svg",tintMode:"solid",name:"Shape Badge 20",resizeMode:"keepAspect"},{identifier:"imgly_sticker_shapes_badge_18",stickerURI:"./shapes/imgly_sticker_shapes_badge_18.svg",tintMode:"solid",name:"Shape Badge 18",resizeMode:"keepAspect"},{identifier:"imgly_sticker_shapes_badge_19",stickerURI:"./shapes/imgly_sticker_shapes_badge_19.svg",tintMode:"solid",name:"Shape Badge 19",resizeMode:"keepAspect"},{identifier:"imgly_sticker_shapes_arrow_02",stickerURI:"./shapes/imgly_sticker_shapes_arrow_02.svg",tintMode:"solid",name:"Shape Arrow 02",resizeMode:"keepAspect"},{identifier:"imgly_sticker_shapes_arrow_03",stickerURI:"./shapes/imgly_sticker_shapes_arrow_03.svg",tintMode:"solid",name:"Shape Arrow 03",resizeMode:"keepAspect"},{identifier:"imgly_sticker_shapes_spray_01",stickerURI:"./shapes/imgly_sticker_shapes_spray_01.svg",tintMode:"solid",name:"Shape Spray 01",resizeMode:"keepAspect"},{identifier:"imgly_sticker_shapes_spray_04",stickerURI:"./shapes/imgly_sticker_shapes_spray_04.svg",tintMode:"solid",name:"Shape Spray 04",resizeMode:"keepAspect"},{identifier:"imgly_sticker_shapes_spray_03",stickerURI:"./shapes/imgly_sticker_shapes_spray_03.svg",tintMode:"solid",name:"Shape Spray 03",resizeMode:"keepAspect"}]}],FC=[{thumbnailURI:"./items/dark/imgly_text_design_icon_thislayoutisgreat.png",identifier:"imgly_text_design_blocks",name:"Blocks"},{thumbnailURI:"./items/dark/imgly_text_design_icon_fatandfast.png",identifier:"imgly_text_design_rotated",name:"Rotated"},{thumbnailURI:"./items/dark/imgly_text_design_icon_summerfeeling.png",identifier:"imgly_text_design_blocks_light",name:"Blocks Light"},{thumbnailURI:"./items/dark/imgly_text_design_icon_typewithstyle.png",identifier:"imgly_text_design_equal_width",name:"Equal Width"},{thumbnailURI:"./items/dark/imgly_text_design_icon_inthebox.png",identifier:"imgly_text_design_masked",name:"Masked"},{thumbnailURI:"./items/dark/imgly_text_design_icon_bluefriday.png",identifier:"imgly_text_design_celebrate",name:"Celebrate"},{thumbnailURI:"./items/dark/imgly_text_design_icon_decorative.png",identifier:"imgly_text_design_sunshine",name:"Sunshine"},{thumbnailURI:"./items/dark/imgly_text_design_icon_specialdeals.png",identifier:"imgly_text_design_masked_badge",name:"Masked Badge"},{thumbnailURI:"./items/dark/imgly_text_design_icon_doublelines.png",identifier:"imgly_text_design_blocks_condensed",name:"Blocks Condensed"},{thumbnailURI:"./items/dark/imgly_text_design_icon_celebrate.png",identifier:"imgly_text_design_celebrate_simple",name:"Celebrate Simple"},{thumbnailURI:"./items/dark/imgly_text_design_icon_beerandburger.png",identifier:"imgly_text_design_equal_width_fat",name:"Equal Width Fat"},{thumbnailURI:"./items/dark/imgly_text_design_icon_watercolor.png",identifier:"imgly_text_design_watercolor",name:"Watercolor"},{thumbnailURI:"./items/dark/imgly_text_design_icon_particle.png",identifier:"imgly_text_design_particles",name:"Particles"},{thumbnailURI:"./items/dark/imgly_text_design_icon_yeah.png",identifier:"imgly_text_design_masked_speech_bubble",name:"Masked Speech Bubble"},{thumbnailURI:"./items/dark/imgly_text_design_icon_thisisadream.png",identifier:"imgly_text_design_masked_speech_bubble_comic",name:"Masked Speech Bubble Comic"},{thumbnailURI:"./items/dark/imgly_text_design_icon_fatface.png",identifier:"imgly_text_design_multiline",name:"Multiline"}],AC=[{thumbnailURI:"./items/light/imgly_text_design_icon_thislayoutisgreat.png",identifier:"imgly_text_design_blocks",name:"Blocks"},{thumbnailURI:"./items/light/imgly_text_design_icon_fatandfast.png",identifier:"imgly_text_design_rotated",name:"Rotated"},{thumbnailURI:"./items/light/imgly_text_design_icon_summerfeeling.png",identifier:"imgly_text_design_blocks_light",name:"Blocks Light"},{thumbnailURI:"./items/light/imgly_text_design_icon_typewithstyle.png",identifier:"imgly_text_design_equal_width",name:"Equal Width"},{thumbnailURI:"./items/light/imgly_text_design_icon_inthebox.png",identifier:"imgly_text_design_masked",name:"Masked"},{thumbnailURI:"./items/light/imgly_text_design_icon_bluefriday.png",identifier:"imgly_text_design_celebrate",name:"Celebrate"},{thumbnailURI:"./items/light/imgly_text_design_icon_decorative.png",identifier:"imgly_text_design_sunshine",name:"Sunshine"},{thumbnailURI:"./items/light/imgly_text_design_icon_specialdeals.png",identifier:"imgly_text_design_masked_badge",name:"Masked Badge"},{thumbnailURI:"./items/light/imgly_text_design_icon_doublelines.png",identifier:"imgly_text_design_blocks_condensed",name:"Blocks Condensed"},{thumbnailURI:"./items/light/imgly_text_design_icon_celebrate.png",identifier:"imgly_text_design_celebrate_simple",name:"Celebrate Simple"},{thumbnailURI:"./items/light/imgly_text_design_icon_beerandburger.png",identifier:"imgly_text_design_equal_width_fat",name:"Equal Width Fat"},{thumbnailURI:"./items/light/imgly_text_design_icon_watercolor.png",identifier:"imgly_text_design_watercolor",name:"Watercolor"},{thumbnailURI:"./items/light/imgly_text_design_icon_particle.png",identifier:"imgly_text_design_particles",name:"Particles"},{thumbnailURI:"./items/light/imgly_text_design_icon_yeah.png",identifier:"imgly_text_design_masked_speech_bubble",name:"Masked Speech Bubble"},{thumbnailURI:"./items/light/imgly_text_design_icon_thisisadream.png",identifier:"imgly_text_design_masked_speech_bubble_comic",name:"Masked Speech Bubble Comic"},{thumbnailURI:"./items/light/imgly_text_design_icon_fatface.png",identifier:"imgly_text_design_multiline",name:"Multiline"}],OC=[{identifier:"imgly_transforms_common",name:"Common",items:[{identifier:"imgly_transform_common_custom",name:"Custom",thumbnailURI:"",ratio:"*"},{identifier:"imgly_transform_common_square",name:"Square",thumbnailURI:"",ratio:1},{identifier:"imgly_transform_common_4",name:"4:3",thumbnailURI:"",ratio:4/3},{identifier:"imgly_transform_common_16",name:"16:9",thumbnailURI:"",ratio:16/9},{identifier:"imgly_transform_common_3",name:"3:4",thumbnailURI:"",ratio:3/4},{identifier:"imgly_transform_common_9",name:"9:16",thumbnailURI:"",ratio:9/16}]},{identifier:"imgly_transforms_facebook",name:"Facebook",items:[{identifier:"imgly_transform_facebook_profile",name:"Profile",thumbnailURI:"",dimensions:{x:300,y:300},forceDimensions:!0,lockDimensions:!0},{identifier:"imgly_transform_facebook_title",name:"Title",thumbnailURI:"",dimensions:{x:1200,y:627},forceDimensions:!0,lockDimensions:!0},{identifier:"imgly_transform_facebook_post",name:"Post",thumbnailURI:"",dimensions:{x:940,y:788},forceDimensions:!0,lockDimensions:!0}]},{identifier:"imgly_transforms_instagram",name:"Instagram",items:[{identifier:"imgly_transform_instagram_landscape",name:"Landscape",thumbnailURI:"",dimensions:{x:1080,y:566},forceDimensions:!0,lockDimensions:!0},{identifier:"imgly_transform_instagram_portrait",name:"Portrait",thumbnailURI:"",dimensions:{x:1080,y:1350},forceDimensions:!0,lockDimensions:!0},{identifier:"imgly_transform_instagram_square",name:"Square",thumbnailURI:"",dimensions:{x:1080,y:1080},forceDimensions:!0,lockDimensions:!0},{identifier:"imgly_transform_instagram_story",name:"Story",thumbnailURI:"",dimensions:{x:1080,y:1920},forceDimensions:!0,lockDimensions:!0}]},{identifier:"imgly_transforms_twitter",name:"Twitter",items:[{identifier:"imgly_transform_twitter_post",name:"Post",thumbnailURI:"",dimensions:{x:1024,y:512},forceDimensions:!0,lockDimensions:!0},{identifier:"imgly_transform_twitter_profile",name:"Profile",thumbnailURI:"",dimensions:{x:400,y:400},forceDimensions:!0,lockDimensions:!0},{identifier:"imgly_transform_twitter_title",name:"Title",thumbnailURI:"",dimensions:{x:1500,y:500},forceDimensions:!0,lockDimensions:!0}]}],MC=k(P()),PC={italic:"i"},zC=class{constructor(e){this.assetManager=e,this.injectedFonts={},this.loadedFonts={},this.isFontLoaded=e=>void 0!==this.loadedFonts[e],this.getGoogleFamiliesString=e=>{const t=e.reduce(((e,t)=>{const{fontFamily:i,fontStyle:r,fontWeight:n=400}=t;return e[i]=(e[i]||[]).concat("".concat(n).concat(PC[r]||"")),e}),{});return Object.keys(t).map((e=>{const i=t[e].length?":".concat(t[e].join(",")):"";return e.replace(" ","+")+i})).join("|")}}static createFontFacesCSS(e,t){return e.map((e=>{const i=t(e.fontURI);return'@font-face {\n        font-family: "'.concat(e.fontFamily,"\";\n        src: url('").concat(i,"') format('").concat(e.format||"woff","');\n        font-weight: ").concat(e.fontWeight||"normal",";\n        font-style: ").concat(e.fontStyle||"normal",";\n      }")}))}getFontWithId(e){const t=this.assetManager.getFontAsset(e);if(!t)throw new Error("The requested font does not exist as an asset.");return t}injectAllFonts(){const e=this.assetManager.getFontAssets();this.injectFonts(e)}async loadAllFonts(){const e=this.assetManager.getFontAssets();return this.loadFonts(e)}async loadFontsWithIdentifiers(e){const t=e.map((e=>this.getFontWithId(e)));return this.loadFonts(t)}async loadFonts(e){return this.injectFonts(e),(0,MC.default)(e,(e=>this.loadFont(e,!1)),{stopOnError:!1}).then((()=>{}))}async loadFont(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return new Promise(((i,r)=>{this.isFontLoaded(e.identifier)&&i(),t&&this.injectFonts([e]);new nC(e).load().then((()=>{this.loadedFonts[e.identifier]=e,i()})).catch((t=>{r(e.identifier)}))}))}async loadFontWithIdentifier(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const i=this.assetManager.getFontAsset(e);if(!i)throw new Error("The requested font asset with identifier ".concat(e," does not exist!"));return this.loadFont(i,t)}injectFonts(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.assetManager.getPathForCategory("font");const i=e.filter(Ck),r=e.filter(kk);i.length>0&&this.addGoogleFontLinks(i),r.length>0&&this.addWebFontCSS(r,t)}addGoogleFontLinks(e){const t=e.filter((e=>!this.injectedFonts[e.identifier]));if(0===t.length)return;const i=this.getGoogleFamiliesString(t),r=document.createElement("link");r.rel="stylesheet",r.href="https://fonts.googleapis.com/css?family=".concat(i);document.getElementsByTagName("head")[0].appendChild(r),e.forEach((e=>{this.injectedFonts[e.identifier]=e}))}addWebFontCSS(e,t){const i=e.filter((e=>!this.injectedFonts[e.identifier]));if(0===i.length)return;const r=zC.createFontFacesCSS(i,t),n="\n      /* Injected by PhotoEditorSDK */\n      ".concat(r.join("\n"),"\n    "),o=document.createElement("style");o.innerHTML=n,document.head.appendChild(o),e.forEach((e=>{this.injectedFonts[e.identifier]=e}))}},BC=class{constructor(e){var t=this;let i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2?arguments[2]:void 0;var n,a;this.assetResolver=r,this.basePath="assets/",this.areCustomAssetsAllowed=!1,this.getAssets=e=>{switch(e){case"overlay":return this.overlayAssets;case"filter":return this.filterCategories;case"font":return this.fontAssets;case"focus":return this.focusAssets;case"adjustment":return this.adjustmentCategories;case"sticker":return this.stickerCategories;case"textdesign":return this.textDesignAssets;case"frame":return this.frameAssets;case"transform":return this.transformCategories;default:return[]}return[]},this.getPath=(e,t)=>{const{assetResolver:i={}}=this,r=t&&i.item?i.item(t,e):t;if(null==r?void 0:r.match(/data:image/g))return r;if((null==r?void 0:r.match(/(ftp|http|https):\/\//))&&bC(r))return r;if(!r&&bC(e))return e;const n=r?lC(e,r):lC(e);let o;if(this.basePath.match(/(ftp|http|https):\/\//)){const{length:e}=this.basePath;"/"!==this.basePath[e-1]&&(this.basePath="".concat(this.basePath,"/")),o=this.basePath+n}else o=lC(this.basePath,n);return i.path?i.path(o,e,r):o},this.getPathForCategory=e=>function(){for(var i=arguments.length,r=new Array(i),n=0;n<i;n++)r[n]=arguments[n];return t.getPath(e,...r)},this.addCustomStickerAsset=(e,t,i)=>{e.forEach((e=>{const{thumbnailURI:r,name:n,stickerURI:o,identifier:s,tintMode:a,resizeMode:l}=e,c=this.stickerCategories.find((e=>e.identifier===t)),u={identifier:s,name:n,thumbnailURI:r,stickerURI:o,tintMode:a,resizeMode:l};if(c)c.items.push(u),c.thumbnailURI=r;else{const e={identifier:t,name:i,thumbnailURI:r,items:[u]};this.stickerCategories=[e,...this.stickerCategories]}})),this.stickerAssets=this.stickerCategories.reduce(this.allOptions,[])},this.getItemPath=(e,t,i)=>{const r=e.find((e=>e.identifier===t));return r&&(r[i]||r.path)||""},this.isNonExistingFont=e=>!CC.find((t=>t.identifier===e.identifier))&&!o[e.identifier],this.replaceDeprecatedFont=e=>o[e.identifier]?CC.find((t=>t.identifier===s(e.identifier,!0))):e,(null==e?void 0:e.basePath)&&(this.basePath=e.basePath),this.areCustomAssetsAllowed=i;const l=SC.reduce(this.allOptions,[]);e&&e.filter?this.filterCategories=this.configuredCategory(SC,e.filter,l):this.filterCategories=SC,this.lutFilterAssets=this.filterCategories.reduce(this.allOptions,[]).filter((e=>function(e){return void 0!==e.lutURI}(e))),this.duoToneFilterAssets=this.filterCategories.reduce(this.allOptions,[]).filter((e=>XS(e)));const c=wC.reduce(this.allOptions,[]);e&&e.adjustment?this.adjustmentCategories=this.configuredCategory(wC,e.adjustment,c):this.adjustmentCategories=wC,this.fontAssets=CC.reduce(this.allOptions,[]);let u=TC.map((e=>this.getFontAsset(e)));if((null==(a=null==(n=null==e?void 0:e.text)?void 0:n.fonts)?void 0:a.length)>0){u=e.text.fonts.map((e=>{if(this.isNonExistingFont(e))return e;const t=this.replaceDeprecatedFont(e);return this.getFontAsset(t.identifier)}));const t=e.text.fonts.filter(this.isNonExistingFont);this.fontAssets=e.text.fonts?[...this.fontAssets,...t]:this.fontAssets}this.textToolFontAssets=u;const h=e&&e.focus&&e.focus.items&&e.focus.items.length?e.focus.items.map((e=>kC.find((t=>t.identifier===e.identifier)))):kC;this.focusAssets=h,e&&e.overlay&&e.overlay.items?this.overlayAssets=this.configuredItem(e.overlay.items,IC,IC):this.overlayAssets=IC,e&&e.frame&&e.frame.items?this.frameAssets=this.configuredItem(e.frame.items,DC,DC):this.frameAssets=DC;const d=RC.reduce(this.allOptions,[]);e&&e.sticker?this.stickerCategories=this.configuredCategory(RC,e.sticker,d):this.stickerCategories=RC,this.stickerAssets=this.stickerCategories.reduce(this.allOptions,[]);let p=FC;e&&"light"===e.theme&&(p=AC),this.textDesignAssets=e&&e.textdesign&&e.textdesign.items&&e.textdesign.items.length?e.textdesign.items.map((e=>p.find((t=>t.identifier===e.identifier)))):p,this.textDesignToolFontAssets=EC.map((e=>this.getFontAsset(e)));const f=OC.reduce(this.allOptions,[]);e&&e.transform?this.transformCategories=this.configuredCategory(OC,e.transform,f,"transform"):this.transformCategories=OC,this.transformAssets=this.transformCategories.reduce(this.allOptions,[]),this.fontManager=new zC(this)}getFontManager(){return this.fontManager}getAssetSource(e,t){switch(e){case"filter":if(this.getLUTFilterAsset(t))return this.getPath(e,this.getItemPath(this.lutFilterAssets,t,"lutURI"));break;case"overlay":return this.getPath(e,this.getItemPath(this.overlayAssets,t,"overlayURI"));case"font":return this.getPath(e,this.getItemPath(this.fontAssets,t,"fontURI"));case"sticker":const i=this.stickerAssets.find((e=>e.identifier===t));if(i){if("data:image"===i.stickerURI.substr(0,10))return i.stickerURI;if(t.includes("imgly_sticker")&&i.stickerURI.includes(".svg")&&Nk()){const i=this.getPath(e,this.getItemPath(this.stickerAssets,t,"stickerURI")).split("/");return i.splice(i.length-1,0,"base"),i[i.length-1]=i[i.length-1].replace(".svg",".png"),i.join("/")}return this.getPath(e,this.getItemPath(this.stickerAssets,t,"stickerURI"))}throw new Error("Cannot resolve this type of sticker asset yet");case"textdesign":return this.getPath(lC(e,"engine"),t);case"frame":return this.getPath(e,t)}throw new Error("Cannot resolve this type of asset yet")}getDuotoneFilterAsset(e){return this.duoToneFilterAssets.filter((t=>t.identifier===e))[0]}getLUTFilterAsset(e){return this.lutFilterAssets.filter((t=>t.identifier===e))[0]}getOverlayAsset(e){return this.overlayAssets.filter((t=>t.identifier===e))[0]}getStickerAsset(e){return this.stickerAssets.filter((t=>t.identifier===e))[0]}getFontAsset(e){const t=this.fontAssets.filter((t=>t.identifier===e))[0];if(t)return t;console.warn("The font asset for ".concat(e," was not found."))}getTextDesignAssets(e){return this.textDesignAssets.filter((t=>t.identifier===e))[0]}getFrameAsset(e){return this.frameAssets.filter((t=>t.identifier===e))[0]}getFontAssets(){return this.fontAssets}getFontAssetsForText(){return this.textToolFontAssets}getFontAssetsForTextDesign(){return this.textDesignToolFontAssets}getFrameAssets(){return this.frameAssets}allOptions(e,t){return Object.prototype.hasOwnProperty.call(t,"items")?[...e,...t.items]:[...e,t]}configuredCategory(e,t,i,r){return t.categories&&t.categories.length?t.categories.reduce(((t,n)=>{const o=e.find((e=>e.identifier===n.identifier));return o?t.push({...o,...n,items:this.configuredItem(n.items,i,o.items,r).filter(Boolean)}):(this.areCustomAssetsAllowed||"transform"===r)&&t.push({...n,items:this.configuredItem(n.items,i,n.items,r).filter(Boolean)}),t}),[]):e}configuredItem(e,t,i,r){return e&&e.length?e.reduce(((e,i)=>{const n=t.find((e=>e.identifier===i.identifier));return n?e.push({...n,...i}):(this.areCustomAssetsAllowed||"transform"===r)&&e.push(i),e}),[]).filter(Boolean):i}},LC=class{static contains(e,t){return t.x>=e.minX&&t.x<=e.maxX&&t.y>=e.minY&&t.y<=e.maxY}constructor(e,t,i,r){if("number"===typeof e){if("number"!==typeof t||void 0===i||void 0===r)throw new Error("Invalid arguments passed to Rect. Expected (number, number, number, number)");this.origin={x:e,y:t},this.size={width:i||0,height:r||0}}else{if(this.origin=e,"number"===typeof t)throw new Error("Invalid arguments passed to Rect. Expected (Float2, Size)");this.size=t}}get minX(){return this.origin.x}get minY(){return this.origin.y}get midX(){return this.origin.x+.5*this.size.width}get midY(){return this.origin.y+.5*this.size.height}get maxX(){return this.origin.x+this.size.width}get maxY(){return this.origin.y+this.size.height}get width(){return this.size.width}get height(){return this.size.height}},UC=LC;UC.ZERO=new LC({x:0,y:0},{width:0,height:0});var NC=class{constructor(e,t,i,r,n,o){this.a=e,this.b=t,this.c=i,this.d=r,this.tx=n,this.ty=o}static fromScale(e,t){return new NC(e,0,0,t,0,0)}static fromRotation(e){const t=Math.cos(e),i=Math.sin(e);return new NC(t,-i,i,t,0,0)}static fromRotationDeg(e){const t=Math.PI*e/180;return this.fromRotation(t)}static fromTranslation(e,t){return new NC(1,0,0,1,e,t)}static fromTRS(e,t,i,r,n){const o=Math.cos(i),s=Math.sin(i);return new NC(r*o,-n*s,r*s,n*o,e,t)}static multiply(e,t){const i=e.a*t.a+e.b*t.c,r=e.a*t.b+e.b*t.d,n=e.c*t.a+e.d*t.c,o=e.c*t.b+e.d*t.d,s=e.a*t.tx+e.b*t.ty+e.tx,a=e.c*t.tx+e.d*t.ty+e.ty;return new NC(i,r,n,o,s,a)}static transformPoint(e,t){return{x:e.a*t.x+e.b*t.y+e.tx,y:e.c*t.x+e.d*t.y+e.ty}}static getInverted(e){const t=e.a*e.d-e.b*e.c;if(0===t)return e;const i=1/t,r=i*e.d,n=-i*e.b,o=-i*e.c,s=i*e.a,a=i*(e.b*e.ty-e.d*e.tx),l=i*(e.c*e.tx-e.a*e.ty);return new NC(r,n,o,s,a,l)}},HC=NC;function jC(e){return"number"===typeof e}HC.IDENTITY=NC.fromScale(1,1);var WC=e=>e<0,VC=e=>WC(e)?-e:e,GC=e=>e*(Math.PI/180),qC=e=>e*(180/Math.PI),XC={0:GC(0),90:GC(90),180:GC(180),270:GC(270)},YC=Object.values(XC),QC=e=>{let t=Math.round(qC(VC(e)));return WC(e)&&(270===t?t=90:90===t&&(t=270)),XC[t%360]},KC=e=>0===e?e:360-VC(e),ZC=e=>((e,t)=>{const i=e.indexOf(t);if(-1!==i&&e.length)return i===e.length-1?e[0]:e[i+1]})(YC,QC(e)),JC=e=>((e,t)=>{const i=e.indexOf(t);if(-1!==i&&e.length)return 0===i?e[e.length-1]:e[i-1]})(YC,QC(e)),$C=e=>{const t=QC(e);return t===XC[270]||t===XC[90]},eT=class{static get IDENTITY(){return new eT({x:0,y:0})}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{x:1,y:1},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this.position=e,this.scale=t,this.rotation=i}};D();var tT={};function iT(e){return void 0!==e.x}function rT(e){return HC.fromTRS(e.position.x,e.position.y,e.rotation,e.scale.x,e.scale.y)}function nT(e){const t=e.getParent(),i=function(e){return e.getBaseLocalToParentMatrix?e.getBaseLocalToParentMatrix():rT(e.getTransform())}(e);if(void 0===t)return i;const r=nT(t);return HC.multiply(r,i)}function oT(e){return e.getLocalToParentMatrix?e.getLocalToParentMatrix():rT(e.getTransform())}function sT(e){const t=e.getParent(),i=oT(e);if(void 0===t)return i;const r=sT(t);return HC.multiply(r,i)}function aT(e,t,i){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const n="output"===t.type&&r?nT(t):sT(t),o="output"===i.type&&r?nT(i):sT(i),s=HC.getInverted(o);return HC.transformPoint(s,HC.transformPoint(n,e))}function lT(e,t,i){const r=new Xk(e,0),n=new Xk(aT(r,t,i)),o=new Xk(aT(Xk.ZERO,t,i));return Xk.distance(o,n)}function cT(e,t,i){const r=iT(e)?e.x:e.width,n=iT(e)?e.y:e.height;return{width:lT(r,t,i),height:lT(n,t,i)}}function uT(e,t){const i=sT(t);return HC.transformPoint(i,e)}function hT(e,t){const i=new Xk(e,0),r=new Xk(uT(i,t)),n=new Xk(uT(Xk.ZERO,t));return Xk.distance(r,n)}function dT(e){const t=sT(e),i=e.getBounds(),r={x:i.width,y:0},n={x:0,y:i.height},o=new Xk(HC.transformPoint(t,Xk.ZERO)),s=new Xk(HC.transformPoint(t,r)),a=new Xk(HC.transformPoint(t,n));return{width:Xk.distance(o,s),height:Xk.distance(o,a)}}function pT(e,t){const i=dT(e),r=t.getTransform().scale,n=1/r.x,o=1/r.y;return{width:i.width*n,height:i.height*o}}function fT(e,t){const i=t.getBounds();return{width:e.width*i.width,height:e.height*i.height}}function gT(e,t){const i=t.getBounds();return{width:e.width/i.width,height:e.height/i.height}}function mT(e,t){let i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=t.getBounds();return{x:e.x*r.width+(i?0:r.minX),y:e.y*r.height+(i?0:r.minY)}}function yT(e,t){let i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=t.getBounds();return{x:(e.x-(i?0:r.minX))/r.width,y:(e.y-(i?0:r.minY))/r.height}}function _T(e,t){const i=aT({x:1,y:0},e,t,!0),r=aT(Xk.ZERO,e,t,!0);return Math.atan2(i.y-r.y,i.x-r.x)}function vT(e){return"string"!==typeof e&&!Array.isArray(e)&&void 0===e.a}function bT(e){return"string"!==typeof e&&Array.isArray(e)&&3===e.length}function xT(e){return"string"!==typeof e&&!Array.isArray(e)&&void 0!==e.a}function wT(e){return"string"!==typeof e&&Array.isArray(e)&&4===e.length}w(tT,{absoluteToRelativePoint:()=>yT,absoluteToRelativeSize:()=>gT,getBaseLocalToWorldMatrix:()=>nT,getLocalToParentMatrix:()=>oT,getLocalToWorldMatrix:()=>sT,getPointInWorldSpace:()=>uT,getRotationBetweenCoordinateSpaces:()=>_T,getScalarInWorldSpace:()=>hT,getSizeInOutputSpace:()=>pT,getSizeInWorldSpace:()=>dT,pointFromSpaceToSpace:()=>aT,rectTransformToAffineTransform:()=>rT,relativeToAbsolutePoint:()=>mT,relativeToAbsoluteSize:()=>fT,scalarFromSpaceToSpace:()=>lT,sizeFromSpaceToSpace:()=>cT});var ST=class{constructor(e,t){this.engine=t,this.transform=eT.IDENTITY,this.canvasPivot={x:0,y:0},this.previewQuality=1,this.canvas=e}get quality(){return this.previewQuality}setQuality(e){this.previewQuality=Math.min(Math.max(e,.01),1)}getTransform(){return this.transform}setTransform(e){this.transform=e}getPosition(){return this.transform.position}setPosition(e,t){let i;i="number"===typeof e?{x:e,y:void 0===t?e:t}:e;const{scale:r}=this.transform,{rotation:n}=this.transform;this.setTransform(new eT(i,r,n))}getScale(){return this.transform.scale}setScale(e,t){let i;i="number"!==typeof e?e:{x:e,y:void 0===t?e:t};const{position:r}=this.transform,{rotation:n}=this.transform;this.setTransform(new eT(r,i,n))}getRotation(){return this.transform.rotation}setRotation(e){const{position:t}=this.transform,{scale:i}=this.transform;this.setTransform(new eT(t,i,e))}getCanvasPivot(){return this.canvasPivot}setCanvasPivot(e,t){this.canvasPivot="number"===typeof e?{x:e,y:void 0===typeof t?e:t}:e}getCanvasBounds(){const e=this.canvasPivot,{width:t,height:i}=this.canvas;return new UC(-e.x*t,-e.y*i,t,i)}};function kT(e){return void 0!==e.getTransform}var CT=e=>2*Math.PI-e,TT=e=>{let{rotation:t,outputRotation:i=0,flipHorizontally:r,flipVertically:n}=e,o=t;return r&&(o=CT(o)),n&&(o=(e=>-e)(o)),o+i};l_(),Ge(),c_(),d_(),p_(),l_();var ET=class{static downloadDataURL(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"photoeditorsdk-export";const i=this.createBlobURLFromDataURL(e),r=this.getExtensionFromDataURL(e),n=document.createElement("a");n.download="".concat(t,".").concat(r),n.href=i,document.body.appendChild(n),n.click(),document.body.removeChild(n)}static downloadMSBlob(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"photoeditorsdk-export";navigator.msSaveBlob&&navigator.msSaveBlob(e,"".concat(t,".png"))}static getExtensionFromDataURL(e){return e.split(",")[0].split(":")[1].split(";")[0].split("/").pop()}static createBlobURLFromDataURL(e){if(!window.Blob||!window.URL||!ArrayBuffer||!Uint8Array)return e;const t=xy.decode(e.split(",")[1]),i=e.split(",")[0].split(":")[1].split(";")[0],r=new ArrayBuffer(t.length),n=new Uint8Array(r);for(let s=0;s<t.length;s++)n[s]=t[s];const o=new window.Blob([r],{type:i});return window.URL.createObjectURL(o)}};l_();var DT=class{constructor(e,t,i){this._sdk=e,this._options=t,this._download=i}export(){const e=this._getRenderType();return this._sdk.export(e,this._options.format,this._options.quality).then((t=>(this._download&&this._downloadData(e,t),t)))}_downloadData(e,t){switch(e){case Dy.DATAURL:ET.downloadDataURL(t,this._options.fileBasename);break;case Dy.MSBLOB:ET.downloadMSBlob(t,this._options.fileBasename)}}_getRenderType(){const e=this._options;return e.type===Dy.IMAGE&&this._download?by.supportsMSBlob()?Dy.MSBLOB:Dy.DATAURL:e.type}};d_(),D(),l_(),l_();var IT=class{constructor(e,t,i){this._editor=e,this._sdk=t,this._mediator=i,this._available=this._sdk.getOperations(),this._map={},this._stack=this._sdk.getOperationsStack(),this._preferredOrder=this._editor.getOptions().editor.operationsOrder,this._fixStack()}exists(e){return!!this._map[e]}add(e){const{identifier:t}=e.constructor;e.on("update",(()=>{this._mediator.emit(hg.EVENTS.OPERATION_UPDATED,e)}));const i=this._preferredOrder.indexOf(t);if(-1===i)throw new Error("EditorOperations#add: `".concat(t,"` does not appear in `operationsOrder`"));this._stack.set(i,e),this._map[t]=e,this._mediator.emit(hg.EVENTS.OPERATION_CREATED,e)}remove(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const i="object"===typeof e?e.constructor.identifier:e,r=this._stack.getStack();e=this.get(i),delete this._map[i];const n=r.map((e=>e.constructor.identifier)).indexOf(i);if(-1!==n){this._stack.removeAt(n);for(let e=n+1;e<r.length;e++){const t=r[e];t&&t.setDirty(!0)}t&&this._mediator.emit(hg.EVENTS.OPERATION_REMOVED,e)}}get(e){return this._map[e]}getOrCreate(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._map[e]){const i=this._map[e];return i.set(t,!1),i}const i=new(0,this._available[e])(this._sdk,t);return this.add(i),i}getStack(){return this._stack}reset(){this._map={}}_fixStack(){const e=this._stack.getStack().slice();this._stack.clear(),e.forEach((e=>{this.add(e)}))}};l_();var RT=class{constructor(e,t,i){this._image=e,this._maxPixels=t,this._maxDimensions=i}needsResize(){const e=new Ay(this._image.width,this._image.height),t=e.x*e.y>this._maxPixels,i=null!==this._maxDimensions&&(e.x>this._maxDimensions||e.y>this._maxDimensions);return t||i}resize(){let e=null,t=null;const i=this._maxDimensions;return new Promise(((r,n)=>{window.setTimeout((()=>{const n=new Ay(this._image.width,this._image.height).clone();if(n.x*n.y>this._maxPixels&&(n.copy(this._getDimensionsByMaxPixels()),e="maxMegaPixels"),null!==i&&(n.x>i||n.y>i)){const t=Math.min(i/n.x,i/n.y);n.multiply(t),e="maxDimensions"}n.floor(),t=this._createResizedImageCanvas(n),r({canvas:t,dimensions:n,reason:e})}),1e3)}))}_createResizedImageCanvas(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;const i=this._image,r=document.createElement("canvas");r.width=e.x,r.height=e.y;const n=e.clone().subtract(t).divide(2);return r.getContext("2d").drawImage(i,0,0,i.width,i.height,n.x,n.y,t.x,t.y),r}_getDimensionsByMaxPixels(){const e=this._image,t=this._maxPixels,i=e.width/e.height,r=e.height/e.width;return new Ay(Math.sqrt(t*i),Math.sqrt(t*r)).floor()}},FT=class extends ky{constructor(e,t,i){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];super(),this._ui=e,this._options=t,this._mediator=i,this._shallow=r,r||(this._initSDK(),this.operations=new IT(this,this._sdk,this._mediator))}_initFonts(){const e=Ey.defaults(this._options.editor.controlsOptions.text,{additionalFonts:[],replaceFonts:!1,availableVariations:null});this._fontManager=new Ny(this._ui,e);const t=this._fontManager.getFonts(),i=this._ui.getFontLoader();i.setFonts(t),i.load()}setImage(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._options.editor.image;(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.reset();let t=null;t=this._sdk.parseExif(e),this._setImage(e,t)}_initSDK(){const{logLevel:e,displayWelcomeMessage:t,debug:i,license:r,crossOrigin:n,watermark:o}=this._options,{smoothDownscaling:s,smoothUpscaling:a,preferredRenderer:l,pixelRatio:c,transparent:u,clearColor:h}=this._options.editor;let d;Array.isArray(h)?d=wy.fromArray(h):"string"===typeof h?d=wy.fromHex(h):h instanceof wy&&(d=h.clone());const p={logLevel:e,debug:i,displayWelcomeMessage:t,pixelRatio:c,smoothDownscaling:s,smoothUpscaling:a,transparent:u,crossOrigin:n,clearColor:d,license:r,watermark:o};this._sdk=new Ry(l,p)}getMaxMegapixels(){const{maxMegaPixels:e}=this._options.editor;return e}getCrossOrigin(){return Ey.getCrossOriginValue(this._options.crossOrigin||"anonymous")}getOutputDimensions(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this._sdk.getOutputDimensions(e)}getOutputTextureDimensions(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this._sdk.getOutputTextureDimensions(e)}getFinalDimensions(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this._sdk.getFinalDimensions(e)}_setImage(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._options.editor.image,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this._sdk.setAllOperationsToDirty(),this._options.editor.image=e,this._sdk.setImage(e,t)}_ensureImageIsResized(){const e=this._sdk.getImage(),t=this._sdk.getRenderer(),i=this.getMaxMegapixels(),r=i?1e6*i:null,n=t.getMaxDimensions(),o=new RT(e,r,n);return!this._resizedImage&&o.needsResize()?o.resize().then((e=>{let{canvas:t,dimensions:i,reason:r}=e;return this._resizedImage=t,this._sdk.setImage(t),t})):Promise.resolve(e)}export(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this._watermarkOperation&&this._watermarkOperation.setEnabled(!1),this._sdk.setAllOperationsToDirty(),this._ensureImageIsResized().then((t=>{const i=this._options.editor.export;return new DT(this._sdk,i,e).export().then((e=>(this.emit("export",e),this._mediator.emit(hg.EVENTS.EXPORT,e,this),this._watermarkOperation&&(this._watermarkOperation.setEnabled(!0),this._sdk.render()),this._sdk.setAllOperationsToDirty(),e)))}))}broadcastTransform(e,t){const i=new Ry.Operations.TransformOperation.TransformChange(e,t);["sprite","selective-blur","radial-focus","mirrored-focus","linear-focus","blur"].forEach((e=>{const t=this.operations.get(e);t&&t.transform(i)}))}broadcastFlip(e){["mirrored-focus","radial-focus","linear-focus","sprite","selective-blur"].forEach((t=>{const i=this.operations.get(t);i&&i.flip(e)}))}broadcastRotate(e){["transform","mirrored-focus","linear-focus","radial-focus","sprite","selective-blur"].forEach((t=>{const i=this.operations.get(t);i&&i.rotate(e)}))}_initSerializers(){this._serializers={"1.0.0":(R_(),C(C_)).default,"1.0.1":(V_(),C(O_)).default,"2.0.0":(rv(),C(Z_)).default,"3.0.0":(hv(),C(av)).default,"3.1.0":(_v(),C(fv)).default,"3.2.0":(Cv(),C(xv)).default,"3.4.0":(Av(),C(Dv)).default,"3.5.0":(Uv(),C(Pv)).default,"3.6.0":(qv(),C(jv)).default,"3.7.0":($v(),C(Qv)).default,"3.8.0":(ab(),C(ib)).default,"3.9.0":(fb(),C(ub)).default,"3.12.0":(_b(),C(yb)).default}}serialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"3.12.0";const i=this._serializers[t];if(!i)return Promise.reject(new Error("No serializer for version ".concat(t," found.")));return new i(this).serialize(e)}deserialize(e){const t=this._serializers[e.version];if(!t)return Promise.reject(new Error("No serializer for version ".concat(e.version," found.")));return new t(this).deserialize(e)}save(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const i=this._options.editor.save;return this.serialize({image:t}).then((t=>{const r=JSON.stringify(t,null,2);if(e){const e="data:text/json;charset=utf-8;base64,".concat(window.encodeURI(window.btoa(r)));ET.downloadDataURL(e,i.fileBasename)}return r}))}reset(){this._sdk.reset(),this.operations.reset()}dispose(){this.stop(),this._resizedImage&&n(this._resizedImage),this._sdk.dispose()}getRenderer(){return this._sdk.getRenderer()}getSDK(){return this._sdk}getInputDimensions(){return this._sdk.getInputDimensions()}getImage(){return this._sdk.getImage()}getOptions(){return this._options}getUI(){return this._ui}getMediator(){return this._mediator}};v_();var AT=class extends ky{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(),this._mediator=new ky,this._fontLoader=new Qy(this),this._options=e,this._initOptions(),this._initEvents(),this._disposed=!1,this._isReady=!1,this._editor=new FT(this,this._options,this._mediator),this._options.editor.image&&this._editor.setImage(this._options.editor.image),this._mediator.once(hg.EVENTS.EDITOR_READY,(()=>{this._isReady=!0})),fe.setLevel(this._options.logLevel)}export(){return this._editor.export(...arguments)}serialize(){return this._editor.serialize(...arguments)}deserialize(e){return this._editor.deserialize(e)}getEditor(){return this._editor}isReady(){return this._isReady}onReady(e){this._isReady?e():this._mediator.once(hg.EVENTS.EDITOR_READY,e)}createFilter(e){return new zy(this,this._getOptions("filter")).instantiateFilterWithIdentifier(e)}getTextDesignLayoutByID(e){return new(new Hy(this,this._getOptions("textDesign")).getLayoutByIdentifier(e))}getTextDesignAssetManager(){return Ry.Operations.SpriteOperation.TextDesignSprite.AssetManager}getTextDesignFontManager(){return new Ny(this,{fonts:hg.DEFAULTS.TEXT_DESIGN_FONTS,replaceFonts:!0,isTextDesign:!0})}_getOptions(e){const t=this.getEditor(),{controls:i}=t;let r={};i&&i.get(e)&&(r=i.get(e).defaultOptions);const n=t.getOptions();return Ey.deepDefaults({},n.editor.controlsOptions[e]||{},r)}_initOptions(){if(this._options=Ey.defaults(this._options,{language:"en",logLevel:"warn",crossOrigin:"anonymous",editor:{},assets:{},responsive:!1,preloader:!0,autoRun:!0}),this._options.editor=Ey.defaults(this._options.editor||{},{enableZoom:!0,enableDrag:!0,enableExport:!0,enableKeyboardControls:!0,enablePositionSnapping:!0,enableRotationSnapping:!0,enableSave:!1,enableLoad:!1,pixelRatio:Math.max("undefined"!==typeof window&&window.devicePixelRatio||1,1),preferredRenderer:"webgl",transparent:!0,clearColor:[0,0,0,0],displayResizeMessage:!0,maxMegaPixels:{},displayCloseButton:!1,undoMode:"global",defaultControl:"filter",forceCrop:!1,snappingOptions:{},tools:["transform","filter","adjustments","focus","text","textdesign","sticker","brush","frame","overlay","library","artfilter"],controlsOrder:[["library"],["artfilter","transform","filter","adjustments","focus"],["text","textdesign","sticker","brush","frame","overlay"]],operationsOrder:["exif-orientation","artfilter","orientation","transform","filter","adjustments","radial-focus","mirrored-focus","linear-focus","blur","selective-blur","overlay","sprite","frame"],controlsOptions:{focus:{highQualityCanvasBlur:!1}}}),this._options.editor.snappingOptions=Ey.defaults(this._options.editor.snappingOptions,{position:{},rotation:{}}),this._options.editor.snappingOptions.position=Ey.defaults(this._options.editor.snappingOptions.position,{padding:{},threshold:20}),this._options.editor.snappingOptions.position.padding=Ey.defaults(this._options.editor.snappingOptions.position.padding,{left:.1,right:.1,top:.1,bottom:.1}),this._options.editor.snappingOptions.rotation=Ey.defaults(this._options.editor.snappingOptions.rotation,{angles:[0,45,90,135,180,225,270,315],threshold:20}),this._options.editor.controlsOptions.focus=Ey.defaults(this._options.editor.controlsOptions.focus,{highQualityCanvasBlur:!1}),this._options.editor.maxMegaPixels=Ey.defaults(this._options.editor.maxMegaPixels,{mobile:5,desktop:10}),this._options.editor.export=Ey.defaults(this._options.editor.export||{},{format:"image/png",type:Dy.IMAGE,download:!0,fileBasename:"photoeditorsdk-export",quality:.8}),this._options.editor.save=Ey.defaults(this._options.editor.save||{},{format:"text/json",download:!0,fileBasename:"photoeditorsdk-save"}),this._options.extensions=Ey.defaults(this._options.extensions||{},{languages:{},operations:[],controls:[]}),this._options.assets=Ey.defaults(this._options.assets||{},{baseUrl:"assets",resolver:null}),!(this._options.editor.image instanceof window.Image)){const e=new window.Image;this._options.editor.image&&(e.src=this._options.editor.image,this._options.editor.image=e)}}_initEvents(){this._mediator.pipeEvents(this)}_disposeEvents(){this._mediator.unpipeEvents(this)}setImage(e){this._editor.setImage(e)}getAssetPath(e){let{baseUrl:t,resolver:i}=this._options.assets,r="".concat(t,"/").concat(e);i=i||(e=>e),e.match(/(ftp|http|https):\/\//)&&(r=e);const n=e.replace(/assets\//,"").split("/");let o={};switch(n[0]){case"art-filters":return o={identifier:n[1],type:n[2].split(".")[0]},i("art-filter",o);case"filters":return o={identifier:n[1].replace(/\.png$/g,"")},i("filter",o);case"fonts":return o={identifier:n[1].replace(/\.(woff|otf|ttf)$/g,"")},i("font",o);case"frames":return o={identifier:n[1],filename:n[2]},i("frame",o);case"overlays":return o={identifier:n[1].replace(/\.(png|jpg|jpeg)$/g,"")},i("overlay",o);case"stickers":{const e=n[3].endsWith(".svg"),t="thumbs"===n[3];return o={category:n[1],identifier:(e?n[3]:n[4]).replace(/\.(png|svg)$/g,""),variant:e?"svg":t?"thumb":"base"},i("sticker",o)}case"text-design":return o={type:"fonts"===n[1]?"font":"image",identifier:n[2].replace(/\.(png|otf|ttf|woff2?)$/g,"")},i("text-design",o)}return"undefined"!==typeof i&&null!==i&&(r=i(r)),r}getFontLoader(){return this._fontLoader}dispose(){if(this._disposed)throw new Error("This instance of PhotoEditorSDK is already disposed.");this._disposed=!0,this._disposeEvents()}render(e){return this.deserialize(e).then((()=>this.export()))}};AT.prototype.identifier="engine-wrapper",AT.Constants=hg,AT.Events=hg.EVENTS,AT.Utils=by,AT.JSONLoader=We,AT.SDK=Ry;var OT=class extends Bk{constructor(e){super(),this.config=e}getOutputDimensions(){const e=this.getOutputContainer();return e?e.getResolution():{width:0,height:0}}getSmallerOutputSide(){const e=this.getOutputContainer();if(!e)return 0;const t=e.getResolution();return Math.min(t.width,t.height)}convertPointFromPreviewIntoOutputSpace(e,t){const i=HC.getInverted(tT.rectTransformToAffineTransform(t));return HC.transformPoint(i,e)}convertPointFromPreviewIntoWorldSpace(e,t,i){const r=HC.getInverted(tT.rectTransformToAffineTransform(t)),n=i?this.getOutputContainer().getBaseLocalToParentMatrix():this.getOutputContainer().getLocalToParentMatrix(),o=HC.multiply(n,r);return HC.transformPoint(o,e)}convertPointFromPreviewIntoFlippedPreviewSpace(e){const t=this.getOutputContainer().getFlipTransformMatrix();return HC.transformPoint(t,e)}convertPointFromWorldIntoPreviewSpace(e,t){const i=tT.rectTransformToAffineTransform(t),r=HC.getInverted(this.getOutputContainer().getLocalToParentMatrix()),n=HC.multiply(i,r);return HC.transformPoint(n,e)}convertPointFromOutputIntoPreviewSpace(e,t){const i=tT.rectTransformToAffineTransform(t);return HC.transformPoint(i,e)}getContainersAtPreviewPoint(e,t){const i=new Array,r=this.convertPointFromPreviewIntoWorldSpace(e,t),n=this.getRootContainers();for(const o of n)this.accumulateContainersAtWorldPointInHierarchy(r,o,i);return i}isPreviewPointInContainer(e,t,i){const r=this.convertPointFromPreviewIntoWorldSpace(e,i);return this.isWorldPointInContainer(r,t)}isWorldPointInContainer(e,t){const i=tT.getLocalToWorldMatrix(t),r=HC.getInverted(i),n=HC.transformPoint(r,e);return UC.contains(t.getBounds(),n)}accumulateContainersAtWorldPointInHierarchy(e,t,i){this.isWorldPointInContainer(e,t)&&i.push(t);const r=t.getChildren();for(const n of r)kT(n)&&this.accumulateContainersAtWorldPointInHierarchy(e,n,i)}},MT=class{constructor(e){this.engine=e,this.id=Gk()}getID(){return this.id}getContainer(){return this.engine.getRootContainers()[0]}getIndexInParent(){const{rootOperations:e}=this.engine;for(let t=0;t<e.length;t+=1)if(e[t].getID()===this.id)return t;return-1}setIndexInParent(e){this.engine.moveIndex(this,e)}isValid(){return-1!==this.getIndexInParent()}},PT=class extends MT{constructor(e,t,i){super(t),this.operation=i,this.type="adjustments",this.setProperties(e)}getProperties(){const e=this.operation.getOptions(),t=e.gamma-1;return{brightness:e.brightness||0,saturation:e.saturation||0,contrast:e.contrast||0,gamma:(t<0?2*t:t)||0,clarity:e.clarity||0,exposure:e.exposure||0,shadows:.5*e.shadows||0,highlights:e.highlights||0,whites:e.whites||0,blacks:e.blacks||0,temperature:e.temperature||0,sharpness:e.sharpness||0}}setProperties(e){void 0!==e.gamma&&(e.gamma=1+(e.gamma<0?.5*e.gamma:e.gamma)),e.shadows&&(e.shadows=2*e.shadows),this.operation.set(e)}getOperation(){return this.operation}getTypeIdentifier(){return"adjustments"}},zT=e=>{if(xT(e))return new Ry.Color(e.r,e.g,e.b,e.a);if(wT(e))return new Ry.Color(e[0],e[1],e[2],e[3]);if(vT(e))return new Ry.Color(e.r,e.g,e.b,1);if(bT(e))return new Ry.Color(e[0],e[1],e[2],1);if(function(e){return"string"===typeof e}(e)){const[t,i,r]=e.match(/[0-9A-fa-f]{1,2}/g);return new Ry.Color(parseInt(t,16)/255,parseInt(i,16)/255,parseInt(r,16)/255,1)}throw new Error("Invalid color type")},BT=class{get x(){return this._x}get y(){return this._y}constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this._x=e,this._y=t}set(e,t){return this._x=e,this._y=t,this}clone(){return new BT(this._x,this._y)}copy(e){return this._x=e.x,this._y=e.y,this}clamped(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this,i="number"===typeof e?{x:e,y:e}:e,r="number"===typeof t?{x:t,y:t}:t;return this._x=Math.max(i.x,this._x),this._y=Math.max(i.y,this._y),this._x=Math.min(r.x,this._x),this._y=Math.min(r.y,this._y),this}divide(e,t){return"number"===typeof e||null===e?(this._x/=e,this._y/="undefined"===typeof t?e:t):(this._x/=e.x,this._y/=e.y),this}subtract(e,t){return"number"===typeof e||null===e?(this._x-=e,this._y-="undefined"===typeof t?e:t):(this._x-=e.x,this._y-=e.y),this}multiply(e,t){return"number"===typeof e||null===e?(this._x*=e,this._y*="undefined"===typeof t?e:t):(this._x*=e.x,this._y*=e.y),this}add(e,t){return"number"===typeof e||null===e?(this._x+=e,this._y+="undefined"===typeof t?e:t):(this._x+=e.x,this._y+=e.y),this}dot(e,t){return"number"===typeof e||null===e?this._x*e+this._y*("undefined"===typeof t?e:t):this._x*e.x+this._y*e.y}equals(e,t){return"number"===typeof e||null===e?e===this._x&&t===this._y:e.x===this._x&&e.y===this._y}flip(){let e=this._x;return this._x=this._y,this._y=e,this}round(){return this._x=Math.round(this._x),this._y=Math.round(this._y),this}ceil(){return this._x=Math.ceil(this._x),this._y=Math.ceil(this._y),this}floor(){return this._x=0|this._x,this._y=0|this._y,this}abs(){return this._x=Math.abs(this._x),this._y=Math.abs(this._y),this}len(){return Math.sqrt(this._x*this._x+this._y*this._y)}min(){return Math.min(this._x,this._y)}max(){return Math.max(this._x,this._y)}toObject(){return{x:this._x,y:this._y}}toString(){return"Vector2({ x: ".concat(this._x,", y: ").concat(this._y," })")}roundDecimal(e){return this._x=parseFloat(this._x.toFixed(e)),this._y=parseFloat(this._y.toFixed(e)),this}asArray(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]?[this._y,this._x]:[this._x,this._y]}static fromObject(e){return new BT(e.x,e.y)}static fromSize(e){return new BT(e.width,e.height)}static get NULL(){return new BT(0,0)}},LT=class{constructor(e){this.engine=e,this.id=Gk(),this.transform=eT.IDENTITY,this.bounds=UC.ZERO}getID(){return this.id}getParent(){const e=this.engine.getRootContainers();if(0!==e.length&&this.id!==e[0].id)return e[0]}getIndexInParent(){const{rootOperations:e}=this.engine;for(let t=0;t<e.length;t+=1)if(e[t].getID()===this.id)return t;return-1}setIndexInParent(e){this.engine.moveIndex(this,e)}getChildren(){const e=this.engine.getRootContainers();return e.length>0&&(this.id===e[0].id||this.id===this.engine.getOutputContainer().id)?this.engine.rootOperations:[]}getBounds(){return this.bounds}setPivotOnSelfAndSprite(e,t,i){"number"===typeof t?(this.setPivotInternal(t,i),e.setPivot(new BT(t,i))):(this.setPivotInternal(t),e.setPivot(BT.fromObject(t)))}setPivot(e,t){this.setPivotInternal(e,t)}getPivot(){const e=this.getBounds();return{x:-e.minX/e.width,y:-e.minY/e.height}}getTransform(){return this.transform}setTransform(e){this.transform=e}updateTransform(){this.setTransform(this.transform)}getPosition(){return this.transform.position}setPosition(e,t){let i;i="number"===typeof e?{x:e,y:void 0===t?e:t}:e;const{scale:r}=this.transform,{rotation:n}=this.transform;this.setTransform(new eT(i,r,n))}getScale(){return this.transform.scale}setScale(e,t){let i;i="number"!==typeof e?e:{x:e,y:void 0===t?e:t};const{position:r,rotation:n}=this.transform;this.setTransform(new eT(r,i,n))}getRotation(){return this.transform.rotation}setRotation(e){const{position:t,scale:i}=this.transform;this.setTransform(new eT(t,i,e))}getSizeInWorldSpace(){return tT.getSizeInWorldSpace(this)}getSizeInOutputSpace(){return tT.getSizeInOutputSpace(this,this.engine.getOutputContainer())}setSizeInWorldSpace(e){const t=this.getBounds();this.setScale(e.width/t.width,e.height/t.height)}setSizeInOutputSpace(e){const t=this.engine.getOutputContainer().getScale();this.setSizeInWorldSpace({width:e.width/t.x,height:e.height/t.y})}isValid(){return-1!==this.getIndexInParent()}setPivotInternal(e,t){const i=this.getBounds();"number"===typeof e?this.setBoundsFromSize(i.width,i.height,{x:e,y:t}):this.setBoundsFromSize(i.width,i.height,e)}setBoundsFromSize(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.getPivot();this.bounds=new UC(-i.x*e,-i.y*t,e,t)}},UT=class extends LT{constructor(e,t){super(t),this.type="drawing",this.drawing=e,this.operation=t.createSpriteOperation(),this.sprite=this.operation.createBrush({}),this.operation.addSprite(this.sprite),this.radialBrush=this.sprite._createRadialBrush();const i=t.getRootContainers()[0].getBounds();this.bounds=new UC(0,0,i.width,i.height),this.setTransform(eT.IDENTITY),this.operation.setDirty(!0),this.setData(e)}beginStroke(e){if(this.currentStroke)throw new Error("A brush stroke has already been started but not finished.");if("imgly_brush_radial"!==e.id)throw new Error("This adapter does not support any brush faces other than the radial img.ly brush.");this.currentBrush=e,this.currentStroke={brush:e,path:{controlPoints:[]}},this.radialBrush.setColor(zT(e.color)),this.radialBrush.setHardness(e.hardness),this.radialBrush.setSize(e.size),this.currentPath=this.sprite.createPath(this.radialBrush.clone())}addPointToCurrentStroke(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!this.currentStroke||!this.currentBrush||!this.currentPath)throw new Error('A brush stroke has to first be started with a call to "beginStroke(brush:Brush)"');if(this.currentStroke.path.controlPoints.length){const t=this.currentStroke.path.controlPoints,i=t[t.length-1],r=this.currentBrush.size/10;if(Math.sqrt(e.x-i.x**2+(e.y-i.y**2))<r)return}const i=this.engine.getOutputContainer(),r=this.engine.getRootContainers()[0],n=tT.pointFromSpaceToSpace(e,r,i,!0),o=tT.absoluteToRelativePoint(n,i,!1),s=i.getBounds();this.currentPath.addControlPoint(BT.fromObject(o)),this.currentStroke.path.controlPoints.push(e),t&&this.sprite.render(BT.fromObject({x:s.width,y:s.height}))}endStroke(){if(!this.currentStroke||!this.currentPath||!this.currentBrush)return;this.currentStroke.path.controlPoints.length&&this.drawing.strokes.push(this.currentStroke),this.currentStroke=void 0,this.currentBrush=void 0,this.currentPath.setClosed(!0);const e=this.engine.getOutputContainer().getBounds();this.sprite.render(BT.fromObject({x:e.width,y:e.height})),this.currentPath=void 0}setData(e){this.drawing={...this.drawing,...e},this.drawing.strokes&&(this.drawing.strokes=[]),this.sprite.clearPersistCanvas(),this.sprite.clearCanvas(),this.sprite.setPaths([]),this.drawStrokes(e.strokes)}getData(){return this.drawing}updateData(){this.setData(this.getData())}getOperation(){return this.operation}drawStrokes(e){e.forEach((e=>{this.beginStroke(e.brush),e.path.controlPoints.forEach((e=>{this.addPointToCurrentStroke(e,!0)})),this.endStroke()}))}},NT=class extends MT{constructor(e,t,i,r){super(r),this.filterOperation=t,this.type="duotone-filter",t.set({intensity:i.colorIntensity}),t.set({filter:e}),r.pesdk.setAllOperationsToDirty()}getProperties(){return{colorIntensity:this.filterOperation.getOptions().intensity}}setProperties(e){let t=this.filterOperation.getOptions().intensity;void 0!==e.colorIntensity&&(t=Math.min(Math.max(e.colorIntensity,0),1)),this.filterOperation.set({intensity:t})}getOperation(){return this.filterOperation}getTypeIdentifier(){return"filter"}},HT=class{constructor(e,t){this.engine=t,this.loaded=!1,this.loading=!1,this.asset={...e}}async load(){if(this.loaded)return Promise.resolve();if(this.loading)return Promise.reject(new Error("Called Frame#load while it's already loading"));this.loading=!0;const{imageGroups:e}=this.asset,t=[];return["top","left","right","bottom"].forEach((i=>{if(!e[i])return;const r=e[i];["start","mid","end"].forEach((e=>{e in r&&t.push(this.loadPart(i,e))}))})),Promise.all(t).then((()=>{this.loaded=!0,this.loading=!1})).catch((()=>{this.loaded=!1,this.loading=!1}))}getFrame(){return{...this.asset,defaultName:this.asset.name,thumbnail:this.asset.thumbnailURI}}getIdentifier(){return this.asset.identifier}getDefaultName(){return this.asset.name}getThumbnail(){return this.asset.thumbnailURI}getTintable(){return this.asset.tintable||!1}getLayoutMode(){return this.asset.layoutMode}getImageGroups(){return this.asset.imageGroups}async loadPart(e,t){return new Promise(((i,r)=>{const{imageGroups:n}=this.asset,o=n[e][t];let s=o;"string"!==typeof o&&"image"in o&&(s=o.image);const a=new Image;a.addEventListener("load",(()=>{"string"!==typeof o?this.asset.imageGroups[e][t].image=a:this.asset.imageGroups[e][t]=a,i(a)})),a.addEventListener("error",(()=>{r(new Error("Failed to load image at ".concat(a.src)))})),a.crossOrigin=this.engine.configuration.crossOrigin||"anonymus",a.src=this.engine.assetProvider.getAssetSource("frame",s)}))}},jT=class extends MT{constructor(e,t,i){super(i),this.frameOperation=e,this.type="frame",this.setProperties(t),i.pesdk.setAllOperationsToDirty()}setProperties(e){if(this.props={...this.props,...e},"number"===typeof e.opacity&&this.frameOperation.set({alpha:e.opacity}),e.tintColor&&this.frameOperation.set({tintColor:zT(e.tintColor)}),e.width){const t=this.engine.getOutputContainer().getBounds(),i=Math.min(t.width,t.height),r=e.width/i;this.frameOperation.set({scale:r})}this.frameOperation.setDirty(!0)}getProperties(){return this.props}getOperation(){return this.frameOperation}getTypeIdentifier(){return"frame"}},WT=class extends MT{constructor(e,t,i){super(t),this.blurOperation=i,this.type="gaussian-blur",this.setProperties(e)}getProperties(){const e=this.engine.getOutputContainer(),t=e.getBounds(),i=Math.min(t.size.width,t.size.height);return{blurRadius:tT.scalarFromSpaceToSpace(this.blurOperation.getOptions().blurRadius*i,e,this.getContainer())}}setProperties(e){if(void 0!==e.blurRadius){const t=this.engine.pesdk.getOutputDimensions(),i=Math.min(t.x,t.y),r=this.getContainer(),n=this.engine.getOutputContainer(),o=tT.scalarFromSpaceToSpace(e.blurRadius,r,n)/i;this.blurOperation.set({blurRadius:o})}}getOperation(){return this.blurOperation}getTypeIdentifier(){return"blur"}},VT=class extends LT{constructor(e,t){super(t),this.data=e,this.type="image",this.dispose=()=>{var e;(null==(e=this.data)?void 0:e.image)instanceof HTMLCanvasElement&&n(this.data.image)};const i=t.configuration.downscaleOptions;if(i){const{maxDimensions:e}=i;this.downscaleOptions={maxMegaPixels:i.maxMegaPixels,maxDimensions:{width:Math.min(t.maxTextureDimension,e?e.width:Number.MAX_VALUE),height:Math.min(t.maxTextureDimension,e?e.height:Number.MAX_VALUE)}}}else this.downscaleOptions={maxDimensions:{width:t.maxTextureDimension,height:t.maxTextureDimension}};this.setData(e);const{image:r}=this.data;this.bounds=new UC(Xk.ZERO,{width:r.width,height:r.height})}setData(e){if(this.data={...this.data,...e},e.image){let t,{image:i}=e;if(i instanceof HTMLImageElement&&(t=this.engine.pesdk.parseExif(i),t)){const e=t.getTags();if(e&&e.Orientation){const r=1!==e.Orientation&&2!==e.Orientation,n=-1!==[2,4,5,7].indexOf(e.Orientation);if(r||n){if(Nk()||Uk()||!CSS.supports("image-orientation","from-image")){const t=this.engine.pesdk.createOperation("exif-orientation",{},!1);t.setTags(e),i=t.applyTo(i)}t.setOrientation(1),e.Orientation=1}}}const r=new oC(i,this.downscaleOptions);r.on("imageDownscaled",(e=>{let{width:t,height:i}=e;this.engine.emit("imageDownscaled",{width:t,height:i})})),r.on("beganImageDownscaling",(()=>{this.engine.emit("beganImageDownscaling")})),i=r.downscaleIfNecessary(),this.data.image=i,this.engine.pesdk.setImage(i,t),this.setBoundsFromSize(i.width,i.height)}}getData(){return this.data}setPivot(e,t){throw new Error("This container does not support modifying the pivot")}getOperation(){throw new Error("This container has no associated operation")}},GT=class extends MT{constructor(e,t,i){super(t),this.props=e,this.blurOperation=i,this.type="linear-blur",this.setProperties(e)}getProperties(){return this.props}setProperties(e){this.props={...this.props,...e};const t=this.blurOperation.getOptions(),i=this.engine.getOutputContainer(),r=i.getBounds(),n=this.getContainer(),o=i.getBaseLocalToParentMatrix(),s=tT.getBaseLocalToWorldMatrix(n),a=HC.multiply(HC.getInverted(o),s),l=Math.min(r.size.width,r.size.height);if(void 0!==e.blurRadius){const r=tT.scalarFromSpaceToSpace(e.blurRadius,n,i);t.blurRadius=r/l}if(void 0!==e.start){const r=HC.transformPoint(a,e.start),n=tT.absoluteToRelativePoint(r,i,!1);t.controlPoint1=n}if(void 0!==e.end){const r=HC.transformPoint(a,e.end),n=tT.absoluteToRelativePoint(r,i,!1);t.controlPoint2=n}this.blurOperation.set(t)}updateProperties(){const e=this.getProperties();this.setProperties(e)}getOperation(){return this.blurOperation}getTypeIdentifier(){return"linear-focus"}},qT=class extends MT{constructor(e,t,i,r){super(r),this.filter=e,this.filterOperation=t,this.props=i,this.type="lut-filter",t.set({intensity:i.intensity}),t.set({filter:e}),r.pesdk.setAllOperationsToDirty()}getProperties(){return{intensity:this.filterOperation.getOptions().intensity,lutImage:this.props.lutImage,horizontalTileCount:this.props.horizontalTileCount,verticalTileCount:this.props.verticalTileCount}}setProperties(e){const t=this.filterOperation.getOptions(),i="number"===typeof e.intensity?e.intensity:t.intensity;this.filterOperation.set({intensity:i})}getOperation(){return this.filterOperation}getTypeIdentifier(){return"filter"}},XT=class extends MT{constructor(e,t,i){super(t),this.props=e,this.blurOperation=i,this.type="mirrored-blur",this.setProperties(e)}getProperties(){return this.props}setProperties(e){this.props={...this.props,...e};const t=this.blurOperation.getOptions(),i=this.engine.getOutputContainer(),r=i.getBounds(),n=this.getContainer(),o=i.getBaseLocalToParentMatrix(),s=tT.getBaseLocalToWorldMatrix(n),a=HC.multiply(HC.getInverted(o),s),l=Math.min(r.size.width,r.size.height);if(void 0!==e.blurRadius){const r=tT.scalarFromSpaceToSpace(e.blurRadius,n,i);t.blurRadius=r/l}if(void 0!==e.gradientSize){const r=tT.scalarFromSpaceToSpace(e.gradientSize,n,i)/l;t.gradientSize=r}if(void 0!==e.clearAreaWidth){const r=tT.scalarFromSpaceToSpace(e.clearAreaWidth,n,i)/l;t.size=.5*r}if(void 0!==e.mirrorAxisOrigin){const r=HC.transformPoint(a,e.mirrorAxisOrigin),n=tT.absoluteToRelativePoint(r,i,!1);t.start=n}if(void 0!==e.mirrorAxisDirection){const r=HC.transformPoint(a,e.mirrorAxisDirection),n=tT.absoluteToRelativePoint(r,i,!1);t.end=n}this.blurOperation.set(t)}updateProperties(){const e=this.getProperties();this.setProperties(e)}getOperation(){return this.blurOperation}getTypeIdentifier(){return"mirrored-focus"}},YT=class extends LT{constructor(e,t,i,r){super(r),this.settings=e,this.operation=t,this.flipOperation=i,this.type="output",this.flipTransform=HC.IDENTITY,this.blockTransformUpdate=!1,this.transformUpdateWhileBlock=!1,this.bounds=new UC({x:0,y:0},this.settings.resolution),this.setData(e)}pauseChildrenUpdates(){this.transformUpdateWhileBlock=!1,this.blockTransformUpdate=!0}resumeChildrenUpdates(){this.blockTransformUpdate=!1,this.transformUpdateWhileBlock&&this.updateChildrenContainers()}setData(e){if(this.settings={...this.settings,...e},e.resolution&&(this.setBoundsFromSize(e.resolution.width,e.resolution.height),this.setTransform(this.transform),this.operation.set({outputResolution:new BT(e.resolution.width,e.resolution.height)})),void 0!==e.flipHorizontally){const t=e.flipHorizontally;this.updateFlipTransform(),this.flipOperation.set({flipHorizontally:t})}if(void 0!==e.flipVertically){const t=e.flipVertically;this.updateFlipTransform(),this.flipOperation.set({flipVertically:t})}this.operation.setDirty(!0),this.flipOperation.setDirty(!0)}getData(){return this.settings}setResolution(e){this.setData({resolution:e})}getResolution(){return this.getData().resolution}setTransform(e){if(this.transform.rotation!==e.rotation||this.transform.position!==e.position||this.transform.scale!==e.scale){this.transform=e;const t=this.flipTransform;this.flipTransform=HC.IDENTITY;const i=this.engine.getRootContainers()[0],r=tT.pointFromSpaceToSpace({x:0,y:0},i,this),n=-e.rotation,o=BT.fromObject(r).clone().subtract(BT.fromObject(this.getBounds().origin));this.operation.set({pivot:new BT(0,0),position:o,scale:new BT(1/e.scale.x,1/e.scale.y),rotation:n}),this.flipTransform=t,this.operation.setDirty(!0),this.updateChildrenContainers()}}rotate(e,t){const i=this.getPivot(),r=this.getBounds(),n={x:r.midX,y:r.midY},o=tT.getPointInWorldSpace(n,this);this.setPivot(.5,.5),this.setPosition(o),this.setRotation(e),this.setResolution(t);const s={x:-t.width*(.5-i.x),y:-t.height*(.5-i.y)},a=tT.getPointInWorldSpace(s,this);this.setPivot(i),this.setPosition(a),this.updateChildrenContainers()}setPivot(e,t){super.setPivotInternal(e,t),this.setTransform(this.transform)}getTransform(){return this.transform}getBaseLocalToParentMatrix(){return tT.rectTransformToAffineTransform(this.getTransform())}getLocalToParentMatrix(){const e=tT.rectTransformToAffineTransform(this.getTransform());return HC.multiply(e,this.flipTransform)}getFlipTransformMatrix(){return this.flipTransform}isValid(){return!0}getOperation(){return this.operation}updateFlipTransform(){const{flipHorizontally:e,flipVertically:t}=this.settings;if(e||t){const i=this.getPivot(),r=this.getBounds(),n=e?-1:1,o=e?-2*(i.x-.5)*r.width:0,s=t?-1:1,a=t?-2*(i.y-.5)*r.height:0;this.flipTransform=new HC(n,0,0,s,o,a)}else this.flipTransform=HC.IDENTITY}updateChildrenContainers(){this.blockTransformUpdate?this.transformUpdateWhileBlock=!0:this.engine.rootOperations.forEach((e=>{kT(e)?(e.updateTransform(),"updateData"in e&&e.updateData()):"updateProperties"in e&&e.updateProperties()}))}},QT=class extends MT{constructor(e,t,i){super(i),this.overlayOperation=e,this.type="overlay";const r=t.blendMode||i.mapBlendMode(e.getBlendMode());e.set({blendMode:i.reverseMapBlendMode(r)}),e.set({image:t.image}),i.pesdk.setAllOperationsToDirty()}getProperties(){const e=this.overlayOperation.getOptions();return{image:e.image,blendMode:this.engine.mapBlendMode(e.blendMode),opacity:e.alpha}}setProperties(e){const t=this.overlayOperation.getOptions();"number"===typeof e.opacity&&(t.alpha=e.opacity),void 0!==e.blendMode&&(t.blendMode=this.engine.reverseMapBlendMode(e.blendMode)),this.overlayOperation.set(t),this.overlayOperation.setDirty(!0)}getOperation(){return this.overlayOperation}getTypeIdentifier(){return"overlay"}setFlipHorizontally(e){this.overlayOperation.setFlipHorizontally(e)}setFlipVertically(e){this.overlayOperation.setFlipVertically(e)}getFlipHorizontally(){return this.overlayOperation.getFlipHorizontally()}getFlipVertically(){return this.overlayOperation.getFlipVertically()}},KT=class extends MT{constructor(e,t,i){super(t),this.props=e,this.blurOperation=i,this.type="radial-blur",this.setProperties(e)}getProperties(){return this.props}setProperties(e){this.props={...this.props,...e};const t=this.blurOperation.getOptions(),i=this.engine.getOutputContainer(),r=i.getBounds(),n=this.getContainer(),o=i.getBaseLocalToParentMatrix(),s=tT.getBaseLocalToWorldMatrix(n),a=HC.multiply(HC.getInverted(o),s),l=Math.min(r.size.width,r.size.height);if(void 0!==e.blurRadius){const r=tT.scalarFromSpaceToSpace(e.blurRadius,n,i);t.blurRadius=r/l}if(void 0!==e.center){const r=HC.transformPoint(a,e.center),n=tT.absoluteToRelativePoint(r,i,!1);t.position=n}if(void 0!==e.radius){const r=tT.scalarFromSpaceToSpace(e.radius,n,i)/l;t.radius=r}if(void 0!==e.gradientSize){const r=tT.scalarFromSpaceToSpace(e.gradientSize,n,i)/l;t.gradientRadius=r}this.blurOperation.set(t)}updateProperties(){const e=this.getProperties();this.setProperties(e)}getOperation(){return this.blurOperation}getTypeIdentifier(){return"radial-focus"}},ZT=class extends LT{constructor(e,t){super(t),this.data=e,this.type="sticker";let i=e.image;const r=this.engine.pesdk.parseExif(e.image);if(r){const t=r.getTags();if(t&&t.Orientation){const n=1!==t.Orientation&&2!==t.Orientation,o=-1!==[2,4,5,7].indexOf(t.Orientation);if(n||o){const n=this.engine.pesdk.createOperation("exif-orientation",{},!1);n.setTags(t),i=n.applyTo(e.image),r.setOrientation(1),t.Orientation=1}}}i=new oC(i,{maxMegaPixels:{desktop:10,mobile:5}}).downscaleIfNecessary(),this.operation=t.createSpriteOperation(),this.sprite=this.operation.createSticker({identifier:"",image:i,position:new BT(0,0),dimensions:new BT(1,1),rotation:0,smoothDownscaling:!1}),this.operation.addSprite(this.sprite),this.bounds=new UC({x:0,y:0},{width:i.width,height:i.height}),this.setTransform(eT.IDENTITY),this.sprite.setPivot(new BT(0,0)),this.operation.setDirty(!0),this.setData(e)}setData(e){this.data={...this.data,...e},e.id&&(this.id=e.id),jC(e.opacity)&&e.opacity>=0&&this.sprite.setAlpha(e.opacity),e.tintColor&&this.sprite.setTintColor(zT(e.tintColor)),e.tintMode&&this.sprite.setTintMode(e.tintMode),this.operation.setDirty(!0)}getData(){return this.data}updateData(){this.setData(this.getData())}setTransform(e){super.setTransform(e);const t=this.engine.getOutputContainer(),i=this.getParent(),r={width:this.bounds.width*e.scale.x,height:this.bounds.height*e.scale.y},n=tT.sizeFromSpaceToSpace(r,i,t);this.sprite.setDimensions(BT.fromSize(n));const o=tT.pointFromSpaceToSpace(e.position,i,t,!0),s=tT.absoluteToRelativePoint(o,t,!1);this.sprite.setPosition(new BT(s.x,s.y));const a=tT.getRotationBetweenCoordinateSpaces(i,t),l=e.rotation+a;this.sprite.setRotation(l),this.operation.setDirty(!0)}setPivot(e,t){this.setPivotOnSelfAndSprite(this.sprite,e,t)}getOperation(){return this.operation}setFlipHorizontally(e){this.sprite.setFlipHorizontally(e)}setFlipVertically(e){this.sprite.setFlipVertically(e)}getFlipHorizontally(){return this.sprite.getFlipHorizontally()}getFlipVertically(){return this.sprite.getFlipVertically()}};var JT=class{constructor(e){this.context=e,this.sourceLines=[],this.maxWidth=100}static buildWords(e){const t=[];let i="";const r=e.length;for(let n=0;n<r;n+=1){const o=e[n];i+=o," "!==o&&"-"!==o&&n!==r-1||(t.push(i),i="")}return t}getLines(){let e=[],t=[];const i=this.sourceLines.length;for(let r=0;r<i;r+=1){const i=this.sourceLines[r],n=JT.buildWords(i),o=n.length;for(let r=0;r<o;r+=1){const i=n[r],o=t.concat(i).join("").replace(/\s+$/i,"");if(this.getWidth(o)>this.maxWidth){t.length>0&&(e.push(t.join("")),t=[i]);const r=i.replace(/\s+$/i,"");if(this.getWidth(r)>this.maxWidth){const r=this.splitWord(i);e=e.concat(r.lines),r.rest&&(t=[r.rest])}}else t.push(i)}e.push(t.join("")),t=[]}return e}splitWord(e){const t={lines:[],rest:null},i=e.length;let r=[];for(let n=0;n<i;n+=1){const o=e[n];this.getWidth(r.concat(o).join(""))>this.maxWidth?(r.length>0&&t.lines.push(r.join("")),r=[o]):r.push(o),n===i-1&&r.length>0&&(t.rest=r.join(""))}return t}getWidth(e){return this.context.measureText(e).width}setText(e){this.sourceLines=e.split("\n")}setMaxWidth(e){this.maxWidth=e}};function $T(e,t,i,r,n,o,s){e.font="".concat(i.fontStyle||"normal"," ").concat(i.fontWeight||"normal"," ").concat(r,'px "').concat(i.fontFamily,'"');const a=new JT(e);a.setText(t),a.setMaxWidth(o);const l=a.getLines().map((e=>e.replace(/\s+$/i,""))),c=function(e,t){if(t){const i=1/t.unitsPerEm*e,r=t.ascender*i,n=t.descender*i;return r+Math.abs(n)}return 1.1*e}(r,s),u=c*n,h=c/5;return{width:o+2*h,height:l.length*u+2*h}}var eE=class extends LT{constructor(e,t){if(super(t),this.text=e,this.type="text",!eE.measureContext){const e=document.createElement("canvas");eE.measureContext=e.getContext("2d")}this.operation=t.createSpriteOperation();const i=this.engine.getOutputContainer(),r=this.getParent(),n=i.getBounds();this.sprite=this.operation.createText({text:e.text,position:new BT(0,0),rotation:0,fontSize:tT.scalarFromSpaceToSpace(e.fontSize/n.height,r,i),lineHeight:e.lineHeight,fontIdentifier:e.fontIdentifier,alignment:e.alignment,color:zT(e.textColor),backgroundColor:zT(e.backgroundColor),maxWidth:tT.scalarFromSpaceToSpace(e.width/n.width,r,i)});const o=t.assetProvider.getFontManager().getFontWithId(e.fontIdentifier);this.sprite.setFontFamily(o.fontFamily),this.sprite.setFontWeight(o.fontWeight||"normal"),this.sprite.setFontStyle(o.fontStyle||"normal"),this.sprite.setFontIdentifier(o.identifier),this.sprite.setTextMetrics(o.textMetrics),this.sprite.setPivot(new BT(0,0)),this.operation.addSprite(this.sprite);const s=$T(eE.measureContext,e.text,o,e.fontSize,e.lineHeight,e.width,o.textMetrics);this.bounds=new UC(0,0,s.width,s.height),this.setTransform(eT.IDENTITY),this.operation.setDirty(!0)}setData(e){this.text={...this.text,...e};const t=this.engine.assetProvider.getFontManager().getFontWithId(e.fontIdentifier||this.text.fontIdentifier);if(e.fontIdentifier&&(this.sprite.setFontFamily(t.fontFamily),this.sprite.setFontWeight(t.fontWeight||"normal"),this.sprite.setFontStyle(t.fontStyle||"normal"),this.sprite.setFontIdentifier(t.identifier),this.sprite.setTextMetrics(t.textMetrics)),e.id&&(this.id=e.id),e.text&&this.sprite.setText(e.text),e.fontSize){const t=this.engine.getOutputContainer(),i=this.getParent(),r=tT.scalarFromSpaceToSpace(e.fontSize,i,t),n=t.getBounds();this.sprite.setFontSize(r/n.height)}if(e.alignment&&this.sprite.setAlignment(e.alignment),e.lineHeight&&this.sprite.setLineHeight(e.lineHeight),e.textColor&&this.sprite.setColor(zT(e.textColor)),e.backgroundColor&&this.sprite.setBackgroundColor(zT(e.backgroundColor)),e.width){const t=this.engine.getOutputContainer(),i=this.getParent(),r=tT.scalarFromSpaceToSpace(e.width,i,t),n=t.getBounds();this.sprite.setMaxWidth(r/n.width)}const i=$T(eE.measureContext,this.text.text,t,this.text.fontSize,this.text.lineHeight,this.text.width,t.textMetrics);this.setBoundsFromSize(i.width,i.height),this.operation.setDirty(!0)}getData(){return this.text}updateData(){this.setData(this.getData())}setTransform(e){super.setTransform(e);const t=this.engine.getOutputContainer(),i=this.getParent(),r=tT.pointFromSpaceToSpace(e.position,i,t,!0),n=tT.absoluteToRelativePoint(r,t,!1);this.sprite.setPosition(new BT(n.x,n.y));const o=tT.getRotationBetweenCoordinateSpaces(i,t);this.sprite.setRotation(e.rotation+o),this.operation.setDirty(!0)}setPivot(e,t){this.setPivotOnSelfAndSprite(this.sprite,e,t)}getOperation(){return this.operation}setFlipHorizontally(e){this.sprite.setRotation(this.getFlippedRotation({flipHorizontally:e})),this.sprite.setFlipHorizontally(e)}setFlipVertically(e){this.sprite.setRotation(this.getFlippedRotation({flipVertically:e})),this.sprite.setFlipVertically(e)}getFlipHorizontally(){return this.sprite.getFlipHorizontally()}getFlipVertically(){return this.sprite.getFlipVertically()}getFlippedRotation(e){let{flipVertically:t,flipHorizontally:i}=e;const r=t||this.getFlipVertically(),n=i||this.getFlipHorizontally();let o=this.getRotation();return(r||n)&&(o=CT(o)),o}},tE=1e3,iE=class extends LT{constructor(e,t,i){super(i),this.textDesign=e,this.layout=t,this.type="text-design",this.currentLayoutSize=void 0,this.layoutID=t.identifier,this.operation=i.createSpriteOperation();const r=this.engine.getOutputContainer(),n=this.getParent(),o=r.getBounds(),s=Math.min(o.width,o.height);t.seed(e.seed),this.bounds=this.calculateBounds(this.textDesign,this.layout);const a=e.width;this.sprite=this.operation.createTextDesign({text:e.text,layout:t,inverted:e.inverted,color:zT(e.color),width:tT.scalarFromSpaceToSpace(e.width/s,n,r),padding:e.padding/a,seed:e.seed}),this.updatePivot(),this.operation.addSprite(this.sprite),this.setTransform(eT.IDENTITY),this.operation.setDirty(!0)}static stringify(e){return JSON.stringify(e,iE.serializer())}static serializer(){const e=[],t=[],i=(i,r)=>e[0]===r?"[Circular ~]":"[Circular ~.".concat(t.slice(0,e.indexOf(r)).join("."),"]");return function(r,n){const o=this;if(e.length>0){const s=e.indexOf(o);~s?(e.splice(s+1),t.splice(s,1/0,r)):(e.push(o),t.push(r)),~e.indexOf(n)&&(n=i.call(o,r,n))}else e.push(n);return n}}calculateBounds(e,t){let i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=e.inverted&&i?Math.max(0,2*e.padding):0,n=e.width/tE;if(void 0===this.currentLayoutSize){t.seed(e.seed);const i=t.generateLayoutData(e.text,tE);this.currentLayoutData=i,this.currentLayoutSize=i.getSize()}return new UC(0,0,this.currentLayoutSize.width*n+r,this.currentLayoutSize.height*n+r)}findNextUniqueSeed(e,t,i){let r=i;const n=this.currentLayoutData?iE.stringify(this.currentLayoutData.getRows()):"";let o;for(let s=0;s<20&&(t.seed(r),o=t.generateLayoutData(e.text,tE),n===iE.stringify(o.getRows()));s+=1)r+=1;return t.seed(r),this.currentLayoutData=o,r}setData(e){if(this.textDesign={...this.textDesign,...e},e.id&&(this.id=e.id),void 0!==e.padding){const t=this.textDesign.width;this.sprite.setPadding(e.padding/t)}else e.width&&(this.textDesign.padding=this.sprite.getPadding()*this.textDesign.width);if(void 0!==e.seed&&(e.seed<0&&(e.seed=this.findNextUniqueSeed(this.textDesign,this.layout,Date.now()),this.textDesign.seed=e.seed),this.currentLayoutSize=void 0,this.layout.seed(e.seed),this.sprite.setSeed(e.seed),this.sprite.setLayout(this.layout)),e.color&&this.sprite.setColor(zT(e.color)),void 0!==e.inverted&&this.sprite.setInverted(e.inverted),e.text&&(this.currentLayoutSize=void 0,this.sprite.setText(e.text)),e.width){const t=this.engine.getOutputContainer(),i=this.getParent(),r=t.getBounds(),n=Math.min(r.width,r.height),o=tT.scalarFromSpaceToSpace(e.width/n,i,t);this.sprite.setWidth(o)}if(void 0!==e.padding||void 0!==e.seed||void 0!==e.inverted||e.text||e.width){const e=this.calculateBounds(this.textDesign,this.layout);this.setBoundsFromSize(e.width,e.height),this.updatePivot()}this.operation.setDirty(!0)}getData(){return this.textDesign}updateData(){this.setData(this.getData())}setTransform(e){super.setTransform(e);const t=this.engine.getOutputContainer(),i=this.getParent();if(1!==e.scale.x||1!==e.scale.y)throw new Error("This engine doesn't support scaling TextDesign containers! You can change the bounds using the width property of the TextDesign data.");const r=tT.pointFromSpaceToSpace(e.position,i,t,!0),n=tT.absoluteToRelativePoint(r,t,!1);this.sprite.setPosition(new BT(n.x,n.y));const o=tT.getRotationBetweenCoordinateSpaces(i,t);this.sprite.setRotation(e.rotation+o),this.operation.setDirty(!0)}setPivot(e,t){"number"===typeof e?super.setPivot(e,t):super.setPivot(e),this.updatePivot()}getOperation(){return this.operation}getLayoutID(){return this.layoutID}setFlipHorizontally(e){this.sprite.setFlipHorizontally(e)}setFlipVertically(e){this.sprite.setFlipVertically(e)}getFlipHorizontally(){return this.sprite.getFlipHorizontally()}getFlipVertically(){return this.sprite.getFlipVertically()}updatePivot(){const e=this.textDesign.inverted?Math.max(0,this.textDesign.padding):0,t=new Xk(this.bounds.width-2*e,this.bounds.height-2*e),i=this.getPivot(),r=new Xk(i.x*this.bounds.width,i.y*this.bounds.height),n=new Xk(e,e),o=r.subtract(n).divide(t);this.sprite.setPivot(new BT(o.x,o.y))}},{BLEND_MODES:rE}=Ry.Operations.OverlayOperation,nE="imgly_font_open_sans_bold",oE=class extends OT{constructor(e){var t,i;let r;if(super(e),this.previews=Array(),this.rootOperationStack=[],this.deferredRenderQueue=[],this.operationStackOffset=1,this.enforceOperationOrder=()=>{this.refreshFlipIndex(),this.refreshFrameIndex()},this.isSpriteTop=e=>{const t=this.rootOperationStack.findIndex((t=>{let{id:i}=t;return e===i}));let i=1;return this.rootOperationStack.find((e=>"frame"===e.type))&&(i+=1),t+i===this.rootOperationStack.length},this.setWatermarkOpacity=e=>{const t=this.sdk.getOperationsStack().getByIdentifier("watermark");t&&t.set({alpha:e})},this.assetProvider=e.assetProvider||new BC,(null==(t=null==e?void 0:e.watermark)?void 0:t.watermarkURI)&&"string"===typeof e.watermark.watermarkURI&&"data:"===e.watermark.watermarkURI.slice(0,5)?r=e.watermark.watermarkURI:(null==(i=null==e?void 0:e.watermark)?void 0:i.watermarkURI)&&"string"===typeof e.watermark.watermarkURI&&e.watermark.watermarkURI.trim()&&(r=bC(e.watermark.watermarkURI)?e.watermark.watermarkURI:this.assetProvider.getPath(e.watermark.watermarkURI)),this.wrapper=new AT({license:e.license,crossOrigin:e.crossOrigin,assets:{resolver:(e,t)=>this.resolveAssetForSDK(e,t)},editor:{preferredRenderer:e.preferredRenderer,pixelRatio:1,clearColor:Aw(e.backgroundColor)},watermark:{...Aw(e.watermark),watermarkURI:r}}),this.editor=this.wrapper.getEditor(),this.sdk=this.editor.getSDK(),this.sdk.setRenderMode("adapter"),this.tempCanvas=document.createElement("canvas"),this.sdk.setCanvas(this.tempCanvas),"webgl"===e.preferredRenderer){const e=document.createElement("canvas"),t=e.getContext("webgl")||e.getContext("experimental-webgl");this.maxTextureDimension=t.getParameter(t.MAX_TEXTURE_SIZE),n(e)}else this.maxTextureDimension=1/0}get configuration(){return this.config}get pesdk(){return this.sdk}get rootOperations(){return this.rootOperationStack}dispose(){n(this.tempCanvas),this.rootContainer.dispose(),this.pesdk.dispose(),this.wrapper.dispose()}render(e){return new Promise((t=>{const i=()=>new Promise((i=>{const{canvas:r}=e,n=e.getTransform(),o=this.outputContainer.getPivot(),s=e.getCanvasBounds(),a=e.quality,{tempCanvas:l}=this;this.sdk.setTextureQuality(a);const c=this.sdk.getOutputDimensions();return l.width=c.x,l.height=c.y,this.sdk.getRenderer().resizeTo(new BT(l.width,l.height)),this.sdk.render(!0).then((()=>{const a=r.getContext("2d");a.clearRect(0,0,r.width,r.height),a.save(),a.translate(-s.minX,-s.minY),a.translate(n.position.x,n.position.y),a.rotate(n.rotation),a.scale(n.scale.x,n.scale.y),a.translate(-o.x*l.width,-o.y*l.height),a.scale(1/e.quality,1/e.quality),a.drawImage(l,0,0),a.restore(),t(),this.deferredRenderQueue.shift(),this.deferredRenderQueue.length?(this.sdk.setAllOperationsToDirty(),Promise.resolve(this.deferredRenderQueue[0]().then(i))):i()}))}));this.deferredRenderQueue.push(i),1===this.deferredRenderQueue.length&&i()}))}createPreview(e){const t=new ST(e,this);return this.previews.push(t),t}async export(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"image",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"image/png",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],n=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return new Promise((o=>{const s=()=>new Promise((s=>this.sdk.export(this.mapToRenderType(e),this.mapToImageFormat(t),i,r,n).then((e=>{o(e),this.deferredRenderQueue.shift(),this.deferredRenderQueue.length?Promise.resolve(this.deferredRenderQueue[0]().then(s)):s()}))));this.deferredRenderQueue.push(s),1===this.deferredRenderQueue.length&&s()}))}getRootContainers(){return[this.rootContainer]}getOutputContainer(){return this.outputContainer}findContainerByID(e){return e===this.rootContainer.getID()?this.rootContainer:this.rootOperationStack.find((t=>t.getID()===e))}findEffectByID(e){return this.rootOperationStack.find((t=>t.getID()===e))}addImage(e,t,i){if(this.rootContainer)throw new Error("A background image already exists - did you mean to use addSticker?");const r=new VT(e,this);if(this.rootContainer=r,!this.outputContainer){const{width:e,height:t}=r.getBounds(),i={resolution:{width:e,height:t},flipHorizontally:!1,flipVertically:!1},n=this.sdk.createOperation("output",{},!1),o=this.sdk.createOperation("flip",{},!1);this.insertIntoOperationsStack(n,this.operationStackOffset-1),this.insertIntoOperationsStack(o,this.operationStackOffset),this.outputContainer=new YT(i,n,o,this)}return r}addSticker(e,t,i){if(!t)throw new Error("This engine does not support adding stickers as root elements.");this.ensureContainerIsRoot(t);const r=new ZT(e,this);return this.addToStackAtIndex(r,i),r}addStickerFromAssets(e,t,i){if(!t)throw new Error("This engine does not support adding stickers as root elements.");return this.ensureContainerIsRoot(t),new Promise(((t,r)=>{const n=new Image;n.onload=()=>{const e=new ZT({image:n,opacity:1},this);this.addToStackAtIndex(e,i),t(e)},n.onerror=e=>{r(e)},n.crossOrigin=this.config.crossOrigin||null,n.src=this.assetProvider.getAssetSource("sticker",e)}))}addText(e,t,i){if(!t)throw new Error("This engine does not support adding text as root elements.");if(!this.assetProvider.getFontManager().isFontLoaded(e.fontIdentifier||nE))throw new Error("Adding text synchronously only works if the required font is already loded! Consider using the asynchronous addTextWithFontLoading function instead!");this.ensureContainerIsRoot(t);const r={text:"",fontIdentifier:nE,fontSize:20,lineHeight:1,alignment:"center",textColor:[1,1,1],backgroundColor:[0,0,0,0],width:100,...e},n=new eE(r,this);return this.addToStackAtIndex(n,i),n}addTextWithFontLoading(e,t,i){if(!t)throw new Error("This engine does not support adding text as root elements.");const r=this.assetProvider.getFontManager(),n=e.fontIdentifier||nE;return new Promise(((o,s)=>{r.loadFontWithIdentifier(n).then((()=>{this.ensureContainerIsRoot(t);const r={text:"",fontIdentifier:nE,fontSize:20,lineHeight:1,alignment:"center",textColor:[1,1,1],backgroundColor:[0,0,0,0],width:100,...e},n=new eE(r,this);this.addToStackAtIndex(n,i),o(n)})).catch(s)}))}async addTextDesignAsync(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"imgly_text_design_blocks",t=arguments.length>1?arguments[1]:void 0,i=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;if(!i)throw new Error("This engine does not support adding TextDesign as a root element.");const n={seed:Date.now(),padding:0,text:"",color:[0,0,0],inverted:!1,width:100,...t},o=this.wrapper.getTextDesignLayoutByID(e);if(!o)throw new Error("The layout could not be loaded for the given id: ".concat(e));const s=o.getImagePaths().map((e=>{const t=e.split("/").pop()||"";return{path:e,fullPath:this.assetProvider.getAssetSource("textdesign",t)}})),a=this.wrapper.getTextDesignAssetManager(),l=this.wrapper.getTextDesignFontManager().getVariationsByIdentifier();a.setFonts(l),await a.loadImages(s),o.onImagesLoaded();const c=Object.keys(l);return this.assetProvider.getFontManager().loadFontsWithIdentifiers(c).then((()=>{this.ensureContainerIsRoot(i);const e=new iE(n,o,this);return this.addToStackAtIndex(e,r),Promise.resolve(e)}))}addDrawing(e,t,i){if(!t)throw new Error("This engine does not support DrawingContainers as root elements.");this.ensureContainerIsRoot(t);const r=new UT(e,this);return this.addToStackAtIndex(r,i),r}addGaussianBlur(e,t,i){this.ensureContainerIsRoot(t);const r=new WT(e,this,this.sdk.createOperation("blur",{},!1));return this.addToStackAtIndex(r,i),r}addRadialBlur(e,t,i){this.ensureContainerIsRoot(t);const r=new KT(e,this,this.sdk.createOperation("radial-focus",{},!1));return this.addToStackAtIndex(r,i),r}addMirroredBlur(e,t,i){this.ensureContainerIsRoot(t);const r=new XT(e,this,this.sdk.createOperation("mirrored-focus",{},!1));return this.addToStackAtIndex(r,i),r}addLinearBlur(e,t,i){this.ensureContainerIsRoot(t);const r=new GT(e,this,this.sdk.createOperation("linear-focus",{},!1));return this.addToStackAtIndex(r,i),r}addDuoToneFilter(e,t,i){throw new Error("Not supported! Use addDuoToneFilterFromAssets instead")}addDuoToneFilterFromAssets(e,t,i){this.ensureContainerIsRoot(t);const r=this.sdk.getOperationsStack().getByIdentifier("filter");r&&r.getIdentifier()!==e&&this.sdk.removeOperation(r);const n=r||this.sdk.createOperation("filter",{identifier:e},!1);return new Promise(((t,r)=>{try{const r=this.assetProvider.getDuotoneFilterAsset(e),o={colorIntensity:r.defaultIntensity||0},s=new Ry.Operations.FilterOperation.Filters.DuoToneFilter({intensity:o.colorIntensity,lightColor:Ry.Color.fromHex(r.lightColor),darkColor:Ry.Color.fromHex(r.darkColor)}),a=new NT(s,n,o,this);this.addToStackAtIndex(a,i),t(a)}catch(SS){SS&&r(SS)}}))}addLUTFilter(e,t,i){throw new Error("Not supported! Use addLUTFilterFromAssets instead")}addLUTFilterFromAssets(e,t,i){this.ensureContainerIsRoot(t);const r=this.sdk.getOperationsStack().getByIdentifier("filter");r&&r.getIdentifier()!==e&&this.sdk.removeOperation(r);const n=r||this.sdk.createOperation("filter",{identifier:e},!1);return this.getLutFilterImage(e).then((t=>{const r=this.assetProvider.getLUTFilterAsset(e),o={horizontalTileCount:r.horizontalTileCount||5,verticalTileCount:r.verticalTileCount||5,intensity:r.defaultIntensity||1},s=new Ry.Operations.FilterOperation.Filters.ThreeDLUTFilter({...o,image:t}),a={...o,lutImage:new Image},l=new qT(s,n,a,this);return this.addToStackAtIndex(l,i),l}))}getLutFilterImage(e){return new Promise(((t,i)=>{gC({src:this.assetProvider.getAssetSource("filter",e),crossOrigin:this.config.crossOrigin||null,key:"filter",resolve:t,reject:i})}))}addAdjustments(e,t,i){this.ensureContainerIsRoot(t);const r=new PT(e,this,this.sdk.createOperation("adjustments",{},!1));return this.addToStackAtIndex(r,i),r}addOverlay(e,t,i){this.ensureContainerIsRoot(t);const r=new QT(this.sdk.createOperation("overlay",{},!1),e,this);return this.addToStackAtIndex(r,i),r}addOverlayFromAssets(e,t,i){return this.ensureContainerIsRoot(t),new Promise(((t,r)=>{gC({src:this.assetProvider.getAssetSource("overlay",e),crossOrigin:this.config.crossOrigin||null,key:"overlay",resolve:r=>{const n=this.sdk.getOperationsStack(),o=n.getByIdentifier("overlay");o&&o.getIdentifier()!==e&&n.remove(o);const s=o||this.sdk.createOperation("overlay",{},!1),a=new QT(s,{image:r,opacity:1,blendMode:"normal"},this);this.addToStackAtIndex(a,i),t(a)},reject:r})}))}addFrame(e,t,i){throw new Error("Not supported!")}async addFrameFromAssets(e,t,i){this.ensureContainerIsRoot(t);const r=this.assetProvider.getFrameAsset(e);if(!r)throw new Error("The requested asset does not exist! ".concat(e));const n=new HT(r,this);await n.load();const o=this.getOutputContainer().getBounds(),s=Math.min(o.width,o.height),a=this.sdk.createOperation("frame",{},!1);a.setFrame(n.getFrame());const l={opacity:1,tintColor:[1,1,1],tintable:!1,width:Math.max(1,.1*s),imageGroups:n.getFrame().imageGroups},c=new jT(a,l,this);return this.addToStackAtIndex(c,i),Promise.resolve(c)}removeEffect(e){if(!e.isValid())return;const t=e.getOperation();this.sdk.removeOperation(t),this.sdk.setAllOperationsToDirty(),this.rootOperationStack.splice(e.getIndexInParent(),1)}removeContainer(e){if(!e.isValid()||"output"===e.type)return;const t=e.getOperation();this.sdk.removeOperation(t),this.sdk.setAllOperationsToDirty(),this.rootOperationStack.splice(e.getIndexInParent(),1)}refreshOutputIndex(){const e=this.sdk.getOperationsStack().getIndexByIdentifier("output");this.moveInOperationsStack(e,this.operationStackOffset-1)}refreshFlipIndex(){const e=this.sdk.getOperationsStack().getIndexByIdentifier("flip"),t=this.sdk.getOperationsStack().getStack().length-1;e!==t&&this.moveInOperationsStack(e,t)}refreshFrameIndex(){const e=this.sdk.getOperationsStack().getIndexByIdentifier("frame"),t=this.sdk.getOperationsStack().getStack().length-1;-1!==e&&e!==t&&this.moveInOperationsStack(e,t)}mapToRenderType(e){switch(e){case"image":default:return Ry.RenderType.IMAGE;case"data-url":return Ry.RenderType.DATAURL;case"blob":return Ry.RenderType.BLOB;case"ms-blob":return Ry.RenderType.MSBLOB}}mapToImageFormat(e){switch(e){case"image/png":return Ry.ImageFormat.PNG;case"image/jpeg":return Ry.ImageFormat.JPEG;default:return null}}mapBlendMode(e){switch(e){case rE.NORMAL:return"normal";case rE.OVERLAY:return"overlay";case rE.HARD_LIGHT:return"hardLight";case rE.SOFT_LIGHT:return"softLight";case rE.MULTIPLY:return"multiply";case rE.DARKEN:return"darken";case rE.LIGHTEN:return"lighten";case rE.SCREEN:return"screen";case rE.COLOR_BURN:return"colorBurn";default:return"normal"}}reverseMapBlendMode(e){switch(e){case"normal":default:return rE.NORMAL;case"overlay":return rE.OVERLAY;case"hardLight":return rE.HARD_LIGHT;case"softLight":return rE.SOFT_LIGHT;case"multiply":return rE.MULTIPLY;case"darken":return rE.DARKEN;case"lighten":return rE.LIGHTEN;case"screen":return rE.SCREEN;case"colorBurn":return rE.COLOR_BURN}}createSpriteOperation(){return this.sdk.createOperation("sprite",{},!1)}moveIndex(e,t){const i=this.getSiblingIndex(e);if(-1===i)throw new Error("The item to be moved is not part of any stack.");this.moveInStack(this.rootOperationStack,i,t);const r=this.operationStackOffset;this.moveInOperationsStack(i+r,t+r),this.enforceOperationOrder()}ensureContainerIsRoot(e){if(e.getID()!==this.rootContainer.getID())throw new Error("This engine doesn't support adding this effect/container to anything other than the root image container")}addToStackAtIndex(e,t){if(t&&t<0)throw new Error("The given index may not be negative: ".concat(t));void 0===t?this.rootOperationStack.push(e):this.rootOperationStack.splice(t,0,e);const i=this.rootOperationStack.length-1;let r=void 0!==t?t:i;r+=this.operationStackOffset,function(e){e.getContainer}(e),this.insertIntoOperationsStack(e.getOperation(),r),this.sdk.setAllOperationsToDirty()}insertIntoOperationsStack(e,t){const i=this.sdk.getOperationsStack().getStack(),r=i.length,n=Math.max(Math.min(t,r),0);for(let o=r-1;o>=n;o-=1){const e=i[o];i[o+1]=e}i[n]=e,this.sdk.setAllOperationsToDirty(),this.enforceOperationOrder()}moveInStack(e,t,i){const r=e.length,n=Math.max(Math.min(t,r-1),0),o=Math.max(Math.min(i,r-1),0);if(n===o)return;const s=e[n];if(n<o)for(let a=n+1;a<=o;a+=1)e[a-1]=e[a];else for(let a=n-1;a>=o;a-=1)e[a+1]=e[a];e[o]=s}moveInOperationsStack(e,t){const i=this.sdk.getOperationsStack().getStack(),r=i.length,n=Math.min(Math.max(0,e),r-1),o=Math.min(Math.max(0,t),r-1);if(n===o)return;const s=i[n];if(n<o)for(let a=n+1;a<=o;a+=1)i[a-1]=i[a];else for(let a=n-1;a>=o;a-=1)i[a+1]=i[a];i[o]=s,this.sdk.getOperationsStack().setAllToDirty()}getSiblingIndex(e){return e.getIndexInParent()}resolveAssetForSDK(e,t){switch(e){case"filter":return this.assetProvider.getAssetSource("filter",t.identifier);case"overlay":return this.assetProvider.getAssetSource("overlay",t.identifier);case"font":return this.assetProvider.getAssetSource("font",t.identifier);default:return""}return""}},sE=class{constructor(e){this.isEmpty=!1,this.isValid=!1,this.isWhiteLabel=()=>this.isValid&&this.licenseChecker.isWhiteLabel(),this.areCustomAssetsAllowed=()=>this.isEmpty||!this.isValid||this.licenseChecker.areCustomAssetsAllowed(),e&&0!==e.length?(this.licenseChecker=new Ry.LicenseChecker(e),this.isValid=this.licenseChecker.validate()):""===e&&(this.isEmpty=!0)}isToolAllowed(e){return!this.licenseChecker||!this.isValid||"customTool"===e||this.licenseChecker.isToolAllowed(e)}}},618:(e,t,i)=>{"use strict";i.d(t,{A:()=>gf,B:()=>yf,D:()=>yh,G:()=>Bd,H:()=>qf,I:()=>jg,J:()=>ny,K:()=>by,M:()=>xy,N:()=>wy,O:()=>Ey,P:()=>n_,Q:()=>o_,R:()=>s_,S:()=>ep,T:()=>i_,a:()=>ba,b:()=>Sa,c:()=>Ca,d:()=>fo,f:()=>ic,h:()=>po,m:()=>tu,n:()=>Oo,o:()=>Mo,p:()=>su,q:()=>au,r:()=>cu,u:()=>tp,v:()=>jp,w:()=>uf,x:()=>hf,y:()=>df,z:()=>ff});var r,n,o,s,a,l,c,u,h,d,p,f,g,m,y,_,v,b,x,w,S,k,C,T,E,D,I,R,F,A,O,M,P,z,B,L,U,N,H,j,W,V,G,q,X,Y,Q,K,Z,J,$,ee,te,ie,re,ne,oe,se,ae,le,ce,ue,he,de,pe,fe,ge,me,ye,_e,ve,be,xe,we,Se,ke,Ce,Te,Ee,De,Ie,Re,Fe,Ae,Oe,Me,Pe,ze,Be,Le,Ue,Ne,He,je,We,Ve,Ge,qe,Xe,Ye,Qe,Ke,Ze,Je,$e,et,tt,it,rt,nt,ot,st,at,lt,ct,ut,ht,dt,pt,ft,gt,mt,yt,_t,vt,bt,xt,wt,St,kt,Ct,Tt,Et,Dt,It,Rt,Ft,At,Ot,Mt,Pt,zt,Bt,Lt,Ut,Nt,Ht,jt,Wt,Vt,Gt,qt,Xt,Yt,Qt,Kt,Zt,Jt,$t,ei,ti,ii,ri,ni,oi,si,ai,li,ci,ui,hi,di,pi,fi,gi,mi,yi,_i,vi,bi,xi,wi,Si,ki,Ci,Ti,Ei,Di,Ii,Ri,Fi,Ai,Oi,Mi,Pi,zi,Bi,Li,Ui,Ni,Hi,ji,Wi,Vi,Gi,qi,Xi,Yi,Qi,Ki,Zi,Ji,$i,er,tr,ir,rr,nr,or,sr,ar,lr,cr,ur,hr,dr,pr,fr,gr,mr,yr,_r,vr,br,xr,wr,Sr,kr,Cr,Tr,Er,Dr,Ir,Rr,Fr,Ar,Or,Mr,Pr,zr,Br,Lr,Ur,Nr,Hr,jr,Wr,Vr,Gr,qr,Xr,Yr,Qr,Kr,Zr,Jr,$r,en,tn,rn,nn,on,sn,an,ln,cn,un,hn,dn,pn,fn,gn,mn,yn,_n,vn,bn,xn,wn,Sn,kn,Cn,Tn,En,Dn,In,Rn,Fn,An,On,Mn,Pn,zn,Bn,Ln,Un,Nn,Hn,jn,Wn=i(528),Vn=i(195),Gn=i(464),qn=i(43),Xn=i(950),Yn=(0,Vn.a)(((e,t)=>{var r=NaN,n="[object Symbol]",o=/^\s+|\s+$/g,s=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,l=/^0o[0-7]+$/i,c=parseInt,u="object"==typeof i.g&&i.g&&i.g.Object===Object&&i.g,h="object"==typeof self&&self&&self.Object===Object&&self,d=u||h||Function("return this")(),p=Object.prototype.toString,f=Math.max,g=Math.min,m=function(){return d.Date.now()};function y(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function _(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&p.call(e)==n}(e))return r;if(y(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=y(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(o,"");var i=a.test(e);return i||l.test(e)?c(e.slice(2),i?2:8):s.test(e)?r:+e}t.exports=function(e,t,i){var r,n,o,s,a,l,c=0,u=!1,h=!1,d=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function p(t){var i=r,o=n;return r=n=void 0,c=t,s=e.apply(o,i)}function v(e){var i=e-l;return void 0===l||i>=t||i<0||h&&e-c>=o}function b(){var e=m();if(v(e))return x(e);a=setTimeout(b,function(e){var i=t-(e-l);return h?g(i,o-(e-c)):i}(e))}function x(e){return a=void 0,d&&r?p(e):(r=n=void 0,s)}function w(){var e=m(),i=v(e);if(r=arguments,n=this,l=e,i){if(void 0===a)return function(e){return c=e,a=setTimeout(b,t),u?p(e):s}(l);if(h)return a=setTimeout(b,t),p(l)}return void 0===a&&(a=setTimeout(b,t)),s}return t=_(t)||0,y(i)&&(u=!!i.leading,o=(h="maxWait"in i)?f(_(i.maxWait)||0,t):o,d="trailing"in i?!!i.trailing:d),w.cancel=function(){void 0!==a&&clearTimeout(a),c=0,r=l=n=a=void 0},w.flush=function(){return void 0===a?s:x(m())},w}})),Qn=(0,Vn.a)(((e,t)=>{var r="Expected a function",n=NaN,o="[object Symbol]",s=/^\s+|\s+$/g,a=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,c=/^0o[0-7]+$/i,u=parseInt,h="object"==typeof i.g&&i.g&&i.g.Object===Object&&i.g,d="object"==typeof self&&self&&self.Object===Object&&self,p=h||d||Function("return this")(),f=Object.prototype.toString,g=Math.max,m=Math.min,y=function(){return p.Date.now()};function _(e,t,i){var n,o,s,a,l,c,u=0,h=!1,d=!1,p=!0;if("function"!=typeof e)throw new TypeError(r);function f(t){var i=n,r=o;return n=o=void 0,u=t,a=e.apply(r,i)}function _(e){var i=e-c;return void 0===c||i>=t||i<0||d&&e-u>=s}function x(){var e=y();if(_(e))return w(e);l=setTimeout(x,function(e){var i=t-(e-c);return d?m(i,s-(e-u)):i}(e))}function w(e){return l=void 0,p&&n?f(e):(n=o=void 0,a)}function S(){var e=y(),i=_(e);if(n=arguments,o=this,c=e,i){if(void 0===l)return function(e){return u=e,l=setTimeout(x,t),h?f(e):a}(c);if(d)return l=setTimeout(x,t),f(c)}return void 0===l&&(l=setTimeout(x,t)),a}return t=b(t)||0,v(i)&&(h=!!i.leading,s=(d="maxWait"in i)?g(b(i.maxWait)||0,t):s,p="trailing"in i?!!i.trailing:p),S.cancel=function(){void 0!==l&&clearTimeout(l),u=0,n=c=o=l=void 0},S.flush=function(){return void 0===l?a:w(y())},S}function v(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function b(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&f.call(e)==o}(e))return n;if(v(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=v(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(s,"");var i=l.test(e);return i||c.test(e)?u(e.slice(2),i?2:8):a.test(e)?n:+e}t.exports=function(e,t,i){var n=!0,o=!0;if("function"!=typeof e)throw new TypeError(r);return v(i)&&(n="leading"in i?!!i.leading:n,o="trailing"in i?!!i.trailing:o),_(e,t,{leading:n,maxWait:t,trailing:o})}})),Kn=Gn.Ay.div(r||(r=(0,Wn.A)(["\n  position: absolute;\n  width: 0;\n  height: 0;\n  border-left: 5px solid transparent;\n  border-right: 5px solid transparent;\n  border-top: 5px solid ",";\n  transform: rotate(","deg);\n  display: inline-block;\n  transition-duration: 0.3s;\n  transition-timing-function: ease-in;\n  right: 0;\n  top: 13px;\n"])),(e=>e.theme.dropdown.caretColor),(e=>e.rotation||0)),Zn=(0,Gn.AH)(n||(n=(0,Wn.A)(["\n  &:focus {\n    outline: none;\n    box-shadow: 0 0 2px ",";\n  }\n  &:-moz-focusring {\n    outline: none;\n    box-shadow: 0 0 2px ",";\n  }\n"])),(e=>e.theme.focusOutlineColor),(e=>e.theme.focusOutlineColor)),Jn=(0,Gn.AH)(o||(o=(0,Wn.A)(["\n  position: absolute !important;\n  height: 1px;\n  width: 1px;\n  overflow: hidden;\n  clip: rect(1px 1px 1px 1px); /* IE6, IE7 */\n  clip: rect(1px, 1px, 1px, 1px);\n"]))),$n=(0,Gn.i7)(s||(s=(0,Wn.A)(["\nfrom {\n  opacity: 1;\n  transform: scale(0);\n}\nto {\n  opacity: 0;\n  transform: scale(10);\n}\n"]))),eo=Gn.Ay.span(a||(a=(0,Wn.A)(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n"]))),to=(0,Gn.Ay)(eo)(l||(l=(0,Wn.A)([""]))),io=(0,Gn.Ay)(eo)(c||(c=(0,Wn.A)([""]))),ro=(0,Gn.Ay)(eo)(u||(u=(0,Wn.A)([""]))),no={display:"none",left:0,top:0},oo=(0,Gn.Ay)(eo)(h||(h=(0,Wn.A)(["\n  display: ",";\n  left: ","px;\n  top: ","px;\n  pointer-events: none;\n  border-radius: 50%;\n  background-color: rgba(255, 255, 255, 0.12);\n  animation: "," 1.2s;\n  width: 100px;\n  height: 100px;\n  margin-top: -50px;\n  margin-left: -50px;\n  opacity: 0;\n"])),(e=>{let{display:t}=e;return t}),(e=>{let{left:t}=e;return t}),(e=>{let{top:t}=e;return t}),$n),so=(0,Gn.AH)(d||(d=(0,Wn.A)(["\n  color: ",";\n  border-color: ",";\n\n  svg {\n    color: ",";\n  }\n"])),(e=>e.theme.button.activeForeground),(e=>e.theme.button.activeForeground),(e=>e.theme.button.activeForeground)),ao=Gn.Ay.button(p||(p=(0,Wn.A)(["\n  &&& {\n    box-sizing: border-box;\n  }\n  text-align: center;\n  position: relative;\n  padding: 4px 8px;\n  min-height: 32px;\n  border-radius: ","px;\n  font-size: ","px;\n  letter-spacing: ","px;\n  text-transform: ",";\n  font-family: ",", sans-serif;\n  cursor: pointer;\n  border: none;\n  background-color: transparent;\n  overflow: hidden;\n  ","\n\n  /* Active */\n\n  &:active {\n    ","\n  }\n\n  ","\n\n  /* Disabled */\n\n  &:disabled {\n    cursor: default;\n    pointer-events: none;\n\n    "," {\n      background-color: ",";\n    }\n  }\n\n  /* Hover */\n\n  &:hover {\n    "," {\n      background-color: ",";\n    }\n  }\n\n  div {\n    font-size: ","px;\n    letter-spacing: ","px;\n  }\n"])),(e=>e.theme.shape.radiusMedium),(e=>e.theme.measurements.fontSystem.button1.size),(e=>e.theme.measurements.fontSystem.button1.letterSpacing),(e=>e.theme.measurements.fontSystem.button1.case),(e=>e.theme.typography.fontFamily),Zn,so,(e=>{let{isActive:t}=e;return t&&so}),io,(e=>e.theme.button.outlinedInactiveOverlayColor),ro,(e=>e.theme.button.hoverOverlayColor),(e=>e.theme.measurements.fontSystem.button1.size),(e=>e.theme.measurements.fontSystem.button1.letterSpacing)),lo=class extends qn.Component{constructor(){super(...arguments),this.state=no,this.timeout=null,this.onClick=e=>{const t=e.currentTarget.getBoundingClientRect(),i=e.pageX-t.left,r=e.pageY-t.top;"block"===this.state.display?this.setState({display:"none"},(()=>{this.setRippleState(i,r)})):this.setRippleState(i,r),this.props.onClick(e)},this.setRippleState=(e,t)=>{this.setState({left:e,top:t,display:"block"}),this.timeout=setTimeout((()=>{this.setState({display:"none"})}),1200)}}componentWillUnmount(){clearTimeout(this.timeout)}render(){const{isActive:e,isDisabled:t,label:i,ariaLabel:r,children:n,className:o,...s}=this.props,{left:a,top:l,display:c}=this.state;return qn.createElement(ao,{"data-test":r,className:o,isActive:e,disabled:t,"aria-label":r,...s,onClick:this.onClick},i,n,qn.createElement(oo,{display:c,left:a,top:l}),qn.createElement(io,null),qn.createElement(ro,null))}};lo.defaultProps={type:"button",isDisabled:!1,isActive:!1};var co,uo,ho=(0,Gn.Ay)(lo)(f||(f=(0,Wn.A)(["\n  color: ",";\n\n  svg {\n    color: ",";\n  }\n\n  /* Repeat active styles so they are not overwritten */\n  ","\n\n  "," {\n    display: none;\n  }\n\n  &:disabled {\n    opacity: ",";\n  }\n"])),(e=>e.theme.button.textPrimaryForeground),(e=>e.theme.button.textPrimaryForeground),(e=>{let{isActive:t}=e;return t&&so}),io,(e=>e.theme.button.textInactiveOpacity)),po=(0,Gn.Ay)(lo)(g||(g=(0,Wn.A)(["\n  color: ",";\n\n  /* Repeat active styles so they are not overwritten */\n  ","\n\n  "," {\n    display: none;\n  }\n\n  &:disabled {\n    opacity: ",";\n  }\n\n  svg {\n    color: ",";\n  }\n"])),(e=>e.theme.button.textSecondaryForeground),(e=>{let{isActive:t}=e;return t&&so}),io,(e=>e.theme.button.textInactiveOpacity),(e=>e.theme.button.textSecondaryForeground)),fo=qn.createContext({}),go=(0,Gn.AH)(m||(m=(0,Wn.A)(["\n  display: flex;\n  flex: 0 0 auto;\n  justify-content: center;\n  align-items: center;\n  padding: 4px;\n"]))),mo=(0,Gn.Ay)(lo)(y||(y=(0,Wn.A)(["\n  ","\n\n  ","\n  ","\n"])),(e=>{let{fullWidth:t}=e;return t&&(0,Gn.AH)(_||(_=(0,Wn.A)(["\n      width: 100%;\n    "])))}),(e=>{let{hasIcon:t,smallContainer:i}=e;return t&&i&&go}),(e=>{let{hasIcon:t}=e;return t&&(0,Gn.AH)(v||(v=(0,Wn.A)(["\n      @media all and (min-width: 0) and (max-width: 599px) {\n        ","\n      }\n    "])),go)})),yo=(0,Gn.AH)(b||(b=(0,Wn.A)(["\n  display: flex;\n"]))),_o=Gn.Ay.div(x||(x=(0,Wn.A)(["\n  &:focus {\n    outline: none;\n  }\n\n  > img {\n    height: 18px;\n    width: 18px;\n  }\n\n  > svg {\n    height: 18px;\n    width: 18px;\n  }\n  display: none;\n\n  ","\n  @media all and (min-width: 0) and (max-width: 599px) {\n    ","\n  }\n"])),(e=>e.smallContainer&&yo),yo),vo=(0,Gn.AH)(w||(w=(0,Wn.A)(["\n  display: none;\n"]))),bo=Gn.Ay.div(S||(S=(0,Wn.A)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  &:focus {\n    outline: none;\n  }\n  font-size: inherit;\n  text-spacing: inherit;\n  color: inherit;\n\n  ","\n\n  ","\n  ","\n"])),(e=>{let{isDisabled:t}=e;return t&&(0,Gn.AH)(k||(k=(0,Wn.A)(["\n      opacity: ",";\n    "])),(e=>e.theme.button.textInactiveOpacity))}),(e=>{let{hasIcon:t,smallContainer:i}=e;return t&&i&&vo}),(e=>{let{hasIcon:t}=e;return t&&(0,Gn.AH)(C||(C=(0,Wn.A)(["\n      @media all and (min-width: 0) and (max-width: 599px) {\n        ","\n      }\n    "])),vo)})),xo=e=>{let{label:t,children:i,icon:r,fullWidth:n,isDisabled:o,...s}=e;const{rect:a}=(0,qn.useContext)(fo),l=!!a&&a.width<600,c=qn.createElement(bo,{hasIcon:!!r,isDisabled:o,smallContainer:l},t,i);return qn.createElement(mo,{fullWidth:n,isDisabled:o,hasIcon:!!r,smallContainer:l,...s},r&&qn.createElement(_o,{smallContainer:l},r),(i||t)&&c)},wo=(0,Gn.Ay)(xo)(T||(T=(0,Wn.A)(["\n  background: ",";\n  color: ",";\n  border: 1px solid ",";\n  min-width: 32px;\n\n  svg {\n    color: ",";\n  }\n"])),(e=>e.theme.button.outlinedPrimaryBackground),(e=>e.theme.button.outlinedPrimaryForeground),(e=>e.theme.button.outlinedBorderColor),(e=>e.theme.button.outlinedPrimaryForeground)),So=(0,Gn.Ay)(xo)(E||(E=(0,Wn.A)(["\n  background: ",";\n  color: ",";\n  border: 1px solid ",";\n\n  svg {\n    color: ",";\n  }\n\n  ","\n"])),(e=>e.theme.button.outlinedSecondaryBackground),(e=>e.theme.button.outlinedSecondaryForeground),(e=>e.theme.button.outlinedBorderColor),(e=>e.theme.button.outlinedSecondaryForeground),(e=>{let{isActive:t}=e;return t&&so})),ko=(0,Gn.Ay)(lo)(D||(D=(0,Wn.A)(["\n  color: ",";\n\n  svg {\n    color: ",";\n  }\n\n  /* Repeat active styles so they are not overwritten */\n  ","\n\n  "," {\n    display: none;\n  }\n\n  &:disabled {\n    opacity: ",";\n  }\n"])),(e=>e.theme.foreground),(e=>e.theme.foreground),(e=>{let{isActive:t}=e;return t&&so}),io,(e=>e.theme.button.textInactiveOpacity)),Co=Gn.Ay.div(I||(I=(0,Wn.A)(["\n  display: flex;\n  &:focus {\n    outline: none;\n  }\n"]))),To=e=>{let{label:t,icon:i,children:r,...n}=e;return qn.createElement(ko,{...n},qn.createElement(Co,null,i))},Eo=(0,Gn.Ay)(xo)(R||(R=(0,Wn.A)(["\n  background: ",";\n  color: ",";\n  border: 1px solid ",";\n\n  &:active {\n    color: ",";\n  }\n\n  svg {\n    color: ",";\n\n    &:active {\n      color: ",";\n    }\n  }\n"])),(e=>e.theme.button.containedPrimaryBackground),(e=>e.theme.button.containedPrimaryForeground),(e=>e.theme.button.containedPrimaryBackground),(e=>e.theme.button.containedPrimaryForeground),(e=>e.theme.button.containedPrimaryForeground),(e=>e.theme.button.containedPrimaryForeground)),Do=Gn.Ay.div(F||(F=(0,Wn.A)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: 0 4px;\n  font-size: ","px;\n  letter-spacing: ","px;\n  text-transform: ",";\n  ","\n"])),(e=>e.theme.measurements.fontSystem.label.size),(e=>e.theme.measurements.fontSystem.label.letterSpacing),(e=>e.theme.measurements.fontSystem.label.case),(e=>e.withBackground?(0,Gn.AH)(A||(A=(0,Wn.A)(["\n          color: ",";\n        "])),e.theme.card.labelForeground):(0,Gn.AH)(O||(O=(0,Wn.A)(["\n          color: ",";\n        "])),e.theme.card.foreground))),Io=Gn.Ay.div(M||(M=(0,Wn.A)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  position: absolute;\n  bottom: 0px;\n  border-radius: ","px;\n  left: 0;\n  ","\n  width: 100%;\n  cursor: pointer;\n"])),(e=>e.theme.shape.radiusMedium),(e=>e.withBackground?(0,Gn.AH)(P||(P=(0,Wn.A)(["\n          color: ",";\n          height: 40px;\n          background: ",";\n        "])),e.theme.card.labelForeground,e.theme.card.labelBackground):(0,Gn.AH)(z||(z=(0,Wn.A)(["\n          color: ",";\n          height: 32px;\n        "])),e.theme.card.foreground))),Ro=Gn.Ay.div(B||(B=(0,Wn.A)(["\n  width: 0;\n  height: 0;\n  border-left: 5px solid transparent;\n  border-right: 5px solid transparent;\n  border-top: 5px solid ",";\n  ","\n  transform: rotate(","deg);\n  display: inline-block;\n  transition-duration: 0.3s;\n  transition-timing-function: ease-in;\n"])),(e=>e.theme.card.labelForeground),(e=>e.withBackground?(0,Gn.AH)(L||(L=(0,Wn.A)(["\n          border-top-color: ",";\n        "])),e.theme.card.labelForeground):(0,Gn.AH)(U||(U=(0,Wn.A)(["\n          border-top-color: ",";\n        "])),e.theme.card.foreground)),(e=>e.rotation||0)),Fo=Gn.Ay.span(N||(N=(0,Wn.A)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding-left: 10px;\n"]))),Ao=Gn.Ay.div(H||(H=(0,Wn.A)(["\n  ","\n"])),Jn),Oo=e=>{let{children:t,className:i,caret:r,isActive:n,style:o,withBackground:s,hidden:a}=e;if(a)return qn.createElement(Ao,null,t);return qn.createElement(Io,{className:i,withBackground:s,style:o},qn.createElement(Do,{"data-test":Vn.Ta.CardLabel,withBackground:s},t,r&&qn.createElement(Fo,null,qn.createElement(Ro,{"aria-hidden":!0,rotation:n?180:0,withBackground:s}))))},Mo=Gn.Ay.div.attrs((e=>({"data-test":Vn.Ta.CardAvatar,style:{backgroundImage:"url(".concat(e.url,")")}})))(j||(j=(0,Wn.A)(["\n  position: absolute;\n  top: 4px;\n  left: 4px;\n  height: 28px;\n  width: 28px;\n  border-radius: 50%;\n"]))),Po=(0,Gn.i7)(W||(W=(0,Wn.A)(["\n  0% {\n    opacity: 0;\n    transform: scale(0.9);\n  }\n  100% {\n    opacity: 1;\n    transform: scale(1);\n  }\n"]))),zo=(0,Gn.i7)(V||(V=(0,Wn.A)(["\n  0% {\n    opacity: 0;\n    transform: scale(0.9) translateY(-20px);\n  }\n  100% {\n    opacity: 1;\n    transform: scale(1) translateY(0);\n  }\n"]))),Bo=[],Lo="ResizeObserver loop completed with undelivered notifications.";(uo=co||(co={})).BORDER_BOX="border-box",uo.CONTENT_BOX="content-box",uo.DEVICE_PIXEL_CONTENT_BOX="device-pixel-content-box";var Uo,No=function(){function e(e,t,i,r){return this.x=e,this.y=t,this.width=i,this.height=r,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,Object.freeze(this)}return e.prototype.toJSON=function(){var e=this;return{x:e.x,y:e.y,top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.width,height:e.height}},e.fromRect=function(t){return new e(t.x,t.y,t.width,t.height)},e}(),Ho=function(e){return e instanceof SVGElement&&"getBBox"in e},jo=function(e){if(Ho(e)){var t=e.getBBox(),i=t.width,r=t.height;return!i&&!r}var n=e,o=n.offsetWidth,s=n.offsetHeight;return!(o||s||e.getClientRects().length)},Wo=function(e){var t,i,r=null===(i=null===(t=e)||void 0===t?void 0:t.ownerDocument)||void 0===i?void 0:i.defaultView;return!!(r&&e instanceof r.Element)},Vo="undefined"!==typeof window?window:{},Go=new WeakMap,qo=/auto|scroll/,Xo=/^tb|vertical/,Yo=/msie|trident/i.test(Vo.navigator&&Vo.navigator.userAgent),Qo=function(e){return parseFloat(e||"0")},Ko=function(e,t,i){return void 0===e&&(e=0),void 0===t&&(t=0),void 0===i&&(i=!1),Object.freeze({inlineSize:(i?t:e)||0,blockSize:(i?e:t)||0})},Zo=Object.freeze({devicePixelContentBoxSize:Ko(),borderBoxSize:Ko(),contentBoxSize:Ko(),contentRect:new No(0,0,0,0)}),Jo=function(e,t){if(void 0===t&&(t=!1),Go.has(e)&&!t)return Go.get(e);if(jo(e))return Go.set(e,Zo),Zo;var i=getComputedStyle(e),r=Ho(e)&&e.ownerSVGElement&&e.getBBox(),n=!Yo&&"border-box"===i.boxSizing,o=Xo.test(i.writingMode||""),s=!r&&qo.test(i.overflowY||""),a=!r&&qo.test(i.overflowX||""),l=r?0:Qo(i.paddingTop),c=r?0:Qo(i.paddingRight),u=r?0:Qo(i.paddingBottom),h=r?0:Qo(i.paddingLeft),d=r?0:Qo(i.borderTopWidth),p=r?0:Qo(i.borderRightWidth),f=r?0:Qo(i.borderBottomWidth),g=h+c,m=l+u,y=(r?0:Qo(i.borderLeftWidth))+p,_=d+f,v=a?e.offsetHeight-_-e.clientHeight:0,b=s?e.offsetWidth-y-e.clientWidth:0,x=n?g+y:0,w=n?m+_:0,S=r?r.width:Qo(i.width)-x-b,k=r?r.height:Qo(i.height)-w-v,C=S+g+b+y,T=k+m+v+_,E=Object.freeze({devicePixelContentBoxSize:Ko(Math.round(S*devicePixelRatio),Math.round(k*devicePixelRatio),o),borderBoxSize:Ko(C,T,o),contentBoxSize:Ko(S,k,o),contentRect:new No(h,l,S,k)});return Go.set(e,E),E},$o=function(e,t,i){var r=Jo(e,i),n=r.borderBoxSize,o=r.contentBoxSize,s=r.devicePixelContentBoxSize;switch(t){case co.DEVICE_PIXEL_CONTENT_BOX:return s;case co.BORDER_BOX:return n;default:return o}},es=function(e){var t=Jo(e);this.target=e,this.contentRect=t.contentRect,this.borderBoxSize=[t.borderBoxSize],this.contentBoxSize=[t.contentBoxSize],this.devicePixelContentBoxSize=[t.devicePixelContentBoxSize]},ts=function(e){if(jo(e))return 1/0;for(var t=0,i=e.parentNode;i;)t+=1,i=i.parentNode;return t},is=function(){var e=1/0,t=[];Bo.forEach((function(i){if(0!==i.activeTargets.length){var r=[];i.activeTargets.forEach((function(t){var i=new es(t.target),n=ts(t.target);r.push(i),t.lastReportedSize=$o(t.target,t.observedBox),n<e&&(e=n)})),t.push((function(){i.callback.call(i.observer,r,i.observer)})),i.activeTargets.splice(0,i.activeTargets.length)}}));for(var i=0,r=t;i<r.length;i++){(0,r[i])()}return e},rs=function(e){Bo.forEach((function(t){t.activeTargets.splice(0,t.activeTargets.length),t.skippedTargets.splice(0,t.skippedTargets.length),t.observationTargets.forEach((function(i){i.isActive()&&(ts(i.target)>e?t.activeTargets.push(i):t.skippedTargets.push(i))}))}))},ns=function(){var e=0;for(rs(e);Bo.some((function(e){return e.activeTargets.length>0}));)e=is(),rs(e);return Bo.some((function(e){return e.skippedTargets.length>0}))&&function(){var e;"function"===typeof ErrorEvent?e=new ErrorEvent("error",{message:Lo}):((e=document.createEvent("Event")).initEvent("error",!1,!1),e.message=Lo),window.dispatchEvent(e)}(),e>0},os=[],ss=function(e){if(!Uo){var t=0,i=document.createTextNode("");new MutationObserver((function(){return os.splice(0).forEach((function(e){return e()}))})).observe(i,{characterData:!0}),Uo=function(){i.textContent=""+(t?t--:t++)}}os.push(e),Uo()},as=0,ls={attributes:!0,characterData:!0,childList:!0,subtree:!0},cs=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"],us=function(e){return void 0===e&&(e=0),Date.now()+e},hs=!1,ds=function(){function e(){var e=this;this.stopped=!0,this.listener=function(){return e.schedule()}}return e.prototype.run=function(e){var t=this;if(void 0===e&&(e=250),!hs){hs=!0;var i=us(e);!function(e){ss((function(){requestAnimationFrame(e)}))}((function(){var r=!1;try{r=ns()}finally{if(hs=!1,e=i-us(),!as)return;r?t.run(1e3):e>0?t.run(e):t.start()}}))}},e.prototype.schedule=function(){this.stop(),this.run()},e.prototype.observe=function(){var e=this,t=function(){return e.observer&&e.observer.observe(document.body,ls)};document.body?t():Vo.addEventListener("DOMContentLoaded",t)},e.prototype.start=function(){var e=this;this.stopped&&(this.stopped=!1,this.observer=new MutationObserver(this.listener),this.observe(),cs.forEach((function(t){return Vo.addEventListener(t,e.listener,!0)})))},e.prototype.stop=function(){var e=this;this.stopped||(this.observer&&this.observer.disconnect(),cs.forEach((function(t){return Vo.removeEventListener(t,e.listener,!0)})),this.stopped=!0)},e}(),ps=new ds,fs=function(e){!as&&e>0&&ps.start(),!(as+=e)&&ps.stop()},gs=function(){function e(e,t){this.target=e,this.observedBox=t||co.CONTENT_BOX,this.lastReportedSize={inlineSize:0,blockSize:0}}return e.prototype.isActive=function(){var e=$o(this.target,this.observedBox,!0);return function(e){return!Ho(e)&&!function(e){switch(e.tagName){case"INPUT":if("image"!==e.type)break;case"VIDEO":case"AUDIO":case"EMBED":case"OBJECT":case"CANVAS":case"IFRAME":case"IMG":return!0}return!1}(e)&&"inline"===getComputedStyle(e).display}(this.target)&&(this.lastReportedSize=e),this.lastReportedSize.inlineSize!==e.inlineSize||this.lastReportedSize.blockSize!==e.blockSize},e}(),ms=function(e,t){this.activeTargets=[],this.skippedTargets=[],this.observationTargets=[],this.observer=e,this.callback=t},ys=new WeakMap,_s=function(e,t){for(var i=0;i<e.length;i+=1)if(e[i].target===t)return i;return-1},vs=function(){function e(){}return e.connect=function(e,t){var i=new ms(e,t);ys.set(e,i)},e.observe=function(e,t,i){var r=ys.get(e),n=0===r.observationTargets.length;_s(r.observationTargets,t)<0&&(n&&Bo.push(r),r.observationTargets.push(new gs(t,i&&i.box)),fs(1),ps.schedule())},e.unobserve=function(e,t){var i=ys.get(e),r=_s(i.observationTargets,t),n=1===i.observationTargets.length;r>=0&&(n&&Bo.splice(Bo.indexOf(i),1),i.observationTargets.splice(r,1),fs(-1))},e.disconnect=function(e){var t=this,i=ys.get(e);i.observationTargets.slice().forEach((function(i){return t.unobserve(e,i.target)})),i.activeTargets.splice(0,i.activeTargets.length)},e}(),bs=function(){function e(e){if(0===arguments.length)throw new TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.");if("function"!==typeof e)throw new TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.");vs.connect(this,e)}return e.prototype.observe=function(e,t){if(0===arguments.length)throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!Wo(e))throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element");vs.observe(this,e,t)},e.prototype.unobserve=function(e){if(0===arguments.length)throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!Wo(e))throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element");vs.unobserve(this,e)},e.prototype.disconnect=function(){vs.disconnect(this)},e.toString=function(){return"function ResizeObserver () { [polyfill code] }"},e}(),xs=(0,Vn.b)(Yn()),ws=Gn.Ay.div(G||(G=(0,Wn.A)(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  margin: 0;\n  background: ",";\n  color: ",";\n  display: flex;\n  flex-direction: row;\n  overflow: hidden;\n  -webkit-touch-callout: none;\n  user-select: none;\n  * {\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n    font-family: '","', sans-serif;\n    /* css reset for a global box-sizing: border-box */\n    box-sizing: content-box;\n\n    scrollbar-width: thin;\n    scrollbar-color: "," transparent;\n\n    &::-webkit-scrollbar-track {\n      border-radius: 10px;\n      background-color: transparent;\n      margin: 1px;\n    }\n\n    &::-webkit-scrollbar {\n      width: 6px;\n      height: 6px;\n      background-color: transparent;\n    }\n\n    &::-webkit-scrollbar-thumb {\n      border-radius: 10px;\n      box-shadow: inset 0 0 14px rgba(0, 0, 0, 0.4);\n      background-color: ",";\n    }\n\n    &::-webkit-scrollbar-thumb:hover {\n      background-color: ",";\n    }\n  }\n\n  /* This will be applied first in some cases and should be treated as such */\n  h1,\n  h2,\n  h3,\n  input,\n  textarea,\n  label,\n  span,\n  div,\n  p {\n    line-height: normal;\n  }\n"])),(e=>e.theme.background),(e=>e.theme.foreground),(e=>e.theme.typography.fontFamily),(e=>e.theme.scrollbar.handleColor),(e=>e.theme.scrollbar.handleColor),(e=>e.theme.scrollbar.handleColor)),Ss=class extends qn.Component{constructor(e){var t;if(super(e),this.node=qn.createRef(),this.mounted=!1,this.saveEditorDimensions=e=>{this.mounted&&this.setState({contextValue:{element:e,rect:e.getBoundingClientRect()}})},null==(t=qn)?void 0:t.version){const e=Number.parseInt(qn.version.split(".")[0],10),t=Number.parseInt(qn.version.split(".")[1],10);(e<16||16===e&&t<8)&&console.error("Please be aware that the PhotoEditorSDK will require React 16.8.6 or above.")}this.saveEditorDimensions=(0,xs.default)(this.saveEditorDimensions,100),this.resizeObserver=new bs((e=>{let[t]=e;this.saveEditorDimensions(t.target)})),this.state={contextValue:{element:null,rect:null}}}componentDidMount(){var e;this.mounted=!0,(null==(e=this.node)?void 0:e.current)&&this.resizeObserver.observe(this.node.current)}componentWillUnmount(){this.mounted=!1,this.resizeObserver.disconnect()}render(){const{children:e}=this.props,{contextValue:t}=this.state;return qn.createElement(ws,{ref:this.node,"data-test":Vn.Ta.EditorContainer},qn.createElement(fo.Provider,{value:t},e))}};if(!qn.useState)throw new Error("mobx-react-lite requires React with Hooks support");if(!Vn.k)throw new Error("mobx-react-lite requires mobx at least version 4 to be available");var ks=function(e,t){var i="function"===typeof Symbol&&e[Symbol.iterator];if(!i)return e;var r,n,o=i.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){n={error:a}}finally{try{r&&!r.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}return s};function Cs(){var e=ks((0,qn.useState)(0),2)[1];return(0,qn.useCallback)((function(){e((function(e){return e+1}))}),[])}var Ts={};var Es=function(e){return"function"===typeof Symbol?Symbol.for(e):"__$mobx-react "+e+"__"}("observerBatching");function Ds(e){e()}var Is=!1;function Rs(){return Is}function Fs(e){return(0,Vn.o)(e)}var As,Os=1e4,Ms=1e4,Ps=new Set;function zs(){void 0===As&&(As=setTimeout(Bs,Ms))}function Bs(){As=void 0;var e=Date.now();Ps.forEach((function(t){var i=t.current;i&&e>=i.cleanAt&&(i.reaction.dispose(),t.current=null,Ps.delete(t))})),Ps.size>0&&zs()}var Ls=!1,Us=[];var Ns={};function Hs(e){return"observer"+e}function js(e,t,i){if(void 0===t&&(t="observed"),void 0===i&&(i=Ns),Rs())return e();var r=function(e){return function(){Ls?Us.push(e):e()}}((i.useForceUpdate||Cs)()),n=qn.useRef(null);if(!n.current){var o=new Vn.j(Hs(t),(function(){s.mounted?r():(o.dispose(),n.current=null)})),s=function(e){return{cleanAt:Date.now()+Os,reaction:e}}(o);n.current=s,function(e){Ps.add(e),zs()}(n)}var a=n.current.reaction;return qn.useDebugValue(a,Fs),qn.useEffect((function(){return function(e){Ps.delete(e)}(n),n.current?n.current.mounted=!0:(n.current={reaction:new Vn.j(Hs(t),(function(){r()})),cleanAt:1/0},r()),function(){n.current.reaction.dispose(),n.current=null}}),[]),function(e){Ls=!0,Us=[];try{var t=e();Ls=!1;var i=Us.length>0?Us:void 0;return qn.useLayoutEffect((function(){i&&i.forEach((function(e){return e()}))}),[i]),t}finally{Ls=!1}}((function(){var t,i;if(a.track((function(){try{t=e()}catch(r){i=r}})),i)throw i;return t}))}var Ws=function(){return Ws=Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++)for(var n in t=arguments[i])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},Ws.apply(this,arguments)};function Vs(e,t){if(Rs())return e;var i,r=Ws({forwardRef:!1},t),n=e.displayName||e.name,o=function(t,i){return js((function(){return e(t,i)}),n)};return o.displayName=n,i=r.forwardRef?(0,qn.memo)((0,qn.forwardRef)(o)):(0,qn.memo)(o),function(e,t){Object.keys(e).forEach((function(i){Gs[i]||Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(e,i))}))}(e,i),i.displayName=n,i}var Gs={$$typeof:!0,render:!0,compare:!0,type:!0};function qs(e){var t=e.children,i=e.render,r=t||i;return"function"!==typeof r?null:js(r)}function Xs(e,t,i,r,n){var o="children"===t?"render":"children",s="function"===typeof e[t],a="function"===typeof e[o];return s&&a?new Error("MobX Observer: Do not use children and render in the same time in`"+i):s||a?null:new Error("Invalid prop `"+n+"` of type `"+typeof e[t]+"` supplied to `"+i+"`, expected `function`.")}qs.propTypes={children:Xs,render:Xs},qs.displayName="Observer",function(e){e||(e=Ds),(0,Vn.n)({reactionScheduler:e}),("undefined"!==typeof window?window:"undefined"!==typeof i.g?i.g:"undefined"!==typeof self?self:Ts)[Es]=!0}(Xn.unstable_batchedUpdates);var Ys=0;var Qs={};function Ks(e){return Qs[e]||(Qs[e]=function(e){if("function"===typeof Symbol)return Symbol(e);var t="__$mobx-react "+e+" ("+Ys+")";return Ys++,t}(e)),Qs[e]}function Zs(e,t){if(Js(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var i=Object.keys(e),r=Object.keys(t);if(i.length!==r.length)return!1;for(var n=0;n<i.length;n++)if(!Object.hasOwnProperty.call(t,i[n])||!Js(e[i[n]],t[i[n]]))return!1;return!0}function Js(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}var $s={$$typeof:1,render:1,compare:1,type:1,childContextTypes:1,contextType:1,contextTypes:1,defaultProps:1,getDefaultProps:1,getDerivedStateFromError:1,getDerivedStateFromProps:1,mixins:1,propTypes:1};function ea(e,t,i){Object.hasOwnProperty.call(e,t)?e[t]=i:Object.defineProperty(e,t,{enumerable:!1,configurable:!0,writable:!0,value:i})}var ta=Ks("patchMixins"),ia=Ks("patchedDefinition");function ra(e,t){for(var i=this,r=arguments.length,n=new Array(r>2?r-2:0),o=2;o<r;o++)n[o-2]=arguments[o];t.locks++;try{var s;return void 0!==e&&null!==e&&(s=e.apply(this,n)),s}finally{t.locks--,0===t.locks&&t.methods.forEach((function(e){e.apply(i,n)}))}}function na(e,t){return function(){for(var i=arguments.length,r=new Array(i),n=0;n<i;n++)r[n]=arguments[n];ra.call.apply(ra,[this,e,t].concat(r))}}function oa(e,t,i){var r=function(e,t){var i=e[ta]=e[ta]||{},r=i[t]=i[t]||{};return r.locks=r.locks||0,r.methods=r.methods||[],r}(e,t);r.methods.indexOf(i)<0&&r.methods.push(i);var n=Object.getOwnPropertyDescriptor(e,t);if(!n||!n[ia]){var o=e[t],s=sa(e,t,n?n.enumerable:void 0,r,o);Object.defineProperty(e,t,s)}}function sa(e,t,i,r,n){var o,s=na(n,r);return(o={})[ia]=!0,o.get=function(){return s},o.set=function(n){if(this===e)s=na(n,r);else{var o=sa(this,t,i,r,n);Object.defineProperty(this,t,o)}},o.configurable=!0,o.enumerable=i,o}var aa=Vn.q||"$mobx",la=Ks("isMobXReactObserver"),ca=Ks("isUnmounted"),ua=Ks("skipRender"),ha=Ks("isForcingUpdate");function da(e){var t=e.prototype;if(e[la]){var i=pa(t);console.warn("The provided component class ("+i+") \n                has already been declared as an observer component.")}else e[la]=!0;if(t.componentWillReact)throw new Error("The componentWillReact life-cycle event is no longer supported");if(e.__proto__!==qn.PureComponent)if(t.shouldComponentUpdate){if(t.shouldComponentUpdate!==ga)throw new Error("It is not allowed to use shouldComponentUpdate in observer based components.")}else t.shouldComponentUpdate=ga;ma(t,"props"),ma(t,"state");var r=t.render;return t.render=function(){return fa.call(this,r)},oa(t,"componentWillUnmount",(function(){var e;if(!0!==Rs()&&(null===(e=this.render[aa])||void 0===e||e.dispose(),this[ca]=!0,!this.render[aa])){var t=pa(this);console.warn("The reactive render of an observer class component ("+t+") \n                was overriden after MobX attached. This may result in a memory leak if the \n                overriden reactive render was not properly disposed.")}})),e}function pa(e){return e.displayName||e.name||e.constructor&&(e.constructor.displayName||e.constructor.name)||"<component>"}function fa(e){var t=this;if(!0===Rs())return e.call(this);ea(this,ua,!1),ea(this,ha,!1);var i=pa(this),r=e.bind(this),n=!1,o=new Vn.j(i+".render()",(function(){if(!n&&(n=!0,!0!==t[ca])){var e=!0;try{ea(t,ha,!0),t[ua]||qn.Component.prototype.forceUpdate.call(t),e=!1}finally{ea(t,ha,!1),e&&o.dispose()}}}));function s(){n=!1;var e=void 0,t=void 0;if(o.track((function(){try{t=(0,Vn.i)(!1,r)}catch(i){e=i}})),e)throw e;return t}return o.reactComponent=this,s[aa]=o,this.render=s,s.call(this)}function ga(e,t){return Rs()&&console.warn("[mobx-react] It seems that a re-rendering of a React component is triggered while in static (server-side) mode. Please make sure components are rendered only once server-side."),this.state!==t||!Zs(this.props,e)}function ma(e,t){var i=Ks("reactProp_"+t+"_valueHolder"),r=Ks("reactProp_"+t+"_atomHolder");function n(){return this[r]||ea(this,r,(0,Vn.d)("reactive "+t)),this[r]}Object.defineProperty(e,t,{configurable:!0,enumerable:!0,get:function(){var e=!1;return Vn.g&&Vn.h&&(e=(0,Vn.g)(!0)),n.call(this).reportObserved(),Vn.g&&Vn.h&&(0,Vn.h)(e),this[i]},set:function(e){this[ha]||Zs(this[i],e)?ea(this,i,e):(ea(this,i,e),ea(this,ua,!0),n.call(this).reportChanged(),ea(this,ua,!1))}})}var ya="function"===typeof Symbol&&Symbol.for,_a=ya?Symbol.for("react.forward_ref"):"function"===typeof qn.forwardRef&&(0,qn.forwardRef)((function(e){return null})).$$typeof,va=ya?Symbol.for("react.memo"):"function"===typeof qn.memo&&(0,qn.memo)((function(e){return null})).$$typeof;function ba(e){if(!0===e.isMobxInjector&&console.warn("Mobx observer: You are trying to use 'observer' on a component that already has 'inject'. Please apply 'observer' before applying 'inject'"),va&&e.$$typeof===va)throw new Error("Mobx observer: You are trying to use 'observer' on a function component wrapped in either another observer or 'React.memo'. The observer already applies 'React.memo' for you.");if(_a&&e.$$typeof===_a){var t=e.render;if("function"!==typeof t)throw new Error("render property of ForwardRef was not a function");return(0,qn.forwardRef)((function(){var e=arguments;return(0,qn.createElement)(qs,null,(function(){return t.apply(void 0,e)}))}))}return"function"!==typeof e||e.prototype&&e.prototype.render||e.isReactClass||Object.prototype.isPrototypeOf.call(qn.Component,e)?da(e):Vs(e)}function xa(){return xa=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},xa.apply(this,arguments)}var wa=qn.createContext({});function Sa(e){var t=e.children,i=function(e,t){if(null==e)return{};var i,r,n={},o=Object.keys(e);for(r=0;r<o.length;r++)i=o[r],t.indexOf(i)>=0||(n[i]=e[i]);return n}(e,["children"]),r=qn.useContext(wa),n=qn.useRef(xa({},r,i)).current;return qn.createElement(wa.Provider,{value:n},t)}function ka(e,t,i,r){var n=qn.forwardRef((function(i,r){var n=xa({},i),o=qn.useContext(wa);return Object.assign(n,e(o||{},n)||{}),r&&(n.ref=r),qn.createElement(t,n)}));return r&&(n=ba(n)),n.isMobxInjector=!0,function(e,t){var i=Object.getOwnPropertyNames(Object.getPrototypeOf(e));Object.getOwnPropertyNames(e).forEach((function(r){$s[r]||-1!==i.indexOf(r)||Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(e,r))}))}(t,n),n.wrappedComponent=t,n.displayName=function(e,t){var i,r=e.displayName||e.name||e.constructor&&e.constructor.name||"Component";i=t?"inject-with-"+t+"("+r+")":"inject("+r+")";return i}(t,i),n}function Ca(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];if("function"===typeof arguments[0]){var r=arguments[0];return function(e){return ka(r,e,r.name,!0)}}return function(e){return ka(function(e){return function(t,i){return e.forEach((function(e){if(!(e in i)){if(!(e in t))throw new Error("MobX injector: Store '"+e+"' is not available! Make sure it is provided by some Provider");i[e]=t[e]}})),i}}(t),e,t.join("-"),!1)}}if(Sa.displayName="MobXProvider",!qn.Component)throw new Error("mobx-react requires React to be available");if(!Vn.e)throw new Error("mobx-react requires mobx to be available");var Ta=(0,Gn.AH)(q||(q=(0,Wn.A)(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  height: ","px;\n  width: ","px;\n  border-radius: ",";\n  pointer-events: none;\n"])),(e=>e.theme.measurements.colorItem.size),(e=>e.theme.measurements.colorItem.size),(e=>e.theme.colorItem.borderRadius||"".concat(e.theme.shape.radiusSmall,"px"))),Ea=Gn.Ay.div.attrs((e=>({style:{background:e.color}})))(X||(X=(0,Wn.A)(["\n  ","\n  z-index: ",";\n"])),Ta,(e=>e.theme.measurements.zIndex.colorItem.background)),Da=Ea,Ia=Gn.Ay.div(Y||(Y=(0,Wn.A)(["\n  ","\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  z-index: ",";\n\n  box-sizing: border-box;\n  border: 2px solid transparent;\n  border-radius: ",";\n  transition: border-color 300ms ease-in-out;\n  ","\n"])),Ta,(e=>e.theme.measurements.zIndex.colorItem.overlay),(e=>e.theme.colorItem.borderRadius||"".concat(e.theme.shape.radiusSmall,"px")),(e=>e.isActive&&(0,Gn.AH)(Q||(Q=(0,Wn.A)(["\n      border-color: ",";\n    "])),e.theme.selectColor.activeBorderColor))),Ra=Gn.Ay.span(K||(K=(0,Wn.A)(["\n  display: inline-block;\n  height: 2px;\n  width: 2px;\n  border-radius: 50%;\n  box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.6);\n  background: rgba(255, 255, 255, 0.87);\n  margin: 1px;\n  pointer-events: none;\n"]))),Fa=e=>{let{isActive:t,className:i,style:r}=e;return qn.createElement(Ia,{isActive:t,className:i,style:r},t&&qn.createElement(qn.Fragment,null,qn.createElement(Ra,null),qn.createElement(Ra,null),qn.createElement(Ra,null)))},Aa=Gn.Ay.button.attrs({type:"button"})(Z||(Z=(0,Wn.A)(["\n  &&& {\n    box-sizing: border-box;\n  }\n  position: relative;\n  background: transparent;\n  border: none;\n  height: ","px;\n  width: ","px;\n  margin: ",";\n  padding: 0;\n  cursor: pointer;\n  border-radius: ",";\n\n  &:hover {\n    opacity: 0.7;\n  }\n\n  ","\n\n  &:disabled {\n    opacity: ",";\n    cursor: default;\n  }\n"])),(e=>e.theme.measurements.colorItem.size),(e=>e.theme.measurements.colorItem.size),(e=>e.theme.colorItem.margin),(e=>e.theme.colorItem.borderRadius||"".concat(e.theme.shape.radiusSmall,"px")),Zn,(e=>e.theme.selectColor.inactiveOpacity)),Oa=Aa,Ma=Gn.Ay.div.attrs((e=>({style:e.url?{backgroundImage:"url(".concat(e.url,")")}:{},...e.style})))(J||(J=(0,Wn.A)(["\n  ","\n  z-index: ",";\n"])),Ta,(e=>e.theme.measurements.zIndex.colorItem.tiledBackground)),Pa=Ma,za=Ca("config")(ba((e=>{let{isActive:t,onClick:i,color:r,label:n,isDisabled:o,tiledBackgroundUrl:s,className:a,style:l,children:c}=e;return qn.createElement(Oa,{disabled:o,onClick:i,"aria-label":n,className:a,style:l},qn.createElement(Pa,{url:s}),qn.createElement(Da,{color:r}),qn.createElement(Fa,{isActive:t}),c)}))),Ba=Gn.Ay.div($||($=(0,Wn.A)(["\n  display: block;\n  opacity: 1;\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  z-index: ",";\n  text-align: left;\n  background: ",";\n  height: 100%;\n  width: 100%;\n"])),(e=>e.theme.measurements.zIndex.dialog.backdrop),(e=>e.theme.modal.backdrop)),La=Ba,Ua=Gn.Ay.div(ee||(ee=(0,Wn.A)(["\n  display: none;\n  visibility: hidden;\n  opacity: 0;\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  z-index: ",";\n  transition: opacity 100s ease-in-out;\n\n  ",";\n"])),(e=>e.theme.measurements.zIndex.dialog.base),(e=>e.isVisible&&(0,Gn.AH)(te||(te=(0,Wn.A)(["\n      opacity: 1;\n      display: block;\n      visibility: visible;\n    "]))))),Na=e=>{let{isVisible:t,className:i,children:r}=e;return qn.createElement(Ua,{isVisible:t,className:i},r)},Ha=Gn.Ay.div.attrs((e=>{let{style:t}=e;return{role:"dialog","aria-hidden":!1,style:t}}))(ie||(ie=(0,Wn.A)(["\n  display: flex;\n  flex: 0 0 auto;\n  flex-direction: column;\n  transition: top 0.25s ease;\n  position: absolute;\n  top: calc(50% + ","px);\n  left: calc(50% + ","px);\n  width: ",";\n  height: ",";\n  transform: translate(-50%, -50%);\n  border-radius: ","px;\n  background: ",";\n  color: ",";\n  z-index: ",";\n\n  @media all and (min-width: 0) and (max-width: 640px) {\n    text-align: center;\n    width: auto;\n    min-width: 200px;\n    height: auto;\n    top: 50%;\n    left: 50%;\n  }\n"])),(e=>e.top),(e=>e.left),(e=>e.width),(e=>e.height),(e=>e.theme.shape.radiusLarge),(e=>e.theme.modal.background),(e=>e.theme.modal.bodyForeground),(e=>e.theme.measurements.zIndex.dialog.container)),ja=Ha,Wa=e=>{let{isVisible:t=!1,width:i="350px",height:r="fit-content",position:n,header:o,body:s,footer:a,className:l,style:c,children:u}=e;return qn.createElement(Na,{isVisible:t},qn.createElement(La,null),qn.createElement(ja,{height:r,width:i,left:n.x,top:n.y,className:l,style:c,"data-test":Vn.Ta.Dialog},o,s,u,a))},Va=Gn.Ay.div(re||(re=(0,Wn.A)(["\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n  box-sizing: border-box;\n  font-size: ","px;\n  letter-spacing: ","px;\n  text-transform: ",";\n  color: ",";\n\n  padding: 0px 20px 11px;\n  &:first-child {\n    padding-top: 11px;\n  }\n\n  @media all and (min-width: 0) and (max-width: 640px) {\n    align-items: center;\n  }\n"])),(e=>e.theme.measurements.fontSystem.body.size),(e=>e.theme.measurements.fontSystem.body.letterSpacing),(e=>e.theme.measurements.fontSystem.body.case),(e=>e.theme.modal.bodyForeground)),Ga=Va,qa=Gn.Ay.div(ne||(ne=(0,Wn.A)(["\n  display: flex;\n  border-top: 2px solid\n    ",";\n\n  min-height: 40px;\n  justify-content: flex-end;\n  @media all and (min-width: 0) and (max-width: 640px) {\n    height: auto;\n    flex-direction: column;\n    justify-content: space-around;\n  }\n"])),(e=>"error"===e.type?e.theme.error:e.theme.warning)),Xa=qa,Ya=Gn.Ay.h3(oe||(oe=(0,Wn.A)(["\n  font-size: ","px;\n  letter-spacing: ","px;\n  text-transform: ",";\n  color: ",";\n\n  padding: 11px 20px 0px;\n"])),(e=>e.theme.measurements.fontSystem.headline2.size),(e=>e.theme.measurements.fontSystem.headline2.letterSpacing),(e=>e.theme.measurements.fontSystem.headline2.case),(e=>e.theme.modal.headerForeground)),Qa=Ya,Ka=(0,Gn.i7)(se||(se=(0,Wn.A)(["\n  0% {\n    transform: rotate(0deg);\n  }\n  100% {\n    transform: rotate(360deg);\n  }\n"]))),Za=Gn.Ay.div(ae||(ae=(0,Wn.A)(["\n  display: inline-block;\n  position: relative;\n  width: 45px;\n  height: 45px;\n"]))),Ja=Gn.Ay.div(le||(le=(0,Wn.A)(["\n  box-sizing: border-box;\n  display: block;\n  position: absolute;\n  width: 40px;\n  height: 40px;\n  margin: 2.5px;\n  border: 2.5px solid ",";\n  border-radius: 50%;\n  animation: "," 1.2s cubic-bezier(0.5, 0, 0.5, 1) infinite;\n  border-color: "," transparent transparent\n    transparent;\n\n  :nth-child(1) {\n    animation-delay: -0.45s;\n  }\n  :nth-child(2) {\n    animation-delay: -0.3s;\n  }\n  :nth-child(3) {\n    animation-delay: -0.15s;\n  }\n"])),(e=>e.theme.primary),Ka,(e=>e.theme.primary)),$a=e=>{let{className:t,style:i}=e;return qn.createElement(Za,{className:t,style:i},qn.createElement(Ja,null),qn.createElement(Ja,null),qn.createElement(Ja,null),qn.createElement(Ja,null))},el=["Moz","Webkit","O","ms"];function tl(e,t){return t?"".concat(t).concat(function(e){let t,i="",r=!0;for(t=0;t<e.length;t+=1)r?(i+=e[t].toUpperCase(),r=!1):"-"===e[t]?r=!0:i+=e[t];return i}(e)):e}var il=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"transform";if("undefined"===typeof window||"undefined"===typeof window.document)return"";const{style:t}=window.document.documentElement;if(e in t)return"";let i;for(i=0;i<el.length;i+=1)if(tl(e,el[i])in t)return el[i];return""}();function rl(e,t){for(let i=0,{length:r}=e;i<r;i+=1)if(t.apply(t,[e[i],i,e]))return e[i];return null}function nl(e){return"function"===typeof e||"[object Function]"===Object.prototype.toString.call(e)}function ol(e){return"number"===typeof e&&!Number.isNaN(e)}function sl(e){return parseInt(e,10)}var al="";function ll(e,t){return al||(al=rl(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],(t=>nl(e[t])))),!!nl(e[al])&&e[al](t)}function cl(e,t,i){let r=e;do{if(ll(r,t))return!0;if(r===i)return!1;r=r.parentNode}while(r);return!1}function ul(e,t,i){e&&(e.attachEvent?e.attachEvent("on".concat(t),i):e.addEventListener?e.addEventListener(t,i,!0):e["on".concat(t)]=i)}function hl(e,t,i){e&&(e.detachEvent?e.detachEvent("on".concat(t),i):e.removeEventListener?e.removeEventListener(t,i,!0):e["on".concat(t)]=null)}function dl(e){let t=e.clientHeight;const i=e.ownerDocument.defaultView.getComputedStyle(e);return t+=sl(i.borderTopWidth),t+=sl(i.borderBottomWidth),t}function pl(e){let t=e.clientWidth;const i=e.ownerDocument.defaultView.getComputedStyle(e);return t+=sl(i.borderLeftWidth),t+=sl(i.borderRightWidth),t}function fl(e){let t=e.clientHeight;const i=e.ownerDocument.defaultView.getComputedStyle(e);return t-=sl(i.paddingTop),t-=sl(i.paddingBottom),t}function gl(e){let t=e.clientWidth;const i=e.ownerDocument.defaultView.getComputedStyle(e);return t-=sl(i.paddingLeft),t-=sl(i.paddingRight),t}function ml(e){const t=e.findDOMNode();return t||null}function yl(e,t,i){const{state:r}=e,n=!ol(r.lastX),o=ml(e);return n?{node:o,deltaX:0,deltaY:0,lastX:t,lastY:i,x:t,y:i}:{node:o,deltaX:t-r.lastX,deltaY:i-r.lastY,lastX:r.lastX,lastY:r.lastY,x:t,y:i}}function _l(e,t){return{node:t.node,x:e.state.x+t.deltaX,y:e.state.y+t.deltaY,deltaX:t.deltaX,deltaY:t.deltaY,lastX:e.state.x,lastY:e.state.y}}function vl(e){return"both"===e.props.axis||"x"===e.props.axis}function bl(e){return"both"===e.props.axis||"y"===e.props.axis}function xl(e,t){const i=ml(t);if(!i)return{x:0,y:0};let{offsetParent:r}=t.props;return!r&&i instanceof HTMLElement&&(r=i.offsetParent||i.ownerDocument.body),function(e,t){const i=t===t.ownerDocument.body?{left:0,top:0}:t.getBoundingClientRect();return{x:e.clientX+t.scrollLeft-i.left,y:e.clientY+t.scrollTop-i.top}}(e,r)}var wl={start:"touchstart",move:"touchmove",stop:"touchend"},Sl={start:"mousedown",move:"mousemove",stop:"mouseup"},kl=Sl,Cl={cancel:null,disabled:!1,offsetParent:null,handle:null,transform:null,onStart:()=>{},onDrag:()=>{},onStop:()=>{},onMouseDown:()=>{}},Tl=class extends qn.Component{constructor(){super(...arguments),this.state={dragging:!1,lastX:NaN,lastY:NaN,touchIdentifier:void 0},this.findDOMNode=()=>{const{nodeRef:e}=this.props;return(null==e?void 0:e.current)||null},this.getTouchFromEvent=e=>{const t=function(e){return e.targetTouches&&e.targetTouches[0]?e.targetTouches[0].identifier:e.changedTouches&&e.changedTouches[0]?e.changedTouches[0].identifier:null}(e);return this.setState({touchIdentifier:t}),function(e,t){let i=null;return e.targetTouches&&(i=rl(e.targetTouches,(e=>t===e.identifier))),e.changedTouches&&!i&&(i=rl(e.changedTouches,(e=>t===e.identifier))),i}(e,t)},this.preventDefault=e=>{e.stopPropagation&&e.stopPropagation()},this.handleDragStart=e=>{const t=this.findDOMNode();if(!t||!t.ownerDocument||!t.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");const{ownerDocument:i}=t;if(this.props.disabled||!(e.target instanceof Node)||this.props.handle&&!cl(e.target,this.props.handle,t)||this.props.cancel&&cl(e.target,this.props.cancel,t))return!1;const r=xl(e,this);if(null==r)return!1;const{x:n,y:o}=r,s=yl(this,n,o);if(!1===this.props.onStart(e,s))return!1;this.setState({dragging:!0,lastX:n,lastY:o}),"touchmove"===kl.move?ul(i,kl.move,this.onTouchDrag):ul(i,kl.move,this.onMouseDrag),ul(i,kl.stop,this.handleDragStop)},this.handleDrag=e=>{const t=xl(e,this);if(null==t)return;const{x:i,y:r}=t,n=yl(this,i,r);if(!1!==this.props.onDrag(e,n))this.setState({lastX:i,lastY:r});else try{this.handleDragStop(new MouseEvent("mouseup"))}catch(o){const e=document.createEvent("MouseEvents");e.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),this.handleDragStop(e)}},this.handleDragStop=e=>{if(!this.state.dragging)return;const t=xl(e,this);if(null==t)return;const{x:i,y:r}=t,n=yl(this,i,r),o=this.findDOMNode();this.setState({dragging:!1,lastX:NaN,lastY:NaN}),this.props.onStop(e,n),o&&("touchmove"===kl.move?hl(o.ownerDocument,kl.move,this.onTouchDrag):hl(o.ownerDocument,kl.move,this.onMouseDrag),hl(o.ownerDocument,kl.stop,this.handleDragStop))},this.onMouseDown=e=>(this.preventDefault(e),kl=Sl,this.props.onMouseDown(e),(!e.button||"number"!==typeof e.button||0===e.button)&&this.handleDragStart(e)),this.onMouseDrag=e=>(this.preventDefault(e),this.handleDrag(e)),this.onMouseUp=e=>(this.preventDefault(e),kl=Sl,this.handleDragStop(e)),this.onTouchStart=e=>{this.preventDefault(e),kl=wl;const t=this.getTouchFromEvent(e);return this.handleDragStart(t)},this.onTouchDrag=e=>{this.preventDefault(e),kl=wl;const t=this.getTouchFromEvent(e);return this.handleDrag(t)},this.onTouchEnd=e=>{this.preventDefault(e),kl=wl;const t=this.getTouchFromEvent(e);return this.handleDragStop(t)}}componentWillUnmount(){const e=this.findDOMNode();if(e){const{ownerDocument:t}=e;hl(t,Sl.move,this.onMouseDrag),hl(t,wl.move,this.onTouchDrag),hl(t,Sl.stop,this.handleDragStop),hl(t,wl.stop,this.handleDragStop)}}render(){return qn.cloneElement(qn.Children.only(this.props.children),{style:{touchAction:"none",...this.props.children.props.style},onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}};Tl.defaultProps=Cl,Tl.displayName="DraggableCore";var El={...Cl,axis:"both",bounds:!1,defaultClassName:"draggable",defaultClassNameDragging:"draggable-dragging",defaultClassNameDragged:"draggable-dragged",defaultPosition:{x:0,y:0},position:null,rotation:0,updateOnPosition:!1},Dl=class extends qn.Component{constructor(e){super(e),this.onDragStart=(e,t)=>{if(!1===this.props.onStart(e,_l(this,t)))return!1;this.setState({dragging:!0,dragged:!0})},this.onDrag=(e,t)=>{const{position:i,defaultPosition:r,onDrag:n,bounds:o}=this.props;if(!this.state.dragging)return!1;const s=_l(this,t),a=Boolean(i),l={x:a?s.x:r.x,y:a?s.y:r.y,slackX:0,slackY:0};if(o){const{x:e,y:t}=l;l.x+=this.state.slackX,l.y+=this.state.slackY;const[i,r]=function(e,t,i){if(!e.props.bounds)return[t,i];let{bounds:r}=e.props;r="string"===typeof r?r:function(e){return{left:e.left,top:e.top,right:e.right,bottom:e.bottom}}(r);const n=ml(e);if(!n)return[t,i];if("string"===typeof r){const{ownerDocument:e}=n,t=e.defaultView;let i;i="parent"===r?n.parentNode:e.querySelector(r);const o=t.getComputedStyle(n),s=t.getComputedStyle(i);r={left:-n.offsetLeft+sl(s.paddingLeft)+sl(o.marginLeft),top:-n.offsetTop+sl(s.paddingTop)+sl(o.marginTop),right:gl(i)-pl(n)-n.offsetLeft+sl(s.paddingRight)-sl(o.marginRight),bottom:fl(i)-dl(n)-n.offsetTop+sl(s.paddingBottom)-sl(o.marginBottom)}}return ol(r.right)&&(t=Math.min(t,r.right)),ol(r.bottom)&&(i=Math.min(i,r.bottom)),ol(r.left)&&(t=Math.max(t,r.left)),ol(r.top)&&(i=Math.max(i,r.top)),[t,i]}(this,l.x,l.y);l.x=i,l.y=r,l.slackX=this.state.slackX+(e-l.x),l.slackY=this.state.slackY+(t-l.y),s.x=l.x,s.y=l.y,s.deltaX=l.x-this.state.x,s.deltaY=l.y-this.state.y}if(!1===n(e,s))return!1;this.setState(l)},this.onDragStop=(e,t)=>{if(!this.state.dragging)return!1;if(!1===this.props.onStop(e,_l(this,t)))return!1;const i={dragging:!1,slackX:0,slackY:0,x:0,y:0};if(Boolean(this.props.position)){const{x:e,y:t}=this.props.position;i.x=e,i.y=t}this.setState(i)},this.findDOMNode=()=>{const{nodeRef:e}=this.props;return(null==e?void 0:e.current)||null},this.state={dragging:!1,dragged:!1,x:e.position?e.position.x:e.defaultPosition.x,y:e.position?e.position.y:e.defaultPosition.y,slackX:0,slackY:0}}componentDidUpdate(e){Boolean(this.props.position)&&(this.props.updateOnPosition?(e.position&&e.position.x!==this.props.position.x||e.position.y!==this.props.position.y)&&this.setState({x:this.props.position.x,y:this.props.position.y}):(e.position&&this.props.position.x!==this.state.x||this.props.position.y!==this.state.y)&&this.setState({x:this.props.position.x,y:this.props.position.y}))}componentWillUnmount(){this.setState({dragging:!1})}render(){const{position:e,defaultPosition:t,rotation:i,defaultClassName:r,defaultClassNameDragging:n,defaultClassNameDragged:o,...s}=this.props,{x:a,y:l,dragging:c,dragged:u}=this.state;let h={};const d=!Boolean(e)||c,p=e||t;h=function(e){let{x:t,y:i,rotation:r}=e;const n="translate(".concat(t,"px,").concat(i,"px) rotate(").concat(r,"rad)");return{[tl("transform",il)]:n}}({x:vl(this)&&d?a:p.x,y:bl(this)&&d?l:p.y,rotation:i});const f=qn.Children.only(this.props.children),g=[f.props.className||"",r,c?n:"",u?o:""].join(" ").trim(),m=qn.cloneElement(f,{className:g,style:{...f.props.style,...h}});return qn.createElement(Tl,{...s,onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop},m)}};Dl.defaultProps=El,Dl.displayName="Draggable";var Il=Dl,Rl=(0,Vn.b)(Qn()),Fl=Gn.Ay.label(ce||(ce=(0,Wn.A)(["\n  ","\n"])),Jn),Al=Gn.Ay.label(ue||(ue=(0,Wn.A)(["\n  display: block;\n  font-size: ","px;\n  letter-spacing: ","px;\n  text-transform: ",";\n  color: ",";\n  margin: 0;\n  padding-bottom: 8px;\n\n  ","\n"])),(e=>e.theme.measurements.fontSystem.label.size),(e=>e.theme.measurements.fontSystem.label.letterSpacing),(e=>e.theme.measurements.fontSystem.label.case),(e=>e.theme.toolControlBar.inputLabelForeground),(e=>{let{isDisabled:t}=e;return t&&(0,Gn.AH)(he||(he=(0,Wn.A)(["\n      opacity: ",";\n      cursor: default;\n      pointer-events: none;\n    "])),(e=>e.theme.toolControlBar.inputLabelInactiveOpacity))})),Ol=e=>{let{id:t,"data-test":i,label:r,htmlFor:n,show:o,style:s,isDisabled:a,className:l}=e;const c=o?Al:Fl,u=n||(r?r.replace(" ","-"):void 0);return qn.createElement(c,{id:t,"data-test":i,style:s,isDisabled:a,htmlFor:u,className:l},r)};Ol.defaultProps={show:!0};var Ml=Gn.Ay.div(de||(de=(0,Wn.A)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-direction: column;\n"]))),Pl=(0,Gn.Ay)(Ol)(pe||(pe=(0,Wn.A)(["\n  align-self: flex-start;\n"]))),zl=(0,Gn.Ay)(lo)(fe||(fe=(0,Wn.A)(["\n  color: ",";\n  padding: 1px 7px 2px;\n"])),(e=>e.theme.button.textSecondaryForeground)),Bl=Gn.Ay.div(ge||(ge=(0,Wn.A)(["\n  display: flex;\n  justify-content: space-between;\n  width: ","px;\n"])),(e=>e.theme.measurements.advancedUIToolControlBar.width-48)),Ll=Gn.Ay.article(me||(me=(0,Wn.A)(["\n  /* 0.6 of width here refers to the width of the container without padding */\n  width: ","px;\n  font-size: ","px;\n  letter-spacing: ","px;\n  text-transform: ",";\n  text-align: center;\n  margin-top: 7px;\n  display: inline-block;\n  color: ",";\n"])),(e=>.6*e.theme.measurements.advancedUIToolControlBar.width),(e=>e.theme.measurements.fontSystem.body.size),(e=>e.theme.measurements.fontSystem.body.letterSpacing),(e=>e.theme.measurements.fontSystem.body.case),(e=>e.theme.toolControlBar.inputLabelForeground)),Ul=Gn.Ay.div(ye||(ye=(0,Wn.A)(["\n  width: ","px;\n  transform: translateZ(0);\n  overflow: hidden;\n  transition: all 500ms ease-out;\n"])),(e=>.6*e.theme.measurements.advancedUIToolControlBar.width)),Nl=Gn.Ay.span(_e||(_e=(0,Wn.A)(["\n  width: ","px;\n  margin-left: -","px;\n  position: relative;\n  display: inline-block;\n  transform: translateZ(0);\n  transition: all 600ms cubic-bezier(0.77, 0, 0.175, 1);\n  font-family: '","', sans-serif;\n"])),(e=>Math.round(.6*e.length*e.theme.measurements.advancedUIToolControlBar.width)),(e=>.6*e.activeIndex*e.theme.measurements.advancedUIToolControlBar.width),(e=>e.theme.typography.fontFamily)),Hl=Gn.Ay.div(ve||(ve=(0,Wn.A)(["\n  border: solid ",";\n  border-width: 0 2px 2px 0;\n  padding: 3px;\n  height: 0;\n  width: 0;\n\n  ","\n"])),(e=>e.theme.card.foreground),(e=>{let{direction:t}=e;return"left"===t?(0,Gn.AH)(be||(be=(0,Wn.A)(["\n          margin-left: 2px;\n          transform: rotate(135deg);\n        "]))):(0,Gn.AH)(xe||(xe=(0,Wn.A)(["\n          margin-right: 2px;\n          transform: rotate(-45deg);\n        "])))})),jl=class extends qn.PureComponent{constructor(e){var t;super(e),t=this,this.updateIndex=function(e){let i=e+(arguments.length>1&&void 0!==arguments[1]&&arguments[1]?-1:1);const r=t.props.list.length-1;i>r&&(i=0),i<0&&(i=r),t.props.onSelect(t.props.list[i].identifier)},this.getActiveIndex=e=>{const{list:t}=this.props,i=t.findIndex((t=>t.identifier===e));return-1!==i?i:0},this.throttledUpdateIndex=(0,Rl.default)(this.updateIndex,600)}render(){const{list:e,label:t,showLabel:i=!0}=this.props,r=this.getActiveIndex(this.props.defaultIdentifier),n=e.length<=1;return qn.createElement(Ml,{"data-test":Vn.Ta.CarouselSlider},qn.createElement(Pl,{show:i,label:t}),qn.createElement(Bl,{id:"photoeditorsdk-".concat(t.replace(" ","-"))},qn.createElement(zl,{ariaLabel:"Select Previous",isDisabled:n,onClick:()=>this.throttledUpdateIndex(r,!0)},qn.createElement(Hl,{direction:"left"})),qn.createElement(Ul,null,qn.createElement(Nl,{activeIndex:r,length:e.length},e.map((e=>qn.createElement(Ll,{key:e.identifier},e.value))))),qn.createElement(zl,{ariaLabel:"Select Next",isDisabled:n,onClick:()=>this.throttledUpdateIndex(r)},qn.createElement(Hl,{direction:"right"}))))}};jl.defaultProps={showLabel:!0};var Wl=jl,Vl=Gn.Ay.div(we||(we=(0,Wn.A)(["\n  display: flex;\n  position: relative;\n  margin-bottom: 12px;\n  max-width: ","px;\n"])),(e=>e.theme.measurements.inputs.checkbox.maxWidth)),Gl=Vl,ql=Gn.Ay.div(Se||(Se=(0,Wn.A)(["\n  position: relative;\n  height: 16px;\n  width: 16px;\n  cursor: pointer;\n  background-color: ",";\n  border-radius: ","px;\n  transition-timing-function: ease-in;\n  transition-duration: 0.3s;\n  &::after {\n    content: '';\n    position: absolute;\n    display: inline-block;\n    left: 5px;\n    width: 5px;\n    height: 10px;\n    border-style: solid;\n    border-width: 0 2px 2px 0;\n    border-color: transparent;\n    transform: rotate(45deg) scale(0.8);\n  }\n\n  &:first-child {\n    margin-right: 8px;\n  }\n\n  &:last-child {\n    margin-left: 8px;\n  }\n\n  ","\n\n  &:hover {\n    opacity: ",";\n  }\n  ","\n  ","\n"])),(e=>e.theme.checkbox.background),(e=>e.theme.shape.radiusSmall),Zn,(e=>e.theme.checkbox.hoverOpacity),(e=>e.isChecked&&(0,Gn.AH)(ke||(ke=(0,Wn.A)(["\n      background-color: ",";\n      &::after {\n        color: ",";\n        border-color: ",";\n      }\n      &:hover {\n        background-color: ",";\n        opacity: 0.8;\n      }\n    "])),e.theme.checkbox.activeBackground,e.theme.checkbox.activeForeground,e.theme.checkbox.foreground,e.theme.checkbox.activeBackground)),(e=>e.isDisabled&&(0,Gn.AH)(Ce||(Ce=(0,Wn.A)(["\n      opacity: 0.5;\n      cursor: default;\n      pointer-events: none;\n    "]))))),Xl=ql,Yl=Gn.Ay.input.attrs({type:"checkbox",tabIndex:0})(Te||(Te=(0,Wn.A)(["\n  position: absolute;\n  opacity: 0;\n  cursor: pointer;\n  height: 0;\n  width: 0;\n  margin: 0;\n  padding: 0;\n  ","\n"])),Zn),Ql=e=>{let{label:t,value:i,checkMarkPosition:r,onClick:n,isDisabled:o,className:s,style:a}=e;const l="photoeditorsdk-".concat(t.replace(" ","-"));return qn.createElement(Gl,{"data-test":Vn.Ta.Checkbox,className:s,style:a},"left"===r&&qn.createElement(Xl,{onClick:n,isDisabled:o,isChecked:i}),qn.createElement(Ol,{isDisabled:o,label:t,htmlFor:l}),qn.createElement(Yl,{id:l,disabled:o,checked:i,"aria-checked":i,onChange:n}),"right"===r&&qn.createElement(Xl,{onClick:n,isDisabled:o,isChecked:i}))},Kl=Ql;Ql.defaultProps={value:!1,checkMarkPosition:"left"};var Zl=(0,Gn.AH)(Ee||(Ee=(0,Wn.A)(["\n  opacity: ",";\n  pointer-events: none;\n"])),(e=>e.theme.dropdown.inactiveOpacity)),Jl=Gn.Ay.div(De||(De=(0,Wn.A)(["\n  display: block;\n  position: relative;\n  width: 100%;\n  white-space: nowrap;\n  transition-duration: 0.5s;\n\n  &:disabled {\n    ","\n  }\n\n  ","\n"])),Zl,(e=>{let{isDisabled:t}=e;return t&&Zl})),$l=Gn.Ay.li(Ie||(Ie=(0,Wn.A)(["\n  padding: 10px 16px;\n  text-overflow: ellipsis;\n  font-size: ","px;\n  letter-spacing: ","px;\n  text-transform: ",";\n  white-space: nowrap;\n  color: ",";\n\n  &:hover {\n    cursor: pointer;\n    background: ",";\n  }\n\n  ","\n\n  ","\n"])),(e=>e.theme.measurements.fontSystem.button2.size),(e=>e.theme.measurements.fontSystem.button2.letterSpacing),(e=>e.theme.measurements.fontSystem.button2.case),(e=>e.theme.dropdown.foreground),(e=>e.theme.dropdown.listItemHoverBackground),(e=>{let{isActive:t}=e;return t&&(0,Gn.AH)(Re||(Re=(0,Wn.A)(["\n      border-left: 2px solid ",";\n    "])),(e=>e.theme.primary))}),Zn),ec=Gn.Ay.div(Fe||(Fe=(0,Wn.A)(["\n  display: flex;\n  ",";\n"])),(e=>(0,Vn.t)()||(0,Vn.s)()?(0,Gn.AH)(Ae||(Ae=(0,Wn.A)(["\n        overflow: hidden;\n      "]))):"vertical"===e.direction?(0,Gn.AH)(Oe||(Oe=(0,Wn.A)(["\n        flex-direction: column;\n        flex: 1 1 auto;\n        overflow-y: auto;\n        overflow-x: hidden;\n      "]))):(0,Gn.AH)(Me||(Me=(0,Wn.A)(["\n      overflow-y: hidden;\n      overflow-x: auto;\n    "]))))),tc=Gn.Ay.ul.attrs((()=>({role:"menubar","aria-label":"Tool Navigation"})))(Pe||(Pe=(0,Wn.A)(["\n  display: flex;\n  flex-direction: ",";\n\n  list-style: none;\n  padding: 0;\n  margin: 0;\n\n  ","\n"])),(e=>"vertical"===e.direction?"column":"row"),(e=>(0,Vn.t)()||(0,Vn.s)()?(0,Gn.AH)(ze||(ze=(0,Wn.A)(["\n        ","\n\n        scrollbar-face-color: ",";\n        scrollbar-track-color: ",";\n        scrollbar-base-color: ",";\n        scrollbar-3dlight-color: ",";\n        scrollbar-highlight-color: ",";\n        scrollbar-arrow-color: ",";\n        scrollbar-shadow-color: ",";\n        scrollbar-dark-shadow-color: ",";\n      "])),(()=>"vertical"===e.direction?(0,Gn.AH)(Be||(Be=(0,Wn.A)(["\n              width: 100%;\n              overflow-y: auto;\n              overflow-x: hidden;\n\n              /* hidde the arrows */\n              margin-top: -10px;\n              margin-bottom: -10px;\n              padding-top: 10px;\n              padding-bottom: 10px;\n\n              /* hide the scrollbar */\n              padding-right: 10px;\n              margin-right: -10px;\n            "]))):(0,Gn.AH)(Le||(Le=(0,Wn.A)(["\n            height: 100%;\n            overflow-y: hidden;\n            overflow-x: auto;\n\n            margin-right: -10px;\n            margin-left: -10px;\n            padding-right: 10px;\n            padding-left: 10px;\n\n            padding-bottom: 10px;\n            margin-bottom: -10px;\n          "])))),e.theme.scrollbar.handleColor,e.theme.toolbar.background,e.theme.toolbar.background,e.theme.scrollbar.handleColor,e.theme.scrollbar.handleColor,e.theme.toolbar.background,e.theme.scrollbar.handleColor,e.theme.scrollbar.handleColor):"")),ic=e=>{let{direction:t="horizontal","data-test":i,className:r,children:n,...o}=e;return qn.createElement(ec,{...o,direction:t,className:r},qn.createElement(tc,{direction:t,"data-test":i},n))},rc=(0,Gn.Ay)(ic)(Ue||(Ue=(0,Wn.A)(["\n  position: absolute;\n\n  background: ",";\n  color: ",";\n  border: 1px solid ",";\n  box-shadow: ",";\n\n  visibility: hidden;\n  opacity: 0;\n  ","\n\n  transition: all 0.5s ease;\n\n  width: 100%;\n  max-height: 160px;\n  margin: 5px 0;\n\n  /* had to add these changes to get the dropdown working in IE11 */\n  ","\n\n  border-radius: 0 0 ","px\n    ","px;\n  z-index: ",";\n"])),(e=>e.theme.dropdown.listBackground),(e=>e.theme.dropdown.listForeground),(e=>e.theme.dropdown.listBorderColor),(e=>e.theme.dropdown.listShadow),(e=>e.isOpen?(0,Gn.AH)(Ne||(Ne=(0,Wn.A)(["\n        visibility: visible;\n        opacity: 1;\n        display: flex;\n      "]))):""),(()=>(0,Vn.t)()?(0,Gn.AH)(He||(He=(0,Wn.A)(["\n        > ul {\n          height: 160px;\n          margin-bottom: 0px;\n          margin-top: 0px;\n          padding-bottom: 0px;\n          padding-top: 0px;\n        }\n      "]))):""),(e=>e.theme.shape.radiusMedium),(e=>e.theme.shape.radiusMedium),(e=>e.theme.measurements.zIndex.input.list));rc.defaultProps={direction:"vertical"};var nc=Gn.Ay.div(je||(je=(0,Wn.A)(["\n  font-size: ","px;\n  letter-spacing: ","px;\n  text-transform: ",";\n  color: ",";\n  background-color: ",";\n  border: none;\n  border-bottom: 1px solid ",";\n  padding: 5px 0;\n  cursor: ",";\n  transition: border-color 0.4s ease-in-out;\n\n  &:hover {\n    border-color: ",";\n  }\n\n  ","\n"])),(e=>e.theme.measurements.fontSystem.body.size),(e=>e.theme.measurements.fontSystem.body.letterSpacing),(e=>e.theme.measurements.fontSystem.body.case),(e=>e.theme.dropdown.foreground),(e=>e.theme.dropdown.background),(e=>e.theme.dropdown.borderColor),(e=>e.showList?"pointer":"default"),(e=>e.theme.dropdown.hoverBorderColor),Zn),oc=Gn.Ay.div(We||(We=(0,Wn.A)([""]))),sc=class extends qn.PureComponent{constructor(e){super(e),this.state={isOpen:!1},this.dropdownId="",this.dropdownLabelId="",this.handleOutsideClick=e=>{this.node&&this.node.contains(e.target)||this.setState({isOpen:!1})},this.onSelect=e=>{const{onSelect:t}=this.props;t(e),this.setState({isOpen:!1})},this.handleKeyDownItem=e=>t=>{"Space"!==t.nativeEvent.code&&"Enter"!==t.nativeEvent.code||this.onSelect(e)},this.onClick=()=>{this.setState((e=>({isOpen:!e.isOpen})))},this.listItem=e=>{const{itemStyle:t,selectedItem:i}=this.props,{isOpen:r}=this.state,{value:n,label:o}=e;let s={};return"function"===typeof t?s=t(e):null!==t&&"object"===typeof t&&(s=t),qn.createElement($l,{role:"option","aria-hidden":!r,tabIndex:0,style:s,onClick:()=>this.onSelect(n),key:n,isActive:i===n,onKeyDown:this.handleKeyDownItem(n)},o)},this.onKeyDown=e=>{"Space"!==e.nativeEvent.code&&"Enter"!==e.nativeEvent.code||this.onClick()},this.nodeRef=e=>{this.node=e},this.dropdownId=(0,Vn.Oa)().slice(0,8),this.dropdownLabelId="".concat(this.dropdownId,"-label")}componentDidMount(){document.addEventListener("mousedown",this.handleOutsideClick,!1)}componentWillUnmount(){document.removeEventListener("mousedown",this.handleOutsideClick,!1)}render(){const{selectedItem:e,list:t,label:i,style:r,isDisabled:n}=this.props,{isOpen:o}=this.state,s=t.length>1;return qn.createElement(oc,null,qn.createElement(Ol,{id:this.dropdownLabelId,isDisabled:n,style:{paddingLeft:"0px"},label:i}),qn.createElement("div",{ref:this.nodeRef},qn.createElement(Jl,{isOpen:o,isDisabled:n},qn.createElement(nc,{role:"combobox","aria-controls":this.dropdownId,"aria-expanded":o,"aria-labelledby":this.dropdownLabelId,"data-test":Vn.Ta.Dropdown,"aria-hidden":n,showList:s,style:r,onClick:s?this.onClick:void 0,onKeyDown:this.onKeyDown,tabIndex:n?-1:0},e,s&&qn.createElement(Kn,{rotation:o?180:0})),qn.createElement(rc,{id:this.dropdownId,role:"listbox",tabIndex:-1,"aria-labelledby":this.dropdownLabelId,"data-test":Vn.Ta.DropdownList,isOpen:o},s&&t.map(this.listItem)))))}},ac=Gn.Ay.input.attrs({type:"file",id:"fileUpload",accept:"image/*"})(Ve||(Ve=(0,Wn.A)(["\n  display: none;\n"]))),lc=e=>{let{children:t}=e;return qn.createElement("form",{onSubmit:e=>{e.preventDefault()}},t)},cc=(0,Gn.AH)(Ge||(Ge=(0,Wn.A)(["\n  font-size: ","px;\n  letter-spacing: ","px;\n  text-transform: ",";\n  height: 100%;\n  width: 100%;\n  min-height: 26px;\n  color: ",";\n  padding: 0;\n  border: none;\n  appearance: none;\n  border-bottom: 1px solid ",";\n  background: ",";\n  font-family: '","', sans-serif;\n  transition: border-color 0.4s ease-in-out;\n\n  &::-webkit-inner-spin-button,\n  &::-webkit-outer-spin-button {\n    margin: 0;\n  }\n\n  &:-moz-focusring {\n    outline: none;\n    border-color: ",";\n  }\n\n  &::-ms-clear,\n  &::-ms-reveal {\n    display: none;\n  }\n\n  &:focus {\n    outline: none;\n    border-color: ",";\n  }\n\n  &:disabled {\n    opacity: ",";\n    pointer-events: none;\n  }\n\n  &:hover {\n    border-color: ",";\n  }\n"])),(e=>e.theme.measurements.fontSystem.body.size),(e=>e.theme.measurements.fontSystem.body.letterSpacing),(e=>e.theme.measurements.fontSystem.body.case),(e=>e.theme.textInput.foreground),(e=>e.theme.textInput.borderColor),(e=>e.theme.textInput.background),(e=>e.theme.typography.fontFamily),(e=>e.theme.textInput.hoverBorderColor),(e=>e.theme.textInput.hoverBorderColor),(e=>e.theme.textInput.inactiveOpacity),(e=>e.theme.textInput.hoverBorderColor)),uc=Gn.Ay.div(qe||(qe=(0,Wn.A)(["\n  ","\n  position: relative;\n  display: flex;\n  align-items: center;\n  height: unset;\n\n  &:focus-within {\n    border-color: ",";\n  }\n"])),cc,(e=>e.theme.textInput.hoverBorderColor)),hc=Gn.Ay.input(Xe||(Xe=(0,Wn.A)(["\n  ","\n  border-bottom: none;\n  &:disabled {\n    opacity: ",";\n    cursor: default;\n    pointer-events: none;\n  }\n"])),cc,(e=>e.theme.textInput.inactiveOpacity)),dc=class extends qn.Component{constructor(){super(...arguments),this.onChange=e=>{const{onChange:t}=this.props;t&&t(e.target.value)}}render(){const{"aria-label":e,"aria-labeledby":t,id:i,testId:r,value:n,type:o,min:s,max:a,onBlur:l,onFocus:c,onKeyUp:u,onKeyDown:h,onMouseUp:d,onTouchEnd:p,isDisabled:f,className:g,children:m}=this.props;return qn.createElement(uc,{className:g},qn.createElement(hc,{"aria-label":e,"aria-labelledby":t,id:i,"data-test":r,"aria-hidden":f,disabled:f,value:n,type:o,min:s,max:a,onChange:this.onChange,onBlur:l,onFocus:c,onKeyUp:u,onKeyDown:h,onMouseUp:d,onTouchEnd:p}),m)}};dc.defaultProps={type:"text"};var pc=dc,fc=Gn.Ay.div(Ye||(Ye=(0,Wn.A)(["\n  ","\n"])),(0,Vn.t)()?(0,Gn.AH)(Qe||(Qe=(0,Wn.A)([""]))):(0,Gn.AH)(Ke||(Ke=(0,Wn.A)(["\n        display: flex;\n        flex: 0 1 auto;\n        flex-direction: column;\n      "])))),gc=class extends qn.Component{constructor(e){super(e),this.node=null,this.handleOutsideClick=e=>{this.node&&this.node.current&&this.node.current.contains(e.target)||this.onSubmit()},this.onSubmit=()=>{const{onSubmit:e}=this.props,{value:t,isActive:i}=this.state;if(e){const r=parseFloat(gc.cleanValue(t));!Number.isNaN(r)&&i&&e("".concat(r))}this.setState({isActive:!1})},this.onBlur=()=>{this.onSubmit()},this.onFocus=()=>{this.setState({isActive:!0})},this.onKeyDown=e=>{const{value:t}=this.state;if("Enter"===e.key)this.onSubmit();else if("ArrowUp"===e.key){const e=parseFloat(gc.cleanValue(t));"number"===typeof e&&this.setState({value:(e+1).toString(),isActive:!0})}else if("ArrowDown"===e.key){const e=parseFloat(gc.cleanValue(t));"number"===typeof e&&this.setState({value:(e-1).toString(),isActive:!0})}},this.onChange=e=>{this.setState({value:e.replace(/[^\d.,-]/g,""),isActive:!0})},this.state={value:this.props.value||"",isActive:!1},this.node=qn.createRef()}static getDerivedStateFromProps(e,t){let{value:i}=e,{value:r,isActive:n}=t;return i===r||n?null:{value:i}}static cleanValue(e){return e?e.replace(",",".").replace(/[a-zA-Z]/g,"").trim():""}componentDidMount(){document.addEventListener("mousedown",this.handleOutsideClick,!1),document.addEventListener("touchstart",this.handleOutsideClick,!1)}componentWillUnmount(){document.removeEventListener("mousedown",this.handleOutsideClick,!1),document.removeEventListener("touchstart",this.handleOutsideClick,!1)}render(){const{id:e,label:t,"aria-label":i,isDisabled:r,showLabel:n,ariaHidden:o,onMouseUp:s,onTouchEnd:a,className:l,style:c}=this.props,{value:u}=this.state;return qn.createElement(fc,{ref:this.node,"data-test":Vn.Ta.NummericInput,className:l,style:c},t&&n&&qn.createElement(Ol,{htmlFor:e,label:t,show:!!t,isDisabled:r}),qn.createElement(pc,{id:e,value:u,isDisabled:r,"aria-hidden":o,"aria-label":t?void 0:i,"aria-labelledby":t?e:void 0,onChange:this.onChange,onKeyDown:this.onKeyDown,onBlur:this.onBlur,onFocus:this.onFocus,onMouseUp:s,onTouchEnd:a}))}},mc=gc;mc.defaultProps={showLabel:!0};var yc=mc,_c=Gn.Ay.input.attrs({type:"search"})(Ze||(Ze=(0,Wn.A)(["\n  ","\n"])),cc),vc=(0,qn.forwardRef)(((e,t)=>{let{value:i,onChange:r,onKeyDown:n,placeholder:o,className:s,style:a}=e;return qn.createElement("div",{className:s,style:a},qn.createElement(_c,{ref:t,value:i,onChange:e=>{r&&r(e.target.value)},onKeyDown:n,placeholder:o,autoComplete:"off"}))})),bc=Gn.Ay.div(Je||(Je=(0,Wn.A)([""]))),xc=e=>{let{label:t,children:i,inline:r,showLabel:n,isDisabled:o,"data-test":s}=e;const a="photoeditorsdk-".concat(t.replace(" ","-"),"-label");return qn.createElement(bc,{"data-test":s},qn.createElement(Ol,{id:a,isDisabled:o,label:t,show:n}),qn.createElement(wc,{"aria-labelledby":a,inline:!!r},i))},wc=Gn.Ay.div($e||($e=(0,Wn.A)(["\n  display: inline-flex;\n  ","\n"])),(e=>!e.inline&&(0,Gn.AH)(et||(et=(0,Wn.A)(["\n        flex-wrap: wrap;\n      "])))||""));xc.defaultProps={showLabel:!0};var Sc=xc,kc=Gn.Ay.div(tt||(tt=(0,Wn.A)(["\n  display: flex;\n  flex-direction: column;\n  /* needed for IE11 to properly calculate the width */\n  min-width: 1px;\n"]))),Cc=Gn.Ay.div(it||(it=(0,Wn.A)(["\n  display: flex;\n  align-items: center;\n  height: 26px;\n  margin-right: ","px;\n  width: ",";\n"])),(e=>e.centerSlider?-56:0),(e=>e.centerSlider?"calc(100% + 56px)":"100%")),Tc=(0,Gn.Ay)(yc)(rt||(rt=(0,Wn.A)(["\n  max-width: 50px;\n  padding-left: 16px;\n  > div > input {\n    text-align: center;\n  }\n"]))),Ec=e=>{let{id:t,"aria-label":i,value:r,min:n,max:o,divider:s,suffix:a,decimal:l,isDisabled:c,"aria-hidden":u,onChange:h,onMouseUp:d,onTouchEnd:p,className:f,style:g}=e;const m="".concat(t,"-input"),y="".concat((r*s).toFixed(l)).concat(a),_=(0,qn.useCallback)((e=>{const t=e.replace(a,"");if(t){const e=parseFloat(t)/s,i=Math.max(n,Math.min(o,e));Number.isNaN(i)||(h(i),d?d(i):p&&p(i))}}),[n,o,a,h,d,p]);return qn.createElement(Tc,{className:f,style:g,"aria-label":i,id:m,value:y,isDisabled:c,"aria-hidden":u,onSubmit:_})},Dc=(0,Gn.Ay)(Ol)(nt||(nt=(0,Wn.A)(["\n  padding-bottom: 2px;\n"]))),Ic=(0,Gn.AH)(ot||(ot=(0,Wn.A)(["\n  ","\n  background: ",";\n  border: 2px solid ",";\n  border-radius: 50%;\n  cursor: pointer;\n"])),(0,Vn.s)()||(0,Vn.t)()?(0,Gn.AH)(st||(st=(0,Wn.A)(["\n        width: 16px;\n        height: 16px;\n      "]))):(0,Gn.AH)(at||(at=(0,Wn.A)(["\n        width: 20px;\n        height: 20px;\n      "]))),(e=>e.theme.slider.thumbBackground),(e=>e.theme.slider.thumbBorderColor)),Rc=e=>{let t=100*(e.value-e.min)/(e.max-e.min);return e.adjust?e.value>0?(t=e.value*(e.max/2)*100,"".concat(e.theme.slider.trackColor," 0%,\n      ").concat(e.theme.slider.trackColor," 50%,\n      ").concat(e.theme.slider.activeTrackColor," 50%,\n      ").concat(e.theme.slider.activeTrackColor," ").concat(50+t,"%,\n      ").concat(e.theme.slider.trackColor," ").concat(50+t,"%,\n      ").concat(e.theme.slider.trackColor," 100%\n      ")):e.value<0?(t=e.value*(e.min/2)*100,"".concat(e.theme.slider.trackColor," 0%,\n      ").concat(e.theme.slider.trackColor," ").concat(50-t,"%,\n      ").concat(e.theme.slider.activeTrackColor," ").concat(50-t,"%,\n      ").concat(e.theme.slider.activeTrackColor," 50%,\n      ").concat(e.theme.slider.trackColor," 50%,\n      ").concat(e.theme.slider.trackColor," 100%\n      ")):"".concat(e.theme.slider.trackColor," 0%,\n    ").concat(e.theme.slider.trackColor," 100%"):"".concat(e.theme.slider.activeTrackColor," 0%,\n    ").concat(e.theme.slider.activeTrackColor," ").concat(t,"%,\n    ").concat(e.theme.slider.trackColor," ").concat(t,"%,\n    ").concat(e.theme.slider.trackColor," 100%")},Fc=Gn.Ay.input.attrs((e=>({style:(0,Vn.s)()||(0,Vn.t)()?{}:{background:"linear-gradient(to right, ".concat(Rc(e),")")}})))(lt||(lt=(0,Wn.A)(["\n  display: flex;\n  flex: 1 0 auto;\n  appearance: none;\n  width: 100%;\n  max-width: ",";\n  outline: none;\n  border-radius: 0; /* iOS */\n\n  padding: 0;\n  margin: 0;\n  border: none;\n\n  ","\n\n  ","\n\n  &::-moz-focus-outer {\n    /** This is to remove the dotted focus lines in firefox */\n    border: 0;\n  }\n  &:disabled {\n    opacity: ",";\n    pointer-events: none;\n  }\n  &:hover {\n    opacity: ",";\n  }\n  &::-webkit-slider-runnable-track {\n    cursor: pointer;\n    appearance: none;\n  }\n  &::-moz-range-track {\n    appearance: none;\n    cursor: pointer;\n  }\n  &::-ms-track {\n    cursor: pointer;\n    height: 2px;\n    appearance: none;\n    background: transparent;\n    color: transparent;\n    border-color: transparent;\n    border-width: 6px 0;\n  }\n  &::-webkit-slider-thumb {\n    appearance: none;\n    ","\n  }\n  &::-moz-range-thumb {\n    appearance: none;\n    ","\n  }\n  &::-ms-thumb {\n    appearance: none;\n    ","\n  }\n  &::-ms-fill-lower {\n    background: ",";\n  }\n  &::-ms-fill-upper {\n    background: ",";\n  }\n  &::-ms-tooltip {\n    display: none;\n  }\n"])),(e=>e.showInput?"calc(100% - 50px)":"100%"),Zn,(e=>(0,Vn.s)()||(0,Vn.t)()?(0,Gn.AH)(ct||(ct=(0,Wn.A)(["\n        margin-top: 10px;\n        height: 20px;\n        /* remove once we have a better concept for focus in all browser */\n        &:focus {\n          box-shadow: none;\n        }\n      "]))):e.smallContainer?(0,Gn.AH)(ut||(ut=(0,Wn.A)(["\n        height: 4px;\n      "]))):(0,Gn.AH)(ht||(ht=(0,Wn.A)(["\n      height: 2px;\n    "])))),(e=>e.theme.slider.inactiveOpacity),(e=>e.theme.slider.hoverOpacity),Ic,Ic,Ic,(e=>"".concat(e.theme.slider.activeTrackColor)),(e=>"".concat(e.theme.slider.trackColor))),Ac=e=>{let{id:t,label:i,value:r,min:n,max:o,step:s,adjust:a,showInput:l,"aria-hidden":c,isDisabled:u,onChange:h,onMouseUp:d,onTouchEnd:p,"data-test":f,className:g,style:m}=e;const{rect:y}=(0,qn.useContext)(fo),_=(0,qn.useCallback)((e=>{const t=parseFloat(e.target.value);h(t)}),[h]),v=(0,qn.useCallback)((e=>{const{value:t}=e.target,i=parseFloat(t);p&&p(i)}),[p]),b=(0,qn.useCallback)((e=>{const{value:t}=e.target,i=parseFloat(t);d&&d(i)}),[p]);return qn.createElement(Fc,{type:"range",role:"slider","aria-valuenow":r,"aria-valuemin":n,"aria-valuemax":o,"aria-label":i,"data-test":f,id:t,name:i,tabIndex:0,value:r,min:n,max:o,step:s,style:m,className:g,adjust:a,showInput:l,disabled:u,smallContainer:!!y&&y.width<600,"aria-hidden":c,onChange:_,onKeyUp:_,onKeyDown:_,onMouseUp:b,onTouchEnd:v})},Oc=class extends qn.Component{constructor(){super(...arguments),this.onDismiss=()=>{const{handleClose:e,handleDismiss:t}=this.props;e&&e(),t&&t()},this.onConfirm=()=>{const{handleClose:e,handleConfirm:t}=this.props;e&&e(),t&&t()}}render(){const{headerLabel:e,bodyLabel:t,confirmLabel:i,dismissLabel:r,type:n,children:o}=this.props,s=qn.Children.toArray(o)[0];if(!qn.isValidElement(s))throw new Error("Child is not a valid react element");return qn.cloneElement(s,{handleConfirm:this.onConfirm,handleDismiss:this.onDismiss,header:qn.createElement(Qa,null,e),body:qn.createElement(Ga,{"data-test":Vn.Ta.DialogBody},t),footer:qn.createElement(Xa,{type:n},r&&qn.createElement(po,{label:r,ariaLabel:r,onClick:this.onDismiss}),i&&qn.createElement(ho,{label:i,ariaLabel:i,onClick:this.onConfirm}))})}},Mc=Gn.Ay.div(dt||(dt=(0,Wn.A)(["\n  display: flex;\n"]))),Pc=(0,Gn.Ay)(Qa)(pt||(pt=(0,Wn.A)(["\n  padding: 0;\n"]))),zc=Gn.Ay.div(ft||(ft=(0,Wn.A)(["\n  display: flex;\n  flex-direction: column;\n  margin-left: 8px;\n  @media all and (min-width: 640px) {\n    margin-left: 30px;\n  }\n"]))),Bc=(0,Gn.Ay)(Ga)(gt||(gt=(0,Wn.A)(["\n  padding: 0;\n  margin: 0;\n"]))),Lc=class extends qn.PureComponent{render(){const{headerLabel:e,bodyLabel:t,children:i}=this.props,r=qn.Children.toArray(i)[0];if(!qn.isValidElement(r))throw new Error("Child is not a valid react element");return qn.cloneElement(r,{height:"90px",body:qn.createElement(Ga,{"data-test":Vn.Ta.DialogBody},qn.createElement(Mc,null,qn.createElement($a,null),qn.createElement(zc,null,qn.createElement(Pc,null,e),qn.createElement(Bc,null,t))))})}},Uc=Gn.Ay.form(mt||(mt=(0,Wn.A)(["\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  height: 100%;\n"]))),Nc=Gn.Ay.textarea(yt||(yt=(0,Wn.A)(["\n  display: flex;\n  caret-color: ",";\n  ","\n  min-height: 100%;\n  padding: 0px;\n  outline-offset: -8px;\n  color: ",";\n  resize: none;\n  font-family: '","', sans-serif;\n\n  &:selection,\n  &:-moz-selection {\n    background-color: ",";\n    color: ",";\n  }\n"])),(e=>e.theme.primary),cc,(e=>e.theme.modal.bodyForeground),(e=>e.theme.typography.fontFamily),(e=>e.theme.primary),(e=>e.theme.foreground)),Hc=Gn.Ay.label(_t||(_t=(0,Wn.A)(["\n  padding: 11px 20px 8px;\n  font-size: ","px;\n  letter-spacing: ","px;\n  text-transform: ",";\n  color: ",";\n"])),(e=>e.theme.measurements.fontSystem.label.size),(e=>e.theme.measurements.fontSystem.label.letterSpacing),(e=>e.theme.measurements.fontSystem.label.case),(e=>e.theme.modal.headerForeground)),jc=(0,Gn.Ay)(Ga)(vt||(vt=(0,Wn.A)(["\n  height: 100%;\n"]))),Wc=(0,Gn.Ay)(Xa)(bt||(bt=(0,Wn.A)(["\n  border-top: none;\n"]))),Vc=class extends qn.Component{constructor(){super(...arguments),this.state={value:""},this.input=qn.createRef(),this.handleKeydown=e=>{(0,Vn.Sa)(this.handleDismiss)(e)},this.handleDismiss=()=>{const{handleDismiss:e}=this.props;e&&e(!1)},this.handleConfirm=()=>{const{handleConfirm:e}=this.props,{value:t}=this.input.current;t&&(e&&e(t),this.handleDismiss())},this.onChange=e=>{const{allowEmojis:t}=this.props,i=t?e.target.value:(0,Vn.y)(e.target.value);this.input.current.value=i,this.setState({value:i})},this.onSubmit=e=>{e.preventDefault()}}componentDidMount(){const{text:e,defaultText:t}=this.props;this.input.current.focus(),this.input.current.value=e||t||"",this.setState({value:this.input.current.value}),document.addEventListener("keydown",this.handleKeydown,!1),e===t&&this.input.current.select()}componentDidUpdate(e){const{isVisible:t}=this.props;e.isVisible!==t&&t&&this.input.current.focus()}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeydown,!1)}render(){const{headerLabel:e,dismissLabel:t,confirmLabel:i,maxLength:r,type:n,children:o}=this.props,{value:s}=this.state,a=qn.Children.toArray(o)[0];if(!qn.isValidElement(a))throw new Error("Child is not a valid react element");return qn.cloneElement(a,{handleConfirm:this.handleConfirm,handleDismiss:this.handleDismiss,isConfirmDisabled:!s,height:"150px",header:qn.createElement(Hc,{htmlFor:"photoeditorsdk-TextInput"},e),body:qn.createElement(jc,null,qn.createElement(Uc,{onSubmit:this.onSubmit},qn.createElement(Nc,{ref:this.input,id:"photoeditorsdk-TextInput",placeholder:"Write Something",autoFocus:!0,onChange:this.onChange,maxLength:r}))),footer:qn.createElement(Wc,{type:n},qn.createElement(po,{label:t,ariaLabel:t,onClick:this.handleDismiss}),qn.createElement(ho,{label:i,ariaLabel:i,isDisabled:!s,onClick:this.handleConfirm}))})}};Vc.defaultProps={defaultText:"Write Something",allowEmojis:!1};var Gc=Vc,qc=Gn.Ay.div(xt||(xt=(0,Wn.A)(["\n  padding-bottom: ","px;\n"])),(e=>8*(e.count||1)));qc.defaultProps={count:1};var Xc=class extends qn.Component{getChildren(){const e=[],t=[];return qn.Children.forEach(this.props.children,(i=>{switch(i.type.componentName){case"case":this.props.type===i.props.value&&e.push(i);break;case"default":t.push(i)}})),e.length>0?e:t}render(){const e=this.getChildren();return 0===e.length?null:qn.createElement(qn.Fragment,null,e)}},Yc=class extends qn.Component{render(){return this.props.children}};Yc.componentName="case";var Qc=class extends qn.Component{render(){return this.props.children}};Qc.componentName="default";var Kc=(0,Gn.i7)(wt||(wt=(0,Wn.A)(["\n  from { transform: translate(-50%, 0%); }\n  to { transform: translate(-50%, 50%); }\n"]))),Zc=Gn.Ay.div(St||(St=(0,Wn.A)(["\n  position: absolute;\n  top: ","px;\n  left: ","px;\n  transform: translate(-50%, 50%);\n  background: black;\n  color: white;\n  border-radius: ","px;\n  padding: 10px 16px;\n  text-align: center;\n  z-index: ",";\n  visibility: hidden;\n\n  ","\n"])),(e=>e.position.y),(e=>e.position.x),(e=>e.theme.shape.radiusMedium),(e=>e.theme.measurements.zIndex.toast),(e=>{let{show:t}=e;return t&&(0,Gn.AH)(kt||(kt=(0,Wn.A)(["\n      visibility: visible;\n      animation: "," 0.5s, fadeout 0.5s 2.5s;\n    "])),Kc)})),Jc=Zc,$c=(0,Gn.AH)(Tt||(Tt=(0,Wn.A)(["\n  border: 1px solid ",";\n  "," {\n    background-color: ",";\n  }\n"])),(e=>e.theme.card.activeBorderColor),to,(e=>e.theme.card.activeOverlayColor)),eu=Gn.Ay.button.attrs((e=>{const t={};return e.image&&(t.backgroundImage="url(".concat(e.image,")")),{style:t,...e.style}}))(Et||(Et=(0,Wn.A)(["\n  &&& {\n    box-sizing: border-box;\n  }\n\n  /* basic ui text items use position absolute */\n  position: relative;\n\n  padding: 0;\n  cursor: pointer;\n  /* Safari will change the height of the toolbar and position the category cards at the bottom for some reason */\n  vertical-align: top;\n  border: none;\n  box-sizing: border-box;\n  background-size: cover;\n  background-position: center center;\n  background-repeat: no-repeat;\n  background-color: ",";\n  color: ",";\n\n  border-radius: ","px;\n  ",";\n  animation-fill-mode: both;\n  overflow: hidden;\n\n  ","\n\n  /* Active */\n\n  /* No :active styles on purpose. */\n\n  ","\n\n  /* Disabled */\n\n  &:disabled {\n    cursor: default;\n    pointer-events: none;\n\n    "," {\n      background-color: ",";\n    }\n  }\n\n  /* Hover */\n\n  &:hover {\n    "," {\n      background-color: ",";\n    }\n  }\n"])),(e=>e.theme.card.background),(e=>e.theme.card.foreground),(e=>e.theme.shape.radiusMedium),(()=>(0,Gn.AH)(Ct||(Ct=(0,Wn.A)(["\n    animation: "," 0.2s linear;\n  "])),zo)),Zn,(e=>{let{isActive:t}=e;return t&&$c}),io,(e=>e.theme.card.inactiveOverlayColor),ro,(e=>e.theme.card.hoverOverlayColor)),tu=class extends qn.Component{constructor(){super(...arguments),this.state=no,this.timeout=null,this.onKeyDown=e=>{"Space"!==e.key&&"Enter"!==e.key||this.props.onClick&&this.props.onClick()},this.onClick=e=>{const t=e.currentTarget.getBoundingClientRect(),i=e.pageX-t.left,r=e.pageY-t.top;"block"===this.state.display?this.setState({display:"none"},(()=>{this.setRippleState(i,r)})):this.setRippleState(i,r),this.props.onClick(e)},this.setRippleState=(e,t)=>{this.setState({left:e,top:t,display:"block"}),this.timeout=setTimeout((()=>{this.setState({display:"none"})}),1200)}}componentWillUnmount(){clearTimeout(this.timeout)}render(){const{children:e,label:t,role:i,"aria-label":r,"aria-expanded":n,isActive:o,isDisabled:s,image:a,style:l,className:c}=this.props,{left:u,top:h,display:d}=this.state;return qn.createElement(eu,{role:i,"aria-expanded":n,isActive:o,"aria-label":r,"data-test":t,disabled:s,image:a,onClick:this.onClick,onKeyDown:this.onKeyDown,style:l,className:c},e,qn.createElement(oo,{display:d,left:u,top:h}),qn.createElement(to,null),qn.createElement(io,null),qn.createElement(ro,null))}};tu.defaultProps={isActive:!1};var iu,ru=e=>{e.forEach((e=>cancelAnimationFrame(e)))},nu=e=>!Number.isNaN(parseFloat(e))&&Number.isFinite(e),ou=e=>"string"===typeof e&&e.search("%")===e.length-1&&nu(e.substr(0,e.length-1)),su=(iu=class extends qn.Component{constructor(e){super(e),this.contentRef=null,this.contentRef=qn.createRef(),this.animationFrameIDs=[];let t="auto",i="visible";nu(e.height)?(t=e.height<0||"0"===e.height?0:e.height,i="hidden"):ou(e.height)&&(t="0%"===e.height?0:e.height,i="hidden");"undefined"!==typeof window&&window.matchMedia&&(this.prefersReducedMotion=window.matchMedia("(prefers-reduced-motion)").matches),this.state={height:t,overflow:i,shouldUseTransitions:!1}}componentDidMount(){const{height:e}=this.state;this.contentRef.current&&this.contentRef.current.style&&this.hideContent(e)}componentDidUpdate(e,t){const{height:i}=this.props,{duration:r,delay:n}=this.getTimings();if(this.contentRef.current&&i!==e.height){this.showContent(t.height),this.contentRef.current.style.overflow="hidden";const e=this.contentRef.current.offsetHeight;this.contentRef.current.style.overflow="";const o=r+n;let s=null;const a={height:null,overflow:"hidden"},l="auto"===t.height;nu(i)?(s=i<0||"0"===i?0:i,a.height=s):ou(i)?(s="0%"===i?0:i,a.height=s):(s=e,a.height="auto",a.overflow=null),l&&(a.height=s,s=e),this.setState({height:s,overflow:"hidden",shouldUseTransitions:!l}),clearTimeout(this.timeoutID),clearTimeout(this.animationClassesTimeoutID),l?(ru(this.animationFrameIDs),this.animationFrameIDs=(e=>{const t=[];return t[0]=requestAnimationFrame((()=>{t[1]=requestAnimationFrame((()=>{e()}))})),t})((()=>{this.setState({height:a.height,overflow:a.overflow,shouldUseTransitions:!0})})),this.animationClassesTimeoutID=setTimeout((()=>{this.setState({shouldUseTransitions:!1}),this.hideContent(a.height)}),o)):this.timeoutID=setTimeout((()=>{this.setState({height:a.height,overflow:"visible",shouldUseTransitions:!1}),"auto"!==i&&this.hideContent(s)}),o)}}componentWillUnmount(){ru(this.animationFrameIDs),clearTimeout(this.timeoutID),clearTimeout(this.animationClassesTimeoutID),this.timeoutID=null}getTimings(){if(this.prefersReducedMotion)return{delay:0,duration:0};const{delay:e,duration:t}=this.props;return{delay:e,duration:t}}showContent(e){0===e&&(this.contentRef.current.style.display="")}hideContent(e){0===e&&(this.contentRef.current.style.display="none")}render(){const{animateOpacity:e,children:t,className:i,easing:r}=this.props,{height:n,overflow:o,shouldUseTransitions:s}=this.state,{duration:a,delay:l}=this.getTimings(),c={height:n,overflow:o};s&&(c.transition="height ".concat(a,"ms ").concat(r," ").concat(l,"ms"),c.WebkitTransition=c.transition);const u={};return e&&(u.transition="opacity ".concat(a,"ms ").concat(r," ").concat(l,"ms"),u.WebkitTransition=u.transition,0===n&&(u.opacity=0)),qn.createElement("div",{"aria-hidden":0===n,className:i,style:c},qn.createElement("div",{style:u,ref:this.contentRef},t))}},iu.defaultProps={animateOpacity:!1,duration:250,delay:0,easing:"ease"},iu),au={Focused:Zn,VisuallyHidden:Jn},lu={ripple:$n,scale:Po,slide:zo},cu={Container:Ss,ColorItem:za,ColorItemBase:Oa,ColorItemBackground:Da,ColorItemTiledBackground:Pa,ColorItemActiveOverlay:Fa,Dialog:Wa,DialogBase:Na,DialogContainer:ja,DialogBackdrop:La,DialogHeader:Qa,DialogBody:Ga,DialogFooter:Xa,DialogSpinner:$a,TextEditModal:Gc,ActionModal:Oc,InfoModal:Lc,Spacer:qc,Draggable:Il,DraggableCore:Tl,Toast:Jc,Input:{Label:Ol,File:ac,Search:vc,Slider:e=>{let{"data-test":t,label:i,identifier:r,showLabel:n=!0,showInput:o=!0,centerSlider:s=!1,min:a=-1,max:l=1,value:c=0,step:u=.01,decimal:h=0,divider:d=100,suffix:p="",adjust:f=!1,"aria-hidden":g,isDisabled:m,onChange:y,onMouseUp:_,onTouchEnd:v,style:b,className:x}=e;const[w]=(0,qn.useState)("photoeditorsdk-slider-".concat((0,Vn.Oa)()));return qn.createElement(kc,{className:x,"data-test":t||r||w,style:b},qn.createElement(Dc,{isDisabled:m,label:i,show:n}),qn.createElement(Cc,{centerSlider:o&&s},qn.createElement(Ac,{id:w,label:i,value:c,min:a,max:l,step:u,adjust:f,showInput:o,isDisabled:m,"aria-hidden":g,onChange:y,onMouseUp:_,onTouchEnd:v}),o&&qn.createElement(Ec,{id:w,"aria-label":i,value:c,min:a,max:l,divider:d,suffix:p,decimal:h,isDisabled:m,"aria-hidden":g,onChange:y,onMouseUp:_,onTouchEnd:v})))},SliderBase:kc,SliderContainer:Cc,SliderInput:Ec,SliderTrack:Ac,SliderLabel:Dc,CarouselSlider:Wl,Selection:Sc,Checkbox:Kl,CheckboxBase:Gl,CheckboxInput:Yl,CheckboxCheckMark:Xl,Dropdown:sc,Text:pc,NumericInput:yc,Form:lc},Switch:{Index:Xc,Case:Yc,Default:Qc}},uu=(0,Gn.Ay)(xo)(Dt||(Dt=(0,Wn.A)(["\n  font-size: ","px;\n  letter-spacing: ","px;\n  text-transform: ",";\n  color: ",";\n\n  "," {\n    display: none;\n  }\n\n  &:disabled {\n    opacity: ",";\n  }\n"])),(e=>e.theme.measurements.fontSystem.button2.size),(e=>e.theme.measurements.fontSystem.button2.letterSpacing),(e=>e.theme.measurements.fontSystem.button2.case),(e=>e.theme.button.textSecondaryForeground),io,(e=>e.theme.button.textInactiveOpacity)),hu=Gn.Ay.div(It||(It=(0,Wn.A)(["\n  display: inline-flex;\n"]))),du=(0,Gn.Ay)(xo)(Rt||(Rt=(0,Wn.A)(["\n  background: ",";\n  color: ",";\n  font-size: ","px;\n  letter-spacing: ","px;\n  text-transform: ",";\n  padding: 4px 10px;\n  position: relative;\n  /* for safari */\n  margin: 0;\n  &:last-child:after {\n    opacity: 0;\n  }\n"])),(e=>e.theme.canvasActionBar.background),(e=>e.theme.canvasActionBar.foreground),(e=>e.theme.measurements.fontSystem.button2.size),(e=>e.theme.measurements.fontSystem.button2.letterSpacing),(e=>e.theme.measurements.fontSystem.button2.case)),pu=Gn.Ay.div(Ft||(Ft=(0,Wn.A)(["\n  ",";\n  position: absolute;\n  transform: translate(-50%, -100%);\n  background: ",";\n  color: ",";\n  border-radius: ","px;\n  white-space: nowrap;\n  transition: opacity 0.3s ease-in-out;\n  z-index: ",";\n\n  "," {\n    &:after {\n      content: '';\n      position: absolute;\n      right: 0px;\n      top: 6px;\n      height: calc(100% - 12px);\n      border-right: 1px solid\n        ",";\n      &:last-child {\n        border-right: unset;\n      }\n    }\n  }\n"])),(e=>{let{show:t}=e;return t?(0,Gn.AH)(At||(At=(0,Wn.A)(["\n          opacity: 1;\n        "]))):(0,Gn.AH)(Ot||(Ot=(0,Wn.A)(["\n          opacity: 0;\n        "])))}),(e=>e.theme.canvasActionBar.background),(e=>e.theme.canvasActionBar.foreground),(e=>e.theme.canvasActionBar.borderRadius?e.theme.canvasActionBar.borderRadius:e.theme.shape.radiusMedium),(e=>e.theme.measurements.zIndex.buttonGroup),du,(e=>e.theme.canvasActionBar.separatorColor)),fu=(0,Gn.Ay)(lo)(Mt||(Mt=(0,Wn.A)(["\n  width: 60px;\n  height: 60px;\n  background-color: gray;\n  border-radius: 50%;\n  position: absolute;\n  left: 50%;\n  transform: translateX(-50%);\n  z-index: ",";\n  padding: 2px;\n"])),(e=>e.theme.measurements.zIndex.button.float)),gu=Gn.Ay.div(Pt||(Pt=(0,Wn.A)(["\n  height: 56px;\n  width: 56px;\n  border-radius: 50%;\n  background-color: ",";\n"])),(e=>e.theme.webcam.floatButton)),mu=["library",["transform","filter","adjustment"],["focus","frame","overlay"],["text","textdesign","sticker","brush"]],yu={image:"",license:"",order:"default",language:"en",theme:"dark",layout:"advanced",mainCanvasActions:["undo","redo","export","close"],displayResizeWarning:!1,displayCloseWarning:!0,displayCanvasRendererWarning:!0,displayToolControlBarTitle:!0,displaySerializationModal:!0,displayDiscardChangesWarning:!0,engine:{crossOrigin:"anonymous",downscaleOptions:{maxMegaPixels:{desktop:10,mobile:5}},preferredRenderer:(0,Vn.x)()?"webgl":"canvas",backgroundColor:[0,0,0,1]},enableZoom:!0,scaleImageToFit:!0,restrictZoomOutToDefault:!0,forceCrop:!1,assetBaseUrl:"assets/",defaultTool:"filter",tools:mu,snapping:new Vn.J,filter:new Vn.Z,focus:new Vn.ea,adjustment:new Vn.V,library:new Vn.na,overlay:new Vn.qa,sticker:new Vn.va,text:new Vn.ya,textdesign:new Vn.Fa,frame:new Vn.ia,brush:new Vn.Da,transform:new Vn.Ia,export:{image:{exportType:"image",format:"image/png",quality:.9,enableDownload:!0,transparent:!0},filename:"photoeditorsdk-export"},custom:{},watermark:new Vn.L},_u="function"===typeof Symbol&&Symbol.for,vu=e=>"[object RegExp]"===Object.prototype.toString.call(e)||"[object Date]"===Object.prototype.toString.call(e)||Object.prototype.toString.call(e).includes("HTML")||"[object Array]"===Object.prototype.toString.call(e),bu=e=>!(!_u||!Object.hasOwnProperty.call(e,"$$typeof"))&&(e.$$typeof===Symbol.for("react.element")||e.$$typeof===Symbol.for("react.forward_ref")),xu=e=>Object.hasOwnProperty.call(e,"__ngContext__");function wu(e){return e&&"object"===typeof e&&!vu(e)&&!xu(e)&&!bu(e)}function Su(e,t){return t&&!0===t.clone&&wu(e)?ku(function(e){return Array.isArray(e)?[]:{}}(e),e,t):e}function ku(e,t,i){return Array.isArray(t)?Array.isArray(e)?t:Su(t,i):function(e,t,i){const r={};return wu(e)&&Object.keys(e).forEach((t=>{r[t]=Su(e[t],i)})),Object.keys(t).forEach((n=>{const o=wu(t[n])&&e[n];r[n]=o?ku(e[n],t[n],i):Su(t[n],i)})),r}(e,t,i)}function Cu(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!Array.isArray(e)||e.length<2)throw new Error("first argument should be an array with at least two elements");return e.reduce(((e,i)=>ku(e,i,t)))}var Tu={headline1:{size:16,letterSpacing:1.5,case:"uppercase"},headline2:{size:14,letterSpacing:.8,case:"uppercase"},body:{size:13,letterSpacing:0,case:"none"},label:{size:13,letterSpacing:0,case:"capitalize"},basicUICardLabel:{size:12,letterSpacing:0,case:"capitalize"},button1:{size:14,letterSpacing:0,case:"uppercase"},button2:{size:14,letterSpacing:0,case:"capitalize"},basicUITabLabel:{size:14,letterSpacing:.8,case:"uppercase"}},Eu={toast:2,controlsBar:5,buttonGroup:5,toolControlBar:6,toolbar:7,label:10,disable:11,canvas:{knob:4,bar:5,controls:5,snappingGuide:1,crop:{grid:2,dragImage:3,backdrop:4},webcam:{backdrop:7}},input:{list:6},button:{float:5},dialog:{base:100,backdrop:1,container:2},colorItem:{overlay:2,background:1,tiledBackground:0}},Du=()=>{const e=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8;const i=3*t,r=e-2*i,n=(r-2*t)/3,o=(r-t)/2;return{advancedUIToolControlBar:{width:e,paddingTop:2*t,paddingBottom:2*t,paddingLeft:i,paddingRight:i,marginBottom:0,controls:{gutter:2*t}},advancedUICard:{small:{height:n,width:n},medium:{height:o,width:o},large:{height:86,width:r}},advancedUISpacer:t,inputs:{cropSize:{maxWidth:e},checkbox:{maxWidth:e}}}}(230);return Cu([e,{advancedUIToolbar:{width:55,itemHeight:48,separatorHeight:20,marginBottom:0},basicCanvasOffset:28,basicUIToolbar:{openHeight:88,closeHeight:40},basicUIToolControlBar:{itemsBarHeight:72,controlsBarHeight:80,maxHeight:116,maxWidth:300},basicCard:{medium:{height:56,width:90},large:{height:60,width:110}},basicSpacer:8,mainCanvasActionBar:{height:50},crop:{minSize:50},canvas:{marginTop:0,transform:{minSliderWidth:435,minValueWidth:235,minFlipWidth:160}},canvasControls:{sprite:{controlOffset:16,rotateHandle:{height:16},minSize:30,controlPadding:16},knob:{size:16,touchable:{desktop:24}},corner:{size:14,touchable:{desktop:24,mobile:48},borderWidth:4},width:{size:14}},buttons:{float:{size:56}},colorItem:{size:20},color:{colorPicker:{width:214,height:370,saturationSlider:{height:150},thumb:{size:14},arrow:{width:36}}},fontSystem:Tu,zIndex:Eu}])},Iu=e=>{let t=Number(e).toString(16);return t.length<2&&(t="0".concat(t)),t},Ru=(e,t,i)=>{const r=Iu(255*e),n=Iu(255*t),o=Iu(255*i);return"#".concat(r).concat(n).concat(o)},Fu=e=>{if((0,Vn.pb)(e)){const[t,i,r,n]=e;return"rgba(".concat(255*t,", ").concat(255*i,", ").concat(255*r,", ").concat(n,")")}if((0,Vn.ob)(e)){const{r:t,g:i,b:r,a:n}=e;return"rgba(".concat(255*t,", ").concat(255*i,", ").concat(255*r,", ").concat(n,")")}if((0,Vn.nb)(e)){const[t,i,r]=e;return Ru(t,i,r)}if((0,Vn.mb)(e)){const{r:t,g:i,b:r}=e;return Ru(t,i,r)}return e},Au=e=>e.map((e=>({identifier:e.name,color:e.color,colorString:Fu(e.color)}))),Ou={black:[0,0,0,1],white:[1,1,1,1],gray:[191/255,191/255,191/255,1],blue:[.4,134/255,1,1],skyBlue:[.4,.8,1,1],red:[231/255,80/255,80/255,1],orange:[242/255,136/255,85/255,1],yellow:[1,247/255,99/255,1]},Mu={transparent:[0,0,0,0],black:[0,0,0,1],white:[1,1,1,1],blue:[.4,134/255,1,1],skyBlue:[.4,.8,1,1],red:[231/255,80/255,80/255,1],orange:[242/255,136/255,85/255,1],yellow:[1,247/255,99/255,1]},Pu={brightness:0,saturation:0,contrast:0,gamma:0,clarity:0,exposure:0,shadows:0,highlights:0,whites:0,blacks:0,temperature:0,sharpness:0},zu=class{constructor(e,t){this.assets=[],this.entityMapper=e=>"items"in e?this.categoryMapper(e):this.itemMapper(e),this.categoryMapper=e=>e?{...e,thumbnailURI:this.getCategoryThumbnailURI(e),name:this.config.locale[e.identifier]||e.name,items:e.items.map(this.itemMapper)}:null,this.itemMapper=e=>({...e,thumbnailURI:this.getItemThumbnailURI(e),name:this.config.locale[e.identifier]||("name"in e?e.name:"")}),this.getCategoryThumbnailURI=e=>e.thumbnailURI?(0,Vn.z)(e.thumbnailURI)||"data:image"===e.thumbnailURI.substr(0,10)?e.thumbnailURI:this.config.getAssetPath(e.thumbnailURI||""):"",this.getItemThumbnailURI=e=>{var t;if(null==(t=e.thumbnailURI)?void 0:t.trim())return(0,Vn.z)(e.thumbnailURI)||"data:image"===e.thumbnailURI.substr(0,10)?e.thumbnailURI:this.config.getAssetPath(e.thumbnailURI||"");const i=e[this.config.itemFallbackKey];return i?this.config.getAssetPath(i):""},this.config=t,this.assets=e.map(this.entityMapper).filter(Boolean)}static isCategory(e){return Object.prototype.hasOwnProperty.call(e,"items")}get categories(){return this.assets.reduce(((e,t)=>{if(zu.isCategory(t))return[...e,t]}),[]).filter(Boolean)}get items(){return this.assets.reduce(((e,t)=>zu.isCategory(t)?[...e,...t.items]:[...e,t]),[]).filter(Boolean)}},Bu=class{constructor(e,t){this.from=e,this.to=t}contains(e){return this.from<=e&&e<=this.to}clamp(e){return Math.min(Math.max(this.from,e),this.to)}},Lu=new Bu(-1,1),Uu=class{constructor(e){this.editAdjustments=e=>{let{type:t,value:i}=e;const r=Lu.clamp(i);this.state[t]=r},this.reset=()=>{(0,Vn.m)((()=>{-1===this.indexInContainer&&(Object.keys(Pu).forEach((e=>{this.state[e]=Pu[e]})),this.orderHelper.removeIndex("adjustment"))}))},this.setAdjustmentEffect=e=>{const t=this.orderHelper.addIndex("adjustment");return this.effect?this.effect.setProperties(e):this.effect=this.engineMediator.engine.addAdjustments(e,this.engineMediator.image.container,t),this.effect.getProperties()},this.removeAdjustmentEffect=()=>{this.effect&&(this.engineMediator.engine.removeEffect(this.effect),-1===this.indexInContainer&&(this.effect=void 0))},this.engineMediator=e,this.state=Pu}get indexInContainer(){return this.effect?this.effect.getIndexInParent():-1}get orderHelper(){return this.engineMediator.orderHelper}};(0,Vn.c)([Vn.e],Uu.prototype,"state",2),(0,Vn.c)([Vn.l],Uu.prototype,"editAdjustments",2),(0,Vn.c)([Vn.l],Uu.prototype,"reset",2);var Nu=class{constructor(e){this.dirty=Vn.e.box(!1),this.isHistoryChanged=!1,this.editAdjustments=e=>{let{type:t,value:i}=e;this.isHistoryChanged=!(0,Vn.Wa.default)(this.state[t],i),this.pureSetAdjustment({type:t,value:i}),this.editor.render()},this.toolSnapshot=()=>{(0,Vn.Wa.default)(this.state,Pu)?this.dirty.set(!1):this.dirty.set(!0),this.isHistoryChanged&&(this.addSnapshot("edit","adjustment"),this.isHistoryChanged=!1)},this.addSnapshot=(e,t)=>{this.editor.addSnapshot(void 0,e,t)},this.toggleOptionSelection=e=>{this.selectedOption=e},this.pureSetAdjustment=e=>{let{type:t,value:i}=e;const r=this.adjustmentsStore.setAdjustmentEffect({[t]:i});this.adjustmentsStore.editAdjustments({type:t,value:r[t]})},this.pureReset=()=>{this.dirty.set(!1),this.adjustmentsStore.removeAdjustmentEffect(),this.adjustmentsStore.reset(),this.selectedOption=""},this.reset=()=>{this.pureReset(),this.addSnapshot("delete",this.locale.controls.buttonReset),this.editor.render()},this.updateStateFromHistory=e=>{(0,Vn.Wa.default)(e,this.state)||((0,Vn.Wa.default)(e,Pu)?this.pureReset():(0,Vn.m)((()=>{this.dirty.set(Object.values(e).some((e=>0!==e))),Object.keys(e).forEach((t=>{this.pureSetAdjustment({type:t,value:e[t]})}))})))},this.updateStateFromSerialization=e=>{this.updateStateFromHistory(e)},this.editor=e,this.adjustmentsStore=new Uu(this.editor.engineMediator),this.selectedOption="";const t=this.editor.assetProvider.getAssets("adjustment");this.entityManager=new zu(t,{...this.config,locale:{...this.locale.items,...this.locale.categories},getAssetPath:this.editor.getAssetPath("adjustment")})}get selectedAdjustmentType(){return this.selectedOption}get isDirty(){return this.dirty.get()}get state(){return this.adjustmentsStore.state}get selectedOptionLabel(){const e=this.items.find((e=>!!e&&e.identifier===this.selectedOption));return e?e.name:""}get brightness(){return this.state.brightness}get saturation(){return this.state.saturation}get contrast(){return this.state.contrast}get gamma(){return this.state.gamma}get clarity(){return this.state.clarity}get exposure(){return this.state.exposure}get shadows(){return this.state.shadows}get highlights(){return this.state.highlights}get whites(){return this.state.whites}get blacks(){return this.state.blacks}get temperature(){return this.state.temperature}get sharpness(){return this.state.sharpness}get categories(){return this.entityManager.categories}get items(){return this.entityManager.items}get config(){return this.editor.configStore.config.adjustment}get locale(){return this.editor.configStore.locale.adjustment}};(0,Vn.c)([Vn.e],Nu.prototype,"selectedOption",2),(0,Vn.c)([Vn.e],Nu.prototype,"dirty",2),(0,Vn.c)([Vn.l],Nu.prototype,"editAdjustments",2),(0,Vn.c)([Vn.l],Nu.prototype,"toggleOptionSelection",2),(0,Vn.c)([Vn.l],Nu.prototype,"pureSetAdjustment",2),(0,Vn.c)([Vn.l],Nu.prototype,"pureReset",2),(0,Vn.c)([Vn.l],Nu.prototype,"reset",2),(0,Vn.c)([Vn.l],Nu.prototype,"updateStateFromHistory",2),(0,Vn.c)([Vn.l],Nu.prototype,"updateStateFromSerialization",2),(0,Vn.c)([Vn.f],Nu.prototype,"selectedAdjustmentType",1),(0,Vn.c)([Vn.f],Nu.prototype,"isDirty",1),(0,Vn.c)([Vn.f],Nu.prototype,"state",1),(0,Vn.c)([Vn.f],Nu.prototype,"selectedOptionLabel",1),(0,Vn.c)([Vn.f],Nu.prototype,"brightness",1),(0,Vn.c)([Vn.f],Nu.prototype,"saturation",1),(0,Vn.c)([Vn.f],Nu.prototype,"contrast",1),(0,Vn.c)([Vn.f],Nu.prototype,"gamma",1),(0,Vn.c)([Vn.f],Nu.prototype,"clarity",1),(0,Vn.c)([Vn.f],Nu.prototype,"exposure",1),(0,Vn.c)([Vn.f],Nu.prototype,"shadows",1),(0,Vn.c)([Vn.f],Nu.prototype,"highlights",1),(0,Vn.c)([Vn.f],Nu.prototype,"whites",1),(0,Vn.c)([Vn.f],Nu.prototype,"blacks",1),(0,Vn.c)([Vn.f],Nu.prototype,"temperature",1),(0,Vn.c)([Vn.f],Nu.prototype,"sharpness",1),(0,Vn.c)([Vn.f],Nu.prototype,"categories",1),(0,Vn.c)([Vn.f],Nu.prototype,"items",1),(0,Vn.c)([Vn.f],Nu.prototype,"config",1),(0,Vn.c)([Vn.f],Nu.prototype,"locale",1);var Hu=(0,Vn.b)(Qn()),ju={identifier:"identity",intensity:1,isDuotone:!1},Wu=new Bu(0,1),Vu=class{constructor(e){this.changeIdentifier=e=>{this.state.identifier=e},this.changeIfDuotone=e=>{this.state.isDuotone=e},this.changeIntensity=e=>{const t=Wu.clamp(e);this.state.intensity=t},this.reset=()=>{-1===this.indexInContainer&&(this.state.identifier=ju.identifier,this.state.intensity=ju.intensity,this.removeIndex())},this.setFilterEffect=e=>{let{identifier:t,intensity:i,isDuotone:r}=e;const n=this.state,o=()=>{this.changeIdentifier(t),this.changeIntensity(i),this.changeIfDuotone(r)};this.removeFilterEffect();const s=this.engineMediator.orderHelper.addIndex("filter");return new Promise(r?(e,r)=>{this.engineMediator.engine.addDuoToneFilterFromAssets(t,this.engineMediator.image.container,s).then((t=>{o(),this.effect=t,this.effect.setProperties({colorIntensity:i}),e()})).catch((e=>{this.fallbackOnError(n),r(e)}))}:(e,r)=>{this.engineMediator.engine.addLUTFilterFromAssets(t,this.engineMediator.image.container,s).then((t=>{o(),this.effect=t,this.effect.setProperties({intensity:i}),e()})).catch((e=>{this.fallbackOnError(n),r(e)}))})},this.removeFilterEffect=()=>{this.effect&&(this.engineMediator.engine.removeEffect(this.effect),-1===this.indexInContainer&&(this.effect=void 0))},this.setEffectProperties=e=>{let{intensity:t}=e;return this.effect?(this.state.isDuotone?this.effect.setProperties({colorIntensity:t}):this.effect.setProperties({intensity:t}),this.effect.getProperties()):null},this.removeIndex=()=>{this.engineMediator.orderHelper.removeIndex("filter")},this.fallbackOnError=e=>{this.changeIdentifier(e.identifier),this.changeIntensity(e.intensity),"identity"===e.identifier&&this.removeIndex()},this.engineMediator=e,this.state=ju}get indexInContainer(){return this.effect?this.effect.getIndexInParent():-1}};(0,Vn.c)([Vn.e],Vu.prototype,"state",2),(0,Vn.c)([Vn.l],Vu.prototype,"changeIdentifier",2),(0,Vn.c)([Vn.l],Vu.prototype,"changeIfDuotone",2),(0,Vn.c)([Vn.l],Vu.prototype,"changeIntensity",2),(0,Vn.c)([Vn.l],Vu.prototype,"reset",2);var Gu="identity",qu=class{constructor(e){var t=this;this.throttledRender=(0,Hu.default)((()=>{this.editor&&this.editor.render()}),10,{trailing:!0}),this.selectFilter=async function(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(e!==t.identifier){const r=t.selectedCategory;await t.filterStore.setFilterEffect({identifier:e,intensity:i,isDuotone:t.isOptionDuoTone(e)}),t.selectedCategory===Gu&&(t.selectedCategory=r),t.editor.render(),t.addSnapshot("add","filter")}},this.changeIntensity=e=>{const t=this.isOptionDuoTone(this.identifier),i=this.filterStore.setEffectProperties({intensity:e});if(i){const e=t?i.colorIntensity:i.intensity;this.filterStore.changeIntensity(e),this.throttledRender()}},this.setImageAndGetPreviews=async()=>{const{image:e}=this.editor.activeStore.state;await this.editor.previewThumbnails.addImageToContainer(e),await this.getAllFilterPreview()},this.getAllFilterPreview=async()=>{const e=this.entityManager.items.map((e=>({identifier:e.identifier,isDuotone:this.isOptionDuoTone(e.identifier)}))),t=await this.editor.previewThumbnails.getAllFilterPreviewThumbnails(e);await this.editor.wait();const{config:i}=this,r=this.editor.configStore.assetProvider.getAssets("filter").map((e=>({...e,items:e.items.map((e=>({...e,thumbnailURI:t[e.identifier]})))})));this.entityManager=new zu(r,{...i,locale:this.locale.items,getAssetPath:this.editor.getAssetPath("filter")})},this.toolSnapshot=()=>{this.addSnapshot("edit",this.locale.controls.sliderIntensity)},this.addSnapshot=(e,t)=>{this.editor.addSnapshot(void 0,e,t)},this.pureReset=()=>{this.selectedCategory=Gu,this.filterStore.removeFilterEffect(),this.filterStore.reset()},this.reset=()=>{this.pureReset(),this.addSnapshot("delete",this.locale.controls.buttonReset),this.editor.render()},this.toggleCategorySelection=e=>{this.selectedCategory=this.selectedCategory===e?Gu:e},this.updateStateFromSerialization=e=>{let{identifier:t,intensity:i}=e;const r=this.doesFilterAssetExist(t);if(r){const e=(0,Vn._)(r);return this.filterStore.setFilterEffect({identifier:t,intensity:i,isDuotone:e})}throw new Vn.Za(t)},this.updateStateFromHistory=async e=>"identity"===e.identifier?(this.pureReset(),new Promise((e=>{e()}))):this.filterStore.setFilterEffect(e),this.doesFilterAssetExist=e=>this.entityManager.items.find((t=>e===t.identifier)),this.isOptionDuoTone=e=>{const t=this.doesFilterAssetExist(e);return!!t&&(0,Vn._)(t)},this.editor=e,this.selectedCategory=Gu,this.filterStore=new Vu(this.editor.engineMediator);const{config:i}=this,r=this.editor.configStore.assetProvider.getAssets("filter");this.entityManager=new zu(r,{...i,locale:this.locale.items,getAssetPath:this.editor.getAssetPath("filter")})}get state(){return this.filterStore.state}get identifier(){return this.state.identifier}get intensity(){return this.state.intensity}get isDuotone(){return this.state.isDuotone}get selectedCategoryIdentifier(){return this.selectedCategory}get isOptionSelected(){return"identity"!==this.identifier}get config(){return this.editor.configStore.config.filter}get locale(){return this.editor.configStore.locale.filter}get categories(){return this.entityManager.categories}get items(){return this.entityManager.items}};(0,Vn.c)([Vn.e],qu.prototype,"selectedCategory",2),(0,Vn.c)([Vn.e],qu.prototype,"entityManager",2),(0,Vn.c)([Vn.l],qu.prototype,"selectFilter",2),(0,Vn.c)([Vn.l],qu.prototype,"changeIntensity",2),(0,Vn.c)([Vn.l],qu.prototype,"pureReset",2),(0,Vn.c)([Vn.l],qu.prototype,"reset",2),(0,Vn.c)([Vn.l],qu.prototype,"toggleCategorySelection",2),(0,Vn.c)([Vn.l],qu.prototype,"updateStateFromSerialization",2),(0,Vn.c)([Vn.l],qu.prototype,"updateStateFromHistory",2),(0,Vn.c)([Vn.f],qu.prototype,"state",1),(0,Vn.c)([Vn.f],qu.prototype,"identifier",1),(0,Vn.c)([Vn.f],qu.prototype,"intensity",1),(0,Vn.c)([Vn.f],qu.prototype,"isDuotone",1),(0,Vn.c)([Vn.f],qu.prototype,"selectedCategoryIdentifier",1),(0,Vn.c)([Vn.f],qu.prototype,"isOptionSelected",1),(0,Vn.c)([Vn.f],qu.prototype,"config",1),(0,Vn.c)([Vn.f],qu.prototype,"locale",1),(0,Vn.c)([Vn.f],qu.prototype,"categories",1),(0,Vn.c)([Vn.f],qu.prototype,"items",1);var Xu=(0,Vn.b)(Qn()),Yu=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3;const r=Math.tan(t),n=Math.sqrt(r**2+1);return{x:e.x+i/n,y:e.y+i*r/n}},Qu={blurRadius:40,gradientSize:.2},Ku={identifier:"identity",linear:{start:{x:0,y:0},end:{x:0,y:0},...Qu},radial:{center:{x:0,y:0},radius:0,...Qu},mirrored:{origin:{x:0,y:0},rotation:0,size:0,...Qu},gaussian:Qu},Zu=class{constructor(e){this.selectFocus=(e,t)=>{(0,Vn.m)((()=>{this.state.identifier=e,t&&(this.state[e].blurRadius=t)}))},this.changeBlurRadius=(e,t)=>{"identity"!==e&&(this.state[e].blurRadius=t)},this.reset=()=>{-1===this.indexInContainer&&(this.state.identifier=Ku.identifier,"identity"!==this.state.identifier&&(this.state[this.state.identifier].blurRadius=Ku[this.state.identifier].blurRadius))},this.setLinear=e=>{let{start:t,end:i}=e;this.state.linear.start.x=t.x,this.state.linear.start.y=t.y,this.state.linear.end.x=i.x,this.state.linear.end.y=i.y},this.setLinearStart=e=>{this.state.linear.start.x=e.x,this.state.linear.start.y=e.y},this.setLinearEnd=e=>{this.state.linear.end.x=e.x,this.state.linear.end.y=e.y},this.setRadialCenter=e=>{this.state.radial.center.x=e.x,this.state.radial.center.y=e.y},this.setRadialRadius=e=>{this.state.radial.radius=e},this.setMirroredOrigin=e=>{this.state.mirrored.origin.x=e.x,this.state.mirrored.origin.y=e.y},this.setMirroredRotation=e=>{this.state.mirrored.rotation=e},this.setMirroredSize=e=>{this.state.mirrored.size=e},this.getEffectProperties=()=>this.effect?this.effect.getProperties():null,this.setLinearFocus=e=>{this.effect=this.engineMediator.engine.addLinearBlur(e,this.imageContainer,this.order),this.updateLinearState(this.effect.getProperties())},this.setGaussianFocus=e=>{this.effect=this.engineMediator.engine.addGaussianBlur(e,this.imageContainer,this.order),this.updateGaussianState(this.effect.getProperties())},this.setRadialFocus=e=>{this.effect=this.engineMediator.engine.addRadialBlur(e,this.imageContainer,this.order),this.updateRadialState(this.effect.getProperties())},this.setMirroredFocus=e=>{this.effect=this.engineMediator.engine.addMirroredBlur(e,this.imageContainer,this.order),this.updateMirroredState(this.effect.getProperties())},this.updateFromEngineState=e=>{const t=this.getEffectProperties();if(t&&"identity"!==e)switch(e){case"linear":this.updateLinearState(t);break;case"radial":this.updateRadialState(t);break;case"mirrored":this.updateMirroredState(t)}},this.updateGaussianState=e=>{this.changeBlurRadius("gaussian",e.blurRadius)},this.updateMirroredState=e=>{const t=this.editor.worldToPreview(e.mirrorAxisOrigin),i=new Vn.Qa(this.editor.worldToPreview(e.mirrorAxisDirection)).subtract(t),r=Math.atan2(i.y,i.x);this.setMirroredOrigin(this.editor.worldToPreview(e.mirrorAxisOrigin)),this.setMirroredRotation(r),this.setMirroredSize(this.editor.worldToPreview(e.clearAreaWidth)),this.changeBlurRadius("mirrored",e.blurRadius)},this.updateRadialState=e=>{this.setRadialCenter(this.editor.worldToPreview(e.center)),this.setRadialRadius(this.editor.worldToPreview(e.radius)),this.changeBlurRadius("radial",e.blurRadius)},this.updateLinearState=e=>{this.setLinearStart(this.editor.worldToPreview(e.start)),this.setLinearEnd(this.editor.worldToPreview(e.end)),this.changeBlurRadius("linear",e.blurRadius)},this.setEffectProperties=e=>this.effect?(this.effect.setProperties(e),this.effect.getProperties()):null,this.removeFocus=()=>{this.effect&&(this.engineMediator.engine.removeEffect(this.effect),this.engineMediator.orderHelper.removeIndex("focus"))},this.editor=e,this.engineMediator=this.editor.engineMediator,this.state=Ku}get indexInContainer(){return this.effect?this.effect.getIndexInParent():-1}get order(){return this.engineMediator.orderHelper.addIndex("focus")}get imageContainer(){return this.engineMediator.image.container}};(0,Vn.c)([Vn.e],Zu.prototype,"state",2),(0,Vn.c)([Vn.l],Zu.prototype,"selectFocus",2),(0,Vn.c)([Vn.l],Zu.prototype,"changeBlurRadius",2),(0,Vn.c)([Vn.l],Zu.prototype,"reset",2),(0,Vn.c)([Vn.l],Zu.prototype,"setLinear",2),(0,Vn.c)([Vn.l],Zu.prototype,"setLinearStart",2),(0,Vn.c)([Vn.l],Zu.prototype,"setLinearEnd",2),(0,Vn.c)([Vn.l],Zu.prototype,"setRadialCenter",2),(0,Vn.c)([Vn.l],Zu.prototype,"setRadialRadius",2),(0,Vn.c)([Vn.l],Zu.prototype,"setMirroredOrigin",2),(0,Vn.c)([Vn.l],Zu.prototype,"setMirroredRotation",2),(0,Vn.c)([Vn.l],Zu.prototype,"setMirroredSize",2),(0,Vn.c)([Vn.l],Zu.prototype,"updateFromEngineState",2);var Ju=class{constructor(e){this.throttledRender=(0,Xu.default)((()=>{this.editor&&this.editor.render()}),10,{trailing:!0}),this.selectFocus=e=>{if(e!==this.identifier){this.focusStore.removeFocus();const t=.2*this.maxIntensity,{width:i}=this.editor.engine.getOutputContainer().getBounds(),r=.2*this.editor.shortestOutputSide;switch(e){case"linear":const e=this.editor.outputToWorld({x:-i/2,y:0}),n=this.editor.outputToWorld({x:i/2,y:0});this.setLinearFocus({start:e,end:n,blurRadius:t});break;case"radial":const o=this.editor.outputToWorld({x:0,y:0});this.setRadialFocus({center:o,radius:r,blurRadius:t});break;case"mirrored":const s=this.editor.outputToWorld({x:0,y:0}),a=r,l=this.editor.outputToWorld(Yu({x:0,y:0},0));this.setMirroredFocus({mirrorAxisOrigin:s,clearAreaWidth:a,blurRadius:t,mirrorAxisDirection:l});break;case"gaussian":this.setGaussianFocus({blurRadius:t})}this.focusStore.selectFocus(e,t),this.editor.render(),this.addSnapshot("add","focus")}},this.changeIntensity=e=>{const t=this.focusStore.setEffectProperties({blurRadius:e});t&&(this.focusStore.changeBlurRadius(this.identifier,t.blurRadius),this.throttledRender())},this.changeRelativeIntensity=e=>{const t=(this.maxIntensity-Ju.minIntensity)*e/100+Ju.minIntensity,i=this.focusStore.setEffectProperties({blurRadius:t});i&&(this.focusStore.changeBlurRadius(this.identifier,i.blurRadius),this.throttledRender())},this.toolSnapshot=e=>{this.addSnapshot("edit",e)},this.addSnapshot=(e,t)=>{this.editor.addSnapshot(void 0,e,t)},this.clickableCanvas=e=>{this.editor.clickableCanvas(e)},this.pureReset=()=>{this.focusStore.removeFocus(),this.focusStore.reset()},this.reset=()=>{this.pureReset(),this.editor.render(),this.addSnapshot("delete",this.locale.controls.buttonReset)},this.setStart=e=>{const t=this.focusStore.setEffectProperties({start:this.editor.previewToWorld(e)});t&&(this.focusStore.setLinearStart(this.editor.worldToPreview(t.start)),this.throttledRender())},this.setEnd=e=>{const t=this.focusStore.setEffectProperties({end:this.editor.previewToWorld(e)});t&&(this.focusStore.setLinearEnd(this.editor.worldToPreview(t.end)),this.throttledRender())},this.setCenter=e=>{const t=this.focusStore.setEffectProperties({center:this.editor.previewToWorld(e)});t&&(this.focusStore.setRadialCenter(this.editor.worldToPreview(t.center)),this.throttledRender())},this.setRadius=e=>{const t=this.focusStore.setEffectProperties({radius:this.editor.previewToWorld(e)});t&&(this.focusStore.setRadialRadius(this.editor.worldToPreview(t.radius)),this.throttledRender())},this.setOrigin=e=>{const t=this.focusStore.setEffectProperties({mirrorAxisOrigin:this.editor.previewToWorld(e),mirrorAxisDirection:this.editor.previewToWorld(Yu(e,this.rotation))});t&&(this.focusStore.setMirroredOrigin(this.editor.worldToPreview(t.mirrorAxisOrigin)),this.throttledRender())},this.setSize=e=>{const t=this.focusStore.setEffectProperties({clearAreaWidth:this.editor.previewToWorld(e)});t&&(this.focusStore.setMirroredSize(this.editor.worldToPreview(t.clearAreaWidth)),this.throttledRender())},this.setRotation=e=>{this.focusStore.setEffectProperties({mirrorAxisDirection:this.editor.previewToWorld(Yu(this.origin,e))}),this.focusStore.setMirroredRotation(e),this.throttledRender()},this.updateStateFromHistory=(e,t)=>{this.focusStore.removeFocus();const{magnitude:i}=t;(0,Vn.m)((()=>{switch(this.focusStore.selectFocus(e.identifier),e.identifier){case"linear":this.setLinearFocus({start:this.editor.previewToWorld(new Vn.Qa(e.linear.start).multiply(t)),end:this.editor.previewToWorld(new Vn.Qa(e.linear.end).multiply(t)),blurRadius:e.linear.blurRadius});break;case"gaussian":this.setGaussianFocus({blurRadius:e.gaussian.blurRadius});break;case"radial":this.setRadialFocus({center:this.editor.previewToWorld(new Vn.Qa(e.radial.center).multiply(t)),radius:this.editor.previewToWorld(e.radial.radius*i),blurRadius:e.radial.blurRadius});break;case"mirrored":{const r=new Vn.Qa(e.mirrored.origin).multiply(t);this.setMirroredFocus({mirrorAxisOrigin:this.editor.previewToWorld(r),mirrorAxisDirection:this.editor.previewToWorld(Yu(r,e.mirrored.rotation)),clearAreaWidth:this.editor.previewToWorld(e.mirrored.size*i),blurRadius:e.mirrored.blurRadius});break}case"identity":this.pureReset()}}))},this.updateStateFromSerialization=async e=>{if(!Ju.doesFocusIdentifierExist(e.identifier))throw new Vn.Za(e.identifier);this.focusStore.removeFocus(),(0,Vn.m)((()=>{switch(this.focusStore.selectFocus(e.identifier),e.identifier){case"linear":this.setLinearFocus(e.linear);break;case"gaussian":this.setGaussianFocus(e.gaussian);break;case"radial":this.setRadialFocus(e.radial);break;case"mirrored":this.setMirroredFocus({mirrorAxisOrigin:e.mirrored.origin,clearAreaWidth:e.mirrored.size,blurRadius:e.mirrored.blurRadius,mirrorAxisDirection:Yu(e.mirrored.origin,e.mirrored.rotation)})}}))},this.updateCanvasControls=()=>{this.focusStore.updateFromEngineState(this.identifier)},this.getFocusStateForHistory=()=>{const e=this.editor.canvasStore.sizeVector,{linear:t}=this.focusStore.state,{radial:i}=this.focusStore.state,{mirrored:r}=this.focusStore.state,n=e,{magnitude:o}=n;return{...this.focusStore.state,linear:{...t,start:new Vn.Qa(t.start).divide(n),end:new Vn.Qa(t.end).divide(n)},radial:{...i,center:new Vn.Qa(i.center).divide(n),radius:i.radius/o},mirrored:{...r,origin:new Vn.Qa(r.origin).divide(n),size:r.size/o},gaussian:{...this.focusStore.state.gaussian}}},this.editor=e,this.focusStore=new Zu(this.editor);const t=this.editor.assetProvider.getAssets("focus");this.entityManager=new zu(t,{...this.config,flattenCategories:!0,locale:this.locale.items,getAssetPath:this.editor.getAssetPath("focus")})}static get minIntensity(){return 0}static doesFocusIdentifierExist(e){return-1!==Object.keys(Vn.fa).map((e=>Vn.fa[e])).findIndex((t=>t===e))}get state(){return this.focusStore.state}get serializableState(){switch(this.identifier){case"linear":return{identifier:this.identifier,linear:this.focusStore.getEffectProperties()};case"radial":return{identifier:this.identifier,radial:this.focusStore.getEffectProperties()};case"mirrored":const e=this.focusStore.getEffectProperties();return{identifier:this.identifier,mirrored:{blurRadius:e.blurRadius,origin:e.mirrorAxisOrigin,rotation:(0,Vn.p)(this.state.mirrored.rotation),size:e.clearAreaWidth}};case"gaussian":return{identifier:this.identifier,gaussian:this.focusStore.getEffectProperties()};default:return Ku}}get start(){return this.focusStore.state.linear.start}get startOnPreview(){const e=this.editor.applyFlipToPreview(this.focusStore.state.linear.start);return{x:Math.abs(e.x),y:Math.abs(e.y)}}get end(){return this.focusStore.state.linear.end}get endOnPreview(){const e=this.editor.applyFlipToPreview(this.focusStore.state.linear.end);return{x:Math.abs(e.x),y:Math.abs(e.y)}}get center(){return this.focusStore.state.radial.center}get radius(){return this.focusStore.state.radial.radius}get origin(){return this.focusStore.state.mirrored.origin}get rotation(){return this.focusStore.state.mirrored.rotation}get rotationOnPreview(){const{flipHorizontally:e,flipVertically:t}=this.editor.outputContainer.getData();return(0,Vn.rb)({rotation:this.focusStore.state.mirrored.rotation,flipHorizontally:e,flipVertically:t})}get size(){return this.focusStore.state.mirrored.size}get mirroredAreaWidth(){const{width:e,height:t}=this.editor.canvasStore.canvasSize;return 2*Math.sqrt(e**2+t**2)}get identifier(){return this.state.identifier}get intensity(){return"identity"===this.identifier?Ku.gaussian.blurRadius:this.state[this.identifier].blurRadius}get relativeIntensity(){const{blurRadius:e}="identity"===this.identifier?this.state.gaussian:this.state[this.identifier];return 100*(e-Ju.minIntensity)/(this.maxIntensity-Ju.minIntensity)}get maxIntensity(){return this.editor.shortestOutputSide/10}get isOptionSelected(){return"identity"!==this.identifier}get config(){return this.editor.configStore.config.focus}get locale(){return this.editor.configStore.locale.focus}get items(){return this.entityManager.items}setGaussianFocus(e){let{blurRadius:t}=e;this.focusStore.setGaussianFocus({blurRadius:t})}setLinearFocus(e){let{start:t,end:i,blurRadius:r}=e;this.focusStore.setLinearFocus({start:t,end:i,blurRadius:r})}setRadialFocus(e){let{center:t,radius:i,blurRadius:r}=e;this.focusStore.setRadialFocus({center:t,radius:i,blurRadius:r})}setMirroredFocus(e){let{mirrorAxisOrigin:t,clearAreaWidth:i,blurRadius:r,mirrorAxisDirection:n}=e;this.focusStore.setMirroredFocus({mirrorAxisOrigin:t,clearAreaWidth:i,blurRadius:r,mirrorAxisDirection:n})}},$u=Ju;(0,Vn.c)([Vn.l],$u.prototype,"selectFocus",2),(0,Vn.c)([Vn.l],$u.prototype,"changeIntensity",2),(0,Vn.c)([Vn.l],$u.prototype,"changeRelativeIntensity",2),(0,Vn.c)([Vn.l],$u.prototype,"clickableCanvas",2),(0,Vn.c)([Vn.l],$u.prototype,"pureReset",2),(0,Vn.c)([Vn.l],$u.prototype,"reset",2),(0,Vn.c)([Vn.l],$u.prototype,"setStart",2),(0,Vn.c)([Vn.l],$u.prototype,"setEnd",2),(0,Vn.c)([Vn.l],$u.prototype,"setCenter",2),(0,Vn.c)([Vn.l],$u.prototype,"setRadius",2),(0,Vn.c)([Vn.l],$u.prototype,"setOrigin",2),(0,Vn.c)([Vn.l],$u.prototype,"setSize",2),(0,Vn.c)([Vn.l],$u.prototype,"setRotation",2),(0,Vn.c)([Vn.l],$u.prototype,"updateStateFromHistory",2),(0,Vn.c)([Vn.l],$u.prototype,"updateStateFromSerialization",2),(0,Vn.c)([Vn.l],$u.prototype,"updateCanvasControls",2),(0,Vn.c)([Vn.f],$u.prototype,"state",1),(0,Vn.c)([Vn.f],$u.prototype,"start",1),(0,Vn.c)([Vn.f],$u.prototype,"startOnPreview",1),(0,Vn.c)([Vn.f],$u.prototype,"end",1),(0,Vn.c)([Vn.f],$u.prototype,"endOnPreview",1),(0,Vn.c)([Vn.f],$u.prototype,"center",1),(0,Vn.c)([Vn.f],$u.prototype,"radius",1),(0,Vn.c)([Vn.f],$u.prototype,"origin",1),(0,Vn.c)([Vn.f],$u.prototype,"rotation",1),(0,Vn.c)([Vn.f],$u.prototype,"rotationOnPreview",1),(0,Vn.c)([Vn.f],$u.prototype,"size",1),(0,Vn.c)([Vn.f],$u.prototype,"mirroredAreaWidth",1),(0,Vn.c)([Vn.f],$u.prototype,"identifier",1),(0,Vn.c)([Vn.f],$u.prototype,"intensity",1),(0,Vn.c)([Vn.f],$u.prototype,"relativeIntensity",1),(0,Vn.c)([Vn.f],$u.prototype,"maxIntensity",1),(0,Vn.c)([Vn.f],$u.prototype,"isOptionSelected",1),(0,Vn.c)([Vn.f],$u.prototype,"config",1),(0,Vn.c)([Vn.f],$u.prototype,"locale",1),(0,Vn.c)([Vn.f],$u.prototype,"items",1);var eh=(0,Vn.b)(Qn()),th={identifier:"identity",opacity:1,blendMode:"lighten"},ih=new Bu(0,1),rh=class{constructor(e,t){this.changeIdentifier=e=>{this.state.identifier=e},this.changeOpacity=e=>{const t=ih.clamp(e);this.state.opacity=t},this.changeBlendMode=e=>{this.state.blendMode=e},this.reset=()=>{-1===this.indexInContainer&&(this.state.identifier=th.identifier,this.state.opacity=th.opacity,this.state.blendMode=th.blendMode,this.removeIndex())},this.correctOverlayFlip=()=>{const{flipHorizontally:e,flipVertically:t}=this.editor.outputContainer.getData();this.effect&&(this.effect.setFlipHorizontally(e),this.effect.setFlipVertically(t))},this.removeOverlayEffect=()=>{this.effect&&(this.engineMediator.engine.removeEffect(this.effect),this.removeIndex(),this.effect=void 0)},this.setEffectProperties=e=>this.effect?(this.effect.setProperties(e),this.effect.getProperties()):null,this.setOverlayEffect=e=>{let{identifier:t,blendMode:i,opacity:r}=e;const n={...this.state};this.removeOverlayEffect();const o=this.engineMediator.orderHelper.addIndex("overlay");return new Promise(((e,s)=>{this.engineMediator.engine.addOverlayFromAssets(t,this.engineMediator.image.container,o).then((n=>{this.changeIdentifier(t),this.changeOpacity(r),this.changeBlendMode(i),this.effect=n,this.effect.setProperties({blendMode:i,opacity:r}),this.correctOverlayFlip(),e()})).catch((e=>{this.changeIdentifier(n.identifier),this.changeOpacity(n.opacity),this.changeBlendMode(n.blendMode),"identity"===n.identifier&&this.removeIndex(),s(e)}))}))},this.removeIndex=()=>{this.engineMediator.orderHelper.removeIndex("overlay")},this.engineMediator=e,this.editor=t,this.state=th}get indexInContainer(){return this.effect?this.effect.getIndexInParent():-1}};(0,Vn.c)([Vn.e],rh.prototype,"state",2),(0,Vn.c)([Vn.l],rh.prototype,"changeIdentifier",2),(0,Vn.c)([Vn.l],rh.prototype,"changeOpacity",2),(0,Vn.c)([Vn.l],rh.prototype,"changeBlendMode",2),(0,Vn.c)([Vn.l],rh.prototype,"reset",2),(0,Vn.c)([Vn.l],rh.prototype,"correctOverlayFlip",2);var nh=class{constructor(e){this.throttledRender=(0,eh.default)((()=>{this.editor&&this.editor.render()}),10,{trailing:!0}),this.selectOverlay=async e=>{if(e!==this.identifier){const t=this.defaultBlendModeForIdentifier(e);await this.overlayStore.setOverlayEffect({identifier:e,opacity:1,blendMode:t}),this.addSnapshot("add","overlay"),this.editor.render()}},this.changeOpacity=e=>{const t=this.overlayStore.setEffectProperties({opacity:e});t&&(this.overlayStore.changeOpacity(t.opacity),this.throttledRender())},this.toolSnapshot=()=>{this.addSnapshot("edit",this.locale.controls.sliderOpacity)},this.addSnapshot=(e,t)=>{this.editor.addSnapshot(void 0,e,t)},this.changeBlendMode=e=>{const t=this.overlayStore.setEffectProperties({blendMode:e});t&&(this.overlayStore.changeBlendMode(t.blendMode),this.addSnapshot("edit",this.locale.controls.carouselBlendMode),this.editor.render())},this.pureReset=()=>{this.overlayStore.removeOverlayEffect(),this.overlayStore.reset()},this.reset=()=>{this.pureReset(),this.addSnapshot("delete",this.locale.controls.buttonReset),this.editor.render()},this.updateStateFromSerialization=async e=>{const t=this.entityManager.items.find((t=>t.identifier===e.identifier));if(t)return this.overlayStore.setOverlayEffect(e).then((()=>{this.editor.transformToolStore.setOverlayOpacity(e.opacity)}));throw new Vn.Za(e.identifier)},this.updateStateFromHistory=async e=>"identity"===e.identifier?(this.pureReset(),new Promise((e=>{e()}))):this.overlayStore.setOverlayEffect(e),this.correctOverlayFlip=()=>{this.overlayStore.correctOverlayFlip()},this.defaultBlendModeForIdentifier=e=>{const t=this.entityManager.items.findIndex((t=>t.identifier===e));return-1!==t?this.entityManager.items[t].defaultBlendMode:"lighten"},this.editor=e,this.overlayStore=new rh(this.editor.engineMediator,e);const t=this.editor.assetProvider.getAssets("overlay"),{config:i}=this;this.entityManager=new zu(t,{...i,flattenCategories:!0,locale:this.locale.items,getAssetPath:this.editor.getAssetPath("overlay")})}get state(){return this.overlayStore.state}get identifier(){return this.overlayStore.state.identifier}get opacity(){return this.overlayStore.state.opacity}get blendMode(){return this.overlayStore.state.blendMode}get isOptionSelected(){return"identity"!==this.identifier}get config(){return this.editor.configStore.config.overlay}get locale(){return this.editor.configStore.locale.overlay}get items(){return this.entityManager.items}get allBlendModes(){const e=this.locale.controls;return Object.keys(Vn.ra).map((t=>{const i=Vn.ra[t],r="blendMode".concat(i.charAt(0).toUpperCase()).concat(i.slice(1));return{identifier:i,value:e[r]}}))}};(0,Vn.c)([Vn.l],nh.prototype,"selectOverlay",2),(0,Vn.c)([Vn.l],nh.prototype,"changeOpacity",2),(0,Vn.c)([Vn.l],nh.prototype,"changeBlendMode",2),(0,Vn.c)([Vn.l],nh.prototype,"pureReset",2),(0,Vn.c)([Vn.l],nh.prototype,"reset",2),(0,Vn.c)([Vn.l],nh.prototype,"updateStateFromSerialization",2),(0,Vn.c)([Vn.l],nh.prototype,"updateStateFromHistory",2),(0,Vn.c)([Vn.l],nh.prototype,"correctOverlayFlip",2),(0,Vn.c)([Vn.f],nh.prototype,"state",1),(0,Vn.c)([Vn.f],nh.prototype,"identifier",1),(0,Vn.c)([Vn.f],nh.prototype,"opacity",1),(0,Vn.c)([Vn.f],nh.prototype,"blendMode",1),(0,Vn.c)([Vn.f],nh.prototype,"isOptionSelected",1),(0,Vn.c)([Vn.f],nh.prototype,"config",1),(0,Vn.c)([Vn.f],nh.prototype,"locale",1),(0,Vn.c)([Vn.f],nh.prototype,"items",1),(0,Vn.c)([Vn.f],nh.prototype,"allBlendModes",1);var oh={identifier:"identity",opacity:1,tintColor:Ou.white,tintMode:"none",resizeMode:"keepAspect"},sh={},ah=()=>Object.keys(Ou).map((e=>{const t=Ou[e];return{identifier:e,color:t,colorString:Fu(t)}}));function lh(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return new Promise(((i,r)=>{const n=new Image;n.addEventListener("load",(()=>{const e=document.createElement("canvas"),r=e.getContext("2d");e.width=n.width,e.height=n.height,t&&(e.width=t,e.height=t*n.height/n.width),r.drawImage(n,0,0,e.width,e.height);const o=e.toDataURL("image/png");(0,Vn.r)(e),i(o)})),n.addEventListener("error",(()=>{r()})),n.src=e}))}var ch=e=>new Promise(((t,i)=>{const r=new FileReader;r.onload=async r=>{try{const{result:i}=r.target,n=await lh(i,150);t({stickerURI:i,thumbnailURI:n,name:e.name||"",type:e.type,identifier:(0,Vn.Oa)()})}catch(n){i(n)}},r.onerror=e=>{i(e)},r.readAsDataURL(e)})),uh="identity",hh="imgly_sticker_custom",dh=class{constructor(e){this.state=Vn.e.map(sh),this.customStickers=[],this.colorList=ah(),this.selectLast=()=>{this.editor.spriteStore.selectHighestOrderSprite(Array.from(this.state.keys()))},this.doesStickerAssetExist=e=>-1!==this.entityManager.items.findIndex((t=>t.identifier===e)),this.add=e=>{const t=this.entityManager.items.find((t=>t.identifier===e)),i=t?t.tintMode:oh.tintMode,r=t?t.resizeMode:oh.resizeMode;this.editor.spriteStore.addSticker({state:{identifier:e,tintMode:i,tintColor:oh.tintColor,opacity:oh.opacity,resizeMode:r}})},this.duplicate=()=>{if(this.id){const e=this.editor.spriteStore.getDuplicateContainerTransform(this.id),t=this.editor.spriteStore.getDuplicateContainerFlip(this.id),{flipHorizontally:i,flipVertically:r}=this.editor.outputContainer.getData();this.editor.spriteStore.addSticker({state:{identifier:this.identifier,tintColor:(0,Vn.p)(this.tintColor),tintMode:this.tintMode,resizeMode:this.resizeMode,opacity:this.opacity,flipHorizontally:i!==t.flipHorizontally,flipVertically:r!==t.flipVertically},transform:e})}},this.bringToFront=()=>{this.id&&this.editor.spriteStore.bringToFront(this.id)},this.flipHorizontally=()=>{this.id&&this.editor.spriteStore.flipHorizontally(this.id)},this.delete=()=>{if(this.id){const e=this.id;this.editor.spriteStore.removeSprite(e),this.state.delete(e),this.selectLast()}},this.updateStateFromHistory=(e,t)=>{(0,Vn.Wa.default)(t,this.state.get(e))||(this.setState(e,t),this.editor.spriteStore.setContainerProperties(e,t))},this.setState=(e,t)=>{const i=this.state.get(e);i?("opacity"in t&&(i.opacity=t.opacity),t.tintColor&&(i.tintColor=t.tintColor),t.tintMode&&(i.tintMode=t.tintMode),t.resizeMode&&(i.resizeMode=t.resizeMode),this.state.set(e,i)):this.state.set(e,{identifier:t.identifier,opacity:t.opacity,tintMode:t.tintMode,resizeMode:t.resizeMode,tintColor:t.tintColor?t.tintColor:oh.tintColor})},this.changeOpacity=e=>{if(this.id){const t=this.state.get(this.id);if(t){this.editor.spriteStore.setContainerProperties(this.id,{opacity:e});const i=this.editor.spriteStore.getContainerProperties(this.id);t.opacity=i.opacity,this.state.set(this.id,t)}}},this.changeTintColor=e=>{if(this.id){const t=this.state.get(this.id);if(t){const{tintMode:i}=this.entityManager.items.find((e=>e.identifier===this.identifier));this.editor.spriteStore.setContainerProperties(this.id,{tintColor:e,tintMode:i});const r=this.editor.spriteStore.getContainerProperties(this.id);t.tintColor=r.tintColor,t.tintMode=r.tintMode||oh.tintMode,this.state.set(this.id,t)}}},this.tintColorSnapshot=()=>{this.addSnapshot("edit",this.locale.history.color)},this.addFiles=async e=>{if(this.editor.modalStore.showInfoModal("loading"),e.length){let i=0;const r=[];for(i=0;i<e.length;i+=1)r.push(ch(e[i]));try{const t=await Promise.all(r);this.addCustomStickerAsset(t),this.editor.configStore.events.onStickerUploadedAdd(t.map(((t,i)=>{let{identifier:r,stickerURI:n}=t;return{identifier:r,stickerURI:n,file:e[i]}})))}catch(t){this.editor.modalStore.hideModal(),this.editor.modalStore.showInfoModal("stickerLoading")}}},this.addCustomStickerAsset=async e=>{const t=[];e.forEach((e=>{let{stickerURI:i,thumbnailURI:r,name:n,identifier:o,type:s}=e;t.push({stickerURI:i,thumbnailURI:r,name:n,tintMode:this.customStickerTintMode,resizeMode:this.customStickerResizeMode,identifier:o}),this.customStickers.push({identifier:o,type:s,stickerURI:i,name:n})}));const i=this.locale.categories[hh];this.editor.assetProvider.addCustomStickerAsset(t,hh,i);const r=this.editor.assetProvider.getAssets("sticker"),{config:n}=this;this.entityManager=new zu(r,{...n,itemFallbackKey:"stickerURI",locale:this.locale.items,getAssetPath:this.editor.getAssetPath("sticker")}),this.selectedCategory=hh,this.editor.modalStore.hideModal()},this.toolSnapshot=()=>{this.addSnapshot("edit",this.locale.history.opacity)},this.addSnapshot=(e,t)=>{const i=this.editor.historyStore.getCurrentSpritesState();(null==i?void 0:i.sticker)&&(0,Vn.Wa.default)(i.sticker,(0,Vn.p)(this.state))||this.currentSticker&&this.editor.spriteStore.addSnapshot(e,t)},this.toggleCategorySelection=e=>{this.selectedCategory=this.selectedCategory===e?uh:e},this.pureReset=()=>{this.state=Vn.e.map(sh)},this.dispose=()=>{this.state=null,this.selectedCategory=null,this.editor=null,this.entityManager=null},this.editor=e,this.selectedCategory=uh;const{config:t}=this,i=this.editor.assetProvider.getAssets("sticker");this.entityManager=new zu(i,{...t,itemFallbackKey:"stickerURI",locale:{...this.locale.items,...this.locale.categories},getAssetPath:this.editor.getAssetPath("sticker")}),oh.tintColor=(0,Vn.p)((0,Vn.Va)(this.config,"defaultTintColor",oh.tintColor)),this.config.colors&&this.config.colors.length>0&&(this.colorList=Au((0,Vn.p)(this.config.colors)))}get isStickerSelected(){return this.editor.spriteStore.isSpriteSticker}get isCustomStickerEnabled(){return this.config.enableCustomUpload}get customStickerTintMode(){return this.config.customStickerTintMode}get customStickerResizeMode(){return this.config.customStickerResizeMode}get currentSticker(){if(this.isStickerSelected){const e=this.state.get(this.id);if(e)return e}}get identifier(){if(this.isStickerSelected){const e=this.state.get(this.id);if(e)return e.identifier}return"none"}get id(){if(this.isStickerSelected)return this.editor.spriteStore.id}get opacity(){return this.currentSticker?this.currentSticker.opacity:oh.opacity}get tintMode(){return this.currentSticker?this.currentSticker.tintMode:oh.tintMode}get resizeMode(){return this.currentSticker?this.currentSticker.resizeMode:oh.resizeMode}get tintable(){return!!this.currentSticker&&("solid"===this.currentSticker.tintMode||"colorized"===this.currentSticker.tintMode)}get tintColor(){return this.currentSticker?this.currentSticker.tintColor:oh.tintColor}get config(){return this.editor.configStore.config.sticker}get locale(){return this.editor.configStore.locale.sticker}get localeColor(){return this.editor.configStore.locale.common.color}get selectedCategoryIdentifier(){return this.selectedCategory}get items(){return this.entityManager.items}get categories(){return this.entityManager.categories}};(0,Vn.c)([Vn.e],dh.prototype,"selectedCategory",2),(0,Vn.c)([Vn.e],dh.prototype,"entityManager",2),(0,Vn.c)([Vn.l],dh.prototype,"selectLast",2),(0,Vn.c)([Vn.l],dh.prototype,"add",2),(0,Vn.c)([Vn.l],dh.prototype,"duplicate",2),(0,Vn.c)([Vn.l],dh.prototype,"bringToFront",2),(0,Vn.c)([Vn.l],dh.prototype,"flipHorizontally",2),(0,Vn.c)([Vn.l],dh.prototype,"delete",2),(0,Vn.c)([Vn.l],dh.prototype,"updateStateFromHistory",2),(0,Vn.c)([Vn.l],dh.prototype,"setState",2),(0,Vn.c)([Vn.l],dh.prototype,"changeOpacity",2),(0,Vn.c)([Vn.l],dh.prototype,"changeTintColor",2),(0,Vn.c)([Vn.l],dh.prototype,"addFiles",2),(0,Vn.c)([Vn.l],dh.prototype,"addCustomStickerAsset",2),(0,Vn.c)([Vn.l],dh.prototype,"toggleCategorySelection",2),(0,Vn.c)([Vn.l],dh.prototype,"pureReset",2),(0,Vn.c)([Vn.l],dh.prototype,"dispose",2),(0,Vn.c)([Vn.f],dh.prototype,"isStickerSelected",1),(0,Vn.c)([Vn.f],dh.prototype,"isCustomStickerEnabled",1),(0,Vn.c)([Vn.f],dh.prototype,"customStickerTintMode",1),(0,Vn.c)([Vn.f],dh.prototype,"customStickerResizeMode",1),(0,Vn.c)([Vn.f],dh.prototype,"currentSticker",1),(0,Vn.c)([Vn.f],dh.prototype,"identifier",1),(0,Vn.c)([Vn.f],dh.prototype,"id",1),(0,Vn.c)([Vn.f],dh.prototype,"opacity",1),(0,Vn.c)([Vn.f],dh.prototype,"tintMode",1),(0,Vn.c)([Vn.f],dh.prototype,"resizeMode",1),(0,Vn.c)([Vn.f],dh.prototype,"tintable",1),(0,Vn.c)([Vn.f],dh.prototype,"tintColor",1),(0,Vn.c)([Vn.f],dh.prototype,"config",1),(0,Vn.c)([Vn.f],dh.prototype,"locale",1),(0,Vn.c)([Vn.f],dh.prototype,"localeColor",1),(0,Vn.c)([Vn.f],dh.prototype,"selectedCategoryIdentifier",1),(0,Vn.c)([Vn.f],dh.prototype,"items",1),(0,Vn.c)([Vn.f],dh.prototype,"categories",1);var ph={text:"Write Something",identifier:"imgly_font_open_sans_bold",fontSize:73.3,defaultFontSize:73.3,fontFamily:"Open Sans",fontStyle:"",fontWeight:"bold",lineHeight:1,alignment:"center",textColor:Ou.white,backgroundColor:Ou.transparent||[0,0,0,0],width:0},fh={},gh={100:"Extra Light",200:"Light",300:"Book",400:"Regular",500:"Medium",600:"SemiBold",700:"Bold",800:"Black",900:"Extra Black",bold:"Bold",normal:"Regular",lighter:"Lighter"},mh=class{constructor(e){var t=this;this.state=Vn.e.map(fh),this.colorList=ah(),this.backgroundColorList=Object.keys(Mu).map((e=>{const t=Mu[e];return{identifier:e,color:t,colorString:Fu(t)}})),this.fontsLoadStatus=Vn.e.object({pending:!1,loaded:!1}),this.doesTextAssetExist=e=>-1!==this.editor.assetProvider.getFontAssets().findIndex((t=>t.identifier===e)),this.validFontWithConfig=e=>this.fonts.find((t=>t.identifier===e))||this.fonts[0],this.addOrselect=()=>{this.state.size?(this.selectLast(),this.loadFonts()):this.add()},this.selectLast=()=>{this.editor.spriteStore.selectHighestOrderSprite(Array.from(this.state.keys()))},this.add=async()=>{const{fontsLoadStatus:e}=this,t=()=>{this.editor.spriteStore.addText({state:{identifier:ph.identifier,text:ph.text,textColor:ph.textColor,backgroundColor:ph.backgroundColor,lineHeight:ph.lineHeight,alignment:ph.alignment,fontSize:0}})};if(e.pending||e.loaded)t();else{this.fontsLoadStatus.pending=!0;const e=this.editor.assetProvider.getFontManager();try{await e.loadFontsWithIdentifiers([ph.identifier]),t()}catch(i){this.editor.modalStore.showActionModal({type:"error",identifier:"fontLoading",error:ph.identifier})}await this.loadFonts()}},this.duplicate=()=>{if(this.id){const e=this.editor.spriteStore.getDuplicateContainerTransform(this.id);this.editor.spriteStore.addText({state:{identifier:this.identifier,text:this.text,textColor:(0,Vn.p)(this.textColor),lineHeight:this.lineHeight,alignment:this.alignment,fontSize:this.fontSize,backgroundColor:(0,Vn.p)(this.backgroundColor),width:this.width},transform:e})}},this.bringToFront=()=>{this.id&&this.editor.spriteStore.bringToFront(this.id)},this.delete=()=>{if(this.id){const e=this.id;this.editor.spriteStore.removeSprite(e),this.state.delete(e),this.selectLast()}},this.setEditMode=e=>{this.editor.spriteStore.setEditMode(e)},this.changeFont=e=>{const t=this.fonts.find((t=>t.identifier===e));this.changeIdentifier(t,this.id),this.id&&this.addSnapshot("edit",this.locale.history.fontFamily)},this.changeIdentifier=(e,t)=>{(0,Vn.m)((()=>{if(e&&t){const i=this.state.get(t);if(i){this.editor.spriteStore.setContainerProperties(t,{fontIdentifier:e.identifier},!0);const r=this.editor.spriteStore.getContainerProperties(t);i.identifier=r.fontIdentifier,i.fontFamily=e.fontFamily,i.fontStyle=e.fontStyle,i.fontWeight=e.fontWeight,i.fontSize=r.fontSize,i.width=r.width,i.defaultFontSize=i.fontSize,this.state.set(t,i)}}}))},this.changeFontSize=function(e){let i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(t.id){const r=t.state.get(t.id);r&&(r.fontSize=e,i&&(r.defaultFontSize=e),t.state.set(t.id,r))}},this.updateDefaultFontSize=()=>{if(this.id){const e=this.state.get(this.id);e&&(e.defaultFontSize=e.fontSize,this.state.set(this.id,e))}},this.changeSize=(e,t)=>{const i=this.state.get(e);i&&(i.width=t.width,i.fontSize=t.fontSize,i.defaultFontSize=t.fontSize,this.state.set(e,i))},this.changeWidth=e=>{if(this.id){const t=this.state.get(this.id);t&&(t.width=e,this.state.set(this.id,t))}},this.changeText=e=>{if(this.id){const t=this.state.get(this.id);if(t){this.editor.spriteStore.setContainerProperties(this.id,{text:e},!0);let i=this.editor.spriteStore.getContainerProperties(this.id);const r=this.editor.outputContainer.getSizeInOutputSpace(),n=this.editor.spriteStore.getSize(this.id);this.config.disableAutoScaling||n.height>r.height&&this.editor.spriteStore.setContainerProperties(this.id,{fontSize:this.calculateFitFontSize(this.id,r.height)},!0),i=this.editor.spriteStore.getContainerProperties(this.id),t.text=i.text,t.fontSize=i.fontSize,t.defaultFontSize=i.fontSize,this.state.set(this.id,t),this.addSnapshot("edit",this.locale.history.edit)}}},this.calculateFitFontSize=(e,t)=>{if(!mh.measureContext){const e=document.createElement("canvas");mh.measureContext=e.getContext("2d")}const i=this.editor.spriteStore.getContainerProperties(e),r=this.editor.engine.assetProvider.getFontManager().getFontWithId(i.fontIdentifier),n=this.config.minFontSizeForAutoScaling,o=(0,Vn.sb)(mh.measureContext,i.text,r,i.fontSize,i.lineHeight,i.width,r.textMetrics),s=Math.min(Math.floor(i.fontSize*(t/o.height)),1),a=Math.round(i.fontSize);let l=0,c=a-s,u=Math.floor(2*(a-s)),h=c;for(;l<=u;){c=l+Math.floor((u-l)/2);const e=(0,Vn.sb)(mh.measureContext,i.text,r,c,i.lineHeight,i.width,r.textMetrics);if(t<e.height)u=c-1,h=c-1;else{if(!(t>e.height)){h=c;break}if(l=c+1,s+c>=a)return a}}return n&&h<n?n:h},this.changeLineHeight=e=>{if(this.id){const t=this.state.get(this.id);if(t&&e){this.editor.spriteStore.setContainerProperties(this.id,{lineHeight:e},!0);const i=this.editor.spriteStore.getContainerProperties(this.id);t.lineHeight=i.lineHeight,this.state.set(this.id,t)}}},this.changeColor=e=>{if(this.id){const t=this.state.get(this.id);if(t){this.editor.spriteStore.setContainerProperties(this.id,{textColor:e});const i=this.editor.spriteStore.getContainerProperties(this.id);t.textColor=i.textColor,this.state.set(this.id,t)}}},this.changeBackgroundColor=e=>{if(this.id){const t=this.state.get(this.id);if(t){this.editor.spriteStore.setContainerProperties(this.id,{backgroundColor:e});const i=this.editor.spriteStore.getContainerProperties(this.id);t.backgroundColor=i.backgroundColor,this.state.set(this.id,t)}}},this.colorSnapshot=()=>{this.addSnapshot("edit",this.locale.history.textColor)},this.backgroundColorSnapshot=()=>{this.addSnapshot("edit",this.locale.history.backgroundColor)},this.changeAlignment=e=>{if(this.id){const t=this.state.get(this.id);if(t){this.editor.spriteStore.setContainerProperties(this.id,{alignment:e});const i=this.editor.spriteStore.getContainerProperties(this.id);t.alignment=i.alignment,this.state.set(this.id,t),this.addSnapshot("edit",this.locale.history.alignment)}}},this.toolSnapshot=()=>{this.addSnapshot("edit",this.locale.history.lineSpacing)},this.addSnapshot=(e,t)=>{const i=this.editor.historyStore.getCurrentSpritesState();(null==i?void 0:i.text)&&(0,Vn.Wa.default)(i.text,(0,Vn.p)(this.state))||this.currentText&&this.editor.spriteStore.addSnapshot(e,t)},this.updateStateFromHistory=(e,t)=>{(0,Vn.Wa.default)(t,this.state.get(e))||(this.setState(e,t),this.editor.spriteStore.setContainerProperties(e,t))},this.setState=(e,t)=>{const i=this.state.get(e);if(i)t.alignment&&(i.alignment=t.alignment),t.text&&(i.text=t.text),t.lineHeight&&(i.lineHeight=t.lineHeight),t.textColor&&(i.textColor=t.textColor),t.backgroundColor&&(i.backgroundColor=t.backgroundColor),t.fontIdentifier&&(i.identifier=t.fontIdentifier),t.fontSize&&(i.fontSize=t.fontSize,i.defaultFontSize=t.fontSize),t.width&&(i.width=t.width);else{const i=this.validFontWithConfig(t.fontIdentifier);i&&this.state.set(e,{text:t.text,identifier:i.identifier,alignment:t.alignment,textColor:t.textColor?t.textColor:ph.textColor,backgroundColor:t.backgroundColor?t.backgroundColor:ph.backgroundColor,fontFamily:i.fontFamily,fontStyle:i.fontStyle,fontSize:t.fontSize,fontWeight:i.fontWeight,lineHeight:t.lineHeight,width:t.width,defaultFontSize:t.fontSize})}},this.setFontSize=e=>{if(this.id){const t=this.state.get(this.id);if(t){this.editor.spriteStore.setContainerProperties(this.id,{fontSize:e},!0);const i=this.editor.spriteStore.getContainerProperties(this.id);t.fontSize=i.fontSize,t.defaultFontSize=i.fontSize,this.state.set(this.id,t)}}},this.pureReset=()=>{this.state=Vn.e.map(fh)},this.dispose=()=>{this.state=null,this.fontsLoadStatus=null,this.editor=null,this.backgroundColorList=null,this.colorList=null},this.editor=e,this.fonts.find((e=>e.identifier===ph.identifier))||(ph.identifier=this.fonts[0].identifier),ph.textColor=(0,Vn.p)((0,Vn.Va)(this.config,"defaultColor",ph.textColor)),ph.backgroundColor=(0,Vn.p)((0,Vn.Va)(this.config,"defaultBackgroundColor",ph.backgroundColor)),ph.text=this.locale.canvasControls.placeholderText,this.config.colors&&this.config.colors.length>0&&(this.colorList=Au((0,Vn.p)(this.config.colors))),this.config.backgroundColors&&this.config.backgroundColors.length>0&&(this.backgroundColorList=Au((0,Vn.p)(this.config.backgroundColors)))}static defaultText(){return ph.text}static getDisplayFontStyle(e){const t=e.fontWeight&&"regular"!==gh[e.fontWeight].toLowerCase()?gh[e.fontWeight]:"",i=e.fontStyle&&"normal"!==e.fontStyle.toLowerCase()?e.fontStyle:"";return"".concat(e.fontFamily.toLowerCase().includes(t.toLowerCase())?"":t," ").concat(i).trim()}async loadFonts(){const{fontsLoadStatus:e}=this;if(e.loaded)return;const t=this.editor.assetProvider.getFontManager(),i=this.editor.assetProvider.getFontAssetsForText().filter(Boolean).map((e=>e.identifier));try{await t.loadFontsWithIdentifiers(i)}catch(r){const e=i.filter((e=>!t.isFontLoaded(e))).join(", ");this.editor.modalStore.showActionModal({type:"error",identifier:"fontLoading",error:e})}e.loaded=!0}get isEditMode(){return this.editor.spriteStore.isEditMode}get isTextSelected(){return this.editor.spriteStore.isSpriteText}get fontsLoaded(){return this.fontsLoadStatus.loaded}get currentText(){if(this.isTextSelected){const e=this.state.get(this.id);if(e)return e}}get text(){return this.currentText?this.currentText.text:ph.text}get fontSize(){return this.currentText?this.currentText.fontSize:ph.fontSize}get defaultFontSize(){return this.currentText?this.currentText.defaultFontSize:ph.defaultFontSize}get width(){return this.currentText?this.currentText.width:ph.width}get fontFamily(){return this.currentText?this.currentText.fontFamily:ph.fontFamily}get fontStyle(){return this.currentText?this.currentText.fontStyle:ph.fontStyle}get fontWeight(){return this.currentText?this.currentText.fontWeight:ph.fontWeight}get lineHeight(){return this.currentText?this.currentText.lineHeight:ph.lineHeight}get identifier(){return this.currentText?this.currentText.identifier:ph.identifier}get id(){if(this.isTextSelected)return this.editor.spriteStore.id}get alignment(){return this.currentText?this.currentText.alignment:ph.alignment}get textColor(){return this.currentText?this.currentText.textColor:ph.textColor}get backgroundColor(){return this.currentText?this.currentText.backgroundColor:ph.backgroundColor}get config(){return this.editor.configStore.config.text}get locale(){return this.editor.configStore.locale.text}get localeColor(){return this.editor.configStore.locale.common.color}get rawOptions(){return this.editor.assetProvider.getFontAssetsForText()}get availableOptions(){return this.config.fonts.length?this.config.fonts.map((e=>e.identifier)):this.rawOptions.filter(Boolean).map((e=>e.identifier))}get fonts(){return this.rawOptions.filter(Boolean).reduce(((e,t)=>-1!==this.availableOptions.indexOf(t.identifier)?[...e,{identifier:t.identifier,fontFamily:t.fontFamily,fontStyle:t.fontStyle||"",fontWeight:t.fontWeight||""}]:e),[])}get fontFamilies(){return[...new Set(this.fonts)]}},yh=mh;(0,Vn.c)([Vn.l],yh.prototype,"addOrselect",2),(0,Vn.c)([Vn.l],yh.prototype,"selectLast",2),(0,Vn.c)([Vn.l],yh.prototype,"add",2),(0,Vn.c)([Vn.l],yh.prototype,"duplicate",2),(0,Vn.c)([Vn.l],yh.prototype,"bringToFront",2),(0,Vn.c)([Vn.l],yh.prototype,"delete",2),(0,Vn.c)([Vn.l],yh.prototype,"setEditMode",2),(0,Vn.c)([Vn.l],yh.prototype,"changeFont",2),(0,Vn.c)([Vn.l],yh.prototype,"changeIdentifier",2),(0,Vn.c)([Vn.l],yh.prototype,"changeFontSize",2),(0,Vn.c)([Vn.l],yh.prototype,"updateDefaultFontSize",2),(0,Vn.c)([Vn.l],yh.prototype,"changeSize",2),(0,Vn.c)([Vn.l],yh.prototype,"changeWidth",2),(0,Vn.c)([Vn.l],yh.prototype,"changeText",2),(0,Vn.c)([Vn.l],yh.prototype,"changeLineHeight",2),(0,Vn.c)([Vn.l],yh.prototype,"changeColor",2),(0,Vn.c)([Vn.l],yh.prototype,"changeBackgroundColor",2),(0,Vn.c)([Vn.l],yh.prototype,"changeAlignment",2),(0,Vn.c)([Vn.l],yh.prototype,"updateStateFromHistory",2),(0,Vn.c)([Vn.l],yh.prototype,"setState",2),(0,Vn.c)([Vn.l],yh.prototype,"setFontSize",2),(0,Vn.c)([Vn.l],yh.prototype,"pureReset",2),(0,Vn.c)([Vn.l],yh.prototype,"dispose",2),(0,Vn.c)([Vn.f],yh.prototype,"isEditMode",1),(0,Vn.c)([Vn.f],yh.prototype,"isTextSelected",1),(0,Vn.c)([Vn.f],yh.prototype,"fontsLoaded",1),(0,Vn.c)([Vn.f],yh.prototype,"currentText",1),(0,Vn.c)([Vn.f],yh.prototype,"text",1),(0,Vn.c)([Vn.f],yh.prototype,"fontSize",1),(0,Vn.c)([Vn.f],yh.prototype,"defaultFontSize",1),(0,Vn.c)([Vn.f],yh.prototype,"width",1),(0,Vn.c)([Vn.f],yh.prototype,"fontFamily",1),(0,Vn.c)([Vn.f],yh.prototype,"fontStyle",1),(0,Vn.c)([Vn.f],yh.prototype,"fontWeight",1),(0,Vn.c)([Vn.f],yh.prototype,"lineHeight",1),(0,Vn.c)([Vn.f],yh.prototype,"identifier",1),(0,Vn.c)([Vn.f],yh.prototype,"id",1),(0,Vn.c)([Vn.f],yh.prototype,"alignment",1),(0,Vn.c)([Vn.f],yh.prototype,"textColor",1),(0,Vn.c)([Vn.f],yh.prototype,"backgroundColor",1),(0,Vn.c)([Vn.f],yh.prototype,"config",1),(0,Vn.c)([Vn.f],yh.prototype,"locale",1),(0,Vn.c)([Vn.f],yh.prototype,"localeColor",1),(0,Vn.c)([Vn.f],yh.prototype,"rawOptions",1),(0,Vn.c)([Vn.f],yh.prototype,"availableOptions",1),(0,Vn.c)([Vn.f],yh.prototype,"fonts",1),(0,Vn.c)([Vn.f],yh.prototype,"fontFamilies",1);var _h={identifier:"imgly_text_design_blocks",color:Ou.white,isInverted:!1,text:"Write Something With Style",seed:0,padding:0,width:0},vh={imgly_text_design_blocks:835,imgly_text_design_rotated:6,imgly_text_design_blocks_light:3,imgly_text_design_equal_width:727,imgly_text_design_masked:259,imgly_text_design_celebrate:579,imgly_text_design_sunshine:77,imgly_text_design_masked_badge:683,imgly_text_design_blocks_condensed:673,imgly_text_design_celebrate_simple:425,imgly_text_design_equal_width_fat:961,imgly_text_design_watercolor:671,imgly_text_design_particles:683,imgly_text_design_masked_speech_bubble:317,imgly_text_design_masked_speech_bubble_comic:229,imgly_text_design_multiline:831},bh={},xh=class{constructor(e){var t=this;this.state=Vn.e.map(bh),this.colorList=ah(),this.fontsLoaded=!1,this.doesTextDesignAssetExist=e=>-1!==this.entityManager.items.findIndex((t=>t.identifier===e)),this.addOrselect=async()=>{await this.loadFonts(),this.state.size?this.selectLast():this.add()},this.selectLast=()=>{this.editor.spriteStore.selectHighestOrderSprite(Array.from(this.state.keys()))},this.add=()=>{this.editor.spriteStore.addTextDesign({state:{identifier:_h.identifier,text:_h.text,color:_h.color,isInverted:_h.isInverted,seed:vh[_h.identifier]||_h.seed,padding:0}})},this.updateStateFromHistory=(e,t)=>{if((0,Vn.Wa.default)(t,this.state.get(e)))return;const i=this.state.get(e);t.identifier===i.identifier?(this.setState(e,t),this.editor.spriteStore.setContainerProperties(e,t)):this.changeIdentifier(t.identifier,!1,t.seed,e)},this.setState=(e,t)=>{const i=this.state.get(e);i?(t.inverted&&(i.isInverted=t.inverted),t.seed&&(i.seed=t.seed),t.color&&(i.color=t.color),t.padding&&(i.padding=t.padding),t.width&&(i.width=t.width)):this.state.set(e,{width:t.width,text:t.text,isInverted:t.inverted,identifier:t.identifier,seed:t.seed,color:t.color?t.color:_h.color,padding:t.padding})},this.changeText=e=>{if(this.id){const t=this.state.get(this.id);if(t){this.editor.spriteStore.setContainerProperties(this.id,{text:e},!0);const i=this.editor.spriteStore.getContainerProperties(this.id);t.text=i.text,this.state.set(this.id,t),this.addSnapshot("edit",this.locale.history.edit)}}},this.setEditMode=e=>{this.editor.spriteStore.setEditMode(e)},this.duplicate=()=>{if(this.id){const e=this.editor.spriteStore.getDuplicateContainerTransform(this.id);this.editor.spriteStore.addTextDesign({state:{identifier:this.identifier,text:this.text,color:(0,Vn.p)(this.color),isInverted:this.isInverted,seed:this.seed,padding:this.padding,width:this.width},transform:e})}},this.bringToFront=()=>{this.id&&this.editor.spriteStore.bringToFront(this.id)},this.addSnapshot=(e,t)=>{const i=this.editor.historyStore.getCurrentSpritesState();(null==i?void 0:i.textdesign)&&(0,Vn.Wa.default)(i.textdesign,(0,Vn.p)(this.state))||this.currentTextDesign&&this.editor.spriteStore.addSnapshot(e,t)},this.delete=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.id;e&&(t.editor.spriteStore.removeSprite(e),t.state.delete(e),t.selectLast())},this.changeSeed=()=>{if(this.id){const e=this.state.get(this.id);if(e){this.editor.spriteStore.setContainerProperties(this.id,{seed:-1},!0);const t=this.editor.spriteStore.getContainerProperties(this.id);e.seed=t.seed,this.state.set(this.id,e),this.addSnapshot("edit",this.locale.history.shuffle)}}},this.changeIdentifier=function(e){let i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.id;if(n&&e!==t.identifier){const o=t.state.get(n),s=t.editor.spriteStore.getContainerTransform(n);t.editor.spriteStore.addTextDesign({spriteId:n,state:{identifier:e,text:o.text,color:(0,Vn.p)(o.color),isInverted:o.isInverted,seed:r||vh[e]||o.seed,padding:o.padding,width:o.width},transform:s},i,!0)}},this.changeColor=e=>{if(this.id){const t=this.state.get(this.id);if(t){this.editor.spriteStore.setContainerProperties(this.id,{color:e});const i=this.editor.spriteStore.getContainerProperties(this.id);t.color=i.color,this.state.set(this.id,t)}}},this.colorSnapshot=()=>{this.addSnapshot("edit",this.locale.history.color)},this.invertBackground=()=>{if(this.id){const e=this.state.get(this.id);if(e){this.editor.spriteStore.setContainerProperties(this.id,{inverted:!e.isInverted},!0);const t=this.editor.spriteStore.getContainerProperties(this.id);e.isInverted=t.inverted,this.state.set(this.id,e),this.addSnapshot("edit",this.locale.history.invert)}}},this.changeWidth=e=>{if(this.id){const t=this.state.get(this.id);t&&(t.width=e,this.state.set(this.id,t))}},this.changePadding=e=>{if(this.id){const t=this.state.get(this.id);t&&(t.padding=e,this.state.set(this.id,t))}},this.pureReset=()=>{this.state=Vn.e.map(bh)},this.dispose=()=>{this.state=null,this.fontsLoaded=null,this.editor=null,this.colorList=null},this.editor=e;const i=this.editor.assetProvider.getAssets("textdesign");this.entityManager=new zu(i,{...this.config,flattenCategories:!0,locale:{},getAssetPath:this.editor.getAssetPath("textdesign")}),this.entityManager.items.find((e=>e.identifier===_h.identifier))||(_h.identifier=this.entityManager.items[0].identifier),_h.text=this.locale.canvasControls.placeholderText,_h.color=(0,Vn.p)((0,Vn.Va)(this.config,"defaultColor",_h.color)),this.config.colors&&this.config.colors.length>0&&(this.colorList=Au((0,Vn.p)(this.config.colors)))}static defaultText(){return _h.text}async loadFonts(){if(this.fontsLoaded)return;const e=this.editor.assetProvider.getFontManager(),t=this.editor.assetProvider.getFontAssetsForTextDesign().map((e=>e.identifier));try{await e.loadFontsWithIdentifiers(t)}catch(i){const r=t.filter((t=>!e.isFontLoaded(t))).join(", ");this.editor.modalStore.showActionModal({type:"error",identifier:"fontLoading",error:r})}this.fontsLoaded=!0}get isTextDesignSelected(){return this.editor.spriteStore.isSpriteTextDesign}get isEditMode(){return this.editor.spriteStore.isEditMode}get currentTextDesign(){if(this.isTextDesignSelected&&this.id){const e=this.state.get(this.id);if(e)return e}}get id(){if(this.isTextDesignSelected)return this.editor.spriteStore.id}get text(){return this.currentTextDesign?this.currentTextDesign.text:_h.text}get seed(){return this.currentTextDesign?this.currentTextDesign.seed:_h.seed}get padding(){return this.currentTextDesign?this.currentTextDesign.padding:_h.padding}get width(){return this.currentTextDesign?this.currentTextDesign.width:_h.width}get identifier(){return this.currentTextDesign?this.currentTextDesign.identifier:null}get isInverted(){return this.currentTextDesign?this.currentTextDesign.isInverted:_h.isInverted}get color(){return this.currentTextDesign?this.currentTextDesign.color:_h.color}get config(){return this.editor.configStore.config.textdesign}get locale(){return this.editor.configStore.locale.textdesign}get localeColor(){return this.editor.configStore.locale.common.color}get items(){return this.entityManager.items}};(0,Vn.c)([Vn.l],xh.prototype,"addOrselect",2),(0,Vn.c)([Vn.l],xh.prototype,"selectLast",2),(0,Vn.c)([Vn.l],xh.prototype,"add",2),(0,Vn.c)([Vn.l],xh.prototype,"updateStateFromHistory",2),(0,Vn.c)([Vn.l],xh.prototype,"setState",2),(0,Vn.c)([Vn.l],xh.prototype,"changeText",2),(0,Vn.c)([Vn.l],xh.prototype,"setEditMode",2),(0,Vn.c)([Vn.l],xh.prototype,"duplicate",2),(0,Vn.c)([Vn.l],xh.prototype,"bringToFront",2),(0,Vn.c)([Vn.l],xh.prototype,"delete",2),(0,Vn.c)([Vn.l],xh.prototype,"changeSeed",2),(0,Vn.c)([Vn.l],xh.prototype,"changeIdentifier",2),(0,Vn.c)([Vn.l],xh.prototype,"changeColor",2),(0,Vn.c)([Vn.l],xh.prototype,"invertBackground",2),(0,Vn.c)([Vn.l],xh.prototype,"changeWidth",2),(0,Vn.c)([Vn.l],xh.prototype,"changePadding",2),(0,Vn.c)([Vn.l],xh.prototype,"pureReset",2),(0,Vn.c)([Vn.l],xh.prototype,"dispose",2),(0,Vn.c)([Vn.f],xh.prototype,"isTextDesignSelected",1),(0,Vn.c)([Vn.f],xh.prototype,"isEditMode",1),(0,Vn.c)([Vn.f],xh.prototype,"currentTextDesign",1),(0,Vn.c)([Vn.f],xh.prototype,"id",1),(0,Vn.c)([Vn.f],xh.prototype,"text",1),(0,Vn.c)([Vn.f],xh.prototype,"seed",1),(0,Vn.c)([Vn.f],xh.prototype,"padding",1),(0,Vn.c)([Vn.f],xh.prototype,"width",1),(0,Vn.c)([Vn.f],xh.prototype,"identifier",1),(0,Vn.c)([Vn.f],xh.prototype,"isInverted",1),(0,Vn.c)([Vn.f],xh.prototype,"color",1),(0,Vn.c)([Vn.f],xh.prototype,"config",1),(0,Vn.c)([Vn.f],xh.prototype,"locale",1),(0,Vn.c)([Vn.f],xh.prototype,"localeColor",1),(0,Vn.c)([Vn.f],xh.prototype,"items",1);var wh={identifier:"identity",opacity:1,width:0,color:Ou.white},Sh=(0,Vn.b)(Qn()),kh=new Bu(0,1),Ch=class{constructor(e){this.changeIdentifier=e=>{this.state.identifier=e},this.changeOpacity=e=>{const t=kh.clamp(e);this.state.opacity=t},this.changeWidth=e=>{this.state.width=e},this.changeColor=e=>{this.state.color=e},this.reset=()=>{-1===this.indexInContainer&&(this.state.identifier=wh.identifier,this.state.opacity=wh.opacity,this.state.width=wh.width,this.state.color=wh.color,this.removeIndex())},this.removeFrameEffect=()=>{this.effect&&(this.engine.removeEffect(this.effect),this.effect=void 0)},this.setEffectProperties=e=>this.effect?(this.removeIndex(),this.effect.setProperties(e),this.effect.getProperties()):null,this.setFrameEffect=e=>{let{identifier:t,width:i,opacity:r,color:n}=e;const o={...this.state};return this.changeIdentifier(t),this.changeWidth(i),this.changeOpacity(r),this.changeColor(n),this.removeFrameEffect(),new Promise(((e,s)=>{this.engine.addFrameFromAssets(t,this.engineMediator.image.container).then((t=>{this.effect=t,this.effect.setProperties({tintColor:n,opacity:r,width:i}),e()})).catch((e=>{this.changeIdentifier(o.identifier),this.changeOpacity(o.opacity),this.changeWidth(o.width),this.changeColor(o.color),"identity"===o.identifier&&this.removeIndex(),s(e)}))}))},this.removeIndex=()=>{this.engineMediator.orderHelper.removeSprite(this.state.identifier)},this.engineMediator=e,this.state=wh}get engine(){return this.engineMediator.engine}get imageContainer(){return this.engineMediator.image.container}get indexInContainer(){return this.effect?this.effect.getIndexInParent():-1}};(0,Vn.c)([Vn.e],Ch.prototype,"state",2),(0,Vn.c)([Vn.l],Ch.prototype,"changeIdentifier",2),(0,Vn.c)([Vn.l],Ch.prototype,"changeOpacity",2),(0,Vn.c)([Vn.l],Ch.prototype,"changeWidth",2),(0,Vn.c)([Vn.l],Ch.prototype,"changeColor",2),(0,Vn.c)([Vn.l],Ch.prototype,"reset",2);var Th=class{constructor(e){this.colorList=ah(),this.throttledRender=(0,Sh.default)((()=>{this.editor&&this.editor.render()}),10,{trailing:!0}),this.selectFrame=async e=>{if(e!==this.identifier){const t=.1*this.editor.shortestOutputSide;await this.frameStore.setFrameEffect({identifier:e,width:t,opacity:1,color:wh.color}),this.editor.render(),this.addSnapshot("add","frame")}},this.changeOpacity=e=>{const t=this.frameStore.setEffectProperties({opacity:e});t&&(this.frameStore.changeOpacity(t.opacity),this.throttledRender())},this.changeWidth=e=>{const t=this.frameStore.setEffectProperties({width:e});t&&(this.frameStore.changeWidth(t.width),this.throttledRender())},this.changeColor=e=>{const t=this.frameStore.setEffectProperties({tintColor:e});t&&(this.frameStore.changeColor(t.tintColor),this.throttledRender())},this.colorSnapshot=()=>{this.addSnapshot("edit",this.locale.controls.selectColor)},this.toolSnapshot=e=>{this.addSnapshot("edit",e)},this.addSnapshot=(e,t)=>{this.editor.addSnapshot(void 0,e,t)},this.pureReset=()=>{this.frameStore.removeFrameEffect(),this.frameStore.reset()},this.reset=()=>{this.pureReset(),this.addSnapshot("delete",this.locale.controls.buttonReset),this.editor.render()},this.updateStateFromHistory=e=>"identity"===e.identifier?(this.pureReset(),new Promise((e=>{e()}))):this.frameStore.setFrameEffect(e),this.updateStateFromSerialization=async e=>{const t=this.entityManager.items.find((t=>t.identifier===e.identifier));return t?this.frameStore.setFrameEffect(e).then((()=>{this.editor.transformToolStore.setFrameOpacity(e.opacity)})):new Promise(((e,t)=>{t(new Error("Frame Asset doesn't exist"))}))},this.editor=e,this.frameStore=new Ch(this.editor.engineMediator);const t=this.editor.assetProvider.getAssets("frame"),{config:i}=this;this.entityManager=new zu(t,{...i,flattenCategories:!0,locale:this.locale.items,getAssetPath:this.editor.getAssetPath("frame")}),wh.color=(0,Vn.p)((0,Vn.Va)(this.config,"defaultColor",wh.color)),this.config.colors&&this.config.colors.length>0&&(this.colorList=Au((0,Vn.p)(this.config.colors)))}get state(){return this.frameStore.state}get identifier(){return this.state.identifier}get color(){return this.state.color}get size(){return this.state.width}get tintable(){const e=this.entityManager.items.find((e=>e.identifier===this.identifier));return e&&e.tintable||!1}get opacity(){return this.state.opacity}get minSize(){return.05*this.editor.shortestOutputSide}get maxSize(){return.3*this.editor.shortestOutputSide}get config(){return this.editor.configStore.config.frame}get locale(){return this.editor.configStore.locale.frame}get localeColor(){return this.editor.configStore.locale.common.color}get items(){return this.entityManager.items}get isOptionSelected(){return"identity"!==this.identifier}};(0,Vn.c)([Vn.l],Th.prototype,"selectFrame",2),(0,Vn.c)([Vn.l],Th.prototype,"changeOpacity",2),(0,Vn.c)([Vn.l],Th.prototype,"changeWidth",2),(0,Vn.c)([Vn.l],Th.prototype,"changeColor",2),(0,Vn.c)([Vn.l],Th.prototype,"pureReset",2),(0,Vn.c)([Vn.l],Th.prototype,"reset",2),(0,Vn.c)([Vn.l],Th.prototype,"updateStateFromHistory",2),(0,Vn.c)([Vn.l],Th.prototype,"updateStateFromSerialization",2),(0,Vn.c)([Vn.f],Th.prototype,"state",1),(0,Vn.c)([Vn.f],Th.prototype,"identifier",1),(0,Vn.c)([Vn.f],Th.prototype,"color",1),(0,Vn.c)([Vn.f],Th.prototype,"size",1),(0,Vn.c)([Vn.f],Th.prototype,"tintable",1),(0,Vn.c)([Vn.f],Th.prototype,"opacity",1),(0,Vn.c)([Vn.f],Th.prototype,"minSize",1),(0,Vn.c)([Vn.f],Th.prototype,"maxSize",1),(0,Vn.c)([Vn.f],Th.prototype,"config",1),(0,Vn.c)([Vn.f],Th.prototype,"locale",1),(0,Vn.c)([Vn.f],Th.prototype,"localeColor",1),(0,Vn.c)([Vn.f],Th.prototype,"items",1),(0,Vn.c)([Vn.f],Th.prototype,"isOptionSelected",1);var Eh={size:0,color:Ou.white,hardness:0,maximumSize:.125,minimumSize:0,maximumHardness:1,minimumHardness:0},Dh=class{constructor(e){this.strokes={strokes:[]},this.colorList=ah(),this.dirty=Vn.e.box(!1),this.id="",this.containerId=()=>this.id,this.initSize=()=>{const{minimumSize:e,maximumSize:t}=this.state,{size:i}=this;0===i&&this.changeSize((0,Vn.Ua)(this.config,"defaultSize",[e,t]))},this.changeColor=e=>{this.state.color=e},this.changeSize=e=>{this.state.size=e},this.changeRelativeSize=e=>{const{maximumSize:t,minimumSize:i}=this.state;this.state.size=(t-i)*e/100+i},this.changeHardness=e=>{this.state.hardness=e},this.reset=()=>{this.pureReset(),this.addSnapshot("delete",this.locale.controls.buttonReset),this.editor.render()},this.editor=e,this.state={...Eh,hardness:(0,Vn.Ua)(this.config,"defaultHardness",[Eh.minimumHardness,Eh.maximumHardness]),color:(0,Vn.p)((0,Vn.Va)(this.config,"defaultColor",Eh.color))},this.config.colors&&this.config.colors.length>0&&(this.colorList=Au((0,Vn.p)(this.config.colors)))}addSnapshot(e,t){this.editor.addSnapshot(void 0,e,t)}clickableCanvas(e){this.editor.clickableCanvas(e)}beginStroke(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(!this.drawingContainer){const t=this.editor.orderHelper.addSprite("brush");this.drawingContainer=this.editor.engine.addDrawing({strokes:e},this.editor.imageContainer,t)}this.id=this.drawingContainer.getID(),this.drawingContainer.beginStroke({id:"imgly_brush_radial",color:(0,Vn.p)(this.state.color),size:this.state.size,hardness:this.state.hardness})}strokePosition(e){if(this.drawingContainer){const t=this.editor.previewToWorld(e,!1);this.drawingContainer.addPointToCurrentStroke(t),this.editor.render()}}endStroke(){this.drawingContainer&&(this.drawingContainer.endStroke(),this.editor.render(),this.strokes=this.drawingContainer.getData(),this.addSnapshot("edit",this.locale.history.brushStroke),this.dirty.set(!0))}updateStateFromHistory(e){if(!(0,Vn.Wa.default)(e,this.strokes))if(!(0,Vn.Wa.default)(e,{strokes:[]})&&e){if(this.drawingContainer){if(this.strokes&&this.strokes.strokes.length===e.strokes.length)return void this.dirty.set(!1);this.strokes=e,this.drawingContainer.setData(this.strokes)}else{const t=this.editor.orderHelper.addSprite("brush");this.drawingContainer=this.editor.engine.addDrawing({strokes:e.strokes},this.editor.imageContainer,t),this.strokes=this.drawingContainer.getData()}this.dirty.set(0!==this.strokes.strokes.length),this.id=this.drawingContainer.getID()}else this.pureReset()}pureReset(){this.dirty.set(!1),this.strokes={strokes:[]},this.drawingContainer&&(this.editor.engine.removeContainer(this.drawingContainer),this.drawingContainer=void 0)}get config(){return this.editor.configStore.config.brush}get locale(){return this.editor.configStore.locale.brush}get localeColor(){return this.editor.configStore.locale.common.color}get color(){return this.state.color}get size(){return this.state.size}get relativeSize(){const{size:e,maximumSize:t,minimumSize:i}=this.state;return 100*(e-i)/(t-i)}get sizeOnScreenSpace(){const e=this.editor.engineMediator.engine.getSmallerOutputSide();return this.editor.worldToPreview(this.state.size*e)}get hardness(){return this.state.hardness}get isDirty(){return this.dirty.get()}};(0,Vn.c)([Vn.e],Dh.prototype,"state",2),(0,Vn.c)([Vn.e],Dh.prototype,"dirty",2),(0,Vn.c)([Vn.l],Dh.prototype,"initSize",2),(0,Vn.c)([Vn.l],Dh.prototype,"changeColor",2),(0,Vn.c)([Vn.l],Dh.prototype,"changeSize",2),(0,Vn.c)([Vn.l],Dh.prototype,"changeRelativeSize",2),(0,Vn.c)([Vn.l],Dh.prototype,"changeHardness",2),(0,Vn.c)([Vn.l],Dh.prototype,"clickableCanvas",1),(0,Vn.c)([Vn.l],Dh.prototype,"beginStroke",1),(0,Vn.c)([Vn.l],Dh.prototype,"strokePosition",1),(0,Vn.c)([Vn.l],Dh.prototype,"endStroke",1),(0,Vn.c)([Vn.l],Dh.prototype,"updateStateFromHistory",1),(0,Vn.c)([Vn.l],Dh.prototype,"reset",2),(0,Vn.c)([Vn.f],Dh.prototype,"config",1),(0,Vn.c)([Vn.f],Dh.prototype,"locale",1),(0,Vn.c)([Vn.f],Dh.prototype,"localeColor",1),(0,Vn.c)([Vn.f],Dh.prototype,"color",1),(0,Vn.c)([Vn.f],Dh.prototype,"size",1),(0,Vn.c)([Vn.f],Dh.prototype,"relativeSize",1),(0,Vn.c)([Vn.f],Dh.prototype,"sizeOnScreenSpace",1),(0,Vn.c)([Vn.f],Dh.prototype,"hardness",1),(0,Vn.c)([Vn.f],Dh.prototype,"isDirty",1);var Ih={position:{x:0,y:0},size:{height:0,width:0},lockResolution:!1,forceDimensions:!1,ratio:"*"},Rh=class extends Vn.La{constructor(){super(...arguments),this.prevDimensions={width:0,height:0}}onExport(e){this.emit("export",e)}onClose(){this.emit("close")}onUndo(){this.emit("historyUndo")}onRedo(){this.emit("historyRedo")}onHistoryChange(){this.emit("historyChange")}onEditorReady(){this.emit("editorReady")}onErrorImageLoading(e){this.emit("errorImageLoading",e)}onImageLoaded(){this.emit("imageLoad")}onStickerUploadedAdd(e){this.emit("stickerUploadAdd",e)}onToolChanged(e){this.emit("toolEnter",e)}onErrorWebGLContextLost(){this.emit("errorWebGLContextLost")}onCropDimensionsChanged(e){this.prevDimensions.width===e.width&&this.prevDimensions.height===e.height||(this.emit("cropDimensionsChange",e),this.prevDimensions=e)}},Fh=Cu([yu,{layout:"basic",defaultTool:null}]),Ah={common:{error:"Fehler",warning:"Warnung",color:{colorPicker:{hex:"Hex",r:"R",g:"G",b:"B",sliderHue:"Farbe",sliderOpacity:"Farbe Transparenz"}}},mainCanvasActions:{buttonExport:"Bild Exportieren",buttonUndo:"R\xfcckg\xe4ngig machen",buttonRedo:"Wiederholen",buttonClose:"Schlie\xdfen"},infoModals:{exporting:{heading:"Exportieren...",body:"Einen Moment bitte..."},saving:{heading:"Speichere...",body:"Einen Moment bitte..."},loading:{heading:"Lade...",body:"Einen Moment bitte..."},resizing:{heading:"Bild wird bearbeitet...",body:"Einen Moment bitte..."},loadingFonts:{heading:"Lade Schriftarten...",body:"Einen Moment bitte..."},stickerLoading:{heading:"Lade Sticker...",body:"Einen Moment bitte..."}},errorModals:{imageLoading:{headingDelimiter:":",body:"Laden des Bildes fehlgeschlagen. Dies kann verschiedene Gr\xfcnde haben, beispielsweise kann die Datei defekt sein oder der Dateityp wird nicht unterst\xfctzt",buttonYes:"Neu Laden",buttonNo:"Schlie\xdfen"},rendering:{headingDelimiter:":",body:"Beim Rendern des Bildes ist ein Fehler aufgetreten",buttonYes:"Neu Laden",buttonNo:"Schlie\xdfen"},fontLoading:{headingDelimiter:":",heading:"Laden von Schriftarten ist fehlgeschlagen",body:"Die folgenden Schriftarten konnten nicht geladen werden: ${error}",buttonNo:"Schlie\xdfen"},webcamUnavailable:{headingDelimiter:":",body:"Webcam-Bild kann nicht dargestellt werden. (Fehler: ${error})",buttonYes:"Schlie\xdfen"},stickerLoading:{headingDelimiter:":",body:"Laden des Stickers fehlgeschlagen.",buttonNo:"Schlie\xdfen"},unexpectedError:{headingDelimiter:":",body:"Ein unerwarteter Fehler ist aufgetreten, ${error}",buttonYes:"Neu Laden",buttonNo:"Schlie\xdfen"}},warningModals:{imageResized:{headingDelimiter:":",heading:"Bild verkleinert",body:"Ihr Bild \xfcbersteigt die maximale Gr\xf6sse von ${megapixels} megapixels und wurde auf ${width}x${height} Pixel verkleinert",buttonYes:"Weiter"},discardChanges:{headingDelimiter:":",body:"Sind Sie sicher, dass Sie die \xc4nderungen verwerfen wollen?",buttonYes:"\xc4nderungen verwerfen",buttonNo:"\xc4nderungen beibehalten"},unsavedChanges:{headingDelimiter:":",body:"Sind Sie sicher, dass Sie die \xc4nderungen verwerfen wollen?",buttonYes:"Beenden ohne zu speichern",buttonNo:"Schlie\xdfen"},unsupportedSerializationVersion:{headingDelimiter:":",body:"Ihre Daten wurden von einem veralteten Format geladen und k\xf6nnten anders aussehen",buttonYes:"\xc4nderungen anwenden",buttonNo:"Abbrechen"},unsupportedWebGLRenderer:{body:"Es wurde ein Problem im Browser festgestellt, welches zu langen Ladezeiten f\xfchren kann. Bitte probieren sie einen anderen Browser.",buttonYes:"Weiter"}},library:{title:"Bibliothek",controls:{buttonUpload:"Bild Hochladen",buttonWebcamOpen:"Webcam \xd6ffnen",buttonWebcamClose:"Webcam Schlie\xdfen",placeholderSearch:"Bibliothek durchsuchen",noResults:"Keine Ergebnisse",itemAriaLabel:"Bild mit ${label} ersetzen"}},filter:{title:"Filter",controls:{buttonReset:"Zur\xfccksetzen",sliderIntensity:"Filter Intensit\xe4t",itemAriaLabel:"${label} Filter hinzuf\xfcgen"},categories:{imgly_filter_category_duotone:"DuoTone",imgly_filter_category_bw:"B & W",imgly_filter_category_vintage:"Vintage",imgly_filter_category_smooth:"Smooth",imgly_filter_category_cold:"Cold",imgly_filter_category_warm:"Warm",imgly_filter_category_legacy:"Legacy"},items:{imgly_lut_celsius:"Inferno",imgly_lut_chest:"Chestnut",imgly_lut_fixie:"Fixie",imgly_lut_fridge:"Fridge",imgly_lut_front:"Sunny 70s",imgly_lut_k2:"Flat Black",imgly_lut_mellow:"Mellow",imgly_lut_sin:"Hard Stuff",imgly_lut_texas:"Oldtimer",imgly_lut_ad1920:"1920 A.D.",imgly_lut_ancient:"Ancient",imgly_lut_bleached:"Kalmen",imgly_lut_bleachedblue:"Joran",imgly_lut_blues:"Polaroid",imgly_lut_blueshadows:"Zephyr",imgly_lut_breeze:"Levante",imgly_lut_bw:"Greyed",imgly_lut_classic:"Classic",imgly_lut_colorful:"Colorful",imgly_lut_cool:"Snappy",imgly_lut_cottoncandy:"Candy",imgly_lut_creamy:"Creamy",imgly_lut_eighties:"Low Fire",imgly_lut_elder:"Colla",imgly_lut_evening:"Sunrise",imgly_lut_fall:"Moss",imgly_lut_food:"Food",imgly_lut_glam:"Glam",imgly_lut_gobblin:"Gobblin",imgly_lut_highcarb:"High Carb",imgly_lut_highcontrast:"Hicon",imgly_lut_k1:"K1",imgly_lut_k6:"K6",imgly_lut_kdynamic:"Pebble",imgly_lut_keen:"Keen",imgly_lut_lenin:"Lemon",imgly_lut_litho:"Litho",imgly_lut_lomo:"Lomo",imgly_lut_lomo100:"Lomo 100",imgly_lut_lucid:"Lucid",imgly_lut_neat:"Neat",imgly_lut_nogreen:"Pumpkin",imgly_lut_orchid:"Solanus",imgly_lut_pale:"Pale",imgly_lut_pitched:"Pitched",imgly_lut_plate:"Weathered",imgly_lut_pola669:"Green Gap",imgly_lut_polasx:"Pola SX",imgly_lut_pro400:"Pro 400",imgly_lut_quozi:"Quozi",imgly_lut_sepiahigh:"Sepia",imgly_lut_settled:"Settled",imgly_lut_seventies:"Seventies",imgly_lut_soft:"Soft",imgly_lut_steel:"Steel",imgly_lut_summer:"Summer",imgly_lut_sunset:"Golden",imgly_lut_tender:"Tender",imgly_lut_twilight:"Twilight",imgly_lut_winter:"Softy",imgly_lut_x400:"Dusty",imgly_duotone_desert:"Desert",imgly_duotone_peach:"Peach",imgly_duotone_clash:"Clash",imgly_duotone_plum:"Plum",imgly_duotone_breezy:"Breezy",imgly_duotone_deepblue:"Deep Blue",imgly_duotone_frog:"Frog",imgly_duotone_sunset:"Sunset"}},adjustment:{title:"Korrekturen",controls:{buttonReset:"Zur\xfccksetzen"},categories:{basics:"Grundlagen",refinements:"Feinheiten"},items:{brightness:"Helligkeit",saturation:"S\xe4ttigung",contrast:"Kontrast",gamma:"Gamma",sharpness:"Sch\xe4rfe",clarity:"Klarheit",exposure:"Belichtung",shadows:"Schatten",highlights:"Lichter",whites:"Wei\xdf",blacks:"Schwarz",temperature:"Temperatur"}},focus:{title:"Weichzeichnen",controls:{buttonReset:"Zur\xfccksetzen",sliderIntensity:"Focus Intensit\xe4t",itemAriaLabel:"${label} Fokus hinzuf\xfcgen"},items:{radial:"Kreisf\xf6rmig",mirrored:"Gespiegelt",linear:"Linear",gaussian:"Gau\xdfsch"},history:{focusPosition:"Focus Position",focusSize:"Focus Gr\xf6\xdfe"}},overlay:{title:"Overlays",controls:{buttonReset:"Zur\xfccksetzen",sliderOpacity:"Overlay Transparenz",carouselBlendMode:"Overlay Mischmodus",blendModeNormal:"Normal",blendModeOverlay:"\xdcberblenden",blendModeHardLight:"Hartes Licht",blendModeSoftLight:"Weiches Licht",blendModeMultiply:"Multiplizieren",blendModeDarken:"Abdunkeln",blendModeLighten:"Aufhellen",blendModeScreen:"Screen",blendModeColorBurn:"Color Burn",tabOpacity:"Transparenz",tabBlendMode:"Mischmodus",itemAriaLabel:"Overlay ${label} hinzuf\xfcgen"},items:{imgly_overlay_bokeh:"Bokeh",imgly_overlay_chop:"Chop",imgly_overlay_clouds:"Clouds",imgly_overlay_golden:"Golden",imgly_overlay_grain:"Grain",imgly_overlay_hearts:"Hearts",imgly_overlay_lightleak1:"Light Leak 1",imgly_overlay_lightleak2:"Light Leak 2",imgly_overlay_metal:"Metal",imgly_overlay_mosaic:"Mosaic",imgly_overlay_painting:"Painting",imgly_overlay_paper:"Paper",imgly_overlay_rain:"Rain",imgly_overlay_vintage:"Vintage",imgly_overlay_wall1:"Wall",imgly_overlay_wall2:"Wall 2",imgly_overlay_wood:"Wood"}},sticker:{title:"Sticker",controls:{buttonUpload:"Sticker Hochladen",sliderOpacity:"Sticker Transparenz",selectColor:"Stickerfarbe",tabColor:"Farbe",tabOpacity:"Transparenz",itemAriaLabel:"Sticker ${label} hinzuf\xfcgen"},categories:{imgly_sticker_emoticons:"Emoticons",imgly_sticker_shapes:"Shapes",imgly_sticker_custom:"Custom"},items:{imgly_sticker_emoticons_alien:"Alien",imgly_sticker_emoticons_angel:"Angel",imgly_sticker_emoticons_angry:"Angry",imgly_sticker_emoticons_anxious:"Anxious",imgly_sticker_emoticons_asleep:"Asleep",imgly_sticker_emoticons_attention:"Attention",imgly_sticker_emoticons_baby_chicken:"Baby Chicken",imgly_sticker_emoticons_batman:"Batman",imgly_sticker_emoticons_beer:"Beer",imgly_sticker_emoticons_black:"Black",imgly_sticker_emoticons_blue:"Blue",imgly_sticker_emoticons_blush:"Blush",imgly_sticker_emoticons_boxer:"Boxer",imgly_sticker_emoticons_business:"Business",imgly_sticker_emoticons_chicken:"Chicken",imgly_sticker_emoticons_cool:"Cool",imgly_sticker_emoticons_cry:"Cry",imgly_sticker_emoticons_deceased:"Deceased",imgly_sticker_emoticons_devil:"Devil",imgly_sticker_emoticons_duckface:"Duckface",imgly_sticker_emoticons_furious:"Furious",imgly_sticker_emoticons_grin:"Grin",imgly_sticker_emoticons_guitar:"Guitar",imgly_sticker_emoticons_harry_potter:"Harry Potter",imgly_sticker_emoticons_hippie:"Hippie",imgly_sticker_emoticons_hitman:"Hitman",imgly_sticker_emoticons_humourous:"Humourous",imgly_sticker_emoticons_idea:"Idea",imgly_sticker_emoticons_impatient:"Impatient",imgly_sticker_emoticons_kiss:"Kiss",imgly_sticker_emoticons_kisses:"Kisses",imgly_sticker_emoticons_laugh:"Laugh",imgly_sticker_emoticons_loud_cry:"Loud Cry",imgly_sticker_emoticons_loving:"Loving",imgly_sticker_emoticons_masked:"Masked",imgly_sticker_emoticons_music:"Music",imgly_sticker_emoticons_nerd:"Nerd",imgly_sticker_emoticons_ninja:"Ninja",imgly_sticker_emoticons_not_speaking_to_you:"Not speaking to you",imgly_sticker_emoticons_pig:"Pig",imgly_sticker_emoticons_pumpkin:"Pumpkin",imgly_sticker_emoticons_question:"Question",imgly_sticker_emoticons_rabbit:"Rabbit",imgly_sticker_emoticons_sad:"Sad",imgly_sticker_emoticons_sick:"Sick",imgly_sticker_emoticons_skateboard:"Skateboard",imgly_sticker_emoticons_skull:"Skull",imgly_sticker_emoticons_sleepy:"Sleepy",imgly_sticker_emoticons_smile:"Smile",imgly_sticker_emoticons_smoking:"Smoking",imgly_sticker_emoticons_sobbing:"Sobbing",imgly_sticker_emoticons_star:"Star",imgly_sticker_emoticons_steaming_furious:"Steaming Furious",imgly_sticker_emoticons_sunbathing:"Sunbathing",imgly_sticker_emoticons_tired:"Tired",imgly_sticker_emoticons_tongue_out_wink:"Tongue out wink",imgly_sticker_emoticons_wave:"Wave",imgly_sticker_emoticons_wide_grin:"Wide Grin",imgly_sticker_emoticons_wink:"Wink",imgly_sticker_emoticons_wrestler:"Wrestler",imgly_sticker_shapes_arrow_02:"Arrow 1",imgly_sticker_shapes_arrow_03:"Arrow 2",imgly_sticker_shapes_badge_01:"Badge 1",imgly_sticker_shapes_badge_11:"Badge 5",imgly_sticker_shapes_badge_12:"Badge 6",imgly_sticker_shapes_badge_13:"Badge 7",imgly_sticker_shapes_badge_15:"Badge 8",imgly_sticker_shapes_badge_18:"Badge 9",imgly_sticker_shapes_badge_19:"Badge 10",imgly_sticker_shapes_badge_20:"Badge 11",imgly_sticker_shapes_badge_28:"Badge 12",imgly_sticker_shapes_badge_32:"Badge 13",imgly_sticker_shapes_badge_35:"Badge 14",imgly_sticker_shapes_badge_36:"Badge 15",imgly_sticker_shapes_badge_04:"Badge 2",imgly_sticker_shapes_badge_06:"Badge 3",imgly_sticker_shapes_badge_08:"Badge 4",imgly_sticker_shapes_spray_01:"Spray 1",imgly_sticker_shapes_spray_03:"Spray 2",imgly_sticker_shapes_spray_04:"Spray 3"},canvasActions:{buttonDelete:"L\xf6schen",buttonBringToFront:"In den Vordergrund",buttonDuplicate:"Duplizieren",buttonFlipHorizontal:"Horizontal spiegeln",buttonFlipVertical:"Vertikal spiegeln"},history:{add:"Sticker",resize:"Sticker resize",position:"Sticker position",color:"Sticker color",delete:"Sticker delete",order:"Sticker order",opacity:"Sticker opacity",flip:"Sticker flip"}},text:{title:"Text",controls:{buttonNew:"Neuer Text",dropdownFontFamily:"Schriftart",textFontSize:"Schriftgr\xf6\xdfe",selectAlignment:"Ausrichtung",selectFontColor:"Schriftfarbe",selectBackgroundColor:"Hintergrundfarbe",sliderLineSpacing:"Zeilenabstand",tabColor:"Farbe",tabBgColor:"Hintergrund",tabAlignment:"Ausrichtung",tabLineHeight:"Zeilenh\xf6he",tabFontSize:"Schriftgr\xf6\xdfe"},canvasControls:{placeholderText:"Etwas aufschreiben",buttonSave:"Fertig",buttonClose:"Abbrechen",inputText:"Texteingabe"},canvasActions:{buttonEdit:"Bearbeiten",buttonDelete:"L\xf6schen",buttonBringToFront:"In den Vordergrund",buttonDuplicate:"Duplizieren"},history:{add:"Text",edit:"Text edit",resize:"Text resize",position:"Text position",alignment:"Text alignment",textColor:"Text color",backgroundColor:"Text background color",fontFamily:"Font family",fontStyle:"Font style",lineSpacing:"Line spacing",width:"Text width",delete:"Text delete",order:"Text order"}},textdesign:{title:"Text Design",controls:{buttonNew:"Neues Text Design",buttonShuffle:"Shuffle Layout",selectColor:"Textfarbe",tabColor:"Farbe",tabShuffle:"Shuffle",itemAriaLabel:"Text Design ${label} hinzuf\xfcgen"},canvasControls:{placeholderText:"Etwas aufschreiben mit Style",buttonSave:"Done",buttonClose:"Schlie\xdfen",inputText:"Texteingabe"},canvasActions:{buttonEdit:"Bearbeiten",buttonInvert:"Invertieren",buttonDelete:"L\xf6schen",buttonBringToFront:"In den Vordergrund",buttonDuplicate:"Duplizieren"},history:{add:"Text design",edit:"Text design edit",resize:"Text design resize",position:"Text design position",color:"Text design color",shuffle:"Text design shuffle",invert:"Text design invert",padding:"Text design padding",order:"Text design order",delete:"Text design delete"}},frame:{title:"Rahmen",controls:{buttonReset:"Zur\xfccksetzen",sliderOpacity:"Rahmen Transparenz",sliderSize:"Rahmen Dicke",selectColor:"Rahmen Farbe",tabColor:"Farbe",tabOpacity:"Transparenz",tabSize:"Dicke",itemAriaLabel:"Rahmen ${label} hinzuf\xfcgen"},items:{imgly_frame_dia:"Dia",imgly_frame_art_decor:"Art Decor",imgly_frame_black_passepartout:"Black",imgly_frame_lowpoly_shadow:"Low Poly",imgly_frame_wood_passepartout:"Wood"}},brush:{title:"Malen",controls:{buttonReset:"Zur\xfccksetzen",sliderSize:"Dicke",sliderHardness:"H\xe4rte",selectColor:"Farbe",tabSize:"Dicke",tabHardness:"H\xe4rte",tabColor:"Farbe"},history:{brushStroke:"Brush Stroke"}},transform:{title:"Zuschneiden",controls:{buttonReset:"Zur\xfccksetzen",checkboxKeepResolution:"Fixiere Aufl\xf6sung",inputCropSize:"Bildgr\xf6\xdfe",inputHeight:"h",inputWidth:"b",tabFlipAndRotate:"Spiegeln & Drehen",tabResolution:"Aufl\xf6sung",tabCropSize:"Bildgr\xf6\xdfe",itemAriaLabel:"Zuschneiden ${label}",inputHeightAriaLabel:"H\xf6he",inputWidthAriaLabel:"Breite"},categories:{imgly_transforms_common:"Standard",imgly_transforms_facebook:"Facebook",imgly_transforms_twitter:"Twitter",imgly_transforms_instagram:"Instagram"},items:{imgly_transform_common_custom:"Frei",imgly_transform_common_square:"Quadratisch",imgly_transform_common_4:"4:3",imgly_transform_common_16:"16:9",imgly_transform_common_3:"3:4",imgly_transform_common_9:"9:16",imgly_transform_facebook_profile:"Profile",imgly_transform_facebook_title:"Titel",imgly_transform_facebook_post:"Post",imgly_transform_instagram_story:"Story",imgly_transform_instagram_landscape:"Landscape",imgly_transform_instagram_portrait:"Portrait",imgly_transform_instagram_square:"Square",imgly_transform_twitter_profile:"Profile",imgly_transform_twitter_title:"Title",imgly_transform_twitter_post:"Post"},transformActions:{buttonFlipHorizontal:"Horizontal spiegeln",buttonFlipVertical:"Vertikal spiegeln",buttonRotateClockwise:"Drehe im Uhrzeigersinn",buttonRotateAntiClockwise:"Drehe gegen Uhrzeigersinn"}},customTool:{title:"Benutzerdefiniert"}},Oh={common:{error:"Error",warning:"Warning",color:{colorPicker:{hex:"Hex",r:"R",g:"G",b:"B",sliderHue:"Color",sliderOpacity:"Color Opacity"}}},mainCanvasActions:{buttonExport:"Export Image",buttonUndo:"Undo",buttonRedo:"Redo",buttonClose:"Close"},infoModals:{exporting:{heading:"Exporting...",body:"Just a few seconds..."},saving:{heading:"Saving...",body:"Just a few seconds..."},loading:{heading:"Loading...",body:"Just a few seconds..."},resizing:{heading:"Resizing...",body:"Just a few seconds..."},loadingFonts:{heading:"Loading Fonts...",body:"Just a few seconds..."},stickerLoading:{heading:"Loading Sticker...",body:"Just a few seconds..."}},errorModals:{imageLoading:{headingDelimiter:":",body:"Failed to load image. This can have multiple reasons, e.g. the file is corrupted or the file type is not supported",buttonYes:"Retry",buttonNo:"Close"},rendering:{headingDelimiter:":",body:"An error has occurred while rendering the image",buttonYes:"Retry",buttonNo:"Close"},fontLoading:{headingDelimiter:":",heading:"Failed to load font",body:"The following fonts could not be loaded: ${error}",buttonNo:"Close"},webcamUnavailable:{headingDelimiter:":",body:"Unable to display webcam image (Error: ${error})",buttonYes:"Close"},stickerLoading:{headingDelimiter:":",body:"Unable to load the sticker",buttonNo:"Close"},unexpectedError:{headingDelimiter:":",body:"An unexpected error has occured ${error}",buttonYes:"Retry",buttonNo:"Close"}},warningModals:{imageResized:{headingDelimiter:":",heading:"Image resized",body:"Your image exceeds the maximum size of ${megapixels} megapixels and has been resized to ${width}x${height} pixels",buttonYes:"Continue"},unsupportedSerializationVersion:{headingDelimiter:":",body:"Your data was restored from a legacy data format and might look different",buttonYes:"Apply changes",buttonNo:"Cancel"},discardChanges:{headingDelimiter:":",body:"You have unsaved changes. Are you sure you want to discard the changes?",buttonYes:"Discard changes",buttonNo:"Keep Changes"},unsavedChanges:{headingDelimiter:":",body:"You have unsaved changes. Are you sure you want to exit?",buttonYes:"Exit without saving",buttonNo:"Cancel"},unsupportedWebGLRenderer:{body:"A problem has been detected in the browser that could cause long loading times. Please try a different browser.",buttonYes:"Continue"}},library:{title:"Library",controls:{buttonUpload:"Upload Image",buttonWebcamOpen:"Open Webcam",buttonWebcamClose:"Close Webcam",placeholderSearch:"Search Library",noResults:"No Results",itemAriaLabel:"Replace image with ${label}"}},filter:{title:"Filters",controls:{buttonReset:"Remove Filter",sliderIntensity:"Filter Intensity",itemAriaLabel:"Add ${label} filter"},categories:{imgly_filter_category_duotone:"DuoTone",imgly_filter_category_bw:"B & W",imgly_filter_category_vintage:"Vintage",imgly_filter_category_smooth:"Smooth",imgly_filter_category_cold:"Cold",imgly_filter_category_warm:"Warm",imgly_filter_category_legacy:"Legacy"},items:{imgly_lut_celsius:"Inferno",imgly_lut_chest:"Chestnut",imgly_lut_fixie:"Fixie",imgly_lut_fridge:"Fridge",imgly_lut_front:"Sunny 70s",imgly_lut_k2:"Flat Black",imgly_lut_mellow:"Mellow",imgly_lut_sin:"Hard Stuff",imgly_lut_texas:"Oldtimer",imgly_lut_ad1920:"1920 A.D.",imgly_lut_ancient:"Ancient",imgly_lut_bleached:"Kalmen",imgly_lut_bleachedblue:"Joran",imgly_lut_blues:"Polaroid",imgly_lut_blueshadows:"Zephyr",imgly_lut_breeze:"Levante",imgly_lut_bw:"Greyed",imgly_lut_classic:"Classic",imgly_lut_colorful:"Colorful",imgly_lut_cool:"Snappy",imgly_lut_cottoncandy:"Candy",imgly_lut_creamy:"Creamy",imgly_lut_eighties:"Low Fire",imgly_lut_elder:"Colla",imgly_lut_evening:"Sunrise",imgly_lut_fall:"Moss",imgly_lut_food:"Food",imgly_lut_glam:"Glam",imgly_lut_gobblin:"Gobblin",imgly_lut_highcarb:"High Carb",imgly_lut_highcontrast:"Hicon",imgly_lut_k1:"K1",imgly_lut_k6:"K6",imgly_lut_kdynamic:"Pebble",imgly_lut_keen:"Keen",imgly_lut_lenin:"Lemon",imgly_lut_litho:"Litho",imgly_lut_lomo:"Lomo",imgly_lut_lomo100:"Lomo 100",imgly_lut_lucid:"Lucid",imgly_lut_neat:"Neat",imgly_lut_nogreen:"Pumpkin",imgly_lut_orchid:"Solanus",imgly_lut_pale:"Pale",imgly_lut_pitched:"Pitched",imgly_lut_plate:"Weathered",imgly_lut_pola669:"Green Gap",imgly_lut_polasx:"Pola SX",imgly_lut_pro400:"Pro 400",imgly_lut_quozi:"Quozi",imgly_lut_sepiahigh:"Sepia",imgly_lut_settled:"Settled",imgly_lut_seventies:"Seventies",imgly_lut_soft:"Soft",imgly_lut_steel:"Steel",imgly_lut_summer:"Summer",imgly_lut_sunset:"Golden",imgly_lut_tender:"Tender",imgly_lut_twilight:"Twilight",imgly_lut_winter:"Softy",imgly_lut_x400:"Dusty",imgly_duotone_desert:"Desert",imgly_duotone_peach:"Peach",imgly_duotone_clash:"Clash",imgly_duotone_plum:"Plum",imgly_duotone_breezy:"Breezy",imgly_duotone_deepblue:"Deep Blue",imgly_duotone_frog:"Frog",imgly_duotone_sunset:"Sunset"}},adjustment:{title:"Adjust",controls:{buttonReset:"Reset Adjustment"},categories:{basics:"Basic",refinements:"Refinements"},items:{brightness:"Brightness",saturation:"Saturation",contrast:"Contrast",gamma:"Gamma",sharpness:"Sharpness",clarity:"Clarity",exposure:"Exposure",shadows:"Shadows",highlights:"Highlights",whites:"Whites",blacks:"Blacks",temperature:"Temperature"}},focus:{title:"Focus",controls:{buttonReset:"Remove Focus",sliderIntensity:"Focus Intensity",itemAriaLabel:"Add ${label} focus"},items:{radial:"Radial",mirrored:"Mirrored",linear:"Linear",gaussian:"Gaussian"},history:{focusPosition:"Focus Position",focusSize:"Focus Size"}},overlay:{title:"Overlays",controls:{buttonReset:"Remove Overlay",sliderOpacity:"Overlay Opacity",carouselBlendMode:"Overlay Blend mode",blendModeNormal:"Normal",blendModeOverlay:"Overlay",blendModeHardLight:"Hard Light",blendModeSoftLight:"Soft Light",blendModeMultiply:"Multiply",blendModeDarken:"Darken",blendModeLighten:"Lighten",blendModeScreen:"Screen",blendModeColorBurn:"Color Burn",tabOpacity:"Opacity",tabBlendMode:"Blend Mode",itemAriaLabel:"Add ${name} overlay"},items:{imgly_overlay_bokeh:"Bokeh",imgly_overlay_chop:"Chop",imgly_overlay_clouds:"Clouds",imgly_overlay_golden:"Golden",imgly_overlay_grain:"Grain",imgly_overlay_hearts:"Hearts",imgly_overlay_lightleak1:"Light Leak 1",imgly_overlay_lightleak2:"Light Leak 2",imgly_overlay_metal:"Metal",imgly_overlay_mosaic:"Mosaic",imgly_overlay_painting:"Painting",imgly_overlay_paper:"Paper",imgly_overlay_rain:"Rain",imgly_overlay_vintage:"Vintage",imgly_overlay_wall1:"Wall",imgly_overlay_wall2:"Wall 2",imgly_overlay_wood:"Wood"}},sticker:{title:"Stickers",controls:{buttonUpload:"Upload Sticker",sliderOpacity:"Sticker Opacity",selectColor:"Sticker Color",tabColor:"Color",tabOpacity:"Opacity",itemAriaLabel:"Add ${label} sticker"},categories:{imgly_sticker_emoticons:"Emoticons",imgly_sticker_shapes:"Shapes",imgly_sticker_custom:"Custom"},items:{imgly_sticker_emoticons_alien:"Alien",imgly_sticker_emoticons_angel:"Angel",imgly_sticker_emoticons_angry:"Angry",imgly_sticker_emoticons_anxious:"Anxious",imgly_sticker_emoticons_asleep:"Asleep",imgly_sticker_emoticons_attention:"Attention",imgly_sticker_emoticons_baby_chicken:"Baby Chicken",imgly_sticker_emoticons_batman:"Batman",imgly_sticker_emoticons_beer:"Beer",imgly_sticker_emoticons_black:"Black",imgly_sticker_emoticons_blue:"Blue",imgly_sticker_emoticons_blush:"Blush",imgly_sticker_emoticons_boxer:"Boxer",imgly_sticker_emoticons_business:"Business",imgly_sticker_emoticons_chicken:"Chicken",imgly_sticker_emoticons_cool:"Cool",imgly_sticker_emoticons_cry:"Cry",imgly_sticker_emoticons_deceased:"Deceased",imgly_sticker_emoticons_devil:"Devil",imgly_sticker_emoticons_duckface:"Duckface",imgly_sticker_emoticons_furious:"Furious",imgly_sticker_emoticons_grin:"Grin",imgly_sticker_emoticons_guitar:"Guitar",imgly_sticker_emoticons_harry_potter:"Harry Potter",imgly_sticker_emoticons_hippie:"Hippie",imgly_sticker_emoticons_hitman:"Hitman",imgly_sticker_emoticons_humourous:"Humourous",imgly_sticker_emoticons_idea:"Idea",imgly_sticker_emoticons_impatient:"Impatient",imgly_sticker_emoticons_kiss:"Kiss",imgly_sticker_emoticons_kisses:"Kisses",imgly_sticker_emoticons_laugh:"Laugh",imgly_sticker_emoticons_loud_cry:"Loud Cry",imgly_sticker_emoticons_loving:"Loving",imgly_sticker_emoticons_masked:"Masked",imgly_sticker_emoticons_music:"Music",imgly_sticker_emoticons_nerd:"Nerd",imgly_sticker_emoticons_ninja:"Ninja",imgly_sticker_emoticons_not_speaking_to_you:"Not speaking to you",imgly_sticker_emoticons_pig:"Pig",imgly_sticker_emoticons_pumpkin:"Pumpkin",imgly_sticker_emoticons_question:"Question",imgly_sticker_emoticons_rabbit:"Rabbit",imgly_sticker_emoticons_sad:"Sad",imgly_sticker_emoticons_sick:"Sick",imgly_sticker_emoticons_skateboard:"Skateboard",imgly_sticker_emoticons_skull:"Skull",imgly_sticker_emoticons_sleepy:"Sleepy",imgly_sticker_emoticons_smile:"Smile",imgly_sticker_emoticons_smoking:"Smoking",imgly_sticker_emoticons_sobbing:"Sobbing",imgly_sticker_emoticons_star:"Star",imgly_sticker_emoticons_steaming_furious:"Steaming Furious",imgly_sticker_emoticons_sunbathing:"Sunbathing",imgly_sticker_emoticons_tired:"Tired",imgly_sticker_emoticons_tongue_out_wink:"Tongue out wink",imgly_sticker_emoticons_wave:"Wave",imgly_sticker_emoticons_wide_grin:"Wide Grin",imgly_sticker_emoticons_wink:"Wink",imgly_sticker_emoticons_wrestler:"Wrestler",imgly_sticker_shapes_arrow_02:"Arrow 1",imgly_sticker_shapes_arrow_03:"Arrow 2",imgly_sticker_shapes_badge_01:"Badge 1",imgly_sticker_shapes_badge_11:"Badge 5",imgly_sticker_shapes_badge_12:"Badge 6",imgly_sticker_shapes_badge_13:"Badge 7",imgly_sticker_shapes_badge_15:"Badge 8",imgly_sticker_shapes_badge_18:"Badge 9",imgly_sticker_shapes_badge_19:"Badge 10",imgly_sticker_shapes_badge_20:"Badge 11",imgly_sticker_shapes_badge_28:"Badge 12",imgly_sticker_shapes_badge_32:"Badge 13",imgly_sticker_shapes_badge_35:"Badge 14",imgly_sticker_shapes_badge_36:"Badge 15",imgly_sticker_shapes_badge_04:"Badge 2",imgly_sticker_shapes_badge_06:"Badge 3",imgly_sticker_shapes_badge_08:"Badge 4",imgly_sticker_shapes_spray_01:"Spray 1",imgly_sticker_shapes_spray_03:"Spray 2",imgly_sticker_shapes_spray_04:"Spray 3"},canvasActions:{buttonDelete:"Delete",buttonBringToFront:"Move to front",buttonDuplicate:"Duplicate",buttonFlipHorizontal:"Flip",buttonFlipVertical:"Flip"},history:{add:"Sticker",resize:"Sticker resize",position:"Sticker position",color:"Sticker color",delete:"Sticker delete",order:"Sticker order",opacity:"Sticker opacity",flip:"Sticker flip"}},text:{title:"Text",controls:{buttonNew:"New Text",dropdownFontFamily:"Font Family",textFontSize:"Font Size",selectAlignment:"Alignment",selectFontColor:"Font Color",selectBackgroundColor:"Background Color",sliderLineSpacing:"Line Spacing",tabColor:"Color",tabBgColor:"Bg Color",tabAlignment:"Alignment",tabLineHeight:"Line Height",tabFontSize:"Font Size"},canvasControls:{placeholderText:"Write Something",buttonSave:"Done",buttonClose:"Cancel",inputText:"Text Input"},canvasActions:{buttonEdit:"Edit",buttonDelete:"Delete",buttonBringToFront:"Move to front",buttonDuplicate:"Duplicate"},history:{add:"Text",edit:"Text edit",resize:"Text resize",position:"Text position",alignment:"Text alignment",textColor:"Text color",backgroundColor:"Text background color",fontFamily:"Font family",fontStyle:"Font style",lineSpacing:"Line spacing",width:"Text width",delete:"Text delete",order:"Text order"}},textdesign:{title:"Text Design",controls:{buttonNew:"New Text Design",buttonShuffle:"Shuffle Layout",selectColor:"Text Color",tabColor:"Color",tabShuffle:"Shuffle",itemAriaLabel:"Add ${label} text design"},canvasControls:{placeholderText:"Write Something With Style",buttonSave:"Done",buttonClose:"Schlie\xdfen",inputText:"Text Input"},canvasActions:{buttonEdit:"Edit",buttonInvert:"Invert",buttonDelete:"Delete",buttonBringToFront:"Move to front",buttonDuplicate:"Duplicate"},history:{add:"Text design",edit:"Text design edit",resize:"Text design resize",position:"Text design position",color:"Text design color",shuffle:"Text design shuffle",invert:"Text design invert",padding:"Text design padding",order:"Text design order",delete:"Text design delete"}},frame:{title:"Frames",controls:{buttonReset:"Remove Frame",sliderOpacity:"Frame Opacity",sliderSize:"Frame Size",selectColor:"Frame Color",tabColor:"Color",tabOpacity:"Opacity",tabSize:"Size",itemAriaLabel:"Add ${label} frame"},items:{imgly_frame_dia:"Dia",imgly_frame_art_decor:"Art Decor",imgly_frame_black_passepartout:"Black",imgly_frame_lowpoly_shadow:"Low Poly",imgly_frame_wood_passepartout:"Wood"}},brush:{title:"Brush",controls:{buttonReset:"Remove Brush",sliderSize:"Brush Size",sliderHardness:"Brush Hardness",selectColor:"Brush Color",tabSize:"Size",tabHardness:"Hardness",tabColor:"Color"},history:{brushStroke:"Brush Stroke"}},transform:{title:"Transform",controls:{buttonReset:"Reset to default",checkboxKeepResolution:"Keep Resolution",inputCropSize:"Crop Size",inputHeight:"h",inputWidth:"w",tabFlipAndRotate:"Flip & Rotate",tabResolution:"Resolution",tabCropSize:"Crop Size",itemAriaLabel:"Apply ${label} crop",inputHeightAriaLabel:"crop height",inputWidthAriaLabel:"crop width"},categories:{imgly_transforms_common:"Common",imgly_transforms_facebook:"Facebook",imgly_transforms_twitter:"Twitter",imgly_transforms_instagram:"Instagram"},items:{imgly_transform_common_custom:"Custom",imgly_transform_common_square:"Square",imgly_transform_common_4:"4:3",imgly_transform_common_16:"16:9",imgly_transform_common_3:"3:4",imgly_transform_common_9:"9:16",imgly_transform_facebook_profile:"Profile",imgly_transform_facebook_title:"Title",imgly_transform_facebook_post:"Post",imgly_transform_instagram_story:"Story",imgly_transform_instagram_landscape:"Landscape",imgly_transform_instagram_portrait:"Portrait",imgly_transform_instagram_square:"Square",imgly_transform_twitter_profile:"Profile",imgly_transform_twitter_title:"Title",imgly_transform_twitter_post:"Post"},transformActions:{buttonFlipHorizontal:"Flip Horizontal",buttonFlipVertical:"Flip Vertical",buttonRotateClockwise:"Rotate Clockwise",buttonRotateAntiClockwise:"Rotate Counterclockwise"}},customTool:{title:"Custom"}},Mh=e=>"de"===e?Ah:Oh,Ph=function(){let{primary:e="#365afc",background:t="#0B0B0B",foreground:i="#FFFFFF"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{primary:"#365afc",background:"#0B0B0B",foreground:"#FFFFFF"};const r="rgba(255, 255, 255, 0.90)",n="rgba(255, 255, 255, 0.60)",o="rgba(255, 255, 255, 0.38)",s="#424242",a="#333333",l="#242424",c="#0B0B0B",u="rgba(255, 255, 255, 0.08)",h="rgba(0, 0, 0, 0.3)",d="0.3";return{shape:{radiusSmall:2,radiusMedium:4,radiusLarge:4},typography:{fontFamily:"Fira Sans",format:"woff",fontURI:"./fonts/imgly_font_fira_sans_regular.woff",provider:"file"},background:t,foreground:i,primary:e,warning:"#ffba5c",error:"#c2393a",success:"#39c26c",focusOutlineColor:"rgba(255, 255, 255, 0.12)",scrollbar:{handleColor:"rgba(255, 255, 255, 0.2)"},button:{outlinedBorderColor:a,activeForeground:e,containedPrimaryBackground:e,containedPrimaryForeground:r,outlinedPrimaryBackground:l,outlinedPrimaryForeground:r,outlinedSecondaryBackground:"transparent",outlinedSecondaryForeground:n,textPrimaryForeground:e,textSecondaryForeground:n,outlinedInactiveOverlayColor:h,textInactiveOpacity:"0.5",hoverOverlayColor:u},checkbox:{background:a,foreground:i,activeForeground:i,activeBackground:e,inactiveOpacity:d,hoverOpacity:"0.8"},modal:{background:l,bodyForeground:r,headerForeground:n,backdrop:"rgba(0, 0, 0, 0.6)"},card:{background:a,foreground:r,activeBorderColor:e,activeOverlayColor:"rgba(89, 121, 252, 0.20)",labelBackground:"linear-gradient(transparent, rgba(0, 0, 0, 0.6))",labelForeground:r,inactiveOverlayColor:h,hoverOverlayColor:u},tabTitle:{foreground:n,background:"transparent",activeBackground:"transparent",activeBorderColor:e,activeForeground:r},dropdown:{background:"transparent",foreground:r,hoverBorderColor:n,borderColor:a,caretColor:o,listBackground:a,listBorderColor:a,listItemHoverBackground:s,listForeground:n,listShadow:"0 12px 17px 2px rgba(0,0,0,0.14),\n        0 5px 22px 4px rgba(0,0,0,0.12),\n        0 7px 8px -4px rgba(0,0,0,0.20)",inactiveOpacity:d},textInput:{foreground:r,hoverBorderColor:"rgba(255, 255, 255, 0.40)",background:"transparent",borderColor:a,inactiveOpacity:d},slider:{trackColor:"rgba(255, 255, 255, 0.4)",activeTrackColor:e,thumbBackground:"#171717",thumbBorderColor:e,inactiveOpacity:d,hoverOpacity:"0.7"},selectColor:{activeBorderColor:e,inactiveOpacity:d},toolbar:{foreground:r,background:l,activeBackground:"transparent",activeForeground:e,borderColor:"transparent"},tooltip:{background:s,foreground:r},toolControlBar:{background:"rgba(23, 23, 23, 0.9)",borderColor:"transparent",shadow:"none",separatorColor:a,titleForeground:n,inputLabelForeground:n,inputLabelInactiveOpacity:d},mainCanvasActionBar:{background:"linear-gradient(0deg, transparent 0%,  rgba(0, 0, 0, 0.6) 98%)",foreground:r,borderColor:"none"},canvasActionBar:{background:s,foreground:r,separatorColor:o},canvas:{background:c,controlsOutline:"rgba(255, 255, 255, 0.5)",controlsColor:"#ffffff",cropBackdrop:"rgba(0, 0, 0, 0.5)"},colorPicker:{listBackground:a,listShadow:"0 12px 17px 2px rgba(0,0,0,0.14),\n        0 5px 22px 4px rgba(0,0,0,0.12),\n        0 7px 8px -4px rgba(0,0,0,0.20)",controlsColor:"#ffffff",inputBorderColor:s},colorItem:{borderRadius:"2px",margin:"1px"},webcam:{backdrop:"rgba(0, 0, 0, 0.3)",floatButton:i,background:c},snapping:{positionGuideColor:"#f0f",rotationGuideColor:"#0ff"},transform:{crops:{main:"#424242",highlight:"#565656",shadow:"#333333"}}}},zh=function(){let{primary:e="#1e47fb",background:t="#FBFBFB",foreground:i="#000000"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{primary:"#1e47fb",background:"#FBFBFB",foreground:"#000000"};const r="rgba(0, 0, 0, 0.90)",n="rgba(0, 0, 0, 0.60)",o="rgba(0, 0, 0, 0.38)",s="#CCCCCC",a="#D4D4D4",l="#E6E6E6",c="#EEEEEE",u="#FBFBFB",h="rgba(125, 125, 125, 0.12)",d="rgba(0, 0, 0, 0.1)",p="0.3";return{shape:{radiusSmall:2,radiusMedium:4,radiusLarge:4},typography:{fontFamily:"Fira Sans",format:"woff",fontURI:"./fonts/imgly_font_fira_sans_regular.woff",provider:"file"},background:t,foreground:i,primary:e,warning:"#ffb045",error:"#c01a1b",success:"#17c658",focusOutlineColor:"rgba(125, 125, 125, 0.12)",scrollbar:{handleColor:"rgba(0, 0, 0, 0.2)"},button:{outlinedBorderColor:a,activeForeground:e,containedPrimaryBackground:e,containedPrimaryForeground:"rgba(255, 255, 255, 0.9)",outlinedPrimaryBackground:l,outlinedPrimaryForeground:r,outlinedSecondaryBackground:"transparent",outlinedSecondaryForeground:n,textPrimaryForeground:e,textSecondaryForeground:n,outlinedInactiveOverlayColor:d,textInactiveOpacity:"0.5",hoverOverlayColor:h},checkbox:{background:a,foreground:i,activeForeground:i,activeBackground:e,inactiveOpacity:p,hoverOpacity:"0.8"},modal:{background:l,bodyForeground:r,headerForeground:n,backdrop:"rgba(0, 0, 0, 0.6)"},card:{background:a,foreground:r,activeBorderColor:e,activeOverlayColor:"rgba(30, 71, 251, 0.2)",labelBackground:"linear-gradient(transparent, rgba(0, 0, 0, 0.6))",labelForeground:"rgba(255, 255, 255, 0.87)",inactiveOverlayColor:d,hoverOverlayColor:h},tabTitle:{foreground:n,background:"transparent",activeBackground:"transparent",activeBorderColor:e,activeForeground:r},dropdown:{background:"transparent",foreground:r,hoverBorderColor:n,borderColor:a,listBackground:a,caretColor:o,listForeground:n,listBorderColor:a,listItemHoverBackground:s,listShadow:"0 8px 10px 1px rgba(0,0,0,0.14),\n        0 3px 14px 2px rgba(0,0,0,0.12),\n        0 5px 5px -3px rgba(0,0,0,0.20)",inactiveOpacity:p},textInput:{foreground:r,hoverBorderColor:r,background:"transparent",borderColor:a,inactiveOpacity:p},slider:{trackColor:s,activeTrackColor:e,thumbBackground:c,thumbBorderColor:e,inactiveOpacity:p,hoverOpacity:"0.7"},selectColor:{activeBorderColor:e,inactiveOpacity:p},toolbar:{foreground:r,background:a,activeBackground:"transparent",activeForeground:e,borderColor:"transparent"},tooltip:{background:s,foreground:r},toolControlBar:{background:"rgba(238, 238, 238, 0.9)",borderColor:c,shadow:"none",separatorColor:a,titleForeground:n,inputLabelForeground:n,inputLabelInactiveOpacity:p},mainCanvasActionBar:{background:"transparent",foreground:r,borderColor:"none"},canvasActionBar:{background:s,foreground:r,separatorColor:o},canvas:{background:u,controlsOutline:"rgba(255, 255, 255, 0.6)",controlsColor:"#ffffff",cropBackdrop:"rgba(255, 255, 255, 0.3)"},colorPicker:{listBackground:a,listShadow:"0 8px 10px 1px rgba(0,0,0,0.14),\n        0 3px 14px 2px rgba(0,0,0,0.12),\n        0 5px 5px -3px rgba(0,0,0,0.20)",controlsColor:"#ffffff",inputBorderColor:s},colorItem:{borderRadius:"2px",margin:"1px"},webcam:{backdrop:"rgba(0, 0, 0, 0.3)",floatButton:i,background:u},snapping:{positionGuideColor:"#f0f",rotationGuideColor:"#0ff"},transform:{crops:{main:"#B8B8B8",highlight:"#E6E6E6",shadow:"#D4D4D4"}}}},Bh=Ph(),Lh=Du(),Uh={...Bh,measurements:Lh},Nh=(e,t)=>{const i=(e=>"light"===e?zh:Ph)(e);if(t&&t[e]){const{primary:r,background:n,foreground:o}=t[e],s={primary:r,background:n,foreground:o};return Cu([i(Object.keys(s).reduce(((e,t)=>s[t]?{...e,[t]:s[t]}:e),{})),t[e]])}return i()||Bh},Hh=["canvas","advancedUIToolbar","advancedUIToolControlBar","advancedUICard","advancedUISpacer","basicUIToolbar","basicUIToolControlBar","mainCanvasActionBar","inputs","colorItem","fontSystem"],jh={config:yu,locale:Oh,theme:Bh,measurements:Lh,initialMeasurements:Lh},Wh=class{constructor(){this.dispose=()=>{this.state=null,this.events=null,this.assetProvider=null},this.checkDefaultToolAvailability=(e,t)=>-1!==t.indexOf(e),this.state=(0,Vn.e)(jh),this.events=new Rh,this.licenseChecker=null}saveConfig(e){e.mainCanvasActions&&4!==e.mainCanvasActions.length&&(e.mainCanvasActions.length=4);const t=Cu([e.layout&&"basic"===e.layout?Fh:yu,e],{clone:!0});this.licenseChecker=new Vn.ub(t.license),this.licenseChecker.areCustomAssetsAllowed()||(t.sticker.enableCustomUpload=!1);const i=((e,t)=>t&&t[e]?Cu([Mh(e),t[e]]):Mh(e)||Oh)(t.language,t.custom.languages),r=Nh(t.theme,t.custom.themes),n=(e=>{const t=Du();if(e){const i={};return Object.keys(e).forEach((t=>{-1!==Hh.indexOf(t)&&(i[t]=e[t])})),Cu([t,i])}return t})(t.custom.measurements),{provider:o}=t.library,s=[];t.adjustment.categories=t.adjustment.categories.reduce(((e,t)=>(e.push({...t,items:t.items.filter((e=>!!Vn.T[e.identifier]||(s.push(e.identifier),!1)))}),e)),[]),0!==s.length&&console.error("The following identifier are incorrect for the adjustment tool: ".concat(s.join(", "))),delete t.language,delete t.custom.languages,delete t.custom.themes,delete t.library.provider;let a=t.tools.reduce(((e,t)=>"object"===typeof t?[...e,...t]:[...e,t]),[]);if(a.length||(console.error("Empty list input for tools"),a=mu.reduce(((e,t)=>"object"===typeof t?[...e,...t]:[...e,t]),[])),a=a.filter((e=>this.licenseChecker.isToolAllowed(e))),t.defaultTool){this.checkDefaultToolAvailability(t.defaultTool,a)||([t.defaultTool]=a)}t.tools=a,this.state.config=t,this.state.locale=i,this.state.theme=r,this.state.measurements=n,this.state.initialMeasurements=n;const l=this.buildCustomAssetsConfig();return this.assetProvider=new Vn.ab(l,this.licenseChecker.areCustomAssetsAllowed(),t.assetResolver),this.loadThemeFont(),o}get config(){return this.state.config}get locale(){return this.state.locale}get theme(){return this.state.theme}get measurements(){return this.state.measurements}get initialMeasurements(){return this.state.initialMeasurements}get tools(){return this.config.tools.reduce(((e,t)=>"string"===typeof t?[...e,t]:[...e,"",...t]),[])}get defaultTool(){return this.config.defaultTool}get isOrderDefault(){return"default"===this.config.order}get isLayoutAdvanced(){return"advanced"===this.config.layout}get displayCloseButton(){return-1!==this.config.mainCanvasActions.indexOf("close")}loadThemeFont(){const{typography:e}=this.theme;e.skipLoading||this.assetProvider.getFontManager().injectFonts([e])}buildCustomAssetsConfig(){const e=this.tools,t=(0,Vn.p)(this.state.config),i=this.state.config.assetBaseUrl,{theme:r}=this.state,n=-1!==e.indexOf("filter")?t.filter:void 0,o=-1!==e.indexOf("focus")?t.focus:void 0,s=-1!==e.indexOf("adjustment")?t.adjustment:void 0;return{basePath:i,theme:r,filter:n,focus:o,sticker:-1!==e.indexOf("sticker")?t.sticker:void 0,frame:-1!==e.indexOf("frame")?t.frame:void 0,overlay:-1!==e.indexOf("overlay")?t.overlay:void 0,transform:-1!==e.indexOf("transform")?t.transform:void 0,text:-1!==e.indexOf("text")?t.text:void 0,adjustment:s,textdesign:-1!==e.indexOf("textdesign")?t.textdesign:void 0}}};(0,Vn.c)([Vn.l],Wh.prototype,"saveConfig",1),(0,Vn.c)([Vn.l],Wh.prototype,"dispose",2),(0,Vn.c)([Vn.f],Wh.prototype,"config",1),(0,Vn.c)([Vn.f],Wh.prototype,"locale",1),(0,Vn.c)([Vn.f],Wh.prototype,"theme",1),(0,Vn.c)([Vn.f],Wh.prototype,"measurements",1),(0,Vn.c)([Vn.f],Wh.prototype,"initialMeasurements",1),(0,Vn.c)([Vn.f],Wh.prototype,"tools",1),(0,Vn.c)([Vn.f],Wh.prototype,"defaultTool",1),(0,Vn.c)([Vn.f],Wh.prototype,"isOrderDefault",1),(0,Vn.c)([Vn.f],Wh.prototype,"isLayoutAdvanced",1),(0,Vn.c)([Vn.f],Wh.prototype,"displayCloseButton",1);var Vh=class{constructor(e){this.editor=e}setBackgroundImage(e){this.container?this.container.setData({image:e,originalImage:e}):this.container=this.engine.addImage({image:e,originalImage:e,blendMode:"normal",opacity:1})}getchildren(){return this.container.getChildren()}addImageToContainer(){return new Promise(((e,t)=>{const{image:i}=this.editor.activeStore;if((0,Vn.A)(i))this.setBackgroundImage(i),e();else{const r=this.editor.libraryStore.getRawUrl(i);this.getImageElement(r).then((t=>{this.setBackgroundImage(t),e()})).catch((e=>{t({identifier:"imageLoading",message:e.message})}))}}))}getImageElement(e){return new Promise(((t,i)=>{const r=new Image;r.addEventListener("load",(()=>{t(r)})),r.addEventListener("error",(e=>{i(e)})),r.crossOrigin=this.editor.configStore.config.engine.crossOrigin,r.src=e}))}getImgageContainerId(){return this.container?this.container.getID():""}get engine(){return this.editor.engine}},Gh=class{constructor(e){this.applyNewImageTransform=()=>{const{size:e,width:t,height:i}=this.editor.engineMediator.image.container.getBounds(),r=this.container;r.setTransform(Vn.jb.IDENTITY),r.setResolution(e),r.setPivot(.5,.5),r.setPosition({x:t/2,y:i/2})},this.editor=e}get engine(){return this.editor.engine}get container(){return this.engine.getOutputContainer()}};function qh(e,t){return e.width/e.height>t.width/t.height?e.height/t.height:e.width/t.width}var Xh={transform:Vn.jb.IDENTITY},Yh=class{constructor(e){this.initialTransform=Vn.jb.IDENTITY,this.editor=e,this.state=(0,Vn.e)(Xh)}createPreview(e){this.container=this.editor.engine.createPreview(e)}updateTransform(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const i=this.calculateTransform(e);return!!i.scale.x&&(t?this.saveInitialTransform(i):this.savePreviewTransform(i),this.container.setTransform(this.state.transform),!0)}saveInitialTransform(e){this.initialTransform=e,this.savePreviewTransform(e)}savePreviewTransform(e){(0,Vn.m)((()=>{this.state.transform.position=e.position,this.state.transform.scale=e.scale,this.state.transform.rotation=e.rotation;const t=(0,Vn._a)(),i=new Vn.Qa(e.scale).divide(t);this.previewTransformWithoutDpr={position:new Vn.Qa(e.position).divide(t),scale:i,rotation:e.rotation}}))}get transform(){return this.state.transform}get position(){return this.state.transform.position}get scale(){return this.state.transform.scale}get rotation(){return this.state.transform.rotation}calculateTransform(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;const t=(0,Vn._a)(),{scaleImageToFit:i}=this.editor.configStore.config,{width:r,height:n}=this.editor.canvasStore.canvasSize,o=this.editor.engine.getOutputDimensions(),s=qh({width:r,height:n},o);let a=i?s:Math.min(1,s);const l=n-o.height*a,c=2*this.editor.configStore.measurements.mainCanvasActionBar.height;l<c&&(a=qh({width:r,height:n-c},o));const u=.95;o.height*a>n*u&&(a=qh({width:r,height:n*u},o)),o.width*a>r*u&&(a=qh({width:r*u,height:n},o)),a*=t;const h={x:r*t/2,y:n*t/2},d={x:a,y:a};return new Vn.jb(h,d,e)}};(0,Vn.c)([Vn.l],Yh.prototype,"updateTransform",1),(0,Vn.c)([Vn.l],Yh.prototype,"savePreviewTransform",1),(0,Vn.c)([Vn.f],Yh.prototype,"transform",1),(0,Vn.c)([Vn.f],Yh.prototype,"position",1),(0,Vn.c)([Vn.f],Yh.prototype,"scale",1),(0,Vn.c)([Vn.f],Yh.prototype,"rotation",1);var Qh=class{constructor(){this.imageContainerOrder=[],this.spriteContainerOrder=[]}static checkTool(e){if(-1!==["sticker","text","textdesign","brush"].indexOf(e))throw new Error("addIndex is used for non sprites, for sprites use addSprite")}static remove(e,t){const i=t.findIndex((t=>t===e));-1!==i&&t.splice(i,1)}static indexForOrder(e,t,i){const r=e[i],n=t.findIndex((e=>e===i));if(-1!==n)return{index:n,order:t};const{length:o}=t;if(o){let n;for(n=0;n<o;n+=1){if(r<e[t[n]])return{index:n,order:t=[...t.slice(0,n),i,...t.slice(n)]}}}return t.push(i),{index:t.length-1,order:t}}addIndex(e){Qh.checkTool(e);const{index:t,order:i}=Qh.indexForOrder(Qh.IMAGE_CONTAINER_INDEX,this.imageContainerOrder,e);return this.imageContainerOrder=i,t}removeIndex(e){Qh.checkTool(e),Qh.remove(e,this.imageContainerOrder)}addSprite(e){return this.spriteContainerOrder.push(e),this.imageContainerOrder.length+this.spriteContainerOrder.length-1}removeSprite(e){Qh.remove(e,this.spriteContainerOrder)}renameSprite(e,t){const i=this.spriteContainerOrder.findIndex((t=>t===e));-1!==i&&(this.spriteContainerOrder[i]=t)}bringToFront(e){const t=this.spriteContainerOrder.findIndex((t=>t===e));return-1!==t&&(this.spriteContainerOrder.splice(t,1),this.spriteContainerOrder.push(e)),this.getLastSpriteIndex()}getLastSpriteId(){const{length:e}=this.spriteContainerOrder;return this.spriteContainerOrder[e-1]}getSpriteIndex(e){return this.spriteContainerOrder.findIndex((t=>t===e))+this.imageContainerOrder.length-1}getLastSpriteIndex(){return this.imageContainerOrder.length+this.spriteContainerOrder.length-1}},Kh=Qh;Kh.IMAGE_CONTAINER_INDEX={filter:0,adjustment:1,focus:2,overlay:3};var Zh=class{constructor(e){this.orderHelper=new Kh,this.init=()=>{const e=this.editor.configStore.config.engine;this.engine=new Vn.tb({...e,license:this.editor.configStore.config.license,assetProvider:this.editor.configStore.assetProvider,watermark:this.editor.configStore.config.watermark}),this.image=new Vh(this.editor),this.output=new Gh(this.editor),this.preview=new Yh(this.editor)},this.dispose=()=>{this.engine&&(this.engine.dispose(),this.engine=null),this.image=null,this.output=null,this.preview=null},this.editor=e}render(e){return this.engine.render(e)}previewSpaceToWorldSpace(e,t){const i=this.preview.previewTransformWithoutDpr;if((0,Vn.bb)(e)){const r=this.editor.engine.convertPointFromPreviewIntoWorldSpace(Vn.Qa.ZERO,i,t),n=this.editor.engine.convertPointFromPreviewIntoWorldSpace({x:e,y:0},i,t);return Vn.Qa.distance(new Vn.Qa(r),new Vn.Qa(n))}return this.editor.engine.convertPointFromPreviewIntoWorldSpace(e,i,t)}worldSpaceToPreviewSpace(e){const t=this.preview.previewTransformWithoutDpr;if((0,Vn.bb)(e)){const i=this.editor.engine.convertPointFromWorldIntoPreviewSpace(Vn.Qa.ZERO,t),r=this.editor.engine.convertPointFromWorldIntoPreviewSpace({x:e,y:0},t);return Vn.Qa.distance(new Vn.Qa(i),new Vn.Qa(r))}return this.editor.engine.convertPointFromWorldIntoPreviewSpace(e,t)}outputSpaceToWorldSpace(e){return(0,Vn.bb)(e)?Vn.lb.getScalarInWorldSpace(e,this.editor.engine.getOutputContainer()):Vn.lb.getPointInWorldSpace(e,this.editor.engine.getOutputContainer())}previewSpaceToOutputSpace(e){const t=this.preview.previewTransformWithoutDpr;if((0,Vn.bb)(e)){const i=this.editor.engine.convertPointFromPreviewIntoOutputSpace(Vn.Qa.ZERO,t),r=this.editor.engine.convertPointFromPreviewIntoOutputSpace({x:e,y:0},t);return Vn.Qa.distance(new Vn.Qa(i),new Vn.Qa(r))}return this.editor.engine.convertPointFromPreviewIntoOutputSpace(e,t)}previewSpaceToFlippedPreviewSpace(e){return this.editor.engine.convertPointFromPreviewIntoFlippedPreviewSpace(e)}},Jh=class{constructor(){this.snapshots=[],this.observeIndex=Vn.e.box(-1)}addSnapshot(e){this.index===this.snapshots.length-1?this.snapshots=this.snapshots.concat(JSON.stringify(e)):this.snapshots=[...this.snapshots.slice(0,this.index+1),JSON.stringify(e)],this.observeIndex.set(this.snapshots.length-1)}getCurrentState(){return this.snapshots[this.index]}reset(){this.snapshots=[],this.observeIndex.set(-1)}undo(){return this.canUndo?(this.observeIndex.set(this.index-1),JSON.parse(this.getCurrentState())):null}redo(){return this.canRedo?(this.observeIndex.set(this.index+1),JSON.parse(this.getCurrentState())):null}discardSnapshotsfromIndex(e){e>0&&e<this.snapshots.length-1&&(this.snapshots=this.snapshots.slice(0,e),this.observeIndex.set(this.snapshots.length-1))}get index(){return this.observeIndex.get()}get canUndo(){return this.index>0}get canRedo(){return this.snapshots.length-1>this.index}};(0,Vn.c)([Vn.f],Jh.prototype,"index",1),(0,Vn.c)([Vn.f],Jh.prototype,"canUndo",1),(0,Vn.c)([Vn.f],Jh.prototype,"canRedo",1);var $h=class{constructor(e){this.awaitHistoryChange=!1,this.isDirtySinceSave=!1,this.undo=async()=>{if(!this.awaitHistoryChange){this.editor.configStore.events.onUndo(),this.awaitHistoryChange=!0;const e=this.appHistoryManager.undo();await this.applyState(e),this.awaitHistoryChange=!1,this.canUndo||(this.isDirtySinceSave=!1)}},this.redo=async()=>{if(!this.awaitHistoryChange){this.editor.configStore.events.onRedo(),this.awaitHistoryChange=!0;const e=this.appHistoryManager.redo();await this.applyState(e),this.awaitHistoryChange=!1}},this.editor=e,this.appHistoryManager=new Jh}get canUndo(){return this.appHistoryManager.canUndo}get canRedo(){return this.appHistoryManager.canRedo}getHistoryState(){const e=(0,Vn.p)(this.editor.adjustmentsToolStore.state),t=(0,Vn.p)(this.editor.filterToolStore.state),i=this.editor.focusToolStore.getFocusStateForHistory(),r=(0,Vn.p)(this.editor.overlayToolStore.state),n=(0,Vn.p)(this.editor.frameToolStore.state),{strokes:o}=this.editor.brushToolStore;return{adjustment:e,filter:t,focus:i,overlay:r,frame:n,brush:o,sprite:this.editor.spriteStore.getSpriteHistoryState(),transform:this.editor.transformToolStore.serializableState}}addInitialSnapshot(){const e=this.getHistoryState();this.appHistoryManager.addSnapshot({state:e,type:"add",description:"Initial State"})}addSnapshot(e,t,i){let r;r=e?e.sprite||e.transform?{...this.getHistoryState(),...e}:e:this.getHistoryState(),this.appHistoryManager.addSnapshot({state:r,type:t,description:i}),this.editor.configStore.events.onHistoryChange(),this.isDirtySinceSave||(this.isDirtySinceSave=!0)}async applyState(e){let{state:t}=e;try{if(t){const e=Object.keys(t);for(const i of e)switch(i){case"filter":await this.editor.filterToolStore.updateStateFromHistory(t[i]);break;case"adjustment":await this.editor.adjustmentsToolStore.updateStateFromHistory(t[i]);break;case"overlay":await this.editor.overlayToolStore.updateStateFromHistory(t[i]);break;case"frame":await this.editor.frameToolStore.updateStateFromHistory(t[i]);break;case"focus":await this.editor.focusToolStore.updateStateFromHistory(t[i],this.editor.canvasStore.sizeVector);break;case"brush":await this.editor.brushToolStore.updateStateFromHistory(t[i]);break;case"sprite":await this.editor.spriteStore.updateStateFromHistory(t[i]);break;case"transform":this.editor.outputContainer.pauseChildrenUpdates(),this.editor.transformToolStore.onEnter(),this.editor.transformToolStore.updateStateFromSerialization(t[i]),this.editor.transformToolStore.onLeave(),this.editor.transformToolStore.onEnter(),this.editor.transformToolStore.onLeave(),this.editor.outputContainer.resumeChildrenUpdates(),await this.editor.wait()}await this.editor.renderPromise()}}catch(i){console.error(i),this.editor.modalStore.showActionModal({type:"error",identifier:"unexpectedError",error:i,handleConfirm:()=>{this.applyState({state:t})}})}}isDirty(){return this.appHistoryManager.snapshots.length>1}reset(){this.appHistoryManager.reset(),this.isDirtySinceSave=!1}getCurrentSpritesState(){var e,t;return null==(t=null==(e=JSON.parse(this.appHistoryManager.getCurrentState()))?void 0:e.state)?void 0:t.sprite}};(0,Vn.c)([Vn.l],$h.prototype,"undo",2),(0,Vn.c)([Vn.l],$h.prototype,"redo",2),(0,Vn.c)([Vn.f],$h.prototype,"canUndo",1),(0,Vn.c)([Vn.f],$h.prototype,"canRedo",1);var ed=(e,t)=>new Promise(((i,r)=>{const n=new Image;n.onload=()=>{i(n)},n.onerror=()=>{r(new Error("Failed to load image with src:".concat(e)))},n.crossOrigin=t,n.src=e})),td=(e,t)=>new Promise(((i,r)=>{((e,t)=>new Promise(((i,r)=>{const n=new XMLHttpRequest;n.onload=()=>{const t=new FileReader;t.onloadend=()=>{"string"===typeof t.result&&"data:image"===t.result.substr(0,10)?i(t.result):r(new Error("The image could not be loaded from ".concat(e)))},t.onerror=e=>{r(e)},t.readAsDataURL(n.response)},n.open("GET",e),n.responseType="blob",n.withCredentials="use-credentials"===t,n.send()})))(e,t).then((e=>{const t=new Image;t.addEventListener("load",(()=>{i(t)})),t.src=e})).catch((()=>{ed(e,t).then((e=>i(e))).catch((e=>{r(e)}))}))})),id=async e=>{let{url:t,image:i,crossOrigin:r="anonymous"}=e;try{return i&&i.src&&"data:"===i.src.substr(0,5)||i&&i.src&&i.src.includes(".svg")?i:"string"===typeof t&&"data:"===t.substr(0,5)||"string"===typeof t&&t.includes(".svg")?ed(t,r):td(t||i.src,r)}catch(n){throw new Error(n)}},rd={tool:null,isWebcam:!1,image:"",imageLoadedToEngine:!1},nd=class{constructor(e){this.setImage=async e=>{try{const{crossOrigin:t}=this.editor.configStore.config.engine;"string"===typeof e&&!e.trim()||void 0===e||null===e?this.state.image=null:"string"===typeof e?this.state.image=await id({url:(0,Vn.z)(e)?e:this.editor.assetProvider.getPath(e),crossOrigin:t}):e instanceof HTMLImageElement&&(this.state.image=await id({image:e,crossOrigin:t})),this.isWebcam&&(this.state.isWebcam=!1)}catch(t){throw new Error(t)}},this.setImageLoadedToEngine=e=>{this.state.imageLoadedToEngine=e},this.newImage=e=>{this.editor.init(e)},this.dispose=()=>{this.state=null,this.editor=null},this.editor=e,this.state=(0,Vn.e)(rd)}selectTool(e){var t,i,r;const{licenseChecker:n}=this.editor.configStore;if(this.state.tool!==e&&(null==n?void 0:n.isToolAllowed(e))&&(this.image||"library"===e||"customTool"===e)){if(this.editor.configStore.isLayoutAdvanced){const n=null==(r=null==(i=null==(t=this.editor.configStore.state.config.customTool)?void 0:t.measurements)?void 0:i.advancedUIToolControlBar)?void 0:r.width;n&&("customTool"===e?this.editor.configStore.measurements.advancedUIToolControlBar.width=n:"customTool"===this.state.tool&&(this.editor.configStore.measurements.advancedUIToolControlBar.width=this.editor.configStore.initialMeasurements.advancedUIToolControlBar.width))}switch(this.editor.onToolChange(this.state.tool,e),this.state.tool=e,this.editor.configStore.events.onToolChanged(e),e){case"text":this.editor.configStore.config.text.addDefaultTextOnEnter?this.editor.spriteStore.textToolStore.addOrselect():this.editor.spriteStore.textToolStore.loadFonts();break;case"textdesign":this.editor.configStore.config.textdesign.addDefaultTextOnEnter&&this.editor.spriteStore.textDesignToolStore.addOrselect();break;case"brush":this.editor.brushToolStore.initSize();break;case"transform":this.editor.transformToolStore.applyDefaultCrop()}}}selectWebcam(e){this.state.isWebcam=e}get webcamLabel(){return this.editor.libraryStore.locale.controls.buttonWebcamClose}get tool(){return this.state.tool}get isWebcam(){return this.state.isWebcam}get image(){return this.state.image}get imageLoadedToEngine(){return this.state.imageLoadedToEngine}};(0,Vn.c)([Vn.l],nd.prototype,"selectTool",1),(0,Vn.c)([Vn.l],nd.prototype,"selectWebcam",1),(0,Vn.c)([Vn.l],nd.prototype,"setImage",2),(0,Vn.c)([Vn.l],nd.prototype,"setImageLoadedToEngine",2),(0,Vn.c)([Vn.l],nd.prototype,"newImage",2),(0,Vn.c)([Vn.l],nd.prototype,"dispose",2),(0,Vn.c)([Vn.f],nd.prototype,"webcamLabel",1),(0,Vn.c)([Vn.f],nd.prototype,"tool",1),(0,Vn.c)([Vn.f],nd.prototype,"isWebcam",1),(0,Vn.c)([Vn.f],nd.prototype,"image",1),(0,Vn.c)([Vn.f],nd.prototype,"imageLoadedToEngine",1);var od={height:0,width:0},sd=class{constructor(e){var t=this;this.canvasClickDisabled=Vn.e.box(!1),this.resizeCanvas=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;const i=t.editor.activeStore.tool,r="transform"===e||!e&&"transform"===i,{isLayoutAdvanced:n,measurements:o}=t.editor.configStore,{storedSize:s}=t.editor.canvasStore;let a=0;!n&&r&&(a=-1*o.basicUIToolControlBar.controlsBarHeight,"transform"===e&&"brush"===i&&(a-=o.basicUIToolControlBar.itemsBarHeight+4)),t.setCanvasSize({width:s.width,height:s.height+a})},this.setCanvasSize=e=>{this.state.canvasSize=e},this.dispose=()=>{this.state=null,this.canvas=null,this.canvasClickDisabled=null,this.editor=null},this.editor=e,this.state=(0,Vn.e)(sd.initialState)}setCanvasElement(e){this.canvas=e,this.editor.engineMediator.preview.createPreview(e),this.editor.activeStore.image&&this.editor.init(this.editor.activeStore.image)}saveDimensions(e){let{height:t,width:i,render:r}=e;const{imageLoadedToEngine:n}=this.editor.activeStore;t>od.height&&i>od.width&&(this.state.storedSize={width:i,height:t},0===this.state.canvasSize.height&&(this.state.canvasSize={width:i,height:t}),r&&n&&this.editor.resize())}disableCanvasClick(){this.canvasClickDisabled.set(!0)}enableCanvasClick(){this.canvasClickDisabled.set(!1)}get isCanvasClickable(){return!this.canvasClickDisabled.get()}get canvasSize(){return this.state.canvasSize}get storedSize(){return this.state.storedSize}get sizeVector(){return Vn.Qa.fromSize(this.state.canvasSize)}get sizeVectorMagnitude(){return this.sizeVector.magnitude}getContainersAtPreviewPoint(e){const t=this.editor.engine.getContainersAtPreviewPoint(e,this.editor.engineMediator.preview.previewTransformWithoutDpr).map((e=>e.getID())).filter((e=>e!==this.editor.engineMediator.image.getImgageContainerId()));this.editor.spriteStore.onCanvasClick(t)}},ad=sd;ad.initialState={canvasSize:od,storedSize:{height:150,width:150}},(0,Vn.c)([Vn.l],ad.prototype,"setCanvasElement",1),(0,Vn.c)([Vn.l],ad.prototype,"saveDimensions",1),(0,Vn.c)([Vn.l],ad.prototype,"resizeCanvas",2),(0,Vn.c)([Vn.l],ad.prototype,"disableCanvasClick",1),(0,Vn.c)([Vn.l],ad.prototype,"enableCanvasClick",1),(0,Vn.c)([Vn.l],ad.prototype,"setCanvasSize",2),(0,Vn.c)([Vn.l],ad.prototype,"dispose",2),(0,Vn.c)([Vn.f],ad.prototype,"isCanvasClickable",1),(0,Vn.c)([Vn.f],ad.prototype,"canvasSize",1),(0,Vn.c)([Vn.f],ad.prototype,"storedSize",1),(0,Vn.c)([Vn.f],ad.prototype,"sizeVector",1),(0,Vn.c)([Vn.f],ad.prototype,"sizeVectorMagnitude",1);var ld={type:null,identifier:null,isVisible:!1,error:""},cd=class{constructor(e){this.showActionModal=e=>{let{type:t,identifier:i,error:r,handleConfirm:n,handleDismiss:o}=e;this.resetHandlers(),this.state.isVisible=!0,this.state.identifier=i,this.state.type=t,this.state.error=r||"",this.handleConfirm=n,this.handleDismiss=o},this.hideModal=()=>{this.state.isVisible=!1,this.state.type=null,this.state.error="",this.state.identifier=null,this.resetHandlers()},this.dispose=()=>{this.state=null,this.configStore=null},this.resetHandlers=()=>{this.handleConfirm=null,this.handleDismiss=null},this.configStore=e.configStore,this.state=(0,Vn.e)(ld)}showInfoModal(e){this.resetHandlers(),this.state.isVisible=!0,this.state.type="info",this.state.identifier=e,this.state.error=""}showTextEditModal(){this.resetHandlers(),this.state.isVisible=!0,this.state.type="textEdit",this.state.identifier="inputText",this.state.error=""}get modalProps(){const{isVisible:e}=this.state,t=this.getModalLocale();if(t){const{bodyLabel:i,headerLabel:r,buttonYes:n,buttonNo:o}=t;return{headerLabel:r,bodyLabel:i,confirmLabel:n,dismissLabel:o,isVisible:e,handleClose:this.hideModal,handleConfirm:this.handleConfirm,handleDismiss:this.handleDismiss}}return{isVisible:!1}}get isVisible(){return this.state.isVisible}get type(){return this.state.type}get identifier(){return this.state.identifier}get positionOffset(){const{isLayoutAdvanced:e,measurements:{basicCanvasOffset:t,advancedUIToolControlBar:i,advancedUIToolbar:r},isOrderDefault:n}=this.configStore,o=(i.width+r.width)*(n?1:-1);return e?{x:o/2,y:0}:{x:0,y:-t}}getModalLocale(){const{identifier:e,error:t,type:i}=this.state,{locale:r}=this.configStore;if(!i||!e||"textEdit"===i)return null;if(i&&e&&r["".concat(i,"Modals")]&&r["".concat(i,"Modals")][e]){const n=r["".concat(i,"Modals")][e];let{body:o}=n;o&&"object"===typeof t?Object.keys(t).forEach((e=>{o=o.replace("${".concat(e,"}"),t[e])})):o&&(o=o.replace("${error}",t));let s=n.heading;if("error"===i||"warning"===i){const e={error:r.common.error,warning:r.common.warning},t="error"===i?e.error:e.warning;s="".concat(t).concat(n.headingDelimiter||""," ").concat(n.header||"")}return{bodyLabel:o,headerLabel:s,buttonYes:n.buttonYes,buttonNo:n.buttonNo}}return null}};(0,Vn.c)([Vn.l],cd.prototype,"showActionModal",2),(0,Vn.c)([Vn.l],cd.prototype,"showInfoModal",1),(0,Vn.c)([Vn.l],cd.prototype,"showTextEditModal",1),(0,Vn.c)([Vn.l],cd.prototype,"hideModal",2),(0,Vn.c)([Vn.l],cd.prototype,"dispose",2),(0,Vn.c)([Vn.f],cd.prototype,"modalProps",1),(0,Vn.c)([Vn.f],cd.prototype,"isVisible",1),(0,Vn.c)([Vn.f],cd.prototype,"type",1),(0,Vn.c)([Vn.f],cd.prototype,"identifier",1),(0,Vn.c)([Vn.f],cd.prototype,"positionOffset",1);var ud=class{constructor(e){this.defaultScale=1,this.SCALE_LEVELS=[8.33,12.5,16.66,25,33.33,50,66.66,100,125,150,200,300,400,500,600].map((e=>e/100)),this.state={position:{x:0,y:0},scaleIndex:-1},this.offset={x:0,y:0},this.in=()=>{this.canZoomIn&&(this.state.scaleIndex+=1,this.scaleRender())},this.out=()=>{if(this.canZoomOut){this.state.scaleIndex-=1;const{maxOffsetX:e,maxOffsetY:t}=this.checkOffset({x:0,y:0});this.state.scaleIndex===this.defaultIndex&&(this.offset.y=t),this.state.scaleIndex===this.defaultIndex&&(this.offset.x=e),this.savePosition(),this.scaleRender()}},this.setOffset=e=>{const{canDragX:t,canDragY:i}=this.checkOffset(e);t&&(this.offset.x=e.x),i&&(this.offset.y=e.y),this.scaleRender()},this.editor=e}setInitialTransform(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;const t=(0,Vn._a)(),{scaleImageToFit:i}=this.editor.configStore.config,{transform:r}=this.editor.engineMediator.preview;(0,Vn.m)((()=>{const n=Math.abs(e||r.scale.x);this.setDefaultScale(i?n:Math.min(1*t,n)),this.setPosition(r.position)}))}resetScale(){this.state.scaleIndex=-1}resetPosition(){const{width:e,height:t}=this.editor.canvasStore.canvas;this.setPosition({x:e/2,y:t/2})}resetOffset(){this.offset={x:0,y:0}}setPosition(e){this.state.position.x=e.x,this.state.position.y=e.y}savePosition(){this.setPosition(this.getPositionWithOffset()),this.offset={x:0,y:0}}setDefaultScale(e){if(1!==this.defaultScale){const e=this.SCALE_LEVELS.findIndex((e=>e===this.defaultScale));-1!==e&&(this.SCALE_LEVELS=[...this.SCALE_LEVELS.slice(0,e),...this.SCALE_LEVELS.slice(e+1)])}const t=this.SCALE_LEVELS.findIndex((t=>t===e));if(-1!==t)this.state.scaleIndex=t;else{const t=this.SCALE_LEVELS.findIndex(((t,i)=>(0===i||this.SCALE_LEVELS[i-1]<e)&&e<t));-1!==t?(this.SCALE_LEVELS=[...this.SCALE_LEVELS.slice(0,t),e,...this.SCALE_LEVELS.slice(t)],this.state.scaleIndex=t):(this.SCALE_LEVELS=[...this.SCALE_LEVELS,e],this.state.scaleIndex=this.SCALE_LEVELS.length-1)}this.defaultScale=e}setScaleToDefault(){this.state.scaleIndex=this.defaultIndex}checkOffset(e){const t=(0,Vn._a)(),{scaledSize:i}=this,{previewSize:r}=this,n=this.editor.engineMediator.preview.initialTransform.position,o=this.getPositionWithOffset(e),s=(i.width-r.width)*t/2,a=(i.height-r.height)*t/2,l=n.x-o.x,c=n.y-o.y,u=Math.abs(l)-s,h=Math.abs(c)-a;return{canDragX:u<0,canDragY:h<0,maxOffsetX:l>0?-u:u,maxOffsetY:c>0?-h:h}}calculateScale(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.previewSize,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.defaultScale;const{width:r,height:n}=t,o=new Vn.Qa({x:r,y:n}),s=new Vn.Qa(Math.abs(o.x*Math.cos(e))+Math.abs(o.y*Math.sin(e)),Math.abs(o.x*Math.sin(e))+Math.abs(o.y*Math.cos(e))),a=o.subtract(s).divide(2).multiply(i).abs;return a.y>a.x?2*a.y/o.y+i:2*a.x/o.x+i}get defaultIndex(){return this.SCALE_LEVELS.findIndex((e=>e===this.defaultScale))}getPositionWithOffset(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.offset;const{position:t}=this;return{x:t.x-e.x,y:t.y-e.y}}scaleRender(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const t=this.editor.scale.getPositionWithOffset(),i=e?this.defaultScale:this.scale,r={x:i,y:i};this.editor.engineMediator.preview.container.setScale(r),this.editor.engineMediator.preview.container.setPosition(t),this.editor.engineMediator.preview.savePreviewTransform({scale:r,position:t,rotation:0}),e||this.editor.render()}get scale(){const e=this.state.scaleIndex;return-1!==e?this.SCALE_LEVELS[e]:this.defaultScale}get zoomLevel(){const e=(0,Vn._a)();return(this.scale/e*100).toFixed(1)}get canDrag(){return this.defaultScale<this.scale}get canZoomOut(){const{restrictZoomOutToDefault:e}=this.editor.configStore.config;return e?this.state.scaleIndex>this.defaultIndex:0!==this.state.scaleIndex}get canZoomIn(){return this.SCALE_LEVELS.length-1>this.state.scaleIndex}get position(){return this.state.position}get scaledSize(){const e=this.state.scaleIndex,t=-1!==e?this.SCALE_LEVELS[e]:this.defaultScale,{previewSize:i}=this;return{width:i.width*t/this.defaultScale,height:i.height*t/this.defaultScale}}get previewSize(){return this.editor.getPreviewSize()}};(0,Vn.c)([Vn.e],ud.prototype,"state",2),(0,Vn.c)([Vn.l],ud.prototype,"in",2),(0,Vn.c)([Vn.l],ud.prototype,"out",2),(0,Vn.c)([Vn.l],ud.prototype,"setInitialTransform",1),(0,Vn.c)([Vn.l],ud.prototype,"resetScale",1),(0,Vn.c)([Vn.l],ud.prototype,"resetPosition",1),(0,Vn.c)([Vn.l],ud.prototype,"setPosition",1),(0,Vn.c)([Vn.l],ud.prototype,"savePosition",1),(0,Vn.c)([Vn.l],ud.prototype,"setDefaultScale",1),(0,Vn.c)([Vn.l],ud.prototype,"setScaleToDefault",1),(0,Vn.c)([Vn.f],ud.prototype,"scale",1),(0,Vn.c)([Vn.f],ud.prototype,"zoomLevel",1),(0,Vn.c)([Vn.f],ud.prototype,"canDrag",1),(0,Vn.c)([Vn.f],ud.prototype,"canZoomOut",1),(0,Vn.c)([Vn.f],ud.prototype,"canZoomIn",1),(0,Vn.c)([Vn.f],ud.prototype,"position",1),(0,Vn.c)([Vn.f],ud.prototype,"scaledSize",1);var hd=[[0,0],[0,1],[1,0],[1,1]],dd=[[0,1,2,3],[2,3,0,1],[1,0,3,2],[3,2,1,0]],pd=class{constructor(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"center",r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],n=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.considerRotation=!0,this.considerFlip=!0,this.store=t,this.m="center"===i?pd.movePivotTo([.5,.5]):hd,this.considerRotation=r,this.considerFlip=n,this.configStore=e.configStore}static getFlippedEdgeIndex(e,t,i){return dd[(t?1:0)+(i?2:0)][e]}static movePivotTo(e){return hd.map((t=>[t[0]-e[0],t[1]-e[1]]))}get position(){return this.store.position}get size(){return this.store.size}get rotation(){return this.considerRotation?this.store.rotationWRTOutputRotation:0}get flipHorizontally(){return!!this.considerFlip&&this.store.isFlippedHorizontal}get flipVertically(){return!!this.considerFlip&&this.store.isFlippedVertical}get flipCenter(){return this.considerFlip?this.store.flipCenter:null}handleOrigin(e,t,i){const r=pd.getFlippedEdgeIndex(e,t,i);return{width:this.m[r][0]*this.size.width,height:this.m[r][1]*this.size.height}}get leftTop(){const{position:e,flipHorizontally:t,flipVertically:i}=this,r=this.handleOrigin(0,t,i);return pd.coordinatesWithRotation(r,this.rotation,this.flipHorizontally,this.flipVertically,this.flipCenter,e)}get leftBottom(){const{position:e,flipHorizontally:t,flipVertically:i}=this,r=this.handleOrigin(1,t,i);return pd.coordinatesWithRotation(r,this.rotation,this.flipHorizontally,this.flipVertically,this.flipCenter,e)}get rightTop(){const{position:e,flipHorizontally:t,flipVertically:i}=this,r=this.handleOrigin(2,t,i);return pd.coordinatesWithRotation(r,this.rotation,this.flipHorizontally,this.flipVertically,this.flipCenter,e)}get rightBottom(){const{position:e,flipHorizontally:t,flipVertically:i}=this,r=this.handleOrigin(3,t,i);return pd.coordinatesWithRotation(r,this.rotation,this.flipHorizontally,this.flipVertically,this.flipCenter,e)}get leftBottomHandle(){const{position:e,flipHorizontally:t,flipVertically:i}=this,r=this.handleOrigin(1,t,i);return r.height+=this.configStore.measurements.canvasControls.sprite.rotateHandle.height,pd.coordinatesWithRotation(r,this.rotation,this.flipHorizontally,this.flipVertically,this.flipCenter,e)}get rightBottomHandle(){const{position:e,flipHorizontally:t,flipVertically:i}=this,r=this.handleOrigin(3,t,i);return r.height+=this.configStore.measurements.canvasControls.sprite.rotateHandle.height,pd.coordinatesWithRotation(r,this.rotation,this.flipHorizontally,this.flipVertically,this.flipCenter,e)}get leftMid(){const e=new Vn.Qa(this.leftTop),t=new Vn.Qa(this.leftBottom);return e.add(t).divide(2)}get rightMid(){const e=new Vn.Qa(this.rightTop),t=new Vn.Qa(this.rightBottom);return e.add(t).divide(2)}},fd=pd;fd.coordinatesWithRotation=(e,t,i,r,n,o)=>{let{width:s,height:a}=e,l=s*Math.cos(t)-a*Math.sin(t)+o.x,c=s*Math.sin(t)+a*Math.cos(t)+o.y;return i&&(l=2*n.x-l),r&&(c=2*n.y-c),new Vn.Qa({x:l,y:c}).rounded},(0,Vn.c)([Vn.f],fd.prototype,"position",1),(0,Vn.c)([Vn.f],fd.prototype,"size",1),(0,Vn.c)([Vn.f],fd.prototype,"rotation",1),(0,Vn.c)([Vn.f],fd.prototype,"flipHorizontally",1),(0,Vn.c)([Vn.f],fd.prototype,"flipVertically",1),(0,Vn.c)([Vn.f],fd.prototype,"flipCenter",1),(0,Vn.c)([Vn.f],fd.prototype,"leftTop",1),(0,Vn.c)([Vn.f],fd.prototype,"leftBottom",1),(0,Vn.c)([Vn.f],fd.prototype,"rightTop",1),(0,Vn.c)([Vn.f],fd.prototype,"rightBottom",1),(0,Vn.c)([Vn.f],fd.prototype,"leftBottomHandle",1),(0,Vn.c)([Vn.f],fd.prototype,"rightBottomHandle",1),(0,Vn.c)([Vn.f],fd.prototype,"leftMid",1),(0,Vn.c)([Vn.f],fd.prototype,"rightMid",1);var gd=class{constructor(e,t){this.minCropSize=0,this.id="",this.dispose=()=>{this.state=null,this.defaults=null,this.configStore=null},this.state={identifier:"identity",outputRotation:0,rotationInDegrees:0,flipHorizontally:!1,flipVertically:!1,cropState:Vn.e.map({})},this.configStore=e.configStore,this.id=(0,Vn.Oa)(),this.minCropSize=this.configStore.measurements.crop.minSize,this.defaults=t}changeIdentifier(e){this.state.identifier=e;this.state.cropState.get("".concat(this.id,"-").concat(e))||this.state.cropState.set("".concat(this.id,"-").concat(e),{...Ih})}changeRatio(e){const t=this.state.cropState.get("".concat(this.id,"-").concat(this.identifier));t&&this.state.cropState.set("".concat(this.id,"-").concat(this.identifier),{...t,ratio:e})}changeSize(e){const t=this.state.cropState.get("".concat(this.id,"-").concat(this.identifier));t&&(e.width&&e.width>0&&(t.size.width=Math.round(e.width)),e.height&&e.height>0&&(t.size.height=Math.round(e.height)),this.state.cropState.set("".concat(this.id,"-").concat(this.identifier),t))}changeHeight(e){const t=this.state.cropState.get("".concat(this.id,"-").concat(this.identifier));t&&e&&(t.size.height=Math.round(e),this.state.cropState.set("".concat(this.id,"-").concat(this.identifier),t))}changeWidth(e){const t=this.state.cropState.get("".concat(this.id,"-").concat(this.identifier));t&&e&&(t.size.width=Math.round(e),this.state.cropState.set("".concat(this.id,"-").concat(this.identifier),t))}changePositionX(e,t){const i=this.state.cropState.get("".concat(this.id,"-").concat(this.identifier));return!!(i&&e<=t-this.minCropSize&&e>=0)&&(i.position.x=Math.round(e),this.state.cropState.set("".concat(this.id,"-").concat(this.identifier),i),!0)}changePositionY(e,t){const i=this.state.cropState.get("".concat(this.id,"-").concat(this.identifier));return!!(i&&e<=t-this.minCropSize&&e>=0)&&(i.position.y=Math.round(e),this.state.cropState.set("".concat(this.id,"-").concat(this.identifier),i),!0)}changePosition(e,t){const i=this.state.cropState.get("".concat(this.id,"-").concat(this.identifier));return!!(i&&e.x<=t.width-this.minCropSize&&e.x>=0&&e.y<=t.height-this.minCropSize&&e.y>=0)&&(i.position.x=Math.round(e.x),i.position.y=Math.round(e.y),this.state.cropState.set("".concat(this.id,"-").concat(this.identifier),i),!0)}changeLockResolution(e){const t=this.state.cropState.get("".concat(this.id,"-").concat(this.identifier));t&&(t.lockResolution=void 0!==e?e:!t.lockResolution,this.state.cropState.set("".concat(this.id,"-").concat(this.identifier),t))}changeForceDimensions(e){const t=this.state.cropState.get("".concat(this.id,"-").concat(this.identifier));t&&(t.forceDimensions=e,this.state.cropState.set("".concat(this.id,"-").concat(this.identifier),t))}clearState(){this.state.cropState.forEach(((e,t)=>t.startsWith(this.id)&&this.state.cropState.delete(t)))}setRotation(e){this.state.rotationInDegrees=e}resetRotation(){this.state.rotationInDegrees=0}resetOutputRotation(){this.state.outputRotation=0}resetFlip(){this.state.flipHorizontally=!1,this.state.flipVertically=!1}updateFlip(e){let{flipHorizontally:t,flipVertically:i}=e;this.state.flipHorizontally=t,this.state.flipVertically=i}setOutputRotation(e){this.state.outputRotation=e}flipHorizontally(){this.state.flipHorizontally=!this.state.flipHorizontally}flipVertically(){this.state.flipVertically=!this.state.flipVertically}get flipCenter(){const{width:e,height:t}=this.defaults.maxCropMaskSize;return new Vn.Qa(e/2,t/2)}get isFlippedHorizontal(){return this.state.flipHorizontally}get isFlippedVertical(){return this.state.flipVertically}get identifier(){return this.state.identifier}get height(){return this.selectedCrop?this.selectedCrop.size.height:Ih.size.height}get width(){return this.selectedCrop?this.selectedCrop.size.width:Ih.size.width}get position(){return this.selectedCrop?this.selectedCrop.position:Ih.position}get ratio(){return this.selectedCrop?this.selectedCrop.ratio:Ih.ratio}get size(){return this.selectedCrop?this.selectedCrop.size:Ih.size}get x(){return this.selectedCrop?this.selectedCrop.position.x:Ih.position.x}get y(){return this.selectedCrop?this.selectedCrop.position.y:Ih.position.y}get lockResolution(){return this.selectedCrop?this.selectedCrop.lockResolution:Ih.lockResolution}get forceDimensions(){return this.selectedCrop?this.selectedCrop.forceDimensions:Ih.forceDimensions}get selectedCrop(){return this.state.cropState.get("".concat(this.id,"-").concat(this.identifier))}get rotationInDegrees(){return this.state.rotationInDegrees}get outputRotation(){return this.state.outputRotation}};(0,Vn.c)([Vn.e],gd.prototype,"state",2),(0,Vn.c)([Vn.l],gd.prototype,"changeIdentifier",1),(0,Vn.c)([Vn.l],gd.prototype,"changeRatio",1),(0,Vn.c)([Vn.l],gd.prototype,"changeSize",1),(0,Vn.c)([Vn.l],gd.prototype,"changeHeight",1),(0,Vn.c)([Vn.l],gd.prototype,"changeWidth",1),(0,Vn.c)([Vn.l],gd.prototype,"changePositionX",1),(0,Vn.c)([Vn.l],gd.prototype,"changePositionY",1),(0,Vn.c)([Vn.l],gd.prototype,"changePosition",1),(0,Vn.c)([Vn.l],gd.prototype,"changeLockResolution",1),(0,Vn.c)([Vn.l],gd.prototype,"changeForceDimensions",1),(0,Vn.c)([Vn.l],gd.prototype,"clearState",1),(0,Vn.c)([Vn.l],gd.prototype,"setRotation",1),(0,Vn.c)([Vn.l],gd.prototype,"resetRotation",1),(0,Vn.c)([Vn.l],gd.prototype,"resetOutputRotation",1),(0,Vn.c)([Vn.l],gd.prototype,"resetFlip",1),(0,Vn.c)([Vn.l],gd.prototype,"updateFlip",1),(0,Vn.c)([Vn.l],gd.prototype,"setOutputRotation",1),(0,Vn.c)([Vn.l],gd.prototype,"flipHorizontally",1),(0,Vn.c)([Vn.l],gd.prototype,"flipVertically",1),(0,Vn.c)([Vn.l],gd.prototype,"dispose",2),(0,Vn.c)([Vn.f],gd.prototype,"flipCenter",1),(0,Vn.c)([Vn.f],gd.prototype,"isFlippedHorizontal",1),(0,Vn.c)([Vn.f],gd.prototype,"isFlippedVertical",1),(0,Vn.c)([Vn.f],gd.prototype,"identifier",1),(0,Vn.c)([Vn.f],gd.prototype,"height",1),(0,Vn.c)([Vn.f],gd.prototype,"width",1),(0,Vn.c)([Vn.f],gd.prototype,"position",1),(0,Vn.c)([Vn.f],gd.prototype,"ratio",1),(0,Vn.c)([Vn.f],gd.prototype,"size",1),(0,Vn.c)([Vn.f],gd.prototype,"x",1),(0,Vn.c)([Vn.f],gd.prototype,"y",1),(0,Vn.c)([Vn.f],gd.prototype,"lockResolution",1),(0,Vn.c)([Vn.f],gd.prototype,"forceDimensions",1),(0,Vn.c)([Vn.f],gd.prototype,"selectedCrop",1),(0,Vn.c)([Vn.f],gd.prototype,"rotationInDegrees",1),(0,Vn.c)([Vn.f],gd.prototype,"outputRotation",1);var md=class{constructor(e){this.transforms={output:JSON.stringify(Vn.jb.IDENTITY),preview:JSON.stringify(Vn.jb.IDENTITY)},this.setFrameOpacity=e=>{this.frameOpacity=e,this.entered&&"identity"!==this.editor.frameToolStore.identifier&&this.editor.frameToolStore.changeOpacity(0)},this.setOverlayOpacity=e=>{this.overlayOpacity=e,this.entered&&"identity"!==this.editor.overlayToolStore.identifier&&this.editor.overlayToolStore.changeOpacity(0)},this.editor=e,this.overlayOpacity=0,this.frameOpacity=0,this.entered=!1}onLeave(){const{flipHorizontally:e,flipVertically:t,rotation:i,outputRotation:r}=this.transformToolStore.rotateFlipState;this.entered=!1,"identity"!==this.editor.overlayToolStore.identifier&&this.editor.overlayToolStore.changeOpacity(this.overlayOpacity),"identity"!==this.editor.frameToolStore.identifier&&this.editor.frameToolStore.changeOpacity(this.frameOpacity),this.editor.engine.setWatermarkOpacity(1);const n=this.editor.previewToWorld(new Vn.Qa(this.transformToolStore.leftTopRespectFlip).add(new Vn.Qa(this.transformToolStore.rightBottomRespectFlip)).divide(2).add(new Vn.Qa(this.transformToolStore.unRotatedDefaults.cropMaskPosition)),!0),o=this.engineMediator.preview.container,{outputContainer:s}=this.editor;s.setResolution((0,Vn.p)(this.transformToolStore.localOutputImageSize)),s.setData({flipVertically:t,flipHorizontally:e});const a=o.getScale();this.editor.overlayToolStore.correctOverlayFlip(),this.saveTransforms();let l=1;if(this.transformToolStore.lockResolution){const{cropMaskSize:e,defaultImageSize:t}=this.transformToolStore,i=this.transformToolStore.maxCropMaskSize;l={height:e.height*t.height/i.height,width:e.width*t.width/i.width}.width/this.transformToolStore.localOutputImageSize.width}const c=l/(Math.abs(a.x)/this.transformToolStore.defaultScale),u={x:c,y:c},h=-(i-r);s.setTransform({scale:u,position:n,rotation:h}),this.editor.engineMediator.preview.updateTransform(0,!1),this.editor.scale.setInitialTransform(),this.editor.spriteStore.updateCanvasControls(),this.editor.focusToolStore.updateCanvasControls()}resetTransforms(e){this.transforms=e}onEnter(){this.entered=!0,"identity"!==this.editor.overlayToolStore.identifier&&(this.overlayOpacity=this.editor.overlayToolStore.opacity,this.editor.overlayToolStore.changeOpacity(0)),"identity"!==this.editor.frameToolStore.identifier&&(this.frameOpacity=this.editor.frameToolStore.opacity,this.editor.frameToolStore.changeOpacity(0)),this.editor.engine.setWatermarkOpacity(0),this.editor.scale.setScaleToDefault();const e=this.engineMediator.preview.container,{outputContainer:t}=this.editor,i=JSON.parse(this.transforms.preview);t.setResolution((0,Vn.p)(this.transformToolStore.defaultImageSize)),e.setTransform(i),t.setTransform(JSON.parse(this.transforms.output));const r=i.scale;t.setData({flipVertically:!1,flipHorizontally:!1}),this.transformToolStore.transformStore.updateFlip({flipVertically:r.y<0,flipHorizontally:r.x<0}),this.engineMediator.preview.savePreviewTransform(i);const{scale:n}=this.engineMediator.preview.calculateTransform();this.editor.scale.setInitialTransform(n.x)}rotateOutputContainer(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const{width:i,height:r}=this.editor.engineMediator.image.container.getBounds(),n=(0,Vn.ib)(e)?{width:r,height:i}:{width:i,height:r};this.editor.outputContainer.rotate(e,n),this.transformToolStore.transformStore.setOutputRotation(this.editor.outputContainer.getRotation());const{rotation:o}=this.transformToolStore.rotateFlipState;this.engineMediator.preview.updateTransform(o),(0,Vn.m)((()=>{this.editor.scale.setInitialTransform();const e=this.getScaleWithFlip(o);this.engineMediator.preview.container.setScale(e),this.transformToolStore.setCropDefaults(!0),this.transformToolStore.updateCropMask()})),t&&this.editor.render()}applyPreviewTransform(){const{rotation:e,flipHorizontally:t,flipVertically:i}=this.transformToolStore.rotateFlipState,r=this.editor.scale.getPositionWithOffset(),n=this.getScaleWithFlip();let o=e;t&&(o=(0,Vn.qb)(o)),i&&(o=(0,Vn.qb)(o));const s={position:r,rotation:o,scale:n};this.engineMediator.preview.savePreviewTransform(s),this.engineMediator.preview.container.setTransform(s)}getScaleWithFlip(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.transformToolStore.rotateFlipState.rotation;const{flipHorizontally:t,flipVertically:i}=this.transformToolStore.rotateFlipState,r=t?-1:1,n=i?-1:1,o=this.editor.scale.calculateScale(e);return{x:o*r,y:o*n}}saveTransforms(){const e=JSON.stringify(this.engineMediator.preview.container.getTransform()),t=JSON.stringify(this.editor.outputContainer.getTransform());this.transforms={preview:e,output:t}}saveTransformsBasedOnFlip(){const e=this.engineMediator.preview.container.getTransform(),{scale:t}=e,{flipVertically:i,flipHorizontally:r}=this.editor.outputContainer.getData(),n=JSON.stringify(this.editor.outputContainer.getTransform());this.transforms={preview:JSON.stringify({...e,scale:{x:r?-t.x:t.x,y:i?-t.y:t.y}}),output:n}}get engineMediator(){return this.editor.engineMediator}get transformToolStore(){return this.editor.transformToolStore}},yd=class{constructor(e){this.store=e,this.initialState={},this.state={},this.dispose=()=>{this.initialState=null,this.state=null}}init(){this.initialState=this.store.serializableState,this.state={...this.initialState}}trackChanges(){this.state=this.store.serializableState}isEqual(){return(0,Vn.Wa.default)(this.state,this.initialState)}hasChanges(){return!this.isEqual()}},_d="identity",vd=class{constructor(e){var t=this;this.unRotatedDefaults={cropMaskPosition:{x:0,y:0},scale:1},this.defaultAngle=0,this.dragMode=Vn.e.box(!1),this.minCropSize=0,this.transformHistory=new yd(this),this.defaults={cropMaskPosition:{x:0,y:0},maxCropMaskSize:{width:0,height:0},imageSize:{width:0,height:0},scale:1},this.localOutputSize={width:0,height:0},this.checkIfTransformThumbnailExits=e=>{if(!e.trim())return!1;let t=this.editor.configStore.config.assetBaseUrl;const{length:i}=t;if("/"!==t[i-1]&&(t+="/"),"".concat(t,"transform")===e)return!1;const r=new Image;try{return r.src=e,!0}catch(o){return!1}},this.reset=()=>{this.transformStore.resetRotation(),this.transformStore.resetOutputRotation(),this.transformStore.resetFlip(),this.resetCrop(),this.editor.spriteStore.correctTextFlip(),this.editor.overlayToolStore.correctOverlayFlip(),this.setDefaultAngle(0);0!==this.editor.outputContainer.getRotation()&&this.engineMediator.output.applyNewImageTransform(),this.engineMediator.output.container.setData({flipHorizontally:!1,flipVertically:!1}),this.engineMediator.preview.updateTransform(),this.editor.scale.setInitialTransform(),this.setCropDefaults(),this.applyInitialCrop(),this.editor.render(),this.trackChanges()},this.changeLocalOutputSize=e=>{this.localOutputSize.height=Math.round(e.height),this.localOutputSize.width=Math.round(e.width),this.editor.configStore.events.onCropDimensionsChanged({width:Math.round(e.width),height:Math.round(e.height)})},this.changeDefaultScale=e=>{this.defaults.scale=e},this.changeLocalOutputHeight=e=>{this.localOutputSize.height=Math.round(e)},this.changeLocalOutputWidth=e=>{this.localOutputSize.width=Math.round(e)},this.changeLockResolution=()=>{this.transformStore.changeLockResolution(),this.trackChanges()},this.rotateClockwise=()=>{const e=this.editor.outputContainer.getRotation(),t=this.isFlippedVertical?Vn.gb:Vn.hb;this.rotateOutputContainer(t(e))},this.rotateAntiClockwise=()=>{const e=this.editor.outputContainer.getRotation(),t=this.isFlippedVertical?Vn.hb:Vn.gb;this.rotateOutputContainer(t(e))},this.flipHorizontally=function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];t.transformStore.flipHorizontally(),t.editor.spriteStore.reverseTextHorizontally(t.transformStore.isFlippedHorizontal),t.transformRender(e),e&&t.trackChanges()},this.flipVertically=function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];t.transformStore.flipVertically(),t.editor.spriteStore.reverseTextVertically(t.transformStore.isFlippedVertical),t.transformRender(e),e&&t.trackChanges()},this.applyDefaultCrop=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if("identity"===t.identifier){const{identifier:i}=t.getMatchingItem();t.changeIdentifier(i,e)}},this.updateCropMask=()=>{this.changeIdentifier(this.identifier,!0)},this.onLeftTop=e=>{let{x:t,y:i}=e;const r=this.getRatio(),n=this.rightBottom,{minCropMaskSize:o,maxCropMaskSize:s}=this,a=Math.min(Math.max(0,t),n.x-o.width),l=Math.min(Math.max(0,i),n.y-o.height),c=n.x-a,u=n.y-l,h={width:Math.max(this.minCropSize,Math.min(c,s.width-a)),height:Math.max(this.minCropSize,Math.min(u,s.height-l))};if("*"===r)this.changePosition({x:a,y:l})&&this.changeCropAndOutputSize(h);else{const e=this.proportionalSize(r,h),t=new Vn.Qa(n).subtract({x:e.width,y:e.height});this.changePosition(t)&&this.changeCropAndOutputSize(e,r)}},this.onLeftBottom=e=>{let{x:t,y:i}=e;const r=this.getRatio(),n=this.rightTop,{minCropMaskSize:o,maxCropMaskSize:s}=this,a=Math.min(Math.max(0,t),n.x-o.width),l=Math.max(0,i,n.y+o.height),c=n.x-a,u=l-n.y,h={width:Math.max(1,Math.min(c,s.width-a)),height:Math.max(1,Math.min(u,s.height-n.y))};if("*"===r)this.changePositionX(a)&&this.changeCropAndOutputSize(h);else{const e=this.proportionalSize(r,h);this.changePositionX(n.x-e.width)&&this.changeCropAndOutputSize(e,r)}},this.onRightTop=e=>{let{x:t,y:i}=e;const r=this.getRatio(),n=this.leftBottom,{minCropMaskSize:o,maxCropMaskSize:s}=this,a=Math.max(0,t,n.x+o.width),l=Math.min(Math.max(0,i),n.y-o.height),c=a-n.x,u=n.y-l,h={width:Math.max(1,Math.min(c,s.width-n.x)),height:Math.max(1,Math.min(u,s.height-l))};if("*"===r)this.changePositionY(l)&&this.changeCropAndOutputSize(h);else{const e=this.proportionalSize(r,h);this.changePositionY(n.y-e.height)&&this.changeCropAndOutputSize(e,r)}},this.onRightBottom=e=>{let{x:t,y:i}=e;const r=this.getRatio(),n=this.leftTop,{minCropMaskSize:o,maxCropMaskSize:s}=this,a=Math.max(0,t,n.x+o.width),l=Math.max(0,i,n.y+o.height),c=a-n.x,u=l-n.y,h={width:Math.max(1,Math.min(c,s.width-n.x)),height:Math.max(1,Math.min(u,s.height-n.y))};if("*"===r)this.changeCropAndOutputSize(h);else{const e=this.proportionalSize(r,h);this.changeCropAndOutputSize(e,r)}},this.onPixelWidth=e=>{const t=JSON.stringify((0,Vn.p)(this.localOutputSize)),i=this.entityManager.items.find((e=>e.identifier===this.identifier)),r=this.defaults.imageSize;if(i&&i.ratio){let n=e,o=this.localOutputSize.height,{ratio:s}=i;if("*"===s&&this.lockResolution&&(s=this.localOutputSize.width/this.localOutputSize.height),"*"!==s||this.lockResolution){const e=vd.placeCropMask(s,r);n=Math.max(Math.min(n,e.width),this.minCropSize),o=n/s,this.changeLocalOutputSize({height:o,width:n})}else n=Math.max(Math.min(e,r.width),this.minCropSize),this.changeLocalOutputWidth(n),this.editor.configStore.events.onCropDimensionsChanged({width:Math.round(n),height:Math.round(o)});return this.lockResolution||this.updatePreviewSizeWRTImageSize(),this.checkAndAddSnapshot(JSON.parse(t)),Math.round(n)}return e},this.onPixelHeight=e=>{const t=JSON.stringify((0,Vn.p)(this.localOutputSize)),i=this.entityManager.items.find((e=>e.identifier===this.identifier)),r=this.defaults.imageSize;if(i&&i.ratio){let n=e,o=this.localOutputSize.width,{ratio:s}=i;if("*"===s&&this.lockResolution&&(s=this.localOutputSize.width/this.localOutputSize.height),"*"!==s||this.lockResolution){const e=vd.placeCropMask(s,r);n=Math.max(Math.min(n,e.height),this.minCropSize),o=n*s,this.changeLocalOutputSize({height:n,width:o})}else n=Math.max(Math.min(e,r.height),this.minCropSize),this.changeLocalOutputHeight(n),this.editor.configStore.events.onCropDimensionsChanged({width:Math.round(o),height:Math.round(n)});return this.lockResolution||this.updatePreviewSizeWRTImageSize(),this.checkAndAddSnapshot(JSON.parse(t)),Math.round(n)}return e},this.dispose=()=>{this.transformStore&&(this.transformStore.dispose(),this.transformStore=null),this.transformHistory&&(this.transformHistory.dispose(),this.transformHistory=null),this.editor=null,this.dragMode=null,this.selectedCategory=null,this.defaults=null,this.localOutputSize=null,this.rect=null,this.transformations=null,this.entityManager=null},this.setFrameOpacity=e=>{this.transformations.setFrameOpacity(e)},this.setOverlayOpacity=e=>{this.transformations.setOverlayOpacity(e)},this.closestRatioReducer=e=>(t,i)=>null===i||Math.abs(e-t.ratio)<Math.abs(e-i.ratio)?-1:1,this.closestDimensionsReducer=e=>(t,i)=>{if(null===i)return-1;const r=Math.abs(t.dimensions.x/t.dimensions.y),n=Math.abs(i.dimensions.x/i.dimensions.y);return r===n?t.dimensions.x*t.dimensions.y>i.dimensions.x*i.dimensions.y?-1:1:Math.abs(e-r)<Math.abs(e-n)?-1:1},this.getMatchingItem=()=>{const e=this.entityManager.items.findIndex((e=>"imgly_transform_common_custom"===e.identifier));if(-1!==e)return this.entityManager.items[e];const t=this.entityManager.items.findIndex((e=>"*"===e.ratio));if(-1!==t)return this.entityManager.items[t];const i=(0,Vn.p)(this.editor.outputContainer.getResolution()),r=Math.abs(i.width/i.height),[n]=this.entityManager.items.filter((e=>e.ratio&&"number"===typeof e.ratio)).sort(this.closestRatioReducer(r)),[o]=this.entityManager.items.filter((e=>e.dimensions&&!e.ratio)).sort(this.closestDimensionsReducer(r));if(!n||!o||!n.ratio&&!o.dimensions)return this.entityManager.items[0];if(!o||!o.dimensions)return n;if(!n||!n.ratio)return o;const s=Math.abs(o.dimensions.x/o.dimensions.y);return s===n.ratio||Math.abs(r-n.ratio)<Math.abs(r-s)?n:o},this.getTransform=e=>{let t=this.entityManager.items.find((t=>t.identifier===e));return t||(t=this.getMatchingItem()),t},this.editor=e,this.selectedCategory=_d,this.transformStore=new gd(e,this.defaults),this.transformations=new md(e);const{enableRotation:i,enableFlip:r,...n}=this.config,o=this.editor.assetProvider.getAssets("transform");this.entityManager=new zu(o,{...n,locale:{...this.locale.items,...this.locale.categories},getAssetPath:this.editor.getAssetPath("transform")}),this.rect=new fd(this.editor,this.transformStore,"topLeft",!1,!1),this.rectForUi=new fd(this.editor,this.transformStore,"topLeft",!1,!0),this.minCropSize=this.editor.configStore.measurements.crop.minSize}static inRadians(e){return e*Math.PI/180}static placeCropMask(e,t){if(t.height*e>t.width){return{height:t.width/e,width:t.width,yChanged:!0}}const i=t.height*e;return{height:t.height,width:i,yChanged:!1}}changeIdentifier(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.transformStore.changeIdentifier(e);const i=this.getCropMask(e,this.defaults.imageSize);i&&(this.transformStore.changeRatio(i.ratio),this.changeLocalOutputSize(i),this.updatePreviewSizeWRTImageSize(),void 0!==i.yChanged&&this.updateInitialCropMaskPosition(i.yChanged),i.dimensions&&this.changeLocalOutputSize({width:i.dimensions.x,height:i.dimensions.y}),t&&this.trackChanges())}setDragMode(e){this.dragMode.set(e)}getCropMask(e,t){const i=this.getTransform(e);if(i){const{ratio:e,forceDimensions:r,lockDimensions:n,dimensions:o=null}=i;if(r&&this.transformStore.changeForceDimensions(r),n&&this.transformStore.changeLockResolution(n),e)return"*"===e?(this.changePosition({x:0,y:0}),{...t,yChanged:void 0,ratio:"*",dimensions:o}):{...vd.placeCropMask(i.ratio,t),ratio:i.ratio,dimensions:o};{const{x:e,y:r}=i.dimensions;return{...vd.placeCropMask(e/r,t),ratio:null,dimensions:o}}}return null}setCropDefaults(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const t=this.editor.outputContainer.getResolution();this.setDefaultImageSize(t);const i=this.editor.getPreviewSize(),{position:r}=this.editor.engineMediator.preview.previewTransformWithoutDpr;this.setMaxCropSize(i),this.setDefaultCropPosition({x:r.x-i.width/2,y:r.y-i.height/2}),this.changeDefaultScale(this.editor.scale.defaultScale),e||(this.unRotatedDefaults.cropMaskPosition=this.defaultCropMaskPosition,this.unRotatedDefaults.scale=this.defaultScale)}setDefaultImageSize(e){this.defaults.imageSize={...(0,Vn.p)(e)},this.lockResolution||(this.localOutputSize={...(0,Vn.p)(e)})}setMaxCropSize(e){this.defaults.maxCropMaskSize.height=e.height,this.defaults.maxCropMaskSize.width=e.width}setDefaultCropPosition(e){this.defaults.cropMaskPosition.x=e.x,this.defaults.cropMaskPosition.y=e.y}resetCrop(){this.transformStore.clearState(),this.transformStore.changeIdentifier("identity")}toggleCategorySelection(e){this.selectedCategory=this.selectedCategory===e?_d:e}pureReset(){this.transformStore.resetRotation(),this.transformStore.resetOutputRotation(),this.transformStore.resetFlip(),this.editor.spriteStore.correctTextFlip(),this.editor.overlayToolStore.correctOverlayFlip(),this.setDefaultAngle(0),this.engineMediator.output.applyNewImageTransform(),this.engineMediator.output.container.setData({flipHorizontally:!1,flipVertically:!1}),this.engineMediator.preview.updateTransform(),this.editor.scale.setInitialTransform(),this.setCropDefaults(),this.applyInitialCrop();const e=JSON.stringify(this.engineMediator.preview.container.getTransform()),t=JSON.stringify(this.editor.outputContainer.getTransform());this.transformations.resetTransforms({preview:e,output:t})}changePosition(e){return this.transformStore.changePosition(e,this.defaults.maxCropMaskSize)}changePositionX(e){return this.transformStore.changePositionX(e,this.defaults.maxCropMaskSize.width)}changePositionY(e){return this.transformStore.changePositionY(e,this.defaults.maxCropMaskSize.height)}changeCropAndOutputSize(e,t){let{width:i,height:r}=e,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(this.transformStore.changeWidth(i),this.transformStore.changeHeight(r),!this.lockResolution){const{height:e,width:o}=this.defaults.maxCropMaskSize,{height:s,width:a}=this.defaults.imageSize;let l=s/e*r;const c=a/o*i;t&&(l=c/t),n&&this.editor.configStore.events.onCropDimensionsChanged({width:Math.round(c),height:Math.round(l)}),r>=this.minCropSize&&this.changeLocalOutputHeight(l),i>=this.minCropSize&&this.changeLocalOutputWidth(c)}}transformRender(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.transformations.applyPreviewTransform(),e&&this.editor.render()}addSnapshot(){this.transformHistory.isEqual()||this.editor.addSnapshot({transform:this.serializableState},"edit","Transform edit")}trackChanges(){this.transformHistory.trackChanges()}get serializableState(){const{flipHorizontally:e,flipVertically:t}=this.rotateFlipState,{identifier:i,rotationInDegrees:r}=this,n=(0,Vn.cb)(r),o=(0,Vn.fb)((0,Vn.db)(this.editor.engineMediator.output.container.getRotation())+r),{start:s,end:a}=this.convertUIToOperationOptions(n,o);return{flipHorizontally:e,flipVertically:t,rotation:n,start:s,end:a,identifier:i,outputRotation:o}}getStartEndForOperation(e){const{leftTop:t,rightBottom:i,maxCropMaskSize:r}=this,n=t.y,o=t.x,s=i.x,a=i.y;switch(e){case 270:return{leftTop:{x:r.height-a,y:o},rightBottom:{x:r.height-n,y:s}};case 180:return{leftTop:{x:r.width-s,y:r.height-a},rightBottom:{x:r.width-o,y:r.height-n}};case 90:return{leftTop:{x:n,y:r.width-s},rightBottom:{x:a,y:r.width-o}};default:return{leftTop:{x:o,y:n},rightBottom:{x:s,y:a}}}}getStartEndForUI(e,t,i){const{maxCropMaskSize:r}=this,n=t.y,o=t.x,s=i.x,a=i.y;switch(e){case 90:return{leftTop:{x:r.width-a,y:o},rightBottom:{x:r.width-n,y:s}};case 180:return{leftTop:{x:r.width-s,y:r.height-a},rightBottom:{x:r.width-o,y:r.height-n}};case 270:return{leftTop:{x:n,y:r.height-s},rightBottom:{x:a,y:r.height-o}};default:return{leftTop:{x:o,y:n},rightBottom:{x:s,y:a}}}}convertOperationOptionsToUI(e){let{start:t,end:i,rotation:r,outputRotation:n}=e;const o=90===n||270===n,s=o?Vn.Qa.fromSize(this.defaultImageSize).swapped:Vn.Qa.fromSize(this.defaultImageSize),a=Math.cos(r),l=Math.sin(r),c=this.calculateScale(r),u=new Vn.Qa(Math.min(t.x,i.x),Math.min(t.y,i.y)),h=new Vn.Qa(Math.max(t.x,i.x),Math.max(t.y,i.y)).subtract(u).divide(2),d=u.add(h).multiply(s).subtract(s.multiply(.5)),p=new Vn.Qa(d.x*a-d.y*l,d.x*l+d.y*a).multiply(c),f=s.multiply(.5).add(p).divide(s),g=f.subtract(h.multiply(c)),m=f.add(h.multiply(c)),y=o?Vn.Qa.fromSize(this.maxCropMaskSize).swapped:Vn.Qa.fromSize(this.maxCropMaskSize),_=g.multiply(y),v=m.multiply(y),{leftTop:b,rightBottom:x}=this.getStartEndForUI(n,_,v);return{start:new Vn.Qa(b),end:new Vn.Qa(x)}}convertUIToOperationOptions(e,t){const i=90===t||270===t,r=i?Vn.Qa.fromSize(this.defaultImageSize).swapped:Vn.Qa.fromSize(this.defaultImageSize),n=i?Vn.Qa.fromSize(this.maxCropMaskSize).swapped:Vn.Qa.fromSize(this.maxCropMaskSize),o=Math.cos(-e),s=Math.sin(-e),a=this.calculateScale(e,i),{leftTop:l,rightBottom:c}=this.getStartEndForOperation(t),u=new Vn.Qa(l).divide(n),h=new Vn.Qa(c).divide(n).subtract(u).divide(2),d=u.add(h).multiply(r).subtract(r.multiply(.5)),p=new Vn.Qa(d.x*o-d.y*s,d.x*s+d.y*o).divide(a),f=r.multiply(.5).add(p).divide(r);return{start:f.subtract(h.divide(a)),end:f.add(h.divide(a))}}calculateScale(e){const t=arguments.length>1&&void 0!==arguments[1]&&arguments[1]?Vn.Qa.fromSize(this.defaultImageSize).swapped:Vn.Qa.fromSize(this.defaultImageSize),i=new Vn.Qa(Math.abs(t.x*Math.cos(e))+Math.abs(t.y*Math.sin(e)),Math.abs(t.x*Math.sin(e))+Math.abs(t.y*Math.cos(e))),r=t.subtract(i.clone()).divide(2).abs;return r.y>r.x?2*r.y/t.y+1:2*r.x/t.x+1}updateStateFromSerialization(e){this.transformStore.resetRotation(),this.transformStore.resetOutputRotation(),this.transformStore.resetFlip(),this.setDefaultAngle(0),0!==this.editor.outputContainer.getRotation()&&this.engineMediator.output.applyNewImageTransform(),this.engineMediator.output.container.setData({flipHorizontally:!1,flipVertically:!1}),this.engineMediator.preview.updateTransform(),this.editor.scale.setInitialTransform(),this.setCropDefaults(),this.applyInitialCrop();const t=Math.round((0,Vn.db)(e.rotation));if(this.transformStore.setRotation(t>180?t-360:t),this.transformations.rotateOutputContainer((0,Vn.cb)((0,Vn.fb)(e.outputRotation||0))),e.identifier&&this.transformStore.changeIdentifier(e.identifier),e.start&&e.end){0!==e.end.x&&0!==e.end.y||(e.end.x=1,e.end.y=1);const{start:t,end:i}=this.convertOperationOptionsToUI({start:new Vn.Qa(e.start),end:new Vn.Qa(e.end),rotation:e.rotation,outputRotation:e.outputRotation});this.changePositionX(t.x),this.changePositionY(t.y);const r=i.x-t.x,n=i.y-t.y;this.transformStore.changeSize({width:r,height:n});const{maxCropMaskSize:o,imageSize:s}=this.defaults,a={height:n*s.height/o.height,width:r*s.width/o.width};this.changeLocalOutputSize(a)}e.flipHorizontally&&this.flipHorizontally(!1),e.flipVertically&&this.flipVertically(!1),this.editor.overlayToolStore.correctOverlayFlip()}setDefaultAngle(e){this.defaultAngle=e}updateCanvasControls(e){const t=(0,Vn.p)(this.cropMaskPosition),i=(0,Vn.p)(this.cropMaskSize),r=(0,Vn.p)(this.defaults.maxCropMaskSize);this.changeCropAndOutputSize({height:r.height*i.height/e.height,width:r.width*i.width/e.width},void 0,!1),this.changePosition({y:r.height*t.y/e.height,x:r.width*t.x/e.width})}onLeave(){this.transformations.onLeave()}onEnter(){this.transformations.onEnter(),this.transformHistory.init()}saveTransforms(){this.transformations.saveTransforms()}saveTransformsBasedOnFlip(){this.transformations.saveTransformsBasedOnFlip()}setRotation(e){this.transformStore.setRotation(e),this.transformRender()}async rotateOutputContainer(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.setDragMode(!0),this.transformations.rotateOutputContainer(e,t),await this.editor.wait(),this.setDragMode(!1)}applyInitialCrop(){const{identifier:e}=this.getMatchingItem();this.changeIdentifier(e,!1)}clickableCanvas(e){this.editor.clickableCanvas(e)}proportionalSize(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.defaults.maxCropMaskSize,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.minCropSize,n=t.height*e,{height:o}=t;return(n>i.width||n<r||o<r)&&(n=t.width,o=t.width/e),{width:Math.round(n),height:Math.round(o)}}checkAndAddSnapshot(e){const t=(0,Vn.p)(this.localOutputSize);e.width===t.width&&e.height===t.height||this.trackChanges()}updateInitialCropMaskPosition(e){const{cropMaskSize:t}=this,i=this.defaults.maxCropMaskSize;e?this.changePosition({x:0,y:Math.abs(i.height-t.height)/2}):this.changePosition({x:Math.abs(i.width-t.width)/2,y:0})}updatePreviewSizeWRTImageSize(){const e=(0,Vn.p)(this.localOutputSize),t=(0,Vn.p)(this.defaults.imageSize),i=(0,Vn.p)(this.defaults.maxCropMaskSize),r={height:i.height*e.height/t.height,width:i.width*e.width/t.width};this.transformStore.changeSize(r)}getScaleWithFlip(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.rotateFlipState.rotation;return this.transformations.getScaleWithFlip(e)}get cropState(){return this.transformStore.selectedCrop}get identifier(){return this.transformStore.identifier}get ratio(){return this.transformStore.ratio}get height(){return this.transformStore.height}get width(){return this.transformStore.width}get localOutputImageSize(){return this.localOutputSize}get localOutputHeight(){return this.localOutputSize.height}get localOutputWidth(){return this.localOutputSize.width}get lockResolution(){return this.transformStore.lockResolution}get forceDimensions(){return this.transformStore.forceDimensions}get rotationInDegrees(){return this.transformStore.rotationInDegrees}get outputRotation(){return this.transformStore.outputRotation}get isDragMode(){return this.dragMode.get()}get rotateFlipState(){const{flipHorizontally:e,flipVertically:t,rotationInDegrees:i,outputRotation:r}=this.transformStore.state;return{flipHorizontally:e,flipVertically:t,rotation:vd.inRadians(i),outputRotation:r}}get selectedCategoryIdentifier(){return this.selectedCategory}get categories(){return this.entityManager.categories}get items(){return this.entityManager.items}get config(){return this.editor.configStore.config.transform}get locale(){return this.editor.configStore.locale.transform}get isOptionSelected(){return"identity"!==this.identifier}get leftTop(){return this.rect.leftTop}get leftBottom(){return this.rect.leftBottom}get rightTop(){return this.rect.rightTop}get rightBottom(){return this.rect.rightBottom}get isFlippedHorizontal(){return this.transformStore.isFlippedHorizontal}get isFlippedVertical(){return this.transformStore.isFlippedVertical}get leftTopRespectFlip(){return this.rectForUi.leftTop}get leftBottomRespectFlip(){return this.rectForUi.leftBottom}get rightTopRespectFlip(){return this.rectForUi.rightTop}get rightBottomRespectFlip(){return this.rectForUi.rightBottom}get cropMaskPosition(){return this.transformStore.position}get cropMaskSize(){return this.transformStore.size}get state(){return this.transformStore.state}get defaultImageSize(){return this.defaults.imageSize}get maxCropMaskSize(){return this.defaults.maxCropMaskSize}get minCropMaskSize(){const e=this.getRatio();return"*"===e||1===e?{width:this.minCropSize,height:this.minCropSize}:e>1?{width:this.minCropSize*e,height:this.minCropSize}:{width:this.minCropSize,height:this.minCropSize*e}}get defaultCropMaskPosition(){return this.defaults.cropMaskPosition}get defaultScale(){return this.defaults.scale}get engineMediator(){return this.editor.engineMediator}getRatio(){const e=this.getTransform(this.identifier);if(e){if(Object.prototype.hasOwnProperty.call(e,"ratio"))return this.lockResolution?this.localOutputWidth/this.localOutputHeight:e.ratio;const{x:t,y:i}=e.dimensions;return t/i}return"*"}},bd=vd;(0,Vn.c)([Vn.e],bd.prototype,"selectedCategory",2),(0,Vn.c)([Vn.e],bd.prototype,"defaults",2),(0,Vn.c)([Vn.e],bd.prototype,"localOutputSize",2),(0,Vn.c)([Vn.l],bd.prototype,"changeIdentifier",1),(0,Vn.c)([Vn.l],bd.prototype,"setDragMode",1),(0,Vn.c)([Vn.l],bd.prototype,"setCropDefaults",1),(0,Vn.c)([Vn.l],bd.prototype,"setDefaultImageSize",1),(0,Vn.c)([Vn.l],bd.prototype,"setMaxCropSize",1),(0,Vn.c)([Vn.l],bd.prototype,"setDefaultCropPosition",1),(0,Vn.c)([Vn.l],bd.prototype,"resetCrop",1),(0,Vn.c)([Vn.l],bd.prototype,"toggleCategorySelection",1),(0,Vn.c)([Vn.l],bd.prototype,"pureReset",1),(0,Vn.c)([Vn.l],bd.prototype,"reset",2),(0,Vn.c)([Vn.l],bd.prototype,"changePosition",1),(0,Vn.c)([Vn.l],bd.prototype,"changePositionX",1),(0,Vn.c)([Vn.l],bd.prototype,"changePositionY",1),(0,Vn.c)([Vn.l],bd.prototype,"changeCropAndOutputSize",1),(0,Vn.c)([Vn.l],bd.prototype,"onLeave",1),(0,Vn.c)([Vn.l],bd.prototype,"onEnter",1),(0,Vn.c)([Vn.l],bd.prototype,"changeLocalOutputSize",2),(0,Vn.c)([Vn.l],bd.prototype,"changeDefaultScale",2),(0,Vn.c)([Vn.l],bd.prototype,"changeLocalOutputHeight",2),(0,Vn.c)([Vn.l],bd.prototype,"changeLocalOutputWidth",2),(0,Vn.c)([Vn.l],bd.prototype,"changeLockResolution",2),(0,Vn.c)([Vn.l],bd.prototype,"setRotation",1),(0,Vn.c)([Vn.l],bd.prototype,"rotateClockwise",2),(0,Vn.c)([Vn.l],bd.prototype,"rotateAntiClockwise",2),(0,Vn.c)([Vn.l],bd.prototype,"rotateOutputContainer",1),(0,Vn.c)([Vn.l],bd.prototype,"flipHorizontally",2),(0,Vn.c)([Vn.l],bd.prototype,"flipVertically",2),(0,Vn.c)([Vn.l],bd.prototype,"applyDefaultCrop",2),(0,Vn.c)([Vn.l],bd.prototype,"applyInitialCrop",1),(0,Vn.c)([Vn.l],bd.prototype,"updateCropMask",2),(0,Vn.c)([Vn.l],bd.prototype,"clickableCanvas",1),(0,Vn.c)([Vn.l],bd.prototype,"onLeftTop",2),(0,Vn.c)([Vn.l],bd.prototype,"onLeftBottom",2),(0,Vn.c)([Vn.l],bd.prototype,"onRightTop",2),(0,Vn.c)([Vn.l],bd.prototype,"onRightBottom",2),(0,Vn.c)([Vn.l],bd.prototype,"proportionalSize",1),(0,Vn.c)([Vn.l],bd.prototype,"onPixelWidth",2),(0,Vn.c)([Vn.l],bd.prototype,"onPixelHeight",2),(0,Vn.c)([Vn.l],bd.prototype,"updateInitialCropMaskPosition",1),(0,Vn.c)([Vn.l],bd.prototype,"updatePreviewSizeWRTImageSize",1),(0,Vn.c)([Vn.l],bd.prototype,"dispose",2),(0,Vn.c)([Vn.f],bd.prototype,"cropState",1),(0,Vn.c)([Vn.f],bd.prototype,"identifier",1),(0,Vn.c)([Vn.f],bd.prototype,"ratio",1),(0,Vn.c)([Vn.f],bd.prototype,"height",1),(0,Vn.c)([Vn.f],bd.prototype,"width",1),(0,Vn.c)([Vn.f],bd.prototype,"localOutputImageSize",1),(0,Vn.c)([Vn.f],bd.prototype,"localOutputHeight",1),(0,Vn.c)([Vn.f],bd.prototype,"localOutputWidth",1),(0,Vn.c)([Vn.f],bd.prototype,"lockResolution",1),(0,Vn.c)([Vn.f],bd.prototype,"forceDimensions",1),(0,Vn.c)([Vn.f],bd.prototype,"rotationInDegrees",1),(0,Vn.c)([Vn.f],bd.prototype,"outputRotation",1),(0,Vn.c)([Vn.f],bd.prototype,"isDragMode",1),(0,Vn.c)([Vn.f],bd.prototype,"rotateFlipState",1),(0,Vn.c)([Vn.f],bd.prototype,"selectedCategoryIdentifier",1),(0,Vn.c)([Vn.f],bd.prototype,"categories",1),(0,Vn.c)([Vn.f],bd.prototype,"items",1),(0,Vn.c)([Vn.f],bd.prototype,"config",1),(0,Vn.c)([Vn.f],bd.prototype,"locale",1),(0,Vn.c)([Vn.f],bd.prototype,"isOptionSelected",1),(0,Vn.c)([Vn.f],bd.prototype,"leftTop",1),(0,Vn.c)([Vn.f],bd.prototype,"leftBottom",1),(0,Vn.c)([Vn.f],bd.prototype,"rightTop",1),(0,Vn.c)([Vn.f],bd.prototype,"rightBottom",1),(0,Vn.c)([Vn.f],bd.prototype,"isFlippedHorizontal",1),(0,Vn.c)([Vn.f],bd.prototype,"isFlippedVertical",1),(0,Vn.c)([Vn.f],bd.prototype,"leftTopRespectFlip",1),(0,Vn.c)([Vn.f],bd.prototype,"leftBottomRespectFlip",1),(0,Vn.c)([Vn.f],bd.prototype,"rightTopRespectFlip",1),(0,Vn.c)([Vn.f],bd.prototype,"rightBottomRespectFlip",1),(0,Vn.c)([Vn.f],bd.prototype,"cropMaskPosition",1),(0,Vn.c)([Vn.f],bd.prototype,"cropMaskSize",1),(0,Vn.c)([Vn.f],bd.prototype,"state",1),(0,Vn.c)([Vn.f],bd.prototype,"defaultImageSize",1),(0,Vn.c)([Vn.f],bd.prototype,"maxCropMaskSize",1),(0,Vn.c)([Vn.f],bd.prototype,"minCropMaskSize",1),(0,Vn.c)([Vn.f],bd.prototype,"defaultCropMaskPosition",1),(0,Vn.c)([Vn.f],bd.prototype,"defaultScale",1);var xd=(0,Vn.b)((0,Vn.$a)()),wd={},Sd="none",kd={x:0,y:0},Cd=class{constructor(e){var t=this;this.state=Vn.e.map(wd),this.selectedId=Vn.e.box(Sd),this.editMode=Vn.e.box(!1),this.dragMode=Vn.e.box(!1),this.minLength=0,this.counter=0,this.addSticker=async function(e){let i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];await t.addStickerAsync(e,i)},this.addStickerAsync=async function(e){let{spriteId:i,state:r,transform:n}=e,o=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return new Promise(((e,s)=>{n=t.getInitialTransform(n);const{identifier:a}=r,l=t.editor.orderHelper.addSprite(a);t.editor.engine.addStickerFromAssets(a,t.editor.engineMediator.image.container,l).then((async s=>{i&&s.setData({id:i});const l=s.getID();t.container[l]=s,t.editor.orderHelper.renameSprite(a,l);const c=t.getSize(l);let u;if(c.width*=s.getScale().x,c.height*=s.getScale().y,s.setPivot(.5,.5),n.scale)u=n.scale;else if(n.size)u={x:n.size.width/c.width,y:n.size.height/c.height};else{const e=.4*t.editor.shortestOutputSide,i=Cd.magnitude(e)/Cd.sizeMagnitude(s.getSizeInWorldSpace());u={x:i,y:i}}const{flipHorizontally:h,flipVertically:d}=t.editor.outputContainer.getData();s.setFlipHorizontally(h),s.setFlipVertically(d),s.setTransform({position:n.position,scale:u,rotation:n.rotation}),void 0!==r.flipHorizontally&&s.setFlipHorizontally(r.flipHorizontally!==h),void 0!==r.flipVertically&&s.setFlipVertically(r.flipVertically!==d),t.setContainerProperties(l,{...r});const p=s.getData();t.setInitialSpriteState(l,"sticker"),t.stickerToolStore.setState(l,{...p,identifier:a}),await t.editor.renderPromise(),o&&(t.setId(l),t.addSnapshot("add",t.stickerLocale.add)),e()})).catch((e=>{console.error(e),s()}))}))},this.addText=async function(e){let i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];await t.addTextAsync(e,i)},this.addTextAsync=function(e){let{spriteId:i,state:r,transform:n}=e,o=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return new Promise(((e,s)=>{n=t.getInitialTransform(n);const a=t.editor.orderHelper.addSprite(r.identifier),l=t.editor.shortestOutputSide,c={fontIdentifier:r.identifier,text:r.text,width:r.width||.6*l,fontSize:r.fontSize||.1*l,lineHeight:r.lineHeight,alignment:r.alignment,textColor:r.textColor,backgroundColor:r.backgroundColor};t.editor.engine.addTextWithFontLoading(c,t.editor.engineMediator.image.container,a).then((async s=>{i&&s.setData({id:i});const a=s.getID();t.container[a]=s,t.editor.orderHelper.renameSprite(r.identifier,a);const{flipHorizontally:l,flipVertically:c}=t.editor.outputContainer.getData();s.setFlipHorizontally(l),s.setFlipVertically(c),s.setPivot(.5,.5),s.setPosition(n.position),s.setRotation(n.rotation),t.setInitialSpriteState(a,"text");const u=s.getData();t.textToolStore.setState(a,{...u}),await t.editor.renderPromise(),o&&(t.setId(a),t.addSnapshot("add",t.textLocale.add)),e()})).catch((e=>{console.error(e),s()}))}))},this.addTextDesign=async function(e){let i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];try{await t.addTextDesignAsync(e,i,r)}catch(n){console.warn(n)}},this.addTextDesignAsync=function(e){let{spriteId:i,state:r,transform:n}=e,o=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return new Promise(((e,a)=>{n=t.getInitialTransform(n);const l=t.editor.orderHelper.addSprite(r.identifier),c=t.editor.shortestOutputSide,u={width:r.width||.6*c,text:r.text,color:r.color,inverted:r.isInverted,seed:r.seed,padding:r.padding};t.editor.engine.addTextDesignAsync(r.identifier,u,t.editor.engineMediator.image.container,l).then((async a=>{i&&(s&&(t.pureRemoveSprite(i),t.textDesignToolStore.state.delete(i)),a.setData({id:i}));const l=a.getID();t.container[l]=a,t.editor.orderHelper.renameSprite(r.identifier,l);const{flipHorizontally:c,flipVertically:u}=t.editor.outputContainer.getData();a.setFlipHorizontally(c),a.setFlipVertically(u),a.setPivot(.5,.5),a.setPosition(n.position),a.setRotation(n.rotation),t.setInitialSpriteState(l,"textdesign");const h=a.getData();t.textDesignToolStore.setState(l,{...h,identifier:r.identifier}),await t.editor.renderPromise(),o&&(t.setId(l),t.addSnapshot("add",t.textDesignLocale.add)),e()})).catch((e=>{a(e)}))}))},this.spriteLocalTransform=()=>({position:this.editor.previewToOutput(this.position),size:this.size,rotation:this.rotation}),this.clickableCanvas=e=>{this.editor.clickableCanvas(e)},this.setContainerProperties=function(e,i){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];t.container[e].setData(i),r&&t.updatePositionAndSize(),t.editor.render()},this.setContainerPosition=(e,t)=>{this.container[e].setPosition(t)},this.pureRemoveSprite=e=>{this.editor.engine.removeContainer(this.container[e]);return-1===this.container[e].getIndexInParent()&&(delete this.container[e],this.state.delete(e),this.editor.orderHelper.removeSprite(e),!0)},this.deleteSprite=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.id;const i=t.state.get(e);"sticker"===i.tool?t.stickerToolStore.delete():"text"===i.tool?t.textToolStore.delete():"textdesign"===i.tool&&t.textDesignToolStore.delete()},this.removeSprite=e=>{this.pureRemoveSprite(e)&&(this.selectLast(),this.spriteSnapshot("delete"),this.editor.render())},this.addSnapshot=(e,t)=>{this.editor.addSnapshot(void 0,e,t)},this.spriteSnapshot=e=>{this.addSnapshot("edit",this.historyLocale[e])},this.addNewText=async(e,t)=>{if(!this.textToolStore.doesTextAssetExist(t.identifier))throw new Vn.Za(t.identifier);await this.addTextAsync({...e,state:t},!1)},this.addNewTextDesign=async(e,t)=>{if(!this.textDesignToolStore.doesTextDesignAssetExist(t.identifier))throw new Vn.Za(t.identifier);await this.addTextDesignAsync({...e,state:t},!1)},this.addNewSticker=async(e,t)=>{if(!this.stickerToolStore.doesStickerAssetExist(t.identifier))throw new Vn.Za(t.identifier);await this.addStickerAsync({...e,state:t},!1)},this.getSpriteHistoryState=()=>{const e=(0,Vn.p)(this.textToolStore.state),t=(0,Vn.p)(this.textDesignToolStore.state),i={common:(0,Vn.p)(this.state),sticker:(0,Vn.p)(this.stickerToolStore.state),text:e,textdesign:t,spriteIdList:Object.keys(this.container)};return Object.keys(i.common).forEach((e=>{i.common[e].size=this.container[e].getSizeInWorldSpace(),i.common[e].position=this.container[e].getPosition(),i.common[e].order=this.container[e].getIndexInParent()})),i},this.updateStateFromSerialization=async(e,t,i)=>{if(t&&t.length)try{const e=await Promise.all(t.map((async e=>{let{svg:t,raster:i,name:r,identifier:n}=e;const o=(null==t?void 0:t.data)?"image/svg+xml":i.type,s="data:".concat(o,";base64,").concat((null==t?void 0:t.data)||i.data);return{stickerURI:s,thumbnailURI:await lh(s,150),name:r,type:o,identifier:n}})));await this.stickerToolStore.addCustomStickerAsset(e)}catch(r){this.editor.modalStore.hideModal(),this.editor.modalStore.showInfoModal("stickerLoading")}e.text&&await this.textToolStore.loadFonts(),e.textdesign&&await this.textDesignToolStore.loadFonts(),await this.updateStateByHistoryState(e.spriteIdList,e,i)},this.updateStateFromHistory=async e=>{Object.keys(this.container).filter((t=>-1===e.spriteIdList.indexOf(t))).forEach((e=>{this.pureRemoveSprite(e)})),await this.updateStateByHistoryState(e.spriteIdList,e,0)},this.serializableState=async()=>{const e=this.editor.spriteStore.getSpriteHistoryState();Object.keys(e.common).forEach((t=>{const{flipHorizontally:i,flipVertically:r}=this.editor.outputContainer.getData(),n=this.editor.outputContainer.getRotation(),o=r!==i?-e.common[t].rotation:e.common[t].rotation;e.common[t].rotation=r!==i?o+n:o-n}));const t=await Promise.all(this.editor.spriteStore.stickerToolStore.customStickers.map((async e=>{let{identifier:t,type:i,stickerURI:r,name:n}=e;const o={identifier:t,name:n,raster:{data:"",type:"image/jpeg"}};if("image/svg+xml"===i&&(o.svg={data:r.split(",")[1]}),"image/jpeg"===i||"image/png"===i||"image/gif"===i)[,o.raster.data]=r.split(","),o.raster.type=i;else{const e=await lh(r);[,o.raster.data]=e.split(","),o.raster.type="image/png"}return o})));return{sprite:e,customStickers:t}},this.updateCanvasControls=()=>{Object.keys(this.container).forEach((e=>{this.updatePositionAndSize(e,!0);const t=this.state.get(e);if(t)if("text"===t.tool){const t=this.getContainerProperties(e);this.textToolStore.changeSize(e,t)}else if("textdesign"===t.tool){const t=this.getContainerProperties(e);this.textToolStore.changeWidth(t.width)}}))},this.setEditMode=e=>{this.currentSprite&&-1!==["text","textdesign"].indexOf(this.tool)&&(e?this.editor.modalStore.showTextEditModal():this.editor.modalStore.hideModal(),this.editMode.set(e))},this.setDragMode=e=>{this.dragMode.set(e)},this.setPosition=e=>{const t=this.currentSprite,i=this.container[this.id];if(t&&i){i.setPosition(this.editor.previewToWorld(e));const{position:r}=this.getSizePositionFromContainer();t.position.x=r.x,t.position.y=r.y,this.state.set(this.id,t),this.editor.render()}},this.setSize=e=>{const t=this.currentSprite;t&&(t.size.width=e.width,t.size.height=e.height,this.state.set(this.id,t))},this.setRotation=e=>{const t=this.currentSprite;if(t){const{flipHorizontally:i,flipVertically:r}=this.editor.outputContainer.getData(),n=this.editor.outputContainer.getRotation(),o=(0,Vn.rb)({rotation:e,outputRotation:n,flipHorizontally:i,flipVertically:r});this.container[this.id].setRotation(o),t.rotation=this.container[this.id].getRotation(),this.state.set(this.id,t),this.editor.render()}},this.onCanvasClick=e=>{this.isEditMode||this.selectHighestOrderSprite(e)},this.select=e=>{const t=this.state.get(e);if(t){this.editor.activeStore.tool!==t.tool&&this.editor.activeStore.selectTool(t.tool),this.setId(e)}},this.selectLast=()=>{const e=this.editor.orderHelper.getLastSpriteId();e&&this.select(e)},this.selectNext=()=>{if(this.currentSprite){const e=this.container[this.id].getIndexInParent();if(e){const t=Object.keys(this.container).find((t=>this.container[t].getIndexInParent()===e-1));t&&this.select(t)}}},this.deselect=()=>{this.setId(Sd)},this.bringToFront=async e=>{const t=this.editor.orderHelper.bringToFront(e);this.container[e].setIndexInParent(t),this.spriteSnapshot("order"),await this.editor.render(),this.counter+=1},this.flipHorizontally=e=>{const t=this.state.get(e),i=this.container[e];i.setFlipHorizontally(!i.getFlipHorizontally()),t.flipHorizontally=i.getFlipHorizontally(),this.spriteSnapshot("flip"),this.state.set(e,t),this.editor.render()},this.pureReset=()=>{this.deselect(),Array.from(this.state.keys()).forEach((e=>{this.pureRemoveSprite(e)})),this.stickerToolStore.pureReset(),this.textToolStore.pureReset(),this.textDesignToolStore.pureReset()},this.selectHighestOrderSprite=e=>{const t=this.editor.brushToolStore.containerId();if((e=e.filter((e=>e!==t))).length<1)return void this.deselect();let i="",r=0;e.forEach((e=>{const t=this.container[e],n=t&&t.getIndexInParent()||0;n>=r&&(r=n,i=e)})),this.select(i)},this.onCornerDrag=e=>{let{x:t,y:i}=e;if(this.currentSprite){const e=new Vn.Qa(this.currentSprite.position),r=new Vn.Qa(t,i),n=r.subtract(e).magnitude,o=this.getSize(),s=2*n/Cd.sizeMagnitude(o);if(n>this.minLength)if(this.isSpriteSticker)if("unrestricted"!==this.stickerToolStore.resizeMode)this.setStickerSize({width:o.width*s,height:o.height*s});else{const t=this.rotationWRTOutputRotation,i=r.subtract(e),n=Math.cos(t),o=Math.sin(t),s=Math.max(Math.abs(i.x*n*2+i.y*o*2),this.minLength),a=Math.max(Math.abs(i.x*-o*2+i.y*n*2),this.minLength);this.setStickerSize({width:s,height:a})}else this.isSpriteText?this.setTextSize(o.width*s):this.isSpriteTextDesign&&this.setTextDesignScale(s);this.editor.render()}},this.onWidthDrag=e=>{let{x:t,y:i}=e;const r=new Vn.Qa(this.currentSprite.position),n=new Vn.Qa(t,i).subtract(r).magnitude,o=this.editor.previewToWorld(2*n);if(o>this.minLength&&(this.setContainerProperties(this.id,{width:o},!0),this.isSpriteText)){const e=this.getContainerProperties(this.id);this.textToolStore.changeWidth(e.width)}},this.onPaddingDrag=e=>{let{x:t,y:i}=e;if(this.isSpriteTextDesign){let e=this.getContainerProperties(this.id);const r=new Vn.Qa(this.currentSprite.position),n=new Vn.Qa(t,i).subtract(r).magnitude,o=Math.max(this.editor.previewToWorld(n)-e.width/2,0);this.setContainerProperties(this.id,{padding:o},!0),this.isSpriteTextDesign&&(e=this.getContainerProperties(this.id),this.textDesignToolStore.changePadding(e.padding))}},this.correctTextFlip=()=>{const{flipHorizontally:e,flipVertically:t}=this.editor.outputContainer.getData();Object.values(this.container).forEach((i=>{"text"!==i.type&&"text-design"!==i.type||(i.setFlipHorizontally(e),i.setFlipVertically(t))}))},this.reverseTextHorizontally=e=>{Object.values(this.container).forEach((t=>{"text"!==t.type&&"text-design"!==t.type||t.setFlipHorizontally(e)}))},this.reverseTextVertically=e=>{Object.values(this.container).forEach((t=>{"text"!==t.type&&"text-design"!==t.type||t.setFlipVertically(e)}))},this.dispose=()=>{this.state=null,this.stickerToolStore&&(this.stickerToolStore.dispose(),this.stickerToolStore=null),this.textToolStore&&(this.textToolStore.dispose(),this.textToolStore=null),this.textDesignToolStore&&(this.textDesignToolStore.dispose(),this.textDesignToolStore=null),this.selectedId=null,this.editMode=null,this.dragMode=null,this.editor=null,this.rect=null},this.getOutputProperties=()=>this.editor.outputContainer.getData(),this.getContainerProperties=e=>this.container[e].getData(),this.getContainerTransform=e=>this.container[e].getTransform(),this.getDuplicateContainerTransform=e=>{const t=this.container[e].getTransform(),i=.1*this.editor.shortestOutputSide,r=new Vn.Qa(t.position).add(new Vn.Qa(i,i));return{...t,position:r}},this.getDuplicateContainerFlip=e=>({flipHorizontally:this.container[e].getFlipHorizontally(),flipVertically:this.container[e].getFlipVertically()}),this.updatePositionAndSize=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.id,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{position:r,size:n}=t.getSizePositionFromContainer(e),o=t.state.get(e);if(o){if(o.position.x=r.x,o.position.y=r.y,o.size.width=n.width,o.size.height=n.height,i){const i=t.container[e].getRotation();t.container[e].setRotation(i),o.rotation=t.container[e].getRotation()}t.state.set(e,o)}},this.getInitialTransform=e=>{const t=this.editor.outputToWorld(kd);if(!e){return{rotation:this.editor.outputContainer.getRotation(),position:t}}return{position:t,...e}},this.setInitialSpriteState=(e,t)=>{const i=this.container[e],{position:r,size:n}=this.getSizePositionFromContainer(e),o=i.getRotation(),s="sticker"===t&&i.getFlipHorizontally(),a="sticker"===t&&i.getFlipVertically();this.state.set(e,{tool:t,position:r,rotation:o,size:n,flipHorizontally:s,flipVertically:a})},this.setStickerSize=e=>{const t=this.container[this.id];t.setSizeInWorldSpace(this.editor.previewSizeToWorld(e));const i=this.currentSprite;i&&(i.size=this.editor.worldSizeToPreview(t.getSizeInWorldSpace()),this.state.set(this.id,i))},this.setTextSize=e=>{let t=this.getContainerProperties(this.id);const i={width:this.editor.previewToWorld(e)},r=i.width/t.width,n={fontSize:Math.round(t.fontSize*r)},o=this.isSpriteText?{...i,...n}:i;i.width>this.minLength&&n.fontSize&&(this.setContainerProperties(this.id,o,!0),t=this.getContainerProperties(this.id),this.textToolStore.changeFontSize(t.fontSize,!0),this.textToolStore.changeWidth(t.width))},this.setTextDesignScale=e=>{let t=this.getContainerProperties(this.id);const i=t.width*e;if(i>this.minLength){this.setContainerProperties(this.id,{width:i},!0);const{width:e}=this.getContainerProperties(this.id);this.textDesignToolStore.changeWidth(e),t=this.getContainerProperties(this.id),this.textDesignToolStore.changePadding(t.padding)}},this.getSizePositionFromContainer=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.id;const i=t.container[e];if(i){return{position:t.editor.worldToPreview(i.getPosition()),size:t.editor.worldSizeToPreview(i.getSizeInWorldSpace())}}return{position:{x:0,y:0},size:{height:1,width:1}}},this.getSize=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.id;const i=t.container[e];return i?t.editor.worldSizeToPreview(i.getSizeInWorldSpace()):{width:0,height:0}},this.editor=e,this.container={},this.stickerToolStore=new dh(e),this.textToolStore=new yh(e),this.textDesignToolStore=new xh(e),this.rect=new fd(this.editor,this),this.minLength=this.editor.configStore.measurements.canvasControls.sprite.minSize/Math.sqrt(2)}static magnitude(e,t){return new Vn.Qa(e,t||e).magnitude}static sizeMagnitude(e){return Math.sqrt(e.width*e.width+e.height*e.height)}async updateStateByHistoryState(e,t,i){await(0,xd.default)(e,(async e=>{t.common[e]&&(this.state.get(e)?this.updateExistingItem(e,t):await this.addNewItem(e,t))})),e.forEach((e=>{const r=t.common[e],n=this.container[e];r&&n&&n.setIndexInParent(r.order+i)})),this.counter+=1}async addNewItem(e,t){const i=t.common[e],r=i.size?{width:this.editor.worldToPreview(i.size.width),height:this.editor.worldToPreview(i.size.height)}:void 0,{flipHorizontally:n,flipVertically:o}=this.editor.outputContainer.getData(),s=this.editor.outputContainer.getRotation(),a=o!==n?i.rotation-s:i.rotation+s,l=o!==n?-a:a,c={spriteId:e,transform:{size:r,position:new Vn.Qa(i.position),rotation:l}};if(t.text[e]){const i=t.text[e],r=this.textToolStore.validFontWithConfig(i.identifier);return i.identifier=null==r?void 0:r.identifier,void await this.addNewText(c,i)}if(t.textdesign[e])await this.addNewTextDesign(c,t.textdesign[e]);else if(t.sticker[e]){const r=this.stickerToolStore.items.find((i=>i.identifier===t.sticker[e].identifier));await this.addNewSticker(c,{...t.sticker[e],flipHorizontally:i.flipHorizontally,flipVertically:i.flipVertically,resizeMode:t.sticker[e].resizeMode||(null==r?void 0:r.resizeMode)||"keepAspect"})}}updateExistingItem(e,t){const i=t.common[e],r=this.state.get(e);this.state.set(e,r);const n=this.container[e];if(n.setPosition(new Vn.Qa(i.position)),n.setRotation(i.rotation),r.rotation=n.getRotation(),void 0!==i.flipHorizontally&&n.setFlipHorizontally(i.flipHorizontally),void 0!==i.flipVertically&&n.setFlipVertically(i.flipVertically),t.text[e]){const i=t.text[e];this.textToolStore.updateStateFromHistory(e,{...i,fontIdentifier:i.identifier})}if(t.textdesign[e]){const i=t.textdesign[e];this.textDesignToolStore.updateStateFromHistory(e,{...i,inverted:i.isInverted})}t.sticker[e]&&(n.setSizeInWorldSpace(i.size),this.stickerToolStore.updateStateFromHistory(e,t.sticker[e])),this.updatePositionAndSize(e)}get currentSprite(){if(this.isSpriteSelected)return this.state.get(this.id)}get padding(){return this.textDesignToolStore.padding}get isEditMode(){return this.editMode.get()}get isDragMode(){return this.dragMode.get()}get id(){return this.selectedId.get()}get isSpriteSelected(){return this.id!==Sd}get position(){if(this.currentSprite)return this.currentSprite.position}get tool(){if(this.currentSprite)return this.currentSprite.tool}get size(){if(this.currentSprite)return this.currentSprite.size}get rotation(){if(this.currentSprite)return this.currentSprite.rotation}get rotationWRTOutputRotation(){if(this.currentSprite){const{flipHorizontally:e,flipVertically:t}=this.editor.outputContainer.getData(),i=this.editor.outputContainer.getRotation();return(0,Vn.rb)({rotation:this.currentSprite.rotation-i,flipHorizontally:e,flipVertically:t})}}get flipHorizontal(){if(this.currentSprite)return this.currentSprite.flipHorizontally}get isSpriteSticker(){return"sticker"===this.tool}get isSpriteText(){return"text"===this.tool}get isSpriteTextDesign(){return"textdesign"===this.tool}get isOnTop(){this.counter;return this.editor.engine.isSpriteTop(this.id)}get spritePosition(){if(this.currentSprite){const{x:e,y:t}=this.currentSprite.position,{height:i,width:r}=this.currentSprite.size;return{x:Math.round(e-r/2),y:Math.round(t-i/2)}}}get currentRect(){if(this.currentSprite)return this.rect}get leftTopPosition(){if(this.currentSprite)return this.rect.leftTop}get leftBottomPosition(){if(this.currentSprite)return this.rect.leftBottom}get leftMidPosition(){if(this.currentSprite)return this.rect.leftMid}get leftMidPadPosition(){if(this.currentSprite){const{leftMid:e}=this.rect;return{x:e.x-this.editor.worldToPreview(this.padding),y:e.y}}}get rightTopPosition(){if(this.currentSprite)return this.rect.rightTop}get rightBottomPosition(){if(this.currentSprite)return this.rect.rightBottom}get rightMidPosition(){if(this.currentSprite)return this.rect.rightMid}get rightMidPadPosition(){if(this.currentSprite){const{rightMid:e}=this.rect;return{x:e.x+this.editor.worldToPreview(this.padding),y:e.y}}}get leftBottomHandlePosition(){if(this.currentSprite)return this.rect.leftBottomHandle}get rightBottomHandlePosition(){if(this.currentSprite)return this.rect.rightBottomHandle}get historyLocale(){return this.isSpriteSticker?this.stickerLocale:this.isSpriteText?this.textDesignLocale:this.textLocale}get stickerLocale(){return this.editor.configStore.locale.sticker.history}get textLocale(){return this.editor.configStore.locale.text.history}get textDesignLocale(){return this.editor.configStore.locale.textdesign.history}setId(e){this.selectedId.set(e)}},Td=Cd;(0,Vn.c)([Vn.e],Td.prototype,"counter",2),(0,Vn.c)([Vn.l],Td.prototype,"addSticker",2),(0,Vn.c)([Vn.l],Td.prototype,"addStickerAsync",2),(0,Vn.c)([Vn.l],Td.prototype,"addText",2),(0,Vn.c)([Vn.l],Td.prototype,"addTextAsync",2),(0,Vn.c)([Vn.l],Td.prototype,"addTextDesign",2),(0,Vn.c)([Vn.l],Td.prototype,"addTextDesignAsync",2),(0,Vn.c)([Vn.l],Td.prototype,"clickableCanvas",2),(0,Vn.c)([Vn.l],Td.prototype,"setContainerProperties",2),(0,Vn.c)([Vn.l],Td.prototype,"setContainerPosition",2),(0,Vn.c)([Vn.l],Td.prototype,"pureRemoveSprite",2),(0,Vn.c)([Vn.l],Td.prototype,"deleteSprite",2),(0,Vn.c)([Vn.l],Td.prototype,"removeSprite",2),(0,Vn.c)([Vn.l],Td.prototype,"addSnapshot",2),(0,Vn.c)([Vn.l],Td.prototype,"addNewText",2),(0,Vn.c)([Vn.l],Td.prototype,"addNewTextDesign",2),(0,Vn.c)([Vn.l],Td.prototype,"addNewSticker",2),(0,Vn.c)([Vn.l],Td.prototype,"updateStateFromSerialization",2),(0,Vn.c)([Vn.l],Td.prototype,"updateStateFromHistory",2),(0,Vn.c)([Vn.l],Td.prototype,"updateCanvasControls",2),(0,Vn.c)([Vn.l],Td.prototype,"setEditMode",2),(0,Vn.c)([Vn.l],Td.prototype,"setDragMode",2),(0,Vn.c)([Vn.l],Td.prototype,"setPosition",2),(0,Vn.c)([Vn.l],Td.prototype,"setSize",2),(0,Vn.c)([Vn.l],Td.prototype,"setRotation",2),(0,Vn.c)([Vn.l],Td.prototype,"onCanvasClick",2),(0,Vn.c)([Vn.l],Td.prototype,"select",2),(0,Vn.c)([Vn.l],Td.prototype,"selectLast",2),(0,Vn.c)([Vn.l],Td.prototype,"selectNext",2),(0,Vn.c)([Vn.l],Td.prototype,"deselect",2),(0,Vn.c)([Vn.l],Td.prototype,"bringToFront",2),(0,Vn.c)([Vn.l],Td.prototype,"flipHorizontally",2),(0,Vn.c)([Vn.l],Td.prototype,"pureReset",2),(0,Vn.c)([Vn.l],Td.prototype,"onCornerDrag",2),(0,Vn.c)([Vn.l],Td.prototype,"onWidthDrag",2),(0,Vn.c)([Vn.l],Td.prototype,"onPaddingDrag",2),(0,Vn.c)([Vn.l],Td.prototype,"correctTextFlip",2),(0,Vn.c)([Vn.l],Td.prototype,"reverseTextHorizontally",2),(0,Vn.c)([Vn.l],Td.prototype,"reverseTextVertically",2),(0,Vn.c)([Vn.l],Td.prototype,"dispose",2),(0,Vn.c)([Vn.f],Td.prototype,"currentSprite",1),(0,Vn.c)([Vn.f],Td.prototype,"padding",1),(0,Vn.c)([Vn.f],Td.prototype,"isEditMode",1),(0,Vn.c)([Vn.f],Td.prototype,"isDragMode",1),(0,Vn.c)([Vn.f],Td.prototype,"id",1),(0,Vn.c)([Vn.f],Td.prototype,"isSpriteSelected",1),(0,Vn.c)([Vn.f],Td.prototype,"position",1),(0,Vn.c)([Vn.f],Td.prototype,"tool",1),(0,Vn.c)([Vn.f],Td.prototype,"size",1),(0,Vn.c)([Vn.f],Td.prototype,"rotation",1),(0,Vn.c)([Vn.f],Td.prototype,"rotationWRTOutputRotation",1),(0,Vn.c)([Vn.f],Td.prototype,"flipHorizontal",1),(0,Vn.c)([Vn.f],Td.prototype,"isSpriteSticker",1),(0,Vn.c)([Vn.f],Td.prototype,"isSpriteText",1),(0,Vn.c)([Vn.f],Td.prototype,"isSpriteTextDesign",1),(0,Vn.c)([Vn.f],Td.prototype,"isOnTop",1),(0,Vn.c)([Vn.f],Td.prototype,"spritePosition",1),(0,Vn.c)([Vn.f],Td.prototype,"currentRect",1),(0,Vn.c)([Vn.f],Td.prototype,"leftTopPosition",1),(0,Vn.c)([Vn.f],Td.prototype,"leftBottomPosition",1),(0,Vn.c)([Vn.f],Td.prototype,"leftMidPosition",1),(0,Vn.c)([Vn.f],Td.prototype,"leftMidPadPosition",1),(0,Vn.c)([Vn.f],Td.prototype,"rightTopPosition",1),(0,Vn.c)([Vn.f],Td.prototype,"rightBottomPosition",1),(0,Vn.c)([Vn.f],Td.prototype,"rightMidPosition",1),(0,Vn.c)([Vn.f],Td.prototype,"rightMidPadPosition",1),(0,Vn.c)([Vn.f],Td.prototype,"leftBottomHandlePosition",1),(0,Vn.c)([Vn.f],Td.prototype,"rightBottomHandlePosition",1),(0,Vn.c)([Vn.f],Td.prototype,"historyLocale",1),(0,Vn.c)([Vn.f],Td.prototype,"stickerLocale",1),(0,Vn.c)([Vn.f],Td.prototype,"textLocale",1),(0,Vn.c)([Vn.f],Td.prototype,"textDesignLocale",1);var Ed={categories:[],query:""},Dd=class{constructor(e){var t=this;this.initProvider=e=>{e&&(this.libraryProvider=new e)},this.fetchImages=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(t.libraryProvider){let r=null;try{const i=await t.libraryProvider.getCategories(),n=await t.libraryProvider.searchImages(e);r=i.map(((e,t)=>{const i=n.filter((t=>t.category===e.name));return{identifier:e.name,name:e.name,thumbnailURI:e.coverImageUrl,items:i.map((i=>({name:i.title||"image".concat(t),identifier:"".concat(e.name,"-").concat(i.title,"-").concat(t),thumbnailURI:i.thumbUrl,rawUrl:i.rawUrl,authorName:i.authorName,authorAvatar:i.authorAvatar})))}})).filter((e=>e.items.length))}catch(i){console.log(i)}(0,Vn.m)((()=>{t.state.query=e,t.state.categories=r}))}},this.toggleCategorySelection=e=>{this.selectedCategory=this.selectedCategory!==e?e:""},this.dispose=()=>{this.state=null,this.configStore=null,this.libraryProvider=null,this.selectedCategory=null},this.getRawUrl=e=>{const t=this.items.findIndex((t=>t.identifier===e));return-1!==t?this.items[t].rawUrl:e},this.configStore=e.configStore,this.state=(0,Vn.e)(Ed),this.selectedCategory=""}get selectedCategoryIdentifier(){return this.selectedCategory}get categories(){return this.state.categories}get items(){return this.state.categories.map((e=>e.items)).reduce(((e,t)=>[...e,...t]),[])}get query(){return this.state.query}get config(){return this.configStore.config.library}get locale(){return this.configStore.locale.library}};(0,Vn.c)([Vn.e],Dd.prototype,"selectedCategory",2),(0,Vn.c)([Vn.l],Dd.prototype,"initProvider",2),(0,Vn.c)([Vn.l],Dd.prototype,"fetchImages",2),(0,Vn.c)([Vn.l],Dd.prototype,"toggleCategorySelection",2),(0,Vn.c)([Vn.l],Dd.prototype,"dispose",2),(0,Vn.c)([Vn.f],Dd.prototype,"selectedCategoryIdentifier",1),(0,Vn.c)([Vn.f],Dd.prototype,"categories",1),(0,Vn.c)([Vn.f],Dd.prototype,"items",1),(0,Vn.c)([Vn.f],Dd.prototype,"query",1),(0,Vn.c)([Vn.f],Dd.prototype,"config",1),(0,Vn.c)([Vn.f],Dd.prototype,"locale",1);var Id=/^data:image\/(.+?);base64,/,Rd=class{constructor(e){this.applySerialization=async(e,t,i,r)=>{this.editor.resetToolStates();const n="transform"===this.editor.activeStore.tool;n||this.editor.transformToolStore.onEnter(),this.editor.transformToolStore.reset(),n||this.editor.transformToolStore.onLeave();const o="Unexpected error occured",s=t.deserializeImage(e);if(s.image&&s.image.data){const e=s.image.data;await this.editor.setImage(e),this.editor.scale.defaultScale=1,this.editor.scale.resetOffset(),this.editor.transformToolStore.reset(),this.editor.activeStore.setImage(e),await this.editor.engineMediator.image.addImageToContainer(),this.editor.engineMediator.output.applyNewImageTransform(),this.editor.engineMediator.preview.updateTransform(),this.editor.scale.setInitialTransform(),this.editor.transformToolStore.setCropDefaults(),this.editor.historyStore.addInitialSnapshot(),this.editor.transformToolStore.saveTransforms()}const a=t.deserializeTransformation(e);if(!a)return void r(o);await this.applyStateOnUI(a);const l=t.deserialize(e);l?(await this.applyStateOnUI(l),this.editor.historyStore.addInitialSnapshot(),n&&this.editor.transformToolStore.onEnter(),await this.editor.render(),"loading"===this.editor.modalStore.identifier&&this.editor.modalStore.hideModal(),i()):r(o)},this.editor=e}serialize(){let{image:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{image:!1};const t="transform"===this.editor.activeStore.tool,{displaySerializationModal:r}=this.editor.configStore.config;return r&&this.editor.modalStore.showInfoModal("saving"),new Promise(((n,o)=>{i.e(870).then(i.bind(i,870)).then((async i=>{let{Serializer:s}=i;try{t&&this.editor.transformToolStore.onLeave(),await this.editor.wait(),this.editor.transformToolStore.applyDefaultCrop(!1);const{originalImage:i}=this.editor.imageContainer.getData(),o=this.editor.engineMediator.output.container.getResolution(),a={width:i.width,height:i.height},l=new s(this.editor.transformToolStore.defaultCropMaskPosition,this.editor.transformToolStore.maxCropMaskSize,o,a,this.editor.engine.getRootContainers()[0],this.editor.engine.getOutputContainer()),c={adjustment:(0,Vn.p)(this.editor.adjustmentsToolStore.state),filter:(0,Vn.p)(this.editor.filterToolStore.state),focus:(0,Vn.p)(this.editor.focusToolStore.serializableState),overlay:(0,Vn.p)(this.editor.overlayToolStore.state),frame:(0,Vn.p)(this.editor.frameToolStore.state),brush:this.editor.brushToolStore.strokes||{strokes:[]}},{sprite:u,customStickers:h}=await this.editor.spriteStore.serializableState();let d,p;if(u.spriteIdList=u.spriteIdList.sort(((e,t)=>u.common[e].order-u.common[t].order)),c.sprite=u,c.customStickers=h,c.transform=this.editor.transformToolStore.serializableState,e){const e=Rd.getDataURL(i);p=(e=>e.match(/^data:([^;]+)/)[1])(e),d=(e=>e.replace(Id,""))(e)}r&&this.editor.modalStore.hideModal(),n(l.serialise(c,d,p)),t&&this.editor.transformToolStore.onEnter()}catch(a){r&&this.editor.modalStore.hideModal(),o(a)}}))}))}deserialize(e){return this.editor.modalStore.showInfoModal("loading"),new Promise(((t,r)=>{try{i.e(870).then(i.bind(i,870)).then((i=>{let{Deserializers:n}=i;const o=e.version.match(/[0-3].[0-8].[0-9]/i);let s=null;s=o&&n["3.9.0"]?new n["3.9.0"](this.editor):n[e.version]?new n[e.version](this.editor):new n["3.12.0"](this.editor),o?(this.editor.modalStore.hideModal(),this.editor.modalStore.showActionModal({type:"warning",identifier:"unsupportedSerializationVersion",handleConfirm:()=>this.applySerialization(e,s,t,r)})):this.applySerialization(e,s,t,r)}))}catch(n){"loading"===this.editor.modalStore.identifier&&this.editor.modalStore.hideModal(),r(n)}}))}static getDataURL(e){if(e instanceof HTMLImageElement){const{src:t}=e;if((e=>Id.test(e))(t))return t}if(e instanceof HTMLCanvasElement)return e.toDataURL("image/png");const t=document.createElement("canvas");t.width=e.width,t.height=e.height;t.getContext("2d").drawImage(e,0,0);const i=t.toDataURL("image/png");return(0,Vn.r)(t),i}async applyStateOnUI(e){const t="transform"===this.editor.activeStore.tool;try{if(e.transform&&(t||this.editor.transformToolStore.onEnter(),this.editor.transformToolStore.updateStateFromSerialization(e.transform),await this.editor.wait(),this.editor.transformToolStore.onLeave(),t||(this.editor.transformToolStore.onEnter(),await this.editor.wait(),this.editor.transformToolStore.onLeave())),e.filter&&await this.editor.filterToolStore.updateStateFromSerialization(e.filter),e.adjustment&&this.editor.adjustmentsToolStore.updateStateFromSerialization(e.adjustment),e.focus&&await this.editor.focusToolStore.updateStateFromSerialization(e.focus),e.overlay&&await this.editor.overlayToolStore.updateStateFromSerialization(e.overlay),e.sprite){let t=Object.keys(e).length-1;e.customStickers&&(t-=1),e.sprite.spriteIdList=e.sprite.spriteIdList.sort(((t,i)=>e.sprite.common[t].order-e.sprite.common[i].order)),await this.editor.spriteStore.updateStateFromSerialization(e.sprite,e.customStickers,Math.max(0,t))}e.brush&&this.editor.brushToolStore.updateStateFromHistory(e.brush),e.frame&&await this.editor.frameToolStore.updateStateFromSerialization(e.frame),this.editor.outputContainer.updateChildrenContainers()}catch(i){"AssetNotFoundError"===i.name?console.error(i):(console.error(i),this.editor.modalStore.showActionModal({type:"error",identifier:"unexpectedError",error:i.message,handleConfirm:()=>{this.applyStateOnUI(e)}}))}}},Fd=e=>{const t=atob(e.split(",")[1]),i=e.split(",")[0].split(":")[1].split(";")[0],r=new ArrayBuffer(t.length),n=new Uint8Array(r);for(let o=0;o<t.length;o+=1)n[o]=t.charCodeAt(o);return new Blob([r],{type:i})},Ad=e=>e.split(",")[0].split(":")[1].split(";")[0],Od=(0,Vn.b)((0,Vn.$a)()),Md=class{static isImageElement(e){return e instanceof HTMLImageElement}constructor(e){let{license:t,assetProvider:i,crossOrigin:r,backgroundColor:n}=e;this.crossOrigin=r,this.engine=new Vn.tb({license:t,crossOrigin:r,assetProvider:i,downscaleOptions:{maxDimensions:{width:174,height:174}},backgroundColor:n})}getAllFilterPreviewThumbnails(e){return new Promise(((t,i)=>{const r=[],n=[];e.forEach((e=>{e.isDuotone?r.push(e.identifier):n.push(e.identifier)})),this.getAllDuotonePreview(r).then((e=>{this.getAllLutPreview(n).then((i=>{t(Object.assign(e,i))})).catch((e=>{i(e)}))})).catch((e=>{i(e)}))}))}async getAllDuotonePreview(e){const t={};if(!e.length)return t;const i=await this.engine.addDuoToneFilterFromAssets(e[0],this.container);return await(0,Od.default)(e,(async e=>{const r=this.engine.assetProvider.getDuotoneFilterAsset(e);i.filterOperation.getFilter().set({intensity:.5,lightColor:Vn.kb.Color.fromHex(r.lightColor),darkColor:Vn.kb.Color.fromHex(r.darkColor)});const n=await this.engine.export("data-url","image/jpeg",.8,!1,!0);t[e]=n}),{concurrency:1}),this.engine.removeEffect(i),t}async loadLutAssets(e){const t={};return await(0,Od.default)(e,(async e=>{t[e]=await this.getImageElement(this.engine.assetProvider.getAssetSource("filter",e))})),t}async getAllLutPreview(e){const t={};if(!e.length)return t;const i=await this.loadLutAssets(e),r=await this.engine.addLUTFilterFromAssets(e[0],this.container);return await(0,Od.default)(e,(async e=>{const n=this.engine.assetProvider.getLUTFilterAsset(e),o=r.filterOperation.getFilter(),s={horizontalTileCount:n.horizontalTileCount||5,verticalTileCount:n.verticalTileCount||5,image:i[e]};o.set({...s,intensity:n.defaultIntensity||1}),r.setProperties({intensity:1}),o._lutPrimitive.set(s);const a=await this.engine.export("data-url","image/jpeg",.8,!1,!0);t[e]=a}),{concurrency:1}),this.engine.removeEffect(r),t}addImageToContainer(e){return new Promise(((t,i)=>{let r;Md.isImageElement(e)?(r=e,this.setBackgroundImage(r),t()):this.getImageElement(e).then((e=>{r=e,this.setBackgroundImage(r),t()})).catch((e=>{i({identifier:"imageLoading",message:e.message})}))}))}getImageElement(e){return new Promise(((t,i)=>{const r=new Image;r.addEventListener("load",(()=>{t(r)})),r.addEventListener("error",(e=>{i(e)})),r.crossOrigin=this.crossOrigin,r.src=e}))}setBackgroundImage(e){this.container?this.container.setData({image:e}):this.container=this.engine.addImage({image:e,blendMode:"normal",opacity:1});const{size:t}=this.container.getBounds();this.engine.getOutputContainer().setResolution(t)}},Pd={horizontalGuides:[],verticalGuides:[],rotationGuides:[]},zd=class{constructor(e){this.previewTopLeftPosition={x:0,y:0},this.init=()=>{this.state.horizontalGuides=this.getHorizontalGuidesFromConfig(),this.state.verticalGuides=this.getVerticalGuidesFromConfig(),this.state.rotationGuides=this.getRotationGuidesFromConfig()},this.getGuideValue=(e,t)=>{const{height:i,width:r}=this.editor.getPreviewSize(),{snapToLeft:n,snapToRight:o,snapToTop:s,snapToBottom:a}=this.configStore.config.snapping.position,l=Math.min(i,r);let c=0;return"bottom"===t?c=Math.round(i-l*a):"top"===t?c=Math.round(l*s):"right"===t?c=Math.round(r-l*o):"left"===t?c=Math.round(l*n):"vertical"===e&&"center"===t?c=Math.round(r/2):"horizontal"===e&&"center"===t&&(c=Math.round(i/2)),c},this.getVerticalGuidesFromConfig=()=>{const{snapToVerticalCenter:e,snapToLeft:t,snapToRight:i}=this.configStore.config.snapping.position,r=[];return e&&r.push({value:this.getGuideValue("vertical","center"),edge:"center",isVisible:!1,direction:"vertical"}),t&&r.push({value:this.getGuideValue("vertical","left"),edge:"leading",isVisible:!1,direction:"vertical"}),i&&r.push({value:this.getGuideValue("vertical","right"),edge:"trailing",isVisible:!1,direction:"vertical"}),r},this.getHorizontalGuidesFromConfig=()=>{const{snapToHorizontalCenter:e,snapToTop:t,snapToBottom:i}=this.configStore.config.snapping.position,r=[];return e&&r.push({value:this.getGuideValue("horizontal","center"),edge:"center",isVisible:!1,direction:"horizontal"}),t&&r.push({value:this.getGuideValue("horizontal","top"),edge:"leading",isVisible:!1,direction:"horizontal"}),i&&r.push({value:this.getGuideValue("horizontal","bottom"),edge:"trailing",isVisible:!1,direction:"horizontal"}),r},this.getRotationGuidesFromConfig=()=>{const{angles:e}=this.configStore.config.snapping.rotation,t=[];e.forEach((e=>{t.push(e),t.push(e+360),t.push(e-360)}));return t.filter(((e,i)=>t.indexOf(e)===i)).map((e=>({value:e*Math.PI/180,edge:"center",isVisible:!1,position:{x:0,y:0}})))},this.getSpriteDimensions=e=>{let{leftTop:t,leftBottom:i,rightTop:r,rightBottom:n}=e;const o=Math.min(t.y,r.y,i.y,n.y),s=Math.max(t.y,r.y,i.y,n.y),a=Math.min(t.x,r.x,i.x,n.x),l=Math.max(t.x,r.x,i.x,n.x);return{height:Math.round(s-o),width:Math.round(l-a)}},this.mapRange=e=>{let{value:t,fromMin:i,fromLength:r,toMin:n,toLength:o}=e;return(t-i)*o/r+n},this.updateGuides=()=>{this.state.horizontalGuides=this.getHorizontalGuidesFromConfig(),this.state.verticalGuides=this.getVerticalGuidesFromConfig()},this.mapToSnapSystem=(e,t,i,r)=>{if(0===t.length)return e;if(t[0]>e)return e-i;for(let n=0;n<t.length-1;n+=1){const o=t[n],s=t[n+1];let a=o+i,l=s-i,c=0;r&&(c=n*i*2,a+=c,l+=c+2*i);const u=1e-5;if(o<=e&&e<=s)return e<=o+u?o+c:e>=s-u?s+c+(r?2*i:0):this.mapRange({value:e,fromMin:o,fromLength:s-o,toMin:a,toLength:l-a})}return r?e+(t.length-1)*i*2+i:e},this.mapFromSnapSystem=(e,t,i,r)=>{if(0===t.length)return e;if(t[0]>e)return e>=t[0]-i?t[0]:e+i;let n=e;for(let s=0;s<t.length-1;s+=1){const o=t[s],a=t[s+1],l=o+i;let c=a-i,u=a;if(r&&(c+=2*i,u+=2*i,n=e-s*i*2),o<=n&&n<=u)return l<=n&&n<=c?this.mapRange({value:n,fromMin:l,fromLength:c-l,toMin:o,toLength:a-o}):n<l?o:a}n-=3*i;const o=t[t.length-1];return n<=o?o:n},this.centerSnapValue=(e,t)=>{const i=.5*t,{value:r,edge:n}=e;let o=r;return"leading"===n?o+=i:"trailing"===n&&(o-=i),o},this.mapSnappingGuidesToCenter=(e,t)=>{const i=[];return e.forEach((e=>{i.push(this.centerSnapValue(e,t))})),i},this.calcSnapThresholdInRadians=(e,t)=>0===e?0:t/e,this.calculatePreviewTopLeftPosition=()=>{const e=this.editor.engineMediator.preview.container.getPosition(),t=this.editor.getPreviewSize(),i=(0,Vn._a)();this.previewTopLeftPosition={x:e.x/i-t.width/2,y:e.y/i-t.height/2}},this.snapToRotation=(e,t,i)=>{const{rotationGuides:r}=this.state,{enabled:n,threshold:o}=this.configStore.config.snapping.rotation,{x:s,y:a}=this.previewTopLeftPosition,{width:l}=this.editor.getPreviewSize();let c=(e+2*Math.PI)%(2*Math.PI);if(n){const n=new Vn.Qa(t).magnitude,u=r.map((e=>e.value)).sort(((e,t)=>e-t)),h=this.calcSnapThresholdInRadians(n,o);if(!this.rotationOffset){const t=this.mapToSnapSystem(e,u,h,!1);this.rotationOffset=t-c}c=this.mapFromSnapSystem(c+this.rotationOffset,u,h,!1);const d={x:i.position.x-s-l,y:i.position.y-a};return r.forEach((e=>{e.isVisible=e.value===c,e.position=d})),c}return e},this.snapToPosition=(e,t)=>{const{horizontalGuides:i,verticalGuides:r}=this.state,{enabled:n,threshold:o}=this.configStore.config.snapping.position,s=new Vn.Qa(this.previewTopLeftPosition),{height:a,width:l}=this.getSpriteDimensions(t),{x:c,y:u}=new Vn.Qa(e).subtract(s);if(n){const e=this.mapSnappingGuidesToCenter(i,a).sort(((e,t)=>e-t)),t=this.mapSnappingGuidesToCenter(r,l).sort(((e,t)=>e-t));if(!this.positionOffset){const i=this.mapToSnapSystem(c,t,o,!0),r=this.mapToSnapSystem(u,e,o,!0);this.positionOffset=new Vn.Qa(i,r).subtract(new Vn.Qa(c,u))}let n=this.mapFromSnapSystem(c+this.positionOffset.x,t,o,!0),h=this.mapFromSnapSystem(u+this.positionOffset.y,e,o,!0);return n=Math.round(n),h=Math.round(h),i.forEach((e=>{const t=Math.round(this.centerSnapValue(e,a));e.isVisible=t===h})),r.forEach((e=>{const t=Math.round(this.centerSnapValue(e,l));e.isVisible=t===n})),new Vn.Qa(n,h).add(s)}return{x:c,y:u}},this.dispose=()=>{this.state=null,this.editor=null,this.configStore=null},this.editor=e,this.configStore=e.configStore,this.state=(0,Vn.e)(Pd),this.rotationOffset=null,this.positionOffset=null}hidePositionGuides(){this.positionOffset=null,this.state.verticalGuides=this.state.verticalGuides.map((e=>({...e,isVisible:!1}))),this.state.horizontalGuides=this.state.horizontalGuides.map((e=>({...e,isVisible:!1})))}hideRotationGuides(){this.rotationOffset=null,this.state.rotationGuides=this.state.rotationGuides.map((e=>({...e,isVisible:!1})))}get positionGuides(){const{verticalGuides:e,horizontalGuides:t}=this.state;return[...e,...t]}get rotationGuides(){return this.state.rotationGuides}};(0,Vn.c)([Vn.e],zd.prototype,"state",2),(0,Vn.c)([Vn.l],zd.prototype,"snapToRotation",2),(0,Vn.c)([Vn.l],zd.prototype,"snapToPosition",2),(0,Vn.c)([Vn.l],zd.prototype,"hidePositionGuides",1),(0,Vn.c)([Vn.l],zd.prototype,"hideRotationGuides",1),(0,Vn.c)([Vn.l],zd.prototype,"dispose",2),(0,Vn.c)([Vn.f],zd.prototype,"positionGuides",1),(0,Vn.c)([Vn.f],zd.prototype,"rotationGuides",1);var Bd=class{constructor(e,t){var i=this;this.initWithImage=async e=>{try{if(this.modalStore.showInfoModal("loading"),this.engineMediator.init(),this.snappingStore.init(),await this.activeStore.setImage(e),this.configStore.config.displayResizeWarning&&this.checkImageResize(),this.configStore.config.filter.enablePreviewThumbnails&&"webgl"===this.configStore.config.engine.preferredRenderer){const e=this.configStore.config.engine;this.previewThumbnails=new Md({...e,license:this.configStore.config.license,assetProvider:this.configStore.assetProvider})}this.engine&&this.engine.pesdk.on("context-lost",(()=>{this.configStore.events.onErrorWebGLContextLost()}))}catch(t){this.configStore.events.onErrorImageLoading(t),this.modalStore.hideModal(),this.modalStore.showActionModal({type:"error",identifier:t.identifier?t.identifier:"rendering",error:t,handleConfirm:()=>{this.initWithImage(e)},handleDismiss:()=>{this.activeStore.setImage(void 0)}})}},this.checkImageResize=()=>{this.engine.on("beganImageDownscaling",(()=>{this.modalStore.showInfoModal("resizing")})),this.engine.on("imageDownscaled",(e=>{let{width:t,height:i}=e;const{maxMegaPixels:r}=this.configStore.config.engine.downscaleOptions,n=Vn.Na.isMobile()?r.mobile:r.desktop;this.modalStore.hideModal(),this.modalStore.showActionModal({type:"warning",identifier:"imageResized",handleConfirm:()=>{this.modalStore.hideModal()},error:{megapixels:"".concat(n),width:"".concat(t),height:"".concat(i)}})}))},this.init=e=>{var t,i;if(!(null==(t=this.activeStore)?void 0:t.image))return void this.initWithImage(e);if(!this.historyStore||!(null==(i=this.configStore)?void 0:i.config))return;const r=this.historyStore.isDirty(),{displayDiscardChangesWarning:n}=this.configStore.config;r&&n?this.modalStore.showActionModal({type:"warning",identifier:"discardChanges",handleConfirm:()=>{this.setImage(e),this.resetToolStates()},handleDismiss:()=>{this.setImage(e,!0)}}):!r||n?(this.historyStore.reset(),this.setImage(e,!0).then((()=>{"imageResized"!==this.modalStore.identifier&&this.modalStore.hideModal();const{engine:e,displayCanvasRendererWarning:t}=this.configStore.config;"canvas"===e.preferredRenderer&&t&&this.modalStore.showActionModal({type:"warning",identifier:"unsupportedWebGLRenderer",handleConfirm:()=>{this.modalStore.hideModal()}})})).catch((()=>null))):this.setImage(e,!0)},this.setImage=async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];try{if(i.activeStore.image){i.activeStore.setImageLoadedToEngine(!1),i.modalStore.showInfoModal(i.configStore.config.displayResizeWarning?"resizing":"loading"),i.scale.defaultScale=1,i.scale.resetOffset(),await i.activeStore.setImage(e),await i.engineMediator.image.addImageToContainer(),i.canvasStore.resizeCanvas(),i.engineMediator.output.applyNewImageTransform(),i.engineMediator.preview.updateTransform(),i.scale.setInitialTransform(),i.transformToolStore.setCropDefaults();const{flipHorizontally:r,flipVertically:n,outputRotation:o}=i.transformToolStore.rotateFlipState;i.outputContainer.setData({flipVertically:n,flipHorizontally:r}),await i.transformToolStore.rotateOutputContainer((0,Vn.eb)(o),!1),t?(i.focusToolStore.updateCanvasControls(),i.spriteStore.updateCanvasControls(),i.transformToolStore.resetCrop(),i.transformToolStore.applyDefaultCrop(),i.transformToolStore.saveTransforms(),i.transformToolStore.onEnter(),i.transformToolStore.setRotation(i.transformToolStore.rotationInDegrees),i.transformToolStore.onLeave(),i.transformToolStore.onEnter(),i.transformToolStore.onLeave()):i.transformToolStore.saveTransforms(),i.snappingStore.calculatePreviewTopLeftPosition(),i.historyStore.addInitialSnapshot(),await i.renderPromise(),i.configStore.config.filter.enablePreviewThumbnails&&"webgl"===i.configStore.config.engine.preferredRenderer&&i.filterToolStore.setImageAndGetPreviews();i.activeStore.tool?i.configStore.events.onImageLoaded():i.onReady(),"imageResized"!==i.modalStore.identifier&&i.modalStore.hideModal(),i.activeStore.setImageLoadedToEngine(!0),i.resize()}else i.initWithImage(e)}catch(r){throw i.configStore.events.onErrorImageLoading(r),i.modalStore.hideModal(),i.modalStore.showActionModal({type:"error",identifier:r.identifier?r.identifier:"rendering",error:r,handleConfirm:()=>{i.setImage(e,t)},handleDismiss:()=>{i.activeStore.setImage(void 0)}}),new Error(r)}},this.onToolChange=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];var n,o;e!==t&&(null==(o=null==(n=i.engineMediator)?void 0:n.preview)?void 0:o.container)&&(-1!==[e,t].indexOf("transform")?("transform"===e?(i.transformToolStore.onLeave(),i.transformToolStore.addSnapshot(),i.snappingStore.calculatePreviewTopLeftPosition()):"transform"===t&&i.transformToolStore.onEnter(),i.resize(t)):(i.scale.resetOffset(),i.scale.resetPosition(),i.scale.setScaleToDefault(),i.scale.scaleRender(!0)),r&&i.render())},this.resize=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(i.engineMediator)try{const t=i.activeStore.tool,r="transform"===e||!e&&"transform"===t;i.canvasStore.resizeCanvas(e),i.transformToolStore.applyDefaultCrop();const n=(0,Vn.p)(i.transformToolStore.maxCropMaskSize);r||i.transformToolStore.onEnter();const o=i.engineMediator.preview.container.getRotation();if(i.engineMediator.preview.updateTransform(o)){i.scale.setInitialTransform(),i.transformToolStore.setCropDefaults(),i.transformToolStore.updateCanvasControls(n),i.focusToolStore.updateCanvasControls(),i.spriteStore.updateCanvasControls();const e=i.transformToolStore.getScaleWithFlip(o);i.engineMediator.preview.container.setScale(e),r||(i.transformToolStore.onLeave(),i.transformToolStore.onEnter(),i.transformToolStore.onLeave()),i.snappingStore.calculatePreviewTopLeftPosition(),i.render()}}catch(t){i.configStore.events.onErrorImageLoading(t),i.modalStore.showActionModal({type:"error",identifier:"rendering",handleConfirm:()=>{i.resize(e)},handleDismiss:()=>{i.activeStore.setImage(void 0)}})}},this.export=async function(){let{preventExportEvent:e,...t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const r="transform"===i.activeStore.tool;try{i.modalStore.showInfoModal("exporting"),r&&i.transformToolStore.onLeave();const{config:n}=i.configStore,o={...n.export.image,...t},{exportType:s,format:a,quality:l,enableDownload:c,transparent:u}=o,h=await i.engineMediator.engine.export(s,a,l,u);return r&&i.transformToolStore&&(i.transformToolStore.onEnter(),await i.render()),i.historyStore&&(i.historyStore.isDirtySinceSave=!1),i.modalStore&&i.modalStore.hideModal(),c&&i.triggerFileDownload(n.export.filename,a,s,h),e||i.configStore.events.onExport(h),h}catch(n){throw i.modalStore&&i.modalStore.hideModal(),r&&i.transformToolStore&&(i.transformToolStore.onEnter(),await i.render()),new Error(n)}},this.serialize=function(){let{image:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{image:!0};return i.serializationMediator?i.serializationMediator.serialize({image:e}):Promise.resolve({})},this.deserialize=e=>this.serializationMediator?this.serializationMediator.deserialize(e):Promise.resolve(),this.close=()=>{var e,t,i,r,n,o;((null==(e=this.historyStore)?void 0:e.isDirtySinceSave)||(null==(i=null==(t=this.transformToolStore)?void 0:t.transformHistory)?void 0:i.hasChanges()))&&(null==(n=null==(r=this.configStore)?void 0:r.config)?void 0:n.displayCloseWarning)&&this.modalStore?this.modalStore.showActionModal({type:"warning",identifier:"unsavedChanges",handleConfirm:()=>{var e;(null==(e=this.configStore)?void 0:e.events)&&this.configStore.events.onClose()}}):(null==(o=this.configStore)?void 0:o.events)&&this.configStore.events.onClose()},this.hasChanges=()=>!!this.historyStore&&this.historyStore.isDirtySinceSave,this.getImageDimensions=()=>{if(this.engine){const{width:e,height:t}=this.engine.getOutputDimensions();return{width:e,height:t}}return{width:0,height:0}},this.wait=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return new Promise((t=>setTimeout(t,e)))},this.clickableCanvas=async e=>{e?(await new Promise((e=>setTimeout(e,0))),this.canvasStore.enableCanvasClick()):this.canvasStore.disableCanvasClick()},this.onReady=async()=>{const{forceCrop:e}=this.configStore.config;if(this.activeStore.selectTool(this.configStore.defaultTool),e){const e=this.transformToolStore.localOutputImageSize,t=e.width/e.height,i=this.transformToolStore.entityManager.items.map((e=>e.ratio?e.ratio:e.dimensions.x/e.dimensions.y));-1!==i.indexOf("*")?console.error('ForceCrop will not work if "*" is one of the ratios'):-1===i.indexOf(parseFloat(t.toFixed(2)))&&this.activeStore.selectTool("transform")}this.configStore.events.onEditorReady()},this.addSnapshot=(e,t,i)=>{this.historyStore.addSnapshot(e,t,i)},this.resetToolStates=()=>{this.transformToolStore.pureReset(),this.filterToolStore.pureReset(),this.focusToolStore.pureReset(),this.adjustmentsToolStore.pureReset(),this.overlayToolStore.pureReset(),this.frameToolStore.pureReset(),this.brushToolStore.pureReset(),this.spriteStore.pureReset(),this.historyStore.reset(),this.render()},this.getAssetPath=e=>this.assetProvider.getPathForCategory(e),this.render=async()=>{await this.renderPromise()},this.applyFlipToPreview=e=>this.engineMediator?this.engineMediator.previewSpaceToFlippedPreviewSpace(e):{x:0,y:0},this.getPreviewSize=()=>{if(!this.engine)return{width:0,height:0};const{width:e,height:t}=this.engine.getOutputDimensions();return e&&t?{width:Math.round(this.worldToPreview(this.outputToWorld(e))),height:Math.round(this.worldToPreview(this.outputToWorld(t)))}:{height:t,width:e}},this.getImageMimeType=()=>(e=>"string"===typeof e?Ad(e):e.src.includes(".svg")?"image/svg+xml":e.src?Ad(e.src):"image/jpeg")(this.activeStore.image),this.cleanUpCanvasMemory=()=>{var e,t,i;null==(i=null==(t=null==(e=this.engineMediator)?void 0:e.image)?void 0:t.container)||i.dispose()},this.dispose=()=>{this.engineMediator&&(this.engineMediator.dispose(),this.engineMediator=null),this.serializationMediator=null,this.spriteStore&&(this.spriteStore.dispose(),this.spriteStore=null),this.scale=null,this.filterToolStore=null,this.adjustmentsToolStore=null,this.focusToolStore=null,this.overlayToolStore=null,this.frameToolStore=null,this.brushToolStore=null,this.transformToolStore&&(this.transformToolStore.dispose(),this.transformToolStore=null),this.libraryStore&&(this.libraryStore.dispose(),this.libraryStore=null),this.modalStore&&(this.modalStore.dispose(),this.modalStore=null),this.snappingStore&&(this.snappingStore.dispose(),this.snappingStore=null),this.activeStore&&(this.activeStore.dispose(),this.activeStore=null),this.canvasStore&&(this.canvasStore.dispose(),this.canvasStore=null),this.historyStore=null,this.configStore&&(this.configStore.dispose(),this.configStore=null)},this.triggerFileDownload=(e,t,i,r)=>{const n=e+("image/jpeg"===t&&"ms-blob"!==i?".jpeg":".png"),o=this.blobFromExportData(r);this.triggerBlobDownload(n,o)},this.triggerBlobDownload=(e,t)=>{if(navigator.msSaveBlob)navigator.msSaveBlob(t,e);else{const i=document.createElement("a"),r=URL.createObjectURL(t);i.href=r,i.download=e,document.body.appendChild(i),i.click(),document.body.removeChild(i),(0,Vn.w)()||URL.revokeObjectURL(r)}},this.blobFromExportData=e=>"string"===typeof e?Fd(e):e instanceof HTMLImageElement?Fd(e.src):e,this.configStore=new Wh,t&&Object.entries(t).forEach((e=>{let[t,i]=e;this.configStore.events.on(t,i)}));const r=this.configStore.saveConfig(e);this.engineMediator=new Zh(this),this.serializationMediator=new Rd(this),this.spriteStore=new Td(this),this.scale=new ud(this),this.filterToolStore=new qu(this),this.adjustmentsToolStore=new Nu(this),this.focusToolStore=new $u(this),this.overlayToolStore=new nh(this),this.frameToolStore=new Th(this),this.brushToolStore=new Dh(this),this.transformToolStore=new bd(this),this.libraryStore=new Dd(this),this.modalStore=new cd(this),this.snappingStore=new zd(this),this.activeStore=new nd(this),this.canvasStore=new ad(this),this.historyStore=new $h(this),this.libraryStore.initProvider(r),this.libraryStore.fetchImages(),this.configStore.config.image?this.initWithImage(this.configStore.config.image):(this.configStore.events.onEditorReady(),"library"!==this.configStore.defaultTool&&"customTool"!==this.configStore.defaultTool||this.activeStore.selectTool(this.configStore.defaultTool))}get shortestOutputSide(){const e=this.outputContainer.getBounds();return Math.min(e.width,e.height)}get assetProvider(){return this.configStore.assetProvider}get engine(){return this.engineMediator?this.engineMediator.engine:null}get imageContainer(){return this.engineMediator?this.engineMediator.image.container:null}get orderHelper(){return this.engineMediator?this.engineMediator.orderHelper:null}renderPromise(){return this.engineMediator?this.engineMediator.render(this.engineMediator.preview.container):null}previewToWorld(e,t){return this.engineMediator?((0,Vn.bb)(e),this.engineMediator.previewSpaceToWorldSpace(e,t)):{x:0,y:0}}worldToPreview(e){return this.engineMediator?((0,Vn.bb)(e),this.engineMediator.worldSpaceToPreviewSpace(e)):{x:0,y:0}}worldSizeToPreview(e){return this.engineMediator?{width:this.engineMediator.worldSpaceToPreviewSpace(e.width),height:this.engineMediator.worldSpaceToPreviewSpace(e.height)}:{width:0,height:0}}previewSizeToWorld(e,t){return this.engineMediator?{width:this.engineMediator.previewSpaceToWorldSpace(e.width,t),height:this.engineMediator.previewSpaceToWorldSpace(e.height,t)}:{width:0,height:0}}outputToWorld(e){return this.engineMediator?((0,Vn.bb)(e),this.engineMediator.outputSpaceToWorldSpace(e)):{x:0,y:0}}previewToOutput(e){return this.engineMediator?((0,Vn.bb)(e),this.engineMediator.previewSpaceToOutputSpace(e)):{x:0,y:0}}get outputContainer(){return this.engineMediator.output.container}};(0,Vn.c)([Vn.l],Bd.prototype,"resize",2),(0,Vn.c)([Vn.l],Bd.prototype,"export",2),(0,Vn.c)([Vn.l],Bd.prototype,"clickableCanvas",2);var Ld=e=>{let{children:t}=e;return qn.createElement(qn.Fragment,null,t)},Ud=(0,Gn.Ay)(tu)(zt||(zt=(0,Wn.A)(["\n  margin: 2px;\n  min-width: ","px;\n  height: ","px;\n  color: ",";\n"])),(e=>e.theme.measurements.basicCard.large.width),(e=>e.theme.measurements.basicCard.large.height),(e=>e.theme.card.foreground)),Nd=(0,Gn.Ay)(tu)(Bt||(Bt=(0,Wn.A)(["\n  margin: 2px;\n  min-width: ","px;\n  height: ","px;\n  color: ",";\n"])),(e=>e.theme.measurements.basicCard.medium.width),(e=>e.theme.measurements.basicCard.medium.height),(e=>e.theme.card.foreground)),Hd=(0,Gn.Ay)(ic).attrs((()=>({"data-test":Vn.Ta.CardContainer})))(Lt||(Lt=(0,Wn.A)(["\n  transition-property: width;\n  transition-duration: 0.4s;\n  transition-timing-function: ease-in;\n  height: ","px;\n"])),(e=>e.theme.measurements.basicUIToolControlBar.itemsBarHeight)),jd=(0,Gn.Ay)(Oo)(Ut||(Ut=(0,Wn.A)(["\n  &&& {\n    min-height: 32px;\n    font-size: ","px;\n    letter-spacing: ","px;\n    text-transform: ",";\n  }\n"])),(e=>e.theme.measurements.fontSystem.basicUICardLabel.size),(e=>e.theme.measurements.fontSystem.basicUICardLabel.letterSpacing),(e=>e.theme.measurements.fontSystem.basicUICardLabel.case)),Wd=Gn.Ay.div(Nt||(Nt=(0,Wn.A)(["\n  display: flex;\n  /* This fixes an IE11 issue where the items are behind the category */\n  flex: 1 0 auto;\n"]))),Vd=Gn.Ay.div.attrs((()=>({"data-test":Vn.Ta.BasicToolControlBar})))(Ht||(Ht=(0,Wn.A)(["\n  position: relative;\n  display: flex;\n  flex-shrink: 0;\n  height: auto;\n  transition: max-height 0.4s ease-in-out;\n  ","\n"])),(e=>e.show?(0,Gn.AH)(jt||(jt=(0,Wn.A)(["\n          max-height: 80px;\n        "]))):(0,Gn.AH)(Wt||(Wt=(0,Wn.A)(["\n          max-height: 0px;\n        "]))))),Gd=Vd;Vd.defaultProps={show:!0};var qd=(0,Gn.AH)(Vt||(Vt=(0,Wn.A)(["\n  width: 100%;\n"]))),Xd=Gn.Ay.div(Gt||(Gt=(0,Wn.A)(["\n  position: relative;\n\n  text-align: -moz-center;\n  text-align: center;\n  text-align: -webkit-center;\n  align-self: flex-end;\n\n  height: auto;\n  box-shadow: ",";\n\n  ","\n  @media all and (min-width: 0) and (max-width: 599px) {\n    ","\n  }\n"])),(e=>e.theme.toolControlBar.shadow),(e=>e.smallContainer&&qd),qd),Yd=(0,Gn.AH)(qt||(qt=(0,Wn.A)(["\n  padding: 0 1rem;\n  height: unset;\n  min-height: ","px;\n"])),(e=>e.theme.measurements.basicUIToolControlBar.controlsBarHeight)),Qd=Gn.Ay.div(Xt||(Xt=(0,Wn.A)(["\n  display: flex;\n  box-sizing: border-box;\n  position: absolute;\n  left: 0%;\n  transform: translateY(0%) scaleY(0);\n  justify-content: center;\n  padding: 0 5vw;\n  width: 100%;\n  height: ","px;\n  align-items: center;\n  transition: transform 0.4s ease-in-out;\n  z-index: ",";\n  background: ",";\n  color: ",";\n\n  ","\n\n  ","\n  @media all and (min-width: 0) and (max-width: 599px) {\n    ","\n  }\n"])),(e=>e.theme.measurements.basicUIToolControlBar.controlsBarHeight),(e=>e.theme.measurements.zIndex.controlsBar),(e=>e.theme.toolControlBar.background),(e=>e.theme.toolControlBar.inputLabelForeground),(e=>{let{show:t}=e;return t&&(0,Gn.AH)(Yt||(Yt=(0,Wn.A)(["\n      transform: translateY(-100%) scaleY(1);\n    "])))}),(e=>e.smallContainer&&Yd),Yd),Kd=(0,Gn.AH)(Qt||(Qt=(0,Wn.A)(["\n  gap: 0 0.5rem;\n"]))),Zd=Gn.Ay.div(Kt||(Kt=(0,Wn.A)(["\n  display: grid;\n  grid-template-columns: 1fr auto 1fr;\n  align-items: center;\n\n  gap: 0 10vw;\n\n  ","\n  @media all and (min-width: 0) and (max-width: 599px) {\n    ","\n  }\n"])),(e=>e.smallContainer&&Kd),Kd),Jd=(0,Vn.b)(Yn()),$d=Gn.Ay.div(Zt||(Zt=(0,Wn.A)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]))),ep=e=>{let{label:t,className:i,children:r}=e;return qn.createElement($d,{"aria-label":t,className:i},r)};function tp(){return(0,qn.useContext)(wa)}var ip=()=>qn.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"48",height:"48",viewBox:"0 0 48 48"},qn.createElement("defs",null,qn.createElement("path",{id:"photoeditorsdk-blacks-icon",d:"M24 12c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12m0 2c5.514 0 10 4.486 10 10s-4.486 10-10 10-10-4.486-10-10 4.486-10 10-10m4 12c0 2.788-2.326 3.879-7 3V18.5c4.148-.459 6.516.226 6.516 2.623 0 1.207-.492 1.998-1.512 2.474C27.504 23.999 28 24.619 28 26zm-5-6v3c2.244.068 2.775-.719 2.775-1.536 0-1.22-.531-1.812-2.775-1.464zm0 7.5c2.19.193 3.038-.04 3.038-1.484 0-1.37-1.096-1.695-3.038-1.516v3z"})),qn.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},qn.createElement("path",{d:"M0 0H48V48H0z"}),qn.createElement("mask",{fill:"currentColor"},qn.createElement("use",{xlinkHref:"#photoeditorsdk-blacks-icon"})),qn.createElement("use",{fill:"currentColor",fillOpacity:"0.9",xlinkHref:"#photoeditorsdk-blacks-icon"}))),rp=()=>qn.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"48",height:"48",viewBox:"0 0 48 48"},qn.createElement("defs",null,qn.createElement("path",{id:"photoeditorsdk-brightness-icon",d:"M22.185 33.836c.594.109 1.2.164 1.815.164v2c-.735 0-1.462-.066-2.175-.197zm5.58-.568l.753 1.852c-.675.275-1.375.487-2.093.635l-.402-1.96c.597-.122 1.18-.299 1.741-.527zm-9.446-1.037c.5.346 1.03.646 1.586.895l-.82 1.824c-.666-.3-1.303-.66-1.903-1.074zm12.884-1.295l1.44 1.388a12.06 12.06 0 01-1.65 1.429l-1.167-1.625a10.06 10.06 0 001.377-1.192zm-15.758-1.754c.316.52.679 1.01 1.083 1.464l-1.493 1.33a12.038 12.038 0 01-1.3-1.756zm17.97-1.802l1.882.676a11.948 11.948 0 01-.925 1.982l-1.727-1.008a9.948 9.948 0 00.77-1.65zM24 18c.091 0 .182.002.273.006L24 18a6.071 6.071 0 01.668.037l.192.024a5.974 5.974 0 011.847.585l.01.005a5.992 5.992 0 011.154.768A5.99 5.99 0 0130 24c0 3.309-2.691 6-6 6a5.985 5.985 0 01-4.404-1.929l.163.17a6.052 6.052 0 01-1.353-2.07A5.951 5.951 0 0118 24c0-3.309 2.691-6 6-6zm2.827 3.173l-5.654 5.654A3.988 3.988 0 0024 28c2.206 0 4-1.794 4-4a3.988 3.988 0 00-1.173-2.827zM14.08 25.268c.076.606.208 1.2.392 1.777l-1.905.608a11.936 11.936 0 01-.472-2.134zm21.885-2.192a12.16 12.16 0 01-.032 2.198l-1.989-.21a10.193 10.193 0 00.027-1.836zM12.522 20.49l1.912.584a9.943 9.943 0 00-.37 1.783l-1.987-.226c.083-.73.232-1.445.445-2.14zm22.059-2.155c.345.643.63 1.316.853 2.013l-1.905.608a9.934 9.934 0 00-.71-1.676zm-19.587-2.266l1.5 1.323c-.402.456-.762.948-1.075 1.47l-1.715-1.03c.376-.625.808-1.215 1.29-1.763zm16.272-1.62c.58.442 1.12.936 1.61 1.476l-1.479 1.346c-.41-.45-.859-.862-1.343-1.23zm-12.241-1.372l.83 1.82a9.986 9.986 0 00-1.58.903l-1.147-1.638a11.986 11.986 0 011.897-1.085zm7.7-.766c.714.166 1.408.396 2.076.688L28 14.832a9.916 9.916 0 00-1.727-.573zm-2.857-.31l.021 2c-.613.006-1.22.068-1.812.184l-.383-1.964a12.046 12.046 0 012.174-.22z"})),qn.createElement("g",{fill:"currentColor",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},qn.createElement("mask",null,qn.createElement("use",{xlinkHref:"#photoeditorsdk-brightness-icon"})),qn.createElement("use",{fillOpacity:"0.9",transform:"rotate(-45 24.039 24)",xlinkHref:"#photoeditorsdk-brightness-icon"}))),np=()=>qn.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"48",height:"48",viewBox:"0 0 48 48"},qn.createElement("defs",null,qn.createElement("path",{id:"photoeditorsdk-clarity-icon",d:"M24 12L13 24.001 24 36l11-11.999L24 12zm-8.29 12.001H21l3-9.041 8.29 9.041-8.28 9.029L28 24.001h-7l2.99 9.029-8.28-9.029z"})),qn.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},qn.createElement("path",{d:"M0 0H48V48H0z"}),qn.createElement("mask",{fill:"currentColor"},qn.createElement("use",{xlinkHref:"#photoeditorsdk-clarity-icon"})),qn.createElement("use",{fill:"currentColor",fillOpacity:"0.9",xlinkHref:"#photoeditorsdk-clarity-icon"}))),op=()=>qn.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"48",height:"48",viewBox:"0 0 48 48"},qn.createElement("defs",null,qn.createElement("path",{id:"photoeditorsdk-contrast-icon",d:"M24 34V14c5.51 0 10 4.49 10 10s-4.49 10-10 10m0-22c-6.62 0-12 5.38-12 12s5.38 12 12 12 12-5.38 12-12-5.38-12-12-12"})),qn.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},qn.createElement("path",{d:"M0 0H48V48H0z"}),qn.createElement("mask",{fill:"currentColor"},qn.createElement("use",{xlinkHref:"#photoeditorsdk-contrast-icon"})),qn.createElement("use",{fill:"currentColor",fillOpacity:"0.9",xlinkHref:"#photoeditorsdk-contrast-icon"}))),sp=()=>qn.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"48",height:"48",viewBox:"0 0 48 48"},qn.createElement("defs",null,qn.createElement("path",{id:"photoeditorsdk-exposure-icon",d:"M24 34V14c5.51 0 10 4.49 10 10s-4.49 10-10 10m0-22c6.62 0 12 5.38 12 12s-5.38 12-12 12-12-5.38-12-12 5.38-12 12-12zm-3.536 8.464l-2.121 2.122-2.121-2.122-1.414 1.415L16.929 24l-2.121 2.121 1.414 1.415 2.121-2.122 2.121 2.122 1.415-1.415L19.757 24l2.122-2.121-1.415-1.415zm5.304 4.597l4.242-4.243 1.415 1.414-4.243 4.243-1.414-1.414z"})),qn.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},qn.createElement("path",{d:"M0 0H48V48H0z"}),qn.createElement("mask",{fill:"currentColor"},qn.createElement("use",{xlinkHref:"#photoeditorsdk-exposure-icon"})),qn.createElement("use",{fill:"currentColor",fillOpacity:"0.9",transform:"rotate(45 24 24)",xlinkHref:"#photoeditorsdk-exposure-icon"}))),ap=()=>qn.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"48",height:"48",viewBox:"0 0 48 48"},qn.createElement("defs",null,qn.createElement("path",{id:"photoeditorsdk-gamma-icon",d:"M22.185 33.836c.594.109 1.2.164 1.815.164v2c-.735 0-1.462-.066-2.175-.197zm5.58-.568l.753 1.852c-.675.275-1.375.487-2.093.635l-.402-1.96c.597-.122 1.18-.299 1.741-.527zm-9.446-1.037c.5.346 1.03.646 1.586.895l-.82 1.824c-.666-.3-1.303-.66-1.903-1.074zm12.884-1.295l1.44 1.388a12.06 12.06 0 01-1.65 1.429l-1.167-1.625a10.06 10.06 0 001.377-1.192zm-15.758-1.754c.316.52.679 1.01 1.083 1.464l-1.493 1.33a12.038 12.038 0 01-1.3-1.756zm17.97-1.802l1.882.676a11.948 11.948 0 01-.925 1.982l-1.727-1.008a9.948 9.948 0 00.77-1.65zM24 18c.091 0 .182.002.273.006L24 18a6.071 6.071 0 01.668.037l.192.024a5.974 5.974 0 011.847.585l.01.005a5.992 5.992 0 011.154.768A5.99 5.99 0 0130 24c0 3.309-2.691 6-6 6a5.985 5.985 0 01-4.404-1.929l.163.17a6.052 6.052 0 01-1.353-2.07A5.951 5.951 0 0118 24c0-3.309 2.691-6 6-6zm2.827 3.173l-5.654 5.654A3.988 3.988 0 0024 28c2.206 0 4-1.794 4-4a3.988 3.988 0 00-1.173-2.827zM14.08 25.268c.076.606.208 1.2.392 1.777l-1.905.608a11.936 11.936 0 01-.472-2.134zm21.885-2.192a12.16 12.16 0 01-.032 2.198l-1.989-.21a10.193 10.193 0 00.027-1.836zM12.522 20.49l1.912.584a9.943 9.943 0 00-.37 1.783l-1.987-.226c.083-.73.232-1.445.445-2.14zm22.059-2.155c.345.643.63 1.316.853 2.013l-1.905.608a9.934 9.934 0 00-.71-1.676zm-19.587-2.266l1.5 1.323c-.402.456-.762.948-1.075 1.47l-1.715-1.03c.376-.625.808-1.215 1.29-1.763zm16.272-1.62c.58.442 1.12.936 1.61 1.476l-1.479 1.346c-.41-.45-.859-.862-1.343-1.23zm-12.241-1.372l.83 1.82a9.986 9.986 0 00-1.58.903l-1.147-1.638a11.986 11.986 0 011.897-1.085zm7.7-.766c.714.166 1.408.396 2.076.688L28 14.832a9.916 9.916 0 00-1.727-.573zm-2.857-.31l.021 2c-.613.006-1.22.068-1.812.184l-.383-1.964a12.046 12.046 0 012.174-.22z"})),qn.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},qn.createElement("path",{d:"M0 0H48V48H0z"}),qn.createElement("mask",{fill:"#fff"},qn.createElement("use",{xlinkHref:"#photoeditorsdk-gamma-icon"})),qn.createElement("use",{fill:"currentColor",fillOpacity:"0.9",xlinkHref:"#photoeditorsdk-gamma-icon"}))),lp=()=>qn.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"48",height:"48",viewBox:"0 0 48 48"},qn.createElement("defs",null,qn.createElement("path",{id:"photoeditorsdk-highlights-icon",d:"M31.07 31.07A9.932 9.932 0 0124 34c-2.67 0-5.18-1.04-7.07-2.93l14.14-14.14c3.9 3.9 3.9 10.24 0 14.14m1.42-15.56A11.995 11.995 0 0024 12c-3.07 0-6.14 1.17-8.49 3.51-4.68 4.69-4.68 12.29 0 16.98C17.86 34.83 20.93 36 24 36c3.07 0 6.14-1.17 8.49-3.51 4.68-4.69 4.68-12.29 0-16.98"})),qn.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},qn.createElement("path",{d:"M0 0H48V48H0z"}),qn.createElement("mask",{fill:"currentColor"},qn.createElement("use",{xlinkHref:"#photoeditorsdk-highlights-icon"})),qn.createElement("use",{fill:"currentColor",fillOpacity:"0.9",xlinkHref:"#photoeditorsdk-highlights-icon"}))),cp=()=>qn.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"48",height:"48",viewBox:"0 0 48 48"},qn.createElement("defs",null,qn.createElement("path",{id:"photoeditorsdk-saturation-icon",d:"M17 31c1.334 1.099 2 2.177 2 3.234 0 .797-.454 1.39-1.211 1.655-.165.057-.428.094-.789.111l-.172-.01a2.54 2.54 0 01-.617-.101C15.454 35.624 15 35.03 15 34.234c0-1.057.666-2.135 2-3.234zm8.7-6l-4.24 4H17v-3.81l.2-.19h8.5zm-.7-7.59l4.24 4.25L26.76 24h-8.54L25 17.41zm7.778-3.532a3 3 0 01.135 4.1l-.135.143-1.414 1.414 1.414 1.415-1.414 1.414-7.07-7.071 1.413-1.414 1.414 1.413 1.414-1.414a3.001 3.001 0 014.243 0z"})),qn.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},qn.createElement("path",{d:"M0 0H48V48H0z"}),qn.createElement("mask",{fill:"currentColor"},qn.createElement("use",{xlinkHref:"#photoeditorsdk-saturation-icon"})),qn.createElement("use",{fill:"currentColor",fillOpacity:"0.9",xlinkHref:"#photoeditorsdk-saturation-icon"}))),up=()=>qn.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"48",height:"48",viewBox:"0 0 48 48"},qn.createElement("defs",null,qn.createElement("path",{id:"photoeditorsdk-shadows-icon",d:"M30.365 17.637l3.076 3.076c.382 1.09.566 2.234.56 3.387l-5.05-5.049-1.414 1.414 6.123 6.124a9.674 9.674 0 01-.792 2.036l-6.746-6.745-1.414 1.414 7.036 7.036c-.212.254-.43.502-.672.742-.24.24-.488.46-.742.672l-7.036-7.036-1.414 1.414 6.745 6.746a9.674 9.674 0 01-2.036.792l-6.124-6.123-1.414 1.414L24.101 34a10.012 10.012 0 01-3.388-.558l-3.076-3.076-.707.707c-3.896-3.896-3.896-10.246 0-14.142 3.896-3.896 10.246-3.896 14.142 0l-.707.707zm-14.849-2.12c-4.688 4.687-4.688 12.281 0 16.97a12.036 12.036 0 004.108 2.693c.064.022.127.057.191.078 4.264 1.577 9.242.658 12.671-2.772 3.43-3.429 4.35-8.407 2.772-12.67-.02-.065-.056-.128-.078-.192a12.036 12.036 0 00-2.694-4.108c-4.688-4.688-12.282-4.688-16.97 0z"})),qn.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},qn.createElement("path",{d:"M0 0H48V48H0z"}),qn.createElement("mask",{fill:"currentColor"},qn.createElement("use",{xlinkHref:"#photoeditorsdk-shadows-icon"})),qn.createElement("use",{fill:"currentColor",fillOpacity:"0.9",xlinkHref:"#photoeditorsdk-shadows-icon"}))),hp=()=>qn.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"48",height:"48",viewBox:"0 0 48 48"},qn.createElement("defs",null,qn.createElement("path",{id:"photoeditorsdk-sharpness-icon",d:"M24 12l11 24H13l11-24zm0 4.8V34h7.883L24 16.8z"})),qn.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},qn.createElement("path",{d:"M0 0H48V48H0z"}),qn.createElement("mask",{fill:"currentColor"},qn.createElement("use",{xlinkHref:"#photoeditorsdk-sharpness-icon"})),qn.createElement("use",{fill:"currentColor",fillOpacity:"0.9",xlinkHref:"#photoeditorsdk-sharpness-icon"}))),dp=()=>qn.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"48",height:"48",viewBox:"0 0 48 48"},qn.createElement("defs",null,qn.createElement("path",{id:"photoeditorsdk-temperature-icon",d:"M24 12a4 4 0 014 4v7.255a7 7 0 11-8 0V16a4 4 0 014-4zm0 2a2 2 0 00-2 2v8.298l-.856.597a5 5 0 105.712 0L26 24.298V16a2 2 0 00-2-2zm1 6v5.126A4.002 4.002 0 0124 33a4 4 0 01-1-7.874V20h2z"})),qn.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},qn.createElement("path",{d:"M0 0H48V48H0z"}),qn.createElement("mask",{fill:"currentColor"},qn.createElement("use",{xlinkHref:"#photoeditorsdk-temperature-icon"})),qn.createElement("use",{fill:"currentColor",fillOpacity:"0.9",xlinkHref:"#photoeditorsdk-temperature-icon"}))),pp=()=>qn.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"48",height:"48",viewBox:"0 0 48 48"},qn.createElement("defs",null,qn.createElement("path",{id:"photoeditorsdk-whites-icon",d:"M24 12c6.627 0 12 5.373 12 12s-5.373 12-12 12-12-5.373-12-12 5.373-12 12-12zm-2 6.46h-2c.221 4.539.762 9.051 1 11.04h1.5l1.5-5.52 1.5 5.52H27c.238-1.989.779-6.501 1-11.04h-2c-.051 1.071-.432 7.446-.5 7.973-.459-1.717-.541-3.111-1-4.811h-1c-.442 1.7-.541 2.975-1 4.811-.051-.527-.466-6.902-.5-7.973z"})),qn.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},qn.createElement("path",{d:"M0 0H48V48H0z"}),qn.createElement("mask",{fill:"currentColor"},qn.createElement("use",{xlinkHref:"#photoeditorsdk-whites-icon"})),qn.createElement("use",{fill:"currentColor",fillOpacity:"0.9",xlinkHref:"#photoeditorsdk-whites-icon"}))),fp=()=>qn.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"24",height:"24",viewBox:"0 0 24 24"},qn.createElement("defs",null,qn.createElement("path",{id:"photoeditorsdk-close-icon",d:"M21.583 0L24 2.416 14.416 12 24 21.584 21.583 24 12 14.416 2.417 24 0 21.584 9.584 12 0 2.416 2.417 0 12 9.584 21.583 0z"})),qn.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},qn.createElement("mask",{fill:"currentColor"},qn.createElement("use",{xlinkHref:"#photoeditorsdk-close-icon"})),qn.createElement("use",{fill:"currentColor",fillRule:"nonzero",xlinkHref:"#photoeditorsdk-close-icon"})));var gp=function(){return qn.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"24",height:"24",viewBox:"0 0 24 24"},qn.createElement("defs",null,qn.createElement("path",{id:"photoeditorsdk-export-icon",d:"M22 1.5a1.5 1.5 0 011.493 1.356L23.5 3H22h1.5v17a1.5 1.5 0 01-1.5 1.5H12a1.5 1.5 0 01-1.493-1.356L10.5 20v-6h2v5.499h9v-16h-9V9h-2V3A1.5 1.5 0 0112 1.5h10zM6.15 5.817L7.634 7.3l-3.171 3.171h13.978v2H4.47l3.171 3.17-1.483 1.483L.5 11.467l5.65-5.65z"})),qn.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},qn.createElement("mask",{fill:"#fff"},qn.createElement("use",{xlinkHref:"#photoeditorsdk-export-icon"})),qn.createElement("use",{fill:"currentcolor",fillOpacity:"0.9",transform:"rotate(90 12 11.5)",xlinkHref:"#photoeditorsdk-export-icon"})))},mp=()=>qn.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"25",height:"25",viewBox:"0 0 25 25"},qn.createElement("defs",null,qn.createElement("path",{id:"photoeditorsdk-redo-icon",d:"M4 10.065C4 4.506 8.365 0 13.75 0s9.75 4.506 9.75 10.065v9.29h-3v-9.29c0-3.849-3.022-6.968-6.75-6.968S7 6.217 7 10.065v7.741h3L5.5 24 1 17.806h3v-7.741z"})),qn.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},qn.createElement("mask",{fill:"currentColor"},qn.createElement("use",{xlinkHref:"#photoeditorsdk-redo-icon"})),qn.createElement("use",{fill:"currentColor",transform:"matrix(0 1 1 0 .25 -.25)",xlinkHref:"#photoeditorsdk-redo-icon"}))),yp=()=>qn.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"25",height:"25",viewBox:"0 0 25 25"},qn.createElement("defs",null,qn.createElement("path",{id:"photoeditorsdk-undo-icon",d:"M4 10.065C4 4.506 8.365 0 13.75 0s9.75 4.506 9.75 10.065v9.29h-3v-9.29c0-3.849-3.022-6.968-6.75-6.968S7 6.217 7 10.065v7.741h3L5.5 24 1 17.806h3v-7.741z"})),qn.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},qn.createElement("mask",{fill:"currentColor"},qn.createElement("use",{xlinkHref:"#photoeditorsdk-undo-icon"})),qn.createElement("use",{fill:"currentColor",transform:"rotate(90 12.25 12)",xlinkHref:"#photoeditorsdk-undo-icon"})));var _p=function(){return qn.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"0 0 48 48",focusable:"false","aria-hidden":"true","aria-label":"Center Align",width:"26",height:"26"},qn.createElement("defs",null,qn.createElement("path",{id:"photoeditorsdk-align-center-icon",d:"M31.5 30v3h-15v-3h15zm4.5-7.5v3H12v-3h24zm0-7.5v3H12v-3h24z"})),qn.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},qn.createElement("mask",{fill:"#fff"},qn.createElement("use",{xlinkHref:"#photoeditorsdk-align-center-icon"})),qn.createElement("use",{fill:"currentColor",xlinkHref:"#photoeditorsdk-align-center-icon"})))},vp=()=>qn.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"0 0 48 48",focusable:"false","aria-hidden":"true","aria-label":"Left Align",width:"26",height:"26"},qn.createElement("defs",null,qn.createElement("path",{id:"photoeditorsdk-align-left-icon",d:"M27 30v3H12v-3h15zm9-7.5v3H12v-3h24zm0-7.5v3H12v-3h24z"})),qn.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},qn.createElement("mask",{fill:"#fff"},qn.createElement("use",{xlinkHref:"#photoeditorsdk-align-left-icon"})),qn.createElement("use",{fill:"currentColor",xlinkHref:"#photoeditorsdk-align-left-icon"})));var bp=function(){return qn.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"0 0 48 48",width:"26",height:"26",focusable:"false","aria-hidden":"true","aria-label":"Right Align"},qn.createElement("defs",null,qn.createElement("path",{id:"photoeditorsdk-align-right-icon",d:"M27 30v3H12v-3h15zm9-7.5v3H12v-3h24zm0-7.5v3H12v-3h24z"})),qn.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},qn.createElement("path",{d:"M0 0H48V48H0z"}),qn.createElement("mask",{fill:"#fff"},qn.createElement("use",{xlinkHref:"#photoeditorsdk-align-right-icon"})),qn.createElement("use",{fill:"currentColor",transform:"matrix(-1 0 0 1 48 0)",xlinkHref:"#photoeditorsdk-align-right-icon"})))},xp=()=>qn.createElement("svg",{focusable:"false","aria-hidden":"true","aria-label":"Adjustments",width:"48",height:"48",viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg"},qn.createElement("g",{fill:"none",fillRule:"evenodd"},qn.createElement("g",null,qn.createElement("g",{fill:"#D8D8D8",opacity:"0"},qn.createElement("rect",{width:"48",height:"48"})),qn.createElement("g",{transform:"translate(12 12)"},qn.createElement("rect",{fill:"#D8D8D8",opacity:"0",width:"24",height:"24"}),qn.createElement("g",{transform:"translate(2 13)",fill:"currentColor"},qn.createElement("path",{d:"M3.02746439,4 C3.00931666,4.16416693 3,4.33099545 3,4.5 C3,4.66900455 3.00931666,4.83583307 3.02746439,5 L0,5 L0,4 L3.02746439,4 Z M13,4 L20,4 L20,5 L13,5 L13,4 Z",fillOpacity:"0.2"}),qn.createElement("path",{d:"M5.09842503,6.29819429 C5.0340931,6.05140089 5,5.7851211 5,5.5 C5,3.56700338 6.56700338,2 8.5,2 C8.7851211,2 9.05140089,2.0340931 9.29819429,2.09842503 C10.0278893,2.64566496 10.5,3.5176988 10.5,4.5 C10.5,6.15685425 9.15685425,7.5 7.5,7.5 C6.5176988,7.5 5.64566496,7.02788926 5.09842503,6.29819429 Z M11.1637159,7.11349161 C10.874061,7.51881791 10.5188179,7.87406095 10.1134916,8.16371592 C10.5772175,7.93004328 10.9300433,7.5772175 11.1637159,7.11349161 Z",fillOpacity:"0.2"}),qn.createElement("path",{d:"M7.5,7.5 C9.15685425,7.5 10.5,6.15685425 10.5,4.5 C10.5,2.84314575 9.15685425,1.5 7.5,1.5 C5.84314575,1.5 4.5,2.84314575 4.5,4.5 C4.5,6.15685425 5.84314575,7.5 7.5,7.5 Z M7.5,9 C5.01471863,9 3,6.98528137 3,4.5 C3,2.01471863 5.01471863,0 7.5,0 C9.98528137,0 12,2.01471863 12,4.5 C12,6.98528137 9.98528137,9 7.5,9 Z",fillOpacity:"0.87"})),qn.createElement("g",{transform:"rotate(-180 11 5.5)",fill:"currentColor"},qn.createElement("path",{d:"M11.9725356,4 L20,4 L20,5 L11.9725356,5 C11.9906833,4.83583307 12,4.66900455 12,4.5 C12,4.33099545 11.9906833,4.16416693 11.9725356,4 Z M0,4 L2,4 L2,5 L0,5 L0,4 Z",fillOpacity:"0.2"}),qn.createElement("g",{transform:"rotate(-180 5 3.5)",fillOpacity:"0.2"},qn.createElement("path",{d:"M0.0984250251,4.29819429 C0.0340930963,4.05140089 0,3.7851211 0,3.5 C0,1.56700338 1.56700338,0 3.5,0 C3.7851211,0 4.05140089,0.0340930963 4.29819429,0.0984250251 C5.02788926,0.645664963 5.5,1.5176988 5.5,2.5 C5.5,4.15685425 4.15685425,5.5 2.5,5.5 C1.5176988,5.5 0.645664963,5.02788926 0.0984250251,4.29819429 Z M6.16371592,5.11349161 C5.87406095,5.51881791 5.51881791,5.87406095 5.11349161,6.16371592 C5.5772175,5.93004328 5.93004328,5.5772175 6.16371592,5.11349161 Z"})),qn.createElement("path",{d:"M7.5,7.5 C9.15685425,7.5 10.5,6.15685425 10.5,4.5 C10.5,2.84314575 9.15685425,1.5 7.5,1.5 C5.84314575,1.5 4.5,2.84314575 4.5,4.5 C4.5,6.15685425 5.84314575,7.5 7.5,7.5 Z M7.5,9 C5.01471863,9 3,6.98528137 3,4.5 C3,2.01471863 5.01471863,-3.6739404e-16 7.5,-3.6739404e-16 C9.98528137,-3.6739404e-16 12,2.01471863 12,4.5 C12,6.98528137 9.98528137,9 7.5,9 Z",fillOpacity:"0.87"}))))));var wp=function(){return qn.createElement("svg",{focusable:"false","aria-hidden":"true","aria-label":"Brush",width:"48",height:"48",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48"},qn.createElement("g",{fill:"currentColor",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},qn.createElement("path",{fillOpacity:"0.87",d:"M14.73 18.86C13.293 19.503 11.624 20 10 20 2 20 0 13 0 10c.486.972 2.37 5.848 7.537 4.165C7.873 17.125 10.427 19 13 19c.6 0 1.177-.05 1.73-.14zM8.422 8.63a7.352 7.352 0 00-1.127 1.616L2.401 3.705c-.215-.287-.178-.807.072-1.056l.088-.088L8.5 8.5l-.078.13z",opacity:"0.5",transform:"translate(12 12) translate(2 2)"}),qn.createElement("path",{fillOpacity:"0.87",d:"M7.295 10.246c-.27.526-.48 1.09-.615 1.68L1.2 4.603c-.663-.885-.564-2.24.212-3.015l.176-.176c.78-.78 2.121-.881 3.015-.212l7.245 5.421a6.088 6.088 0 00-1.67.624L3.706 2.401c-.294-.22-.801-.184-1.056.072l-.176.176c-.25.25-.287.769-.072 1.056l4.894 6.54z",transform:"translate(12 12) translate(2 2)"}),qn.createElement("path",{fillOpacity:"0.87",d:"M9.702 6.554c-.185-.869-.151-.71-.207-.955C8.88 2.902 8.145 2 6 2 3.98 2 2 4.08 2 6.5c0 2.294 1.835 4 4 4 1.545 0 2.915-.342 4.544-1.088-.332-.7-.578-1.619-.842-2.858z",opacity:"0.5",transform:"translate(12 12) translate(2 2) translate(7 7)"}),qn.createElement("path",{fillOpacity:"0.25",d:"M10.379 9.027c.053.135.108.263.165.385C8.914 10.158 7.545 10.5 6 10.5c-2.165 0-4-1.706-4-4 0-1.528.79-2.921 1.88-3.74-.882 2.084-1.025 6.482 6.499 6.267z",transform:"translate(12 12) translate(2 2) translate(7 7)"}),qn.createElement("path",{fillOpacity:"0.87",d:"M9.702 6.554c-.185-.869-.151-.71-.207-.955C8.88 2.902 8.145 2 6 2 3.98 2 2 4.08 2 6.5c0 2.294 1.835 4 4 4 1.545 0 2.915-.342 4.544-1.088-.332-.7-.578-1.619-.842-2.858zM6 12C3.239 12 .5 9.842.5 6.5S3.239.5 6 .5c6.5 0 4 8 7 9.342C11 10.947 8.761 12 6 12z",transform:"translate(12 12) translate(2 2) translate(7 7)"})))},Sp=()=>qn.createElement("svg",{"aria-hidden":"true",focusable:"false","aria-label":"Filter",width:"48",height:"48",viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg"},qn.createElement("g",{fill:"none",fillRule:"evenodd"},qn.createElement("g",null,qn.createElement("g",{fill:"#D8D8D8",opacity:"0"},qn.createElement("rect",{width:"48",height:"48"})),qn.createElement("g",{transform:"translate(16 14)",fill:"currentColor"},qn.createElement("g",null,qn.createElement("path",{d:"M1.53468397,11.3244256 C2.30584171,10.1516526 4.0927284,8.69757613 8,10 C11.5643313,11.1881104 13.1877038,10.2588113 13.9183327,9.30853287 C14.2918933,10.1286474 14.5,11.0400207 14.5,12 C14.5,15.5898509 11.5898509,18.5 8,18.5 C4.41014913,18.5 1.5,15.5898509 1.5,12 C1.5,11.7718729 1.51175212,11.5464906 1.53468397,11.3244256 Z",fillOpacity:"0.2"}),qn.createElement("path",{d:"M1.53471819,12.6759057 C2.39408133,13.5811739 4.12541941,14.1109247 5.5,13.5 C9.81068889,11.5841383 9.99203585,9.66827654 14.3948028,10.8290113 C14.4639074,11.2088572 14.5,11.6002137 14.5,12 C14.5,15.5898509 11.5898509,18.5 8,18.5 C4.63838968,18.5 1.87279864,15.9481381 1.53471819,12.6759057 Z",fillOpacity:"0.25"}),qn.createElement("path",{d:"M11,1.44328993e-15 L11,4.58151705 C13.9318303,5.7682918 16,8.64262245 16,12 C16,16.418278 12.418278,20 8,20 C3.581722,20 0,16.418278 0,12 C0,8.64262245 2.06816966,5.7682918 5,4.58151705 L5,1.60982339e-15 L6.5,1.44328993e-15 L6.5,5.67393184 C3.6333,6.35109564 1.5,8.92641836 1.5,12 C1.5,15.5898509 4.41014913,18.5 8,18.5 C11.5898509,18.5 14.5,15.5898509 14.5,12 C14.5,8.92641836 12.3667,6.35109564 9.5,5.67393184 L9.5,1.77635684e-15 L11,1.44328993e-15 Z",fillOpacity:"0.87"})))))),kp=()=>qn.createElement("svg",{focusable:"false","aria-hidden":"true","aria-label":"Focus",width:"48",height:"48",viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg"},qn.createElement("g",{fill:"none",fillRule:"evenodd"},qn.createElement("g",null,qn.createElement("g",{fill:"#D8D8D8",opacity:"0"},qn.createElement("rect",{width:"48",height:"48"})),qn.createElement("g",{transform:"translate(12 12)"},qn.createElement("rect",{fill:"#D8D8D8",opacity:"0",width:"24",height:"24"}),qn.createElement("g",{transform:"translate(4 2)",fill:"currentColor"},qn.createElement("path",{d:"M8.51312274,19.9836057 C8.77273397,19.9669655 9.02898229,19.9377873 9.2812837,19.8966625 C9.14309542,19.9643562 9.04607398,20 9,20 C8.83633495,20 8.67398178,19.9944755 8.51312274,19.9836057 Z M2.27242753,15.0235117 C2.09503729,14.4174909 2,13.7771617 2,13.115 C2,8.89625769 7.39855682,4.1952443 9.03524007,2.8669743 C9.66704719,3.45933018 10.2896864,4.09178959 10.8802638,4.75434357 C12.9939648,7.12565193 14.310818,9.45010207 14.481291,11.4644804 C14.4937541,11.6117488 14.5,11.7569175 14.5,11.9 C14.5,15.5490785 11.5855665,18.5 8,18.5 C5.525182,18.5 3.37015673,17.0943182 2.27242753,15.0235117 Z M15.999821,11.9547651 C15.9999402,11.9698392 16,11.9849176 16,12 C16,12.0581275 15.9984809,12.1163475 15.9954873,12.1746435 C15.9978914,12.1015915 15.9993401,12.0282946 15.999821,11.9547651 Z",fillOpacity:"0.2"}),qn.createElement("path",{d:"M3.47269084,16.6357644 C3.47244857,13.6389249 9.59189484,15.3529683 12,11.5 C13.2066771,9.56931667 12.316614,7.05620551 11.0727604,4.97270186 C13.0737756,7.26814668 14.316054,9.51197209 14.481291,11.4644804 C14.4937541,11.6117488 14.5,11.7569175 14.5,11.9 C14.5,15.5490785 11.5855665,18.5 8,18.5 C6.2411126,18.5 4.64375705,17.7899702 3.47269084,16.6357644 Z",fillOpacity:"0.25"}),qn.createElement("path",{d:"M7.73975027,2.16383649 C6.84545319,2.94914111 5.95084629,3.82194197 5.11973623,4.75434357 C3.00603518,7.12565193 1.68918197,9.45010207 1.51870896,11.4644804 C1.50624591,11.6117488 1.5,11.7569175 1.5,11.9 C1.5,15.5492218 4.41434886,18.5 8,18.5 C11.5855665,18.5 14.5,15.5490785 14.5,11.9 C14.5,11.7569175 14.4937541,11.6117488 14.481291,11.4644804 C14.310818,9.45010207 12.9939648,7.12565193 10.8802638,4.75434357 C10.0491537,3.82194197 9.15454681,2.94914111 8.26024973,2.16383649 C8.17157048,2.08596503 8.08476013,2.01060875 8,1.93784184 C7.91523987,2.01060875 7.82842952,2.08596503 7.73975027,2.16383649 Z M8,20 C3.581722,20 0,16.3735065 0,11.9 C0,6.05 8,0 8,0 C8,0 16,6.05 16,11.9 C16,16.3732777 12.418278,20 8,20 Z",fillOpacity:"0.87"})))))),Cp=()=>qn.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",focusable:"false","aria-hidden":"true","aria-label":"Frames",width:"48",height:"48",viewBox:"0 0 48 48"},qn.createElement("g",{fill:"currentColor",fillRule:"evenodd",stroke:"none",strokeWidth:"1",transform:"translate(12 12)"},qn.createElement("path",{fillOpacity:"0.2",d:"M8 8L17 7 17 17 7 17z"}),qn.createElement("path",{fillOpacity:"0.87",d:"M4.5 19.5h15v-15h-15v15zM3 3h18v18H3V3z"}),qn.createElement("path",{fillOpacity:"0.87",d:"M7 17h10V7H7v10zM6 6h12v12H6V6z"}),qn.createElement("path",{fillOpacity:"0.25",d:"M9 15L11 12 13 14 14 13.5 15 15z"}))),Tp=()=>qn.createElement("svg",{focusable:"false","aria-hidden":"true","aria-label":"Library",width:"48",height:"48",viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg"},qn.createElement("g",{fill:"none",fillRule:"evenodd"},qn.createElement("g",{transform:"translate(15 15)",fill:"currentColor"},qn.createElement("g",null,qn.createElement("polygon",{fillOpacity:"0.2",points:"3 3 12.5 1.5 12.5 15.5 1.5 15.5"}),qn.createElement("path",{d:"M1.5,1.5 L1.5,15.5 L12.5,15.5 L12.5,1.5 L1.5,1.5 Z M0,0 L14,0 L14,17 L0,17 L0,0 Z",fillOpacity:"0.87"}),qn.createElement("polygon",{fillOpacity:"0.25",points:"3 11 6 7 8 9 9 8.5 11 11"}),qn.createElement("circle",{fillOpacity:"0.25",cx:"9",cy:"5",r:"1"}),qn.createElement("rect",{fillOpacity:"0.25",x:"3",y:"13",width:"8",height:"1"}),qn.createElement("g",{transform:"rotate(14 -2.352 56.952)",fillOpacity:"0.2"},qn.createElement("path",{d:"M1.32904158,1.07500967e-13 L5,1.07500967e-13 L5,14.7234101 L4,10.7126291 L4,1 L1.57836958,1 L1.32904158,1.07500967e-13 Z M5,14.9745817 L5,16 L0.887271787,16 L5,14.9745817 Z"}),qn.createElement("path",{d:"M1.82769758,2 L3,2 L3,6.70184819 L1.82769758,2 Z"})))))),Ep=()=>qn.createElement("svg",{focusable:"false","aria-hidden":"true","aria-label":"Overlays",width:"48",height:"48",viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg"},qn.createElement("g",{fill:"none",fillRule:"evenodd"},qn.createElement("g",{transform:"translate(15 15)",fill:"currentColor"},qn.createElement("path",{d:"M13.5,4 L13.5,13.5 L4,13.5 L4,5 C4,4.44771525 4.44771525,4 5,4 L13.5,4 Z M15,4 L17,4 C17.5522847,4 18,4.44771525 18,5 L18,17 C18,17.5522847 17.5522847,18 17,18 L5,18 C4.44771525,18 4,17.5522847 4,17 L4,15 L14,15 C14.5522847,15 15,14.5522847 15,14 L15,4 Z",fillOpacity:"0.2"}),qn.createElement("path",{d:"M1.5,1.5 L1.5,13.5 L13.5,13.5 L13.5,1.5 L1.5,1.5 Z M1,0 L14,0 C14.5522847,-1.01453063e-16 15,0.44771525 15,1 L15,14 C15,14.5522847 14.5522847,15 14,15 L1,15 C0.44771525,15 6.76353751e-17,14.5522847 0,14 L0,1 C-6.76353751e-17,0.44771525 0.44771525,1.01453063e-16 1,0 Z",fillOpacity:"0.87"})))),Dp=()=>qn.createElement("svg",{focusable:"false","aria-hidden":"true",width:"48px",height:"48px",version:"1.1",xmlns:"http://www.w3.org/2000/svg","aria-label":"Stickers",viewBox:"0 0 48 48"},qn.createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},qn.createElement("g",null,qn.createElement("g",{transform:"translate(14.000000, 14.000000)",fill:"currentColor"},qn.createElement("g",{transform:"translate(2.000000, 2.000000)",fillOpacity:"0.2"},qn.createElement("path",{d:"M11.5840291,0.290311095 C14.1040281,1.4637822 15.9529364,3.83641178 16.3972985,6.6747443 C11.4538042,7.5567274 7.55733385,11.4556991 6.68374109,16.3973312 C3.83946575,15.9530468 1.46423317,14.1041207 0.290132399,11.5832649 C0.0988489957,10.7650202 3.01980663e-14,9.89786431 3.01980663e-14,9 C3.01980663e-14,6.64646143 0.903391324,4.50392121 2.38232909,2.90022422 C4.02683831,1.11698861 6.38297582,-3.55271368e-15 9,-3.55271368e-15 C9.89814387,-3.55271368e-15 10.7655602,0.0989105588 11.5840291,0.290311095 Z"}),qn.createElement("path",{d:"M17.9877222,8 L8,17.9877222 C8.2591955,12.5923102 12.5906864,8.26470667 17.9877222,8 Z"})),qn.createElement("path",{d:"M9.87290303,14.9211604 C9.09408801,14.4293124 5,11.7146562 5,9 C5,7.34 6.34,6 8,6 C8.77,6 9.47,6.52 10,7 C10.53,6.52 11.23,6 12,6 C13.66,6 15,7.34 15,9 C15,9.30171667 14.9494261,9.60343334 14.8584511,9.90209822 C12.7354304,11.0373368 10.9933363,12.7905402 9.87290303,14.9211604 Z",fillOpacity:"0.25"}),qn.createElement("path",{d:"M10,1.5 C5.30557963,1.5 1.5,5.30557963 1.5,10 C1.5,14.2449983 4.61102233,17.7611603 8.68374109,18.3973312 C9.55733385,13.4556991 13.4538042,9.5567274 18.3972985,8.6747443 C17.7608961,4.60976745 14.2436106,1.5 10,1.5 Z M0,10 C0,4.4771525 4.4771525,0 10,0 C15.5228475,0 20,4.4771525 20,10 C14.5988732,10.2649073 10.2649073,14.5988732 10.0116954,19.9999933 C4.4771525,20 0,15.5228475 0,10 Z",fillOpacity:"0.87"}))))),Ip=()=>qn.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",focusable:"false","aria-hidden":"true","aria-label":"Texts",width:"48",height:"48"},qn.createElement("g",{fill:"currentColor",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},qn.createElement("path",{fillOpacity:"0.2",d:"M17.883 19.5H16.07L11.702 6.833l1.235-1.411L17.883 19.5z",transform:"translate(12 12)"}),qn.createElement("path",{fillOpacity:"0.87",d:"M10.8 8.818L8.483 14.5h4.275l-1.96-5.682zM10 6.5l3.5-4 5.973 17H21V21h-8v-1.5h1.483L13.276 16H7.873l-1.426 3.5H8V21H3v-1.5h1.704L10 6.5zm1.702.333L16.069 19.5h1.814L12.937 5.422l-1.235 1.411z",transform:"translate(12 12)"}),qn.createElement("path",{fillOpacity:"0.2",d:"M19.55 15l-.35-1H21v1h-1.45zm1.05 3l-.35-1H21v1h-.4zM7.639 8L7.25 9H3V8h4.639zm1.167-3l-.39 1H7V5h1.806zm-2.334 6l-.389 1H6v-1h.472zm-1.166 3l-.39 1H3v-1h2.306zm-1.167 3l-.389 1H3v-1h1.139zM15.35 3L15 2h1v1h-.65zm3.15 9l-.35-1H21v1h-2.5zm-1.05-3l-.35-1H21v1h-3.55zM16.4 6l-.35-1H18v1h-1.6zm-5.9-3H9V2h2.5l-1 1zM3 5h3v1H3V5zm16 0h2v1h-2V5zM3 11h2v1H3v-1zm18-8h-4V2h4v1zM8 3H3V2h5v1z",transform:"translate(12 12)"}))),Rp=()=>qn.createElement("svg",{focusable:"false","aria-hidden":"true","aria-label":"Text Design",width:"48",height:"48",viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg"},qn.createElement("g",{fill:"currentColor",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},qn.createElement("path",{fillOpacity:"0.87",d:"M1 0h14a1 1 0 011 1v19l-8-6-8 6V1a1 1 0 011-1zm.5 1.5V17L8 12.125 14.5 17V1.5h-13z",transform:"translate(14 14) translate(2)"}),qn.createElement("path",{fillOpacity:"0.2",d:"M1.5 1.5h13V17L8 12.125 1.5 17V1.5z",transform:"translate(14 14) translate(2)"}),qn.createElement("path",{fillOpacity:"0.25",d:"M9 4l2.52 7H10.2l-.7-1.85H6.45L5.77 11H4.49L6.9 4H9zm-1.04.78h-.05L6.73 8.14H9.2L7.96 4.78z",transform:"translate(14 14) translate(2)"})));var Fp=function(){return qn.createElement("svg",{focusable:"false","aria-hidden":"true","aria-label":"Transform",width:"48",height:"48",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48"},qn.createElement("g",{fill:"currentColor",fillRule:"evenodd",stroke:"none",strokeWidth:"1",transform:"translate(12 12)"},qn.createElement("path",{fillOpacity:"0.2",d:"M10 10L15 9 15 15 9 15z"}),qn.createElement("path",{fillOpacity:"0.87",d:"M9 15h6V9H9v6zm-1.5 0V7.5H15V3h1.5v13.5H3V15h4.5zm0 2.5H9V21H7.5v-3.5zM21 7.5V9h-3.5V7.5H21z"}),qn.createElement("g",{fillOpacity:"0.2"},qn.createElement("path",{d:"M0 10h1a9.003 9.003 0 015.5-8.294L7 3 10.942.044C10.632.014 10.318 0 10 0 4.477 0 0 4.477 0 10z",transform:"translate(2 2)"}),qn.createElement("path",{d:"M9 20h1a9.003 9.003 0 015.5-8.294L16 13l3.942-2.956c-.31-.03-.624-.044-.942-.044-5.523 0-10 4.477-10 10z",transform:"translate(2 2) rotate(-180 14.47 15)"}))))},Ap=()=>qn.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"24",height:"24",viewBox:"0 0 24 24"},qn.createElement("defs",null,qn.createElement("path",{id:"photoeditorsdk-icon-add-text",d:"M12 0c6.627 0 12 5.373 12 12s-5.373 12-12 12S0 18.627 0 12 5.373 0 12 0zm1 6h-2v5H6v2h5v5h2v-5h5v-2h-5V6z"})),qn.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},qn.createElement("mask",{fill:"currentColor"},qn.createElement("use",{xlinkHref:"#photoeditorsdk-icon-add-text"})),qn.createElement("use",{fill:"currentColor",fillRule:"nonzero",xlinkHref:"#photoeditorsdk-icon-add-text"}))),Op=()=>qn.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},qn.createElement("path",{fill:"currentColor",fillOpacity:"0.9",fillRule:"evenodd",stroke:"none",strokeWidth:"1",d:"M12 1c5.523 0 10 4.477 10 10a9.98 9.98 0 01-3.678 7.749c1.877.92 3.445 2.251 4.502 3.88l.176.283-1.743 1.02c-1.04-1.735-2.824-3.102-4.995-3.884A9.94 9.94 0 0112 21a9.962 9.962 0 01-4.255-.948c-2.076.748-3.797 2.033-4.852 3.661l-.147.237L1 22.935c1.053-1.766 2.694-3.204 4.684-4.183A9.975 9.975 0 012 11C2 5.477 6.477 1 12 1zm0 2a8 8 0 100 16 8 8 0 000-16zm0 5a5 5 0 110 10 5 5 0 010-10zm0 2a3 3 0 100 6 3 3 0 000-6zm1-4v1h-2V6h2z"})),Mp=()=>qn.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},qn.createElement("path",{fill:"currentColor",fillOpacity:"0.9",fillRule:"evenodd",stroke:"none",strokeWidth:"1",d:"M16.23 10.885a2.292 2.292 0 00-2.285-2.286 2.292 2.292 0 00-2.286 2.286 2.292 2.292 0 002.286 2.286 2.292 2.292 0 002.286-2.286zM13.946.599C8.265.6 3.66 5.205 3.66 10.885H.231l4.571 4.571 4.572-4.571H5.945c0-4.423 3.577-8 8-8s8 3.577 8 8a7.994 7.994 0 01-12.64 6.514l-1.623 1.646a10.3 10.3 0 006.263 2.126c5.68 0 10.286-4.606 10.286-10.286S19.625.599 13.945.599z",transform:"rotate(56 11.298 10.261)"}));var Pp=function(){return qn.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"24",height:"24",viewBox:"0 0 24 24"},qn.createElement("defs",null,qn.createElement("path",{id:"photoeditorsdk-shuffle-icon",d:"M24 10v8a3 3 0 01-3 3H6v3l-6-4 6-4v3h15a1 1 0 001-1v-8h2zM18 0l6 4-6 4V5H3a1 1 0 00-1 1v8H0V6a3 3 0 013-3h15V0z"})),qn.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},qn.createElement("mask",{fill:"currentColor"},qn.createElement("use",{xlinkHref:"#photoeditorsdk-shuffle-icon"})),qn.createElement("use",{fill:"currentColor",fillOpacity:"0.9",xlinkHref:"#photoeditorsdk-shuffle-icon"})))},zp=()=>qn.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"24",height:"24",viewBox:"0 0 24 24"},qn.createElement("defs",null,qn.createElement("path",{id:"photoeditorsdk-upload-icon",d:"M4.143 17.286l-.001 3.142h15.715v-3.142H23v6.285H1v-6.285h3.143zM12 0l9.429 9.429-2.2 2.2L13.57 5.97v9.743H10.43V5.971L4.77 11.63l-2.2-2.2L12 0z"})),qn.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},qn.createElement("mask",{fill:"currentColor"},qn.createElement("use",{xlinkHref:"#photoeditorsdk-upload-icon"})),qn.createElement("use",{fill:"currentColor",xlinkHref:"#photoeditorsdk-upload-icon"}))),Bp=()=>qn.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"24",height:"24",viewBox:"0 0 24 24"},qn.createElement("defs",null,qn.createElement("path",{id:"photoeditorsdk-bring-to-front-icon",d:"M21 16a2 2 0 012 2v4a2 2 0 01-2 2H3a2 2 0 01-2-2v-4a2 2 0 012-2h18zM12.006 1l5.996 5.996-1.414 1.414-3.578-3.577V12h-2.008V4.833L7.418 8.417 6.004 7.003 12.006 1z"})),qn.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},qn.createElement("path",{d:"M0 0H24V24H0z"}),qn.createElement("mask",{fill:"currentColor"},qn.createElement("use",{xlinkHref:"#photoeditorsdk-bring-to-front-icon"})),qn.createElement("use",{fill:"currentColor",fillOpacity:"0.9",xlinkHref:"#photoeditorsdk-bring-to-front-icon"}))),Lp=e=>{let{highlight:t="currentColor",width:i=48,height:r=48}=e;return qn.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:i,height:r,viewBox:"0 0 48 48"},qn.createElement("g",{fill:"none",fillOpacity:"0.9",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},qn.createElement("g",{fill:t,transform:"translate(13 13)"},qn.createElement("path",{d:"M22 3.701h-1.642V1.644l-2.06-.001V0h2.538c.421 0 .682.174.827.32.322.322.337.748.337.83v2.551z"}),qn.createElement("path",{d:"M1.643 3.701H0V1.165C0 .743.174.482.32.336.64.016 1.06 0 1.147 0H3.701v1.643H1.644l-.001 2.058z"}),qn.createElement("path",{d:"M13.7232174 1.5486087L17.4249565 1.5486087 17.4249565 0 13.7232174 0z"}),qn.createElement("path",{d:"M9.15008696 1.5486087L12.8508696 1.5486087 12.8508696 0 9.15008696 0z"}),qn.createElement("path",{d:"M4.57504348 1.5486087L8.27678261 1.5486087 8.27678261 0 4.57504348 0z"}),qn.createElement("path",{d:"M0 8.27582609L1.5486087 8.27582609 1.5486087 4.57504348 0 4.57504348z"}),qn.createElement("path",{d:"M20.4513913 8.27582609L22 8.27582609 22 4.57504348 20.4513913 4.57504348z"}),qn.createElement("path",{d:"M0 12.8508696L1.5486087 12.8508696 1.5486087 9.14913043 0 9.14913043z"}),qn.createElement("path",{d:"M0 17.4249565L1.5486087 17.4249565 1.5486087 13.7232174 0 13.7232174z"}),qn.createElement("path",{d:"M20.4513913 12.8508696L22 12.8508696 22 9.14913043 20.4513913 9.14913043z"}),qn.createElement("path",{d:"M20.4513913 17.4249565L22 17.4249565 22 13.7232174 20.4513913 13.7232174z"}),qn.createElement("path",{d:"M3.702 22H1.165c-.421 0-.682-.174-.828-.32-.322-.322-.337-.748-.337-.83v-2.552h1.643v2.059h2.059V22z"}),qn.createElement("path",{d:"M20.853 22h-2.554v-1.642h2.057l.001-2.06H22v2.538c0 .42-.174.682-.319.827-.32.32-.742.337-.828.337"}),qn.createElement("path",{d:"M4.57504348 22L8.27678261 22 8.27678261 20.4513913 4.57504348 20.4513913z"}),qn.createElement("path",{d:"M9.15008696 22L12.8508696 22 12.8508696 20.4513913 9.15008696 20.4513913z"}),qn.createElement("path",{d:"M13.7232174 22L17.4249565 22 17.4249565 20.4513913 13.7232174 20.4513913z"}))))},Up=e=>{let{highlight:t="currentColor",width:i=48,height:r=48}=e;return qn.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:i,height:r,viewBox:"0 0 48 48"},qn.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},qn.createElement("path",{fill:t,d:"M29.967 13.005L26.984 13c-3.35 0-5.516 2.222-5.516 5.66v2.61h-2.999c-.26 0-.469.21-.469.47v3.78c0 .26.21.47.469.47h2.999v9.541c0 .26.21.469.469.469h3.912c.26 0 .47-.21.47-.469V25.99h3.506c.259 0 .469-.21.469-.47l.001-3.78a.47.47 0 00-.469-.47h-3.508v-2.212c0-1.064.254-1.603 1.639-1.603l2.01-.001c.258 0 .468-.21.468-.47v-3.51a.47.47 0 00-.468-.47z"})))},Np=e=>{let{highlight:t="currentColor",width:i=48,height:r=48}=e;return qn.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:i,height:r,viewBox:"0 0 48 48"},qn.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},qn.createElement("g",{fill:t,transform:"translate(13 13)"},qn.createElement("path",{d:"M15.125 0h-8.25A6.876 6.876 0 000 6.875v8.25A6.876 6.876 0 006.875 22h8.25A6.876 6.876 0 0022 15.125v-8.25A6.876 6.876 0 0015.125 0zm4.813 15.125a4.818 4.818 0 01-4.813 4.813h-8.25a4.818 4.818 0 01-4.813-4.813v-8.25a4.818 4.818 0 014.813-4.813h8.25a4.818 4.818 0 014.813 4.813v8.25z"}),qn.createElement("path",{d:"M11 5.5a5.5 5.5 0 100 11 5.5 5.5 0 000-11zm0 8.938A3.442 3.442 0 017.562 11 3.441 3.441 0 0111 7.562 3.441 3.441 0 0114.438 11 3.442 3.442 0 0111 14.438z"}),qn.createElement("circle",{cx:"16.913",cy:"5.088",r:"1"}))))},Hp=e=>{let{highlight:t="currentColor",width:i=48,height:r=48}=e;return qn.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:i,height:r,viewBox:"0 0 48 48"},qn.createElement("g",{fill:"none",fillOpacity:"0.9",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},qn.createElement("path",{fill:t,d:"M36 17.305c-.892.402-1.843.668-2.835.797a4.997 4.997 0 002.165-2.79 9.685 9.685 0 01-3.12 1.222 4.874 4.874 0 00-3.595-1.596c-2.723 0-4.916 2.267-4.916 5.047 0 .4.032.785.113 1.151-4.09-.205-7.71-2.215-10.141-5.278a5.18 5.18 0 00-.673 2.55c0 1.748.877 3.297 2.185 4.194a4.766 4.766 0 01-2.223-.621v.055c0 2.452 1.705 4.49 3.942 4.958-.4.113-.837.167-1.29.167-.315 0-.633-.019-.931-.087.637 1.999 2.446 3.468 4.597 3.516a9.73 9.73 0 01-6.1 2.152c-.404 0-.791-.018-1.178-.07a13.601 13.601 0 007.548 2.266c9.054 0 14.004-7.693 14.004-14.36 0-.224-.008-.439-.018-.653A9.958 9.958 0 0036 17.305z"})))},jp=Gn.Ay.svg.attrs({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"})(Jt||(Jt=(0,Wn.A)([""]))),Wp=e=>{let{highlight:t="#565656",width:i=32,height:r=32}=e;return qn.createElement(jp,{width:i,height:r,viewBox:"0 0 32 32"},qn.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},qn.createElement("g",{fill:t,transform:"translate(-8 -8)"},qn.createElement("g",{transform:"translate(8 8)"},qn.createElement("g",null,qn.createElement("path",{d:"M.941 31.992h2.824v-.94L.941 31.05v-2.822h-.94v2.846s-.004.918.94.918"}),qn.createElement("path",{d:"M31.974 31.051v-2.823h-.942v2.823h-2.823v.941h2.846s.919.003.919-.94"}),qn.createElement("path",{d:"M4.62305882 31.9926588L8.38776471 31.9926588 8.38776471 31.0514824 4.62305882 31.0514824z"}),qn.createElement("path",{d:"M9.32894118 31.9926588L13.0936471 31.9926588 13.0936471 31.0514824 9.32894118 31.0514824z"}),qn.createElement("path",{d:"M14.0348235 31.9926588L17.7995294 31.9926588 17.7995294 31.0514824 14.0348235 31.0514824z"}),qn.createElement("path",{d:"M18.7407059 31.9926588L22.5054118 31.9926588 22.5054118 31.0514824 18.7407059 31.0514824z"}),qn.createElement("path",{d:"M23.4465882 31.9926588L27.2112941 31.9926588 27.2112941 31.0514824 23.4465882 31.0514824z"}),qn.createElement("path",{d:"M0 .94v2.824h.941L.942.941h2.823V0H.919S0-.002 0 .94"}),qn.createElement("path",{d:"M31.032 0H28.21v.94l2.823.002v2.822h.942V.92s.002-.92-.942-.92"}),qn.createElement("path",{d:"M4.62305882 0.940423529L8.38776471 0.940423529 8.38776471 -0.000752941176 4.62305882 -0.000752941176z"}),qn.createElement("path",{d:"M9.32894118 0.940423529L13.0936471 0.940423529 13.0936471 -0.000752941176 9.32894118 -0.000752941176z"}),qn.createElement("path",{d:"M14.0348235 0.940423529L17.7995294 0.940423529 17.7995294 -0.000752941176 14.0348235 -0.000752941176z"}),qn.createElement("path",{d:"M18.7407059 0.940423529L22.5054118 0.940423529 22.5054118 -0.000752941176 18.7407059 -0.000752941176z"}),qn.createElement("path",{d:"M23.4465882 0.940423529L27.2112941 0.940423529 27.2112941 -0.000752941176 23.4465882 -0.000752941176z"}),qn.createElement("path",{d:"M0 8.46324706L0.941176471 8.46324706 0.941176471 4.69854118 0 4.69854118z"}),qn.createElement("path",{d:"M0 13.1691294L0.941176471 13.1691294 0.941176471 9.40442353 0 9.40442353z"}),qn.createElement("path",{d:"M0 17.8750118L0.941176471 17.8750118 0.941176471 14.1103059 0 14.1103059z"}),qn.createElement("path",{d:"M0 22.5808941L0.941176471 22.5808941 0.941176471 18.8161882 0 18.8161882z"}),qn.createElement("path",{d:"M0 27.2867765L0.941176471 27.2867765 0.941176471 23.5220706 0 23.5220706z"}),qn.createElement("path",{d:"M30.976 8.46324706L31.9171765 8.46324706 31.9171765 4.69854118 30.976 4.69854118z"}),qn.createElement("path",{d:"M30.976 13.1691294L31.9171765 13.1691294 31.9171765 9.40442353 30.976 9.40442353z"}),qn.createElement("path",{d:"M30.976 17.8750118L31.9171765 17.8750118 31.9171765 14.1103059 30.976 14.1103059z"}),qn.createElement("path",{d:"M30.976 22.5808941L31.9171765 22.5808941 31.9171765 18.8161882 30.976 18.8161882z"}),qn.createElement("path",{d:"M30.976 27.2867765L31.9171765 27.2867765 31.9171765 23.5220706 30.976 23.5220706z"}))))))},Vp=e=>{let{highlight:t="#565656",width:i=32,height:r=48}=e;return qn.createElement(jp,{width:i,height:r,viewBox:"0 0 42 32"},qn.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},qn.createElement("g",{fill:t,transform:"translate(-3 -8)"},qn.createElement("rect",{width:"42",height:"32",x:"3",y:"8",rx:"0.5"}))))},Gp=e=>{let{highlight:t="#565656",width:i=26,height:r=46}=e;return qn.createElement(jp,{width:i,height:r,viewBox:"0 0 26 46"},qn.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},qn.createElement("g",{fill:t,transform:"translate(-11 -1)"},qn.createElement("path",{d:"M1 11.496A.5.5 0 011.5 11h45a.5.5 0 01.5.496v25.008a.5.5 0 01-.5.496h-45a.5.5 0 01-.5-.496V11.496z",transform:"rotate(90 24 24)"}))))},qp=e=>{let{highlight:t="#565656",width:i=26,height:r=46}=e;return qn.createElement(jp,{width:i,height:r,viewBox:"0 0 26 46"},qn.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},qn.createElement("g",{fill:t,transform:"translate(-11 -1)"},qn.createElement("path",{d:"M1 11.496A.5.5 0 011.5 11h45a.5.5 0 01.5.496v25.008a.5.5 0 01-.5.496h-45a.5.5 0 01-.5-.496V11.496z"}))))},Xp=e=>{let{highlight:t="#565656",mask:i="#fff",width:r=32,height:n=32}=e;return qn.createElement(jp,{width:r,height:n,viewBox:"0 0 32 32"},qn.createElement("defs",null,qn.createElement("rect",{id:"photoeditorsdk-square-icon",width:"32",height:"32",x:"0.92",y:"0.707",rx:"1"})),qn.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},qn.createElement("g",{transform:"translate(-8 -8)"},qn.createElement("g",{transform:"translate(7.08 7.293)"},qn.createElement("mask",{fill:i},qn.createElement("use",{xlinkHref:"#photoeditorsdk-square-icon"})),qn.createElement("use",{fill:t,xlinkHref:"#photoeditorsdk-square-icon"})))))},Yp=e=>{let{highlight:t="#565656",width:i=32,height:r=42}=e;return qn.createElement(jp,{width:i,height:r,viewBox:"0 0 32 42"},qn.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},qn.createElement("g",{fill:t,transform:"translate(-8 -3)"},qn.createElement("rect",{width:"42",height:"32",x:"3",y:"8",rx:"0.5",transform:"rotate(90 24 24)"}))))},Qp=e=>{let{main:t="#424242",highlight:i="#565656",width:r="48px",height:n="48px"}=e;return qn.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:r,height:n,viewBox:"0 0 48 48"},qn.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},qn.createElement("rect",{width:"28",height:"3",x:"12",y:"41",fill:t,rx:"0.5",transform:"matrix(-1 0 0 1 52 0)"}),qn.createElement("rect",{width:"34",height:"28",x:"7",y:"8",fill:i,rx:"0.5",transform:"matrix(1 0 0 -1 0 44)"}),qn.createElement("rect",{width:"3",height:"3",x:"8",y:"41",fill:t,rx:"0.5",transform:"matrix(-1 0 0 1 19 0)"}),qn.createElement("rect",{width:"28",height:"3",x:"12",y:"37",fill:t,rx:"0.5",transform:"matrix(-1 0 0 1 52 0)"}),qn.createElement("rect",{width:"28",height:"3",x:"12",y:"4",fill:t,rx:"0.5",transform:"matrix(1 0 0 -1 0 11)"}),qn.createElement("rect",{width:"3",height:"3",x:"8",y:"37",fill:t,rx:"0.5",transform:"matrix(-1 0 0 1 19 0)"}),qn.createElement("rect",{width:"3",height:"3",x:"8",y:"4",fill:t,rx:"0.5",transform:"matrix(1 0 0 -1 0 11)"})))},Kp=e=>{let{main:t="#424242",highlight:i="#565656",width:r="48px",height:n="48px"}=e;return qn.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:r,height:n,viewBox:"0 0 48 48"},qn.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},qn.createElement("g",null,qn.createElement("path",{fill:t,d:"M42 5a1 1 0 011 1v13a1 1 0 01-1 1H6a1 1 0 01-1-1V6a1 1 0 011-1h36zM21.505 18h-2.01a.494.494 0 00-.495.5c0 .268.222.5.495.5h2.01c.28 0 .495-.224.495-.5l-.008-.088a.503.503 0 00-.487-.412zm8.004 0h-5.018a.5.5 0 000 1h5.018a.5.5 0 00.491-.5l-.008-.088A.5.5 0 0029.51 18z"}),qn.createElement("rect",{width:"22",height:"11",x:"20",y:"29",fill:t,rx:"1"}),qn.createElement("rect",{width:"13",height:"10",x:"6",y:"23",fill:t,rx:"1"}),qn.createElement("rect",{width:"22",height:"5",x:"20",y:"23",fill:t,rx:"1"}),qn.createElement("rect",{width:"7",height:"7",x:"9",y:"14",fill:i,rx:"1"}),qn.createElement("rect",{width:"13",height:"9",x:"6",y:"34",fill:t,rx:"1"}))))},Zp=e=>{let{main:t="#424242",highlight:i="#565656",width:r="48px",height:n="48px"}=e;return qn.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:r,height:n,viewBox:"0 0 48 48"},qn.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},qn.createElement("g",{transform:"translate(5 5)"},qn.createElement("path",{fill:i,d:"M37 0a1 1 0 011 1v13a1 1 0 01-1 1H1a1 1 0 01-1-1V1a1 1 0 011-1h36zM16.505 13h-2.01a.494.494 0 00-.495.5c0 .268.222.5.495.5h2.01c.28 0 .495-.224.495-.5l-.008-.088a.503.503 0 00-.487-.412zm8.004 0h-5.018a.5.5 0 000 1h5.018a.5.5 0 00.491-.5l-.008-.088A.5.5 0 0024.51 13z"}),qn.createElement("rect",{width:"22",height:"11",x:"15",y:"24",fill:t,rx:"1"}),qn.createElement("rect",{width:"13",height:"10",x:"1",y:"18",fill:t,rx:"1"}),qn.createElement("rect",{width:"22",height:"5",x:"15",y:"18",fill:t,rx:"1"}),qn.createElement("rect",{width:"7",height:"7",x:"4",y:"9",fill:t,rx:"1"}),qn.createElement("rect",{width:"13",height:"9",x:"1",y:"29",fill:t,rx:"1"}))))},Jp=e=>{let{main:t="#424242",highlight:i="#565656",width:r="48px",height:n="48px"}=e;return qn.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:r,height:n,viewBox:"0 0 48 48"},qn.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},qn.createElement("rect",{width:"26",height:"7",x:"7",y:"18",fill:t,rx:"1"}),qn.createElement("rect",{width:"9",height:"7",x:"34",y:"11",fill:t,rx:"1"}),qn.createElement("rect",{width:"9",height:"8",x:"34",y:"19",fill:t,rx:"1"}),qn.createElement("rect",{width:"3",height:"3",x:"40",y:"6",fill:t,rx:"1"}),qn.createElement("rect",{width:"26",height:"21",x:"7",y:"27",fill:t,rx:"1"}),qn.createElement("rect",{width:"26",height:"16",x:"7",y:"5",fill:i,rx:"1"})))},$p=e=>{let{main:t="#424242",highlight:i="#565656",width:r="48px",height:n="48px"}=e;return qn.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:r,height:n,viewBox:"0 0 48 48"},qn.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},qn.createElement("rect",{width:"26",height:"7",x:"7",y:"34",fill:t,rx:"1"}),qn.createElement("rect",{width:"26",height:"32",x:"7",y:"5",fill:i,rx:"1"}),qn.createElement("rect",{width:"9",height:"7",x:"34",y:"11",fill:t,rx:"1"}),qn.createElement("rect",{width:"9",height:"8",x:"34",y:"19",fill:t,rx:"1"}),qn.createElement("rect",{width:"3",height:"3",x:"40",y:"6",fill:t,rx:"1"}),qn.createElement("rect",{width:"26",height:"5",x:"7",y:"43",fill:t,rx:"1"})))},ef=e=>{let{main:t="#424242",highlight:i="#565656",width:r="48px",height:n="48px"}=e;return qn.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:r,height:n,viewBox:"0 0 48 48"},qn.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},qn.createElement("rect",{width:"26",height:"7",x:"7",y:"28",fill:t,rx:"1"}),qn.createElement("rect",{width:"26",height:"26",x:"7",y:"5",fill:i,rx:"1"}),qn.createElement("rect",{width:"9",height:"7",x:"34",y:"11",fill:t,rx:"1"}),qn.createElement("rect",{width:"9",height:"8",x:"34",y:"19",fill:t,rx:"1"}),qn.createElement("rect",{width:"3",height:"3",x:"40",y:"6",fill:t,rx:"1"}),qn.createElement("rect",{width:"26",height:"11",x:"7",y:"37",fill:t,rx:"1"})))},tf=e=>{let{main:t="#424242",highlight:i="#565656",width:r="48px",height:n="48px"}=e;return qn.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:r,height:n,viewBox:"0 0 48 48"},qn.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},qn.createElement("rect",{width:"20",height:"34",x:"14",y:"10",fill:i,rx:"1.5"}),qn.createElement("rect",{width:"3",height:"3",x:"14",y:"5",fill:t,rx:"1"})))},rf=e=>{let{main:t="#424242",highlight:i="#565656",shadow:r="#333333",width:n="48px",height:o="48px"}=e;return qn.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:n,height:o,viewBox:"0 0 48 48"},qn.createElement("defs",null,qn.createElement("filter",{id:"photoeditorsdk-twitter-post-icon",width:"166.7%",height:"166.7%",x:"-33.3%",y:"-33.3%",filterUnits:"objectBoundingBox"},qn.createElement("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"1"}))),qn.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},qn.createElement("rect",{width:"38",height:"15",x:"5",y:"5",fill:t,rx:"0.5"}),qn.createElement("rect",{width:"11",height:"1",x:"5",y:"24",fill:t,rx:"0.5"}),qn.createElement("rect",{width:"11",height:"1",x:"5",y:"26",fill:t,rx:"0.5"}),qn.createElement("rect",{width:"11",height:"1",x:"5",y:"28",fill:t,rx:"0.5"}),qn.createElement("rect",{width:"26",height:"13",x:"17",y:"24",fill:i,rx:"0.5"}),qn.createElement("rect",{width:"26",height:"3",x:"17",y:"38",fill:t,rx:"0.5"}),qn.createElement("rect",{width:"26",height:"3",x:"17",y:"42",fill:t,rx:"0.5"}),qn.createElement("rect",{width:"9",height:"9",x:"8",y:"13",fill:r,filter:"url(#photoeditorsdk-twitter-post-icon)",rx:"1"}),qn.createElement("rect",{width:"7",height:"7",x:"9",y:"14",fill:t,rx:"1"})))},nf=e=>{let{main:t="#424242",highlight:i="#565656",width:r="48px",height:n="48px"}=e;return qn.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:r,height:n,viewBox:"0 0 48 48"},qn.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},qn.createElement("rect",{width:"38",height:"15",x:"5",y:"5",fill:t,rx:"0.5"}),qn.createElement("rect",{width:"11",height:"1",x:"5",y:"24",fill:t,rx:"0.5"}),qn.createElement("rect",{width:"11",height:"1",x:"5",y:"26",fill:t,rx:"0.5"}),qn.createElement("rect",{width:"11",height:"1",x:"5",y:"28",fill:t,rx:"0.5"}),qn.createElement("rect",{width:"26",height:"13",x:"17",y:"24",fill:t,rx:"0.5"}),qn.createElement("rect",{width:"26",height:"3",x:"17",y:"38",fill:t,rx:"0.5"}),qn.createElement("rect",{width:"26",height:"3",x:"17",y:"42",fill:t,rx:"0.5"}),qn.createElement("rect",{width:"7",height:"7",x:"9",y:"14",fill:i,rx:"1"})))},of=e=>{let{main:t="#424242",highlight:i="#565656",width:r="48px",height:n="48px"}=e;return qn.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:r,height:n,viewBox:"0 0 48 48"},qn.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},qn.createElement("rect",{width:"38",height:"15",x:"5",y:"5",fill:i,rx:"0.5"}),qn.createElement("rect",{width:"11",height:"1",x:"5",y:"24",fill:t,rx:"0.5"}),qn.createElement("rect",{width:"11",height:"1",x:"5",y:"26",fill:t,rx:"0.5"}),qn.createElement("rect",{width:"11",height:"1",x:"5",y:"28",fill:t,rx:"0.5"}),qn.createElement("rect",{width:"26",height:"13",x:"17",y:"24",fill:t,rx:"0.5"}),qn.createElement("rect",{width:"26",height:"3",x:"17",y:"38",fill:t,rx:"0.5"}),qn.createElement("rect",{width:"26",height:"3",x:"17",y:"42",fill:t,rx:"0.5"}),qn.createElement("rect",{width:"7",height:"7",x:"9",y:"14",fill:t,rx:"1"})))},sf=e=>{let{height:t=3,width:i=102,x:r=-102,className:n,style:o}=e;return qn.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:i,height:t,viewBox:"0 0 102 3",className:n,style:o},qn.createElement("pattern",{id:"photoeditorsdk-slider-dots",fill:"currentColor",patternUnits:"userSpaceOnUse",width:"102",height:"3"},qn.createElement("rect",{width:"3",height:"3",x:"99",y:"0",opacity:"0.5",rx:"1.5"}),qn.createElement("rect",{width:"3",height:"3",x:"88",y:"0",opacity:"0.5",rx:"1.5"}),qn.createElement("rect",{width:"3",height:"3",x:"77",y:"0",opacity:"0.5",rx:"1.5"}),qn.createElement("rect",{width:"3",height:"3",x:"66",y:"0",rx:"1.5"}),qn.createElement("rect",{width:"3",height:"3",x:"55",y:"0",opacity:"0.5",rx:"1.5"}),qn.createElement("rect",{width:"3",height:"3",x:"44",y:"0",opacity:"0.5",rx:"1.5"}),qn.createElement("rect",{width:"3",height:"3",x:"33",y:"0",opacity:"0.5",rx:"1.5"}),qn.createElement("rect",{width:"3",height:"3",x:"22",y:"0",opacity:"0.5",rx:"1.5"}),qn.createElement("rect",{width:"3",height:"3",x:"11",y:"0",rx:"1.5"})),qn.createElement("rect",{fill:"url(#photoeditorsdk-slider-dots)",x:1.5*-i,y:"0",width:4*i,height:"3",transform:"translate(".concat(r,", 0)")}))},af=e=>{let{className:t}=e;return qn.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"24",height:"24",viewBox:"0 0 15 14",transform:"scale(-1, 1)",className:t},qn.createElement("title",null,"Flip Horizontal"),qn.createElement("defs",null,qn.createElement("path",{id:"photoeditorsdk-flip-horizontal-icon",d:"M42 1v14h-1.167v-1.167H37a2 2 0 01-2-2V4.167a2 2 0 012-2l3.833-.001V1H42zm5.833 11.958a.875.875 0 01-.875.875h-3.791v-1.166l3.499-.001V3.333h-3.5V2.167h3.792c.446 0 .815.333.869.765l.006.11v9.916z"})),qn.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1",transform:"translate(-34 -1)"},qn.createElement("mask",{fill:"none"},qn.createElement("use",{xlinkHref:"#photoeditorsdk-flip-horizontal-icon"})),qn.createElement("use",{fill:"currentColor",fillOpacity:"0.9",xlinkHref:"#photoeditorsdk-flip-horizontal-icon"})))},lf=e=>{let{className:t}=e;return qn.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"24",height:"24",viewBox:"0 0 15 14",className:t},qn.createElement("title",null,"Flip Vertical"),qn.createElement("defs",null,qn.createElement("path",{id:"photoeditorsdk-flip-vertical-icon",d:"M42 1v14h-1.167v-1.167H37a2 2 0 01-2-2V4.167a2 2 0 012-2l3.833-.001V1H42zm5.833 11.958a.875.875 0 01-.875.875h-3.791v-1.166l3.499-.001V3.333h-3.5V2.167h3.792c.446 0 .815.333.869.765l.006.11v9.916z"})),qn.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1",transform:"translate(-34 -1)"},qn.createElement("mask",{fill:"none"},qn.createElement("use",{xlinkHref:"#photoeditorsdk-flip-vertical-icon"})),qn.createElement("use",{fill:"currentColor",fillOpacity:"0.9",transform:"rotate(-90 41.417 8)",xlinkHref:"#photoeditorsdk-flip-vertical-icon"})))},cf=e=>{let{alt:t="Rotate",className:i}=e;return qn.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"24",height:"24",viewBox:"0 0 16 16",className:i},qn.createElement("title",null,t),qn.createElement("defs",null,qn.createElement("path",{id:"photoeditorsdk-rotate-icon",d:"M132 0l1.25 1.57a8.01 8.01 0 0110.41.77 8.015 8.015 0 010 11.32c-.33.33-.67.62-1.04.859-1.38.991-3 1.481-4.62 1.481v-2c1.22 0 2.44-.37 3.47-1.111a6 6 0 00.77-9.129 5.992 5.992 0 00-7.73-.63L136 5h-5l1-5zm2.43 12.82c.5.38 1.06.67 1.66.87l-.64 1.89a7.56 7.56 0 01-1.48-.67l-.03-.01v-.01h-.02v-.01h-.01c0-.01-.01-.01-.01-.01h-.01v-.01h-.02v-.01h-.01l-.01-.01s-.01 0-.01-.01h-.01c-.2-.12-.4-.26-.6-.4zm-2.15-3.02c.18.6.47 1.17.83 1.68l-1.63 1.16v-.01s-.01 0-.01-.01c0 0 0-.01-.01-.01v-.01h-.01v-.01c-.01 0-.01-.01-.01-.01v-.01h-.01v-.01h-.01v-.01c0-.01-.01-.01-.01-.01v-.01c-.01 0-.01 0-.01-.01-.27-.39-.49-.79-.68-1.21-.01 0-.01-.01-.01-.01v-.01h-.01v-.02l-.01-.01c0-.02-.01-.02-.01-.02v-.02h-.01v-.02h-.01v-.03h-.01v-.02h-.01v-.02c-.01 0-.01 0-.01-.01v-.01c-.1-.23-.19-.47-.26-.7z"})),qn.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1",transform:"translate(-130)"},qn.createElement("mask",{fill:"none"},qn.createElement("use",{xlinkHref:"#photoeditorsdk-rotate-icon"})),qn.createElement("use",{fill:"currentColor",fillOpacity:"0.9",xlinkHref:"#photoeditorsdk-rotate-icon"})))},uf={adjustment:xp,filter:Sp,library:Tp,overlay:Ep,focus:kp,sticker:Dp,text:Ip,textdesign:Rp,frame:Cp,transform:Fp,brush:wp},hf={left:vp,right:bp,center:_p},df={addText:Ap,openWebcam:Op,reset:Mp,shuffle:Pp,uploadImage:zp},pf={undo:yp,redo:mp,close:fp,export:gp},ff={categories:{imgly_transforms_common:Lp,imgly_transforms_facebook:Up,imgly_transforms_twitter:Hp,imgly_transforms_instagram:Np},crops:{imgly_transform_common_custom:Wp,imgly_transform_common_square:Xp,imgly_transform_common_3:Yp,imgly_transform_common_4:Vp,imgly_transform_common_9:Gp,imgly_transform_common_16:qp,imgly_transform_facebook_post:Qp,imgly_transform_facebook_profile:Kp,imgly_transform_facebook_title:Zp,imgly_transform_instagram_landscape:Jp,imgly_transform_instagram_portrait:$p,imgly_transform_instagram_square:ef,imgly_transform_instagram_story:tf,imgly_transform_twitter_post:rf,imgly_transform_twitter_profile:nf,imgly_transform_twitter_title:of},dots:sf,duplicate:()=>qn.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"24",height:"24",viewBox:"0 0 24 24"},qn.createElement("defs",null,qn.createElement("path",{id:"photoeditorsdk-duplicate-icon",d:"M3.429 8.571v12h12v-12h-12zM1.714 5.143h15.429c.947 0 1.714.767 1.714 1.714v15.429c0 .946-.767 1.714-1.714 1.714H1.714A1.714 1.714 0 010 22.286V6.857c0-.947.768-1.714 1.714-1.714zM22.286 0C23.232 0 24 .768 24 1.714v15.429c0 .947-.768 1.714-1.714 1.714H20.57V3.429L5.142 3.428V1.714C5.143.768 5.91 0 6.858 0h15.429z"})),qn.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},qn.createElement("mask",{fill:"currentColor"},qn.createElement("use",{xlinkHref:"#photoeditorsdk-duplicate-icon"})),qn.createElement("use",{fill:"currentColor",fillOpacity:"0.9",xlinkHref:"#photoeditorsdk-duplicate-icon"}))),edit:()=>qn.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},qn.createElement("path",{fill:"currentColor",fillRule:"evenodd",stroke:"none",strokeWidth:"1",d:"M2.087 7.115h7.66v15.32h5.027l.223-15.32h7.438V2.087H2.087v5.028zM14.075 24h-4.15a2.42 2.42 0 01-1.718-.711 2.423 2.423 0 01-.711-1.717V9.01H2.429c-.67 0-1.278-.273-1.718-.713A2.426 2.426 0 010 6.579V2.43C0 1.76.272 1.153.711.713A2.424 2.424 0 012.43 0h19.142c.671 0 1.278.272 1.718.713.439.44.711 1.047.711 1.718v4.148c0 .671-.272 1.278-.711 1.718-.44.44-1.047.713-1.718.713h-5.067v12.562c0 .67-.272 1.278-.711 1.717a2.42 2.42 0 01-1.718.711z"})),bringToFront:Bp,delete:()=>qn.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"24",height:"24",viewBox:"0 0 24 24"},qn.createElement("defs",null,qn.createElement("path",{id:"photoeditorsdk-delete-icon",d:"M20 6l-2.312 15.718A1.5 1.5 0 0116.204 23H5.796a1.5 1.5 0 01-1.484-1.282L2 6h18zM7 1a1 1 0 011-1h6a1 1 0 011 1v1h7v2H0V2h7V1z"})),qn.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},qn.createElement("mask",{fill:"currentColor"},qn.createElement("use",{xlinkHref:"#photoeditorsdk-delete-icon"})),qn.createElement("use",{fill:"currentColor",fillOpacity:"0.9",xlinkHref:"#photoeditorsdk-delete-icon"}))),flipHorizontal:af,flipVertical:lf,rotate:cf},gf={brightness:rp,contrast:op,saturation:cp,clarity:np,shadows:up,highlights:lp,exposure:sp,gamma:ap,blacks:ip,whites:pp,temperature:dp,sharpness:hp},mf=Gn.Ay.div($t||($t=(0,Wn.A)(["\n  display: flex;\n  position: relative;\n  flex-direction: column;\n  width: 100%;\n  height: 100%;\n  max-width: calc(100% - ","px);\n"])),(e=>e.maxWidth)),yf=e=>{let{children:t}=e;const{config:i}=tp();let r=0;return i.isLayoutAdvanced&&(r=i.measurements.advancedUIToolbar.width+i.measurements.advancedUIToolControlBar.width),qn.createElement(mf,{maxWidth:r},t)},_f=Gn.Ay.div.attrs((()=>({"data-test":Vn.Ta.MainCanvasActionBar})))(ei||(ei=(0,Wn.A)(["\n  &&& {\n    display: ",";\n    flex-direction: row;\n    align-items: center;\n    height: ","px;\n    color: ",";\n    border-bottom: 1px solid\n      ",";\n    padding: 8px 24px;\n    box-sizing: border-box;\n    position: absolute;\n    width: 100%;\n    z-index: ",";\n    background: ",";\n    ","\n  }\n"])),(e=>e.hide?"none":"flex"),(e=>e.theme.measurements.mainCanvasActionBar.height),(e=>e.theme.mainCanvasActionBar.foreground),(e=>e.theme.mainCanvasActionBar.borderColor),(e=>e.theme.measurements.zIndex.canvas.bar),(e=>e.transparentBackgound?"transparent":e.theme.mainCanvasActionBar.background),(e=>e.bottom?(0,Gn.AH)(ti||(ti=(0,Wn.A)(["\n            justify-content: space-around;\n            bottom: 0;\n            transform: rotate(180deg);\n          "]))):(0,Gn.AH)(ii||(ii=(0,Wn.A)(["\n            justify-content: space-between;\n          "]))))),vf=Gn.Ay.canvas(ri||(ri=(0,Wn.A)(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n"]))),bf=Gn.Ay.div.attrs({role:"main"})(ni||(ni=(0,Wn.A)(["\n  background-color: ",";\n  flex-grow: 1;\n  flex-shrink: 1;\n  flex-basis: auto;\n  position: relative;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  /* added this for safari, else the webcam overlay did not know the height */\n  top: 0;\n  left: 0;\n  height: 100%;\n  width: 100%;\n  margin-top: ","px;\n"])),(e=>e.theme.canvas.background),(e=>e.theme.measurements.canvas.marginTop)),xf=Gn.Ay.div.attrs((e=>{let{height:t,width:i}=e;return{style:{height:"".concat(t,"px"),width:"".concat(i,"px")}}}))(oi||(oi=(0,Wn.A)(["\n  border-style: solid;\n  border-width: 2px 0 2px 0;\n  border-color: ",";\n  box-shadow: 0 -6px 6px -6px rgba(0, 0, 0, 0.2),\n    inset 0 6px 6px -6px rgba(0, 0, 0, 0.2);\n  cursor: move;\n  position: absolute;\n"])),(e=>e.theme.canvas.controlsOutline)),wf=Gn.Ay.div.attrs((e=>{let{radius:t}=e;return{style:{height:"".concat(2*t,"px"),width:"".concat(2*t,"px")}}}))(si||(si=(0,Wn.A)(["\n  border-radius: 50%;\n  border: 2px solid ",";\n  box-shadow: 0 2px 6px 0 rgba(0, 0, 0, 0.2),\n    inset 0 2px 6px 0 rgba(0, 0, 0, 0.2);\n  cursor: move;\n"])),(e=>e.theme.canvas.controlsOutline)),Sf=Gn.Ay.div(ai||(ai=(0,Wn.A)(["\n  position: relative;\n  height: inherit;\n  width: inherit;\n"]))),kf=Gn.Ay.div((e=>{const{desktop:t,mobile:i}=e.theme.measurements.canvasControls.corner.touchable,r=t/4,n=i/2;return(0,Gn.AH)(li||(li=(0,Wn.A)(["\n    position: absolute;\n    width: ","px;\n    height: ","px;\n    ","\n    ","\n  ","\n  ","\n  @media all and (min-width: 0) and (max-width: 599px) {\n      width: ","px;\n      height: ","px;\n      ","\n      ","\n    }\n  "])),t,t,(e=>"top"===e.vertical?(0,Gn.AH)(ci||(ci=(0,Wn.A)(["\n            top: 0px;\n          "]))):(0,Gn.AH)(ui||(ui=(0,Wn.A)(["\n            bottom: 0px;\n          "])))),(e=>"left"===e.horizontal?(0,Gn.AH)(hi||(hi=(0,Wn.A)(["\n            left: 0px;\n          "]))):(0,Gn.AH)(di||(di=(0,Wn.A)(["\n            right: 0px;\n          "])))),(e=>"top"===e.vertical?(0,Gn.AH)(pi||(pi=(0,Wn.A)(["\n            margin-top: -","px;\n          "])),r):(0,Gn.AH)(fi||(fi=(0,Wn.A)(["\n            margin-bottom: -","px;\n          "])),r)),(e=>"left"===e.horizontal?(0,Gn.AH)(gi||(gi=(0,Wn.A)(["\n            margin-left: -","px;\n          "])),r):(0,Gn.AH)(mi||(mi=(0,Wn.A)(["\n            margin-right: -","px;\n          "])),r)),i,i,(e=>"top"===e.vertical?(0,Gn.AH)(yi||(yi=(0,Wn.A)(["\n              margin-top: -","px;\n            "])),n):(0,Gn.AH)(_i||(_i=(0,Wn.A)(["\n              margin-bottom: -","px;\n            "])),n)),(e=>"left"===e.horizontal?(0,Gn.AH)(vi||(vi=(0,Wn.A)(["\n              margin-left: -","px;\n            "])),n):(0,Gn.AH)(bi||(bi=(0,Wn.A)(["\n              margin-right: -","px;\n            "])),n)))})),Cf=(0,Gn.Ay)(kf)((e=>{const t="right"===e.horizontal?e.borderWidth:0,i="bottom"===e.vertical?e.borderWidth:0,r="left"===e.horizontal?e.borderWidth:0,n="top"===e.vertical?e.borderWidth:0,o="".concat(n,"px ").concat(t,"px ").concat(i,"px ").concat(r,"px"),s="left"===e.horizontal&&"bottom"===e.vertical||"right"===e.horizontal&&"top"===e.vertical?"nesw-resize":"nwse-resize",a=e.theme.measurements.canvasControls.corner.touchable.desktop/4-e.borderWidth,l=e.theme.measurements.canvasControls.corner.touchable.mobile/4+e.borderWidth;return(0,Gn.AH)(xi||(xi=(0,Wn.A)(["\n    &:before {\n      display: block;\n      position: absolute;\n      content: '';\n      width: ","px;\n      height: ","px;\n      z-index: ",";\n      border-color: ",";\n      border-style: solid;\n      border-width: ",";\n      pointer-events: auto;\n      ","\n      ","\n      @media all and (min-width: 0) and (max-width: 599px) {\n        ","\n        ","\n      }\n    }\n    cursor: ",";\n    pointer-events: none;\n  "])),(e=>e.theme.measurements.canvasControls.corner.size),(e=>e.theme.measurements.canvasControls.corner.size),(e=>e.theme.measurements.zIndex.canvas.controls),(e=>e.theme.canvas.controlsColor),o,"top"===e.vertical?(0,Gn.AH)(wi||(wi=(0,Wn.A)(["\n            top: ","px;\n          "])),a):(0,Gn.AH)(Si||(Si=(0,Wn.A)(["\n            bottom: ","px;\n          "])),a),"left"===e.horizontal?(0,Gn.AH)(ki||(ki=(0,Wn.A)(["\n            left: ","px;\n          "])),a):(0,Gn.AH)(Ci||(Ci=(0,Wn.A)(["\n            right: ","px;\n          "])),a),"top"===e.vertical?(0,Gn.AH)(Ti||(Ti=(0,Wn.A)(["\n              margin-top: ","px;\n            "])),l):(0,Gn.AH)(Ei||(Ei=(0,Wn.A)(["\n              margin-bottom: ","px;\n            "])),l),"left"===e.horizontal?(0,Gn.AH)(Di||(Di=(0,Wn.A)(["\n              margin-left: ","px;\n            "])),l):(0,Gn.AH)(Ii||(Ii=(0,Wn.A)(["\n              margin-right: ","px;\n            "])),l),s)})),Tf=Gn.Ay.div.attrs((()=>({"data-test":Vn.Ta.Knob})))(Ri||(Ri=(0,Wn.A)(["\n  position: absolute;\n  height: ","px;\n  width: ","px;\n  margin-left: -10px;\n  margin-top: -10px;\n  z-index: ",";\n  will-change: transform;\n  cursor: ew-resize;\n  &:before {\n    display: block;\n    position: absolute;\n    content: '';\n    background: ",";\n    border-radius: 50%;\n    width: ","px;\n    height: ","px;\n    top: ","px;\n    left: ","px;\n    box-shadow: 0 2px 2px 0 rgba(0, 0, 0, 0.24);\n  }\n"])),(e=>e.theme.measurements.canvasControls.knob.touchable.desktop),(e=>e.theme.measurements.canvasControls.knob.touchable.desktop),(e=>e.theme.measurements.zIndex.canvas.knob),(e=>e.theme.canvas.controlsColor),(e=>e.theme.measurements.canvasControls.knob.size),(e=>e.theme.measurements.canvasControls.knob.size),(e=>e.theme.measurements.canvasControls.knob.size/4),(e=>e.theme.measurements.canvasControls.knob.size/4)),Ef=Gn.Ay.div(Fi||(Fi=(0,Wn.A)(["\n  position: absolute;\n  color: ",";\n"])),(e=>e.theme.canvas.controlsOutline)),Df=Gn.Ay.div.attrs((e=>({style:{left:"".concat(e.x,"px")}})))(Ai||(Ai=(0,Wn.A)(["\n  position: absolute;\n  bottom: -","px;\n  height: ","px;\n  width: 2px;\n  background-color: ",";\n"])),(e=>e.theme.measurements.canvasControls.sprite.rotateHandle.height),(e=>e.theme.measurements.canvasControls.sprite.rotateHandle.height),(e=>e.theme.canvas.controlsOutline)),If=Gn.Ay.div.attrs((e=>{let{height:t,width:i,theme:r}=e;return{style:{height:"".concat(t+r.measurements.canvasControls.sprite.controlPadding,"px"),width:"".concat(i+r.measurements.canvasControls.sprite.controlPadding,"px")}}}))(Oi||(Oi=(0,Wn.A)(["\n  left: -","px;\n  top: -","px;\n  transform-origin: center center;\n  border-style: solid;\n  border-width: 2px;\n  border-color: ",";\n  box-shadow: 0 2px 6px 0 rgba(0, 0, 0, 0.2),\n    inset 0 2px 6px 0 rgba(0, 0, 0, 0.2);\n  cursor: move;\n  will-change: transform;\n  position: absolute;\n"])),(e=>e.theme.measurements.canvasControls.sprite.controlPadding/2),(e=>e.theme.measurements.canvasControls.sprite.controlPadding/2),(e=>e.theme.canvas.controlsColor)),Rf=Gn.Ay.div.attrs((()=>({"data-test":Vn.Ta.TextWidth})))(Mi||(Mi=(0,Wn.A)(["\n  position: absolute;\n  height: ","px;\n  width: 4px;\n  z-index: ",";\n  background: ",";\n  cursor: pointer;\n"])),(e=>e.theme.measurements.canvasControls.width.size),(e=>e.theme.measurements.zIndex.canvas.controls),(e=>e.theme.canvas.controlsColor)),Ff=Gn.Ay.div.attrs({tabIndex:0})(Pi||(Pi=(0,Wn.A)(["\n  position: absolute;\n  height: ","px;\n  width: ","px;\n  top: 0;\n  left: 0;\n  &:focus {\n    outline: 0;\n  }\n"])),(e=>e.height),(e=>e.width)),Af=(0,Vn.v)()?(0,Gn.AH)(zi||(zi=(0,Wn.A)(["\n      transition: unset;\n    "]))):(0,Gn.AH)(Bi||(Bi=(0,Wn.A)(["\n      transition: all 0.4s ease-in-out;\n    "]))),Of=Gn.Ay.div(Li||(Li=(0,Wn.A)(["\n  position: absolute;\n  background: ",";\n  z-index: ",";\n  ","\n"])),(e=>e.theme.canvas.cropBackdrop),(e=>e.theme.measurements.zIndex.canvas.crop.backdrop),Af),Mf=Gn.Ay.div.attrs({"data-test":Vn.Ta.CropMask})(Ui||(Ui=(0,Wn.A)(["\n  position: absolute;\n  box-shadow: inset 0 0 0 2px ",";\n  cursor: move;\n  ","\n"])),(e=>e.theme.canvas.controlsOutline),Af),Pf=Gn.Ay.div(Ni||(Ni=(0,Wn.A)(["\n  position: absolute;\n  background: ",";\n  z-index: ",";\n  ","\n"])),(e=>e.theme.canvas.controlsOutline),(e=>e.theme.measurements.zIndex.canvas.crop.grid),Af),zf=(0,Gn.Ay)(Cf)(Hi||(Hi=(0,Wn.A)(["\n  z-index: ",";\n  ",";\n"])),(e=>e.theme.measurements.zIndex.canvas.controls),Af),Bf=Gn.Ay.canvas(ji||(ji=(0,Wn.A)(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n"]))),Lf=Gn.Ay.video(Wi||(Wi=(0,Wn.A)(["\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  transform: translate(-50%, -50%);\n"]))),Uf=Gn.Ay.div(Vi||(Vi=(0,Wn.A)(["\n  position: relative;\n  transition: all 0.4s cubic-bezier(0.17, 0.04, 0.03, 0.94);\n  height: 100%;\n  width: 100%;\n  z-index: ",";\n  background-color: ",";\n"])),(e=>e.theme.measurements.zIndex.canvas.webcam.backdrop),(e=>e.theme.webcam.background)),Nf={Index:vf,Area:yf,Bar:{Index:_f,ButtonGroup:hu},Button:{TextSecondary:uu,Float:e=>qn.createElement(fu,{...e},qn.createElement(gu,null))},Container:bf,Element:Bf,Wrapper:Uf,Webcam:Lf,Controls:{Knob:Tf,Circle:wf,Corner:Cf,Line:Ef,Area:xf,Sprite:If,RotateHandle:Df,Container:Sf,Wrapper:Ff,SpriteActionsWrapper:pu,SpriteActionButton:du,Width:Rf},Crop:{Mask:Mf,GridLine:Pf,Backdrop:Of,Control:zf}},Hf=Nf.Button.TextSecondary,jf=Gn.Ay.span(Gi||(Gi=(0,Wn.A)(["\n  font-size: 14px;\n  padding: 3px 1px 2px;\n  color: ",";\n  letter-spacing: ","px;\n  display: flex;\n  align-self: center;\n"])),(e=>e.theme.canvasActionBar.foreground),(e=>e.theme.measurements.fontSystem.button2.letterSpacing)),Wf=Gn.Ay.div(qi||(qi=(0,Wn.A)(["\n  display: inline-flex;\n  ","\n"])),(e=>e.isDisabled&&(0,Gn.AH)(Xi||(Xi=(0,Wn.A)(["\n      opacity: 0.5;\n      cursor: default;\n      pointer-events: none;\n    "]))))),Vf=Ca("scale","active")(ba((e=>{let{isDisabled:t,scale:i,active:r}=e;const{canZoomIn:n}=i,{canZoomOut:o}=i,{zoomLevel:s}=i;return-1!==["transform","brush","focus","sticker","text","textdesign"].indexOf(r.tool)?null:qn.createElement(Wf,{isDisabled:t},qn.createElement(Hf,{"data-test":Vn.Ta.MainBarButtonZoom,ariaLabel:"Zoom out",isDisabled:!o,onClick:i.out},"-"),qn.createElement(jf,{"data-test":Vn.Ta.ZoomLevel},s," %"),qn.createElement(Hf,{ariaLabel:"Zoom in",isDisabled:!n,onClick:i.in},"+"))})));jf.defaultProps={theme:Uh};var Gf=(0,Gn.Ay)(Nf.Bar.ButtonGroup)(Yi||(Yi=(0,Wn.A)(["\n  > :last-child {\n    margin-left: 10px;\n  }\n  > :first-child {\n    margin-left: 0;\n  }\n"]))),qf=ba((function(){const{config:e,editor:t,history:i,custom:r,active:n}=tp(),o=e.locale.mainCanvasActions,{canUndo:s}=i,{canRedo:a}=i,l=e.config.mainCanvasActions,c=()=>{t.export()},u=()=>{if("transform"===t.activeStore.tool)return null;const e=r.getButton("mainCanvasActionUndo");return qn.createElement(e,{key:"mainCanvasActionUndo","data-test":Vn.Ta.MainBarButtonUndo,onClick:i.undo,isDisabled:!s||!n.image,label:o.buttonUndo,ariaLabel:o.buttonUndo,icon:qn.createElement(pf.undo,null)})},h=()=>{if("transform"===t.activeStore.tool)return null;const e=r.getButton("mainCanvasActionRedo");return qn.createElement(e,{key:"mainCanvasActionRedo","data-test":Vn.Ta.MainBarButtonRedo,onClick:i.redo,isDisabled:!a||!n.image,label:o.buttonRedo,ariaLabel:o.buttonRedo,icon:qn.createElement(pf.redo,null)})},d=()=>{const e=r.getButton("mainCanvasActionExport");return qn.createElement(e,{key:"mainCanvasActionExport","data-test":Vn.Ta.MainBarButtonExport,onClick:c,isDisabled:!n.image,label:o.buttonExport,ariaLabel:o.buttonExport,icon:qn.createElement(pf.export,null)})},p=()=>{if(!e.displayCloseButton)return null;const i=r.getButton("mainCanvasActionClose");return qn.createElement(i,{key:"mainCanvasActionClose","data-test":Vn.Ta.MainBarButtonClose,onClick:t.close,isDisabled:!n.image,label:o.buttonClose,ariaLabel:o.buttonClose,icon:qn.createElement(pf.close,null)})},f=l.map((e=>{switch(e){case"undo":return u;case"redo":return h;case"export":return d;case"close":return p;default:return null}}));return qn.createElement(Nf.Bar.Index,null,qn.createElement(Gf,null,f[0]&&f[0]()||null,f[1]&&f[1]()||null),e.config.enableZoom?qn.createElement(Vf,{isDisabled:!n.image}):null,qn.createElement(Gf,null,f[2]&&f[2]()||null,f[3]&&f[3]()||null))}));function Xf(e,t){(function(e){return"string"===typeof e&&e.includes(".")&&1===parseFloat(e)})(e)&&(e="100%");const i=function(e){return"string"===typeof e&&e.includes("%")}(e);return e=360===t?e:Math.min(t,Math.max(0,parseFloat(e))),i&&(e=parseInt(String(e*t),10)/100),Math.abs(e-t)<1e-6?1:e=360===t?(e<0?e%t+t:e%t)/parseFloat(String(t)):e%t/parseFloat(String(t))}function Yf(e){return e=parseFloat(e),(Number.isNaN(e)||e<0||e>1)&&(e=1),e}function Qf(e){return e<=1?"".concat(100*Number(e),"%"):e}function Kf(e){return 1===e.length?"0".concat(e):String(e)}function Zf(e,t,i){return{r:255*Xf(e,255),g:255*Xf(t,255),b:255*Xf(i,255)}}function Jf(e,t,i){e=Xf(e,255),t=Xf(t,255),i=Xf(i,255);const r=Math.max(e,t,i),n=Math.min(e,t,i);let o=0,s=0;const a=(r+n)/2;if(r===n)s=0,o=0;else{const l=r-n;switch(s=a>.5?l/(2-r-n):l/(r+n),r){case e:o=(t-i)/l+(t<i?6:0);break;case t:o=(i-e)/l+2;break;case i:o=(e-t)/l+4}o/=6}return{h:o,s:s,l:a}}function $f(e,t,i){e=Xf(e,255),t=Xf(t,255),i=Xf(i,255);const r=Math.max(e,t,i),n=Math.min(e,t,i);let o=0;const s=r,a=r-n,l=0===r?0:a/r;if(r===n)o=0;else{switch(r){case e:o=(t-i)/a+(t<i?6:0);break;case t:o=(i-e)/a+2;break;case i:o=(e-t)/a+4}o/=6}return{h:o,s:l,v:s}}function eg(e,t,i,r){const n=[Kf(Math.round(e).toString(16)),Kf(Math.round(t).toString(16)),Kf(Math.round(i).toString(16))];return r&&n[0].charAt(0)===n[0].charAt(1)&&n[1].charAt(0)===n[1].charAt(1)&&n[2].charAt(0)===n[2].charAt(1)?n[0].charAt(0)+n[1].charAt(0)+n[2].charAt(0):n.join("")}function tg(e){return Math.round(255*parseFloat(e)).toString(16)}function ig(e){return parseInt(e,16)}function rg(e){return ig(e)/255}var ng={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},og="(?:".concat("[-\\+]?\\d*\\.\\d+%?",")|(?:").concat("[-\\+]?\\d+%?",")"),sg="[\\s|\\(]+(".concat(og,")[,|\\s]+(").concat(og,")[,|\\s]+(").concat(og,")\\s*\\)?"),ag="[\\s|\\(]+(".concat(og,")[,|\\s]+(").concat(og,")[,|\\s]+(").concat(og,")[,|\\s]+(").concat(og,")\\s*\\)?"),lg={CSS_UNIT:new RegExp(og),rgb:new RegExp("rgb".concat(sg)),rgba:new RegExp("rgba".concat(ag)),hsl:new RegExp("hsl".concat(sg)),hsla:new RegExp("hsla".concat(ag)),hsv:new RegExp("hsv".concat(sg)),hsva:new RegExp("hsva".concat(ag)),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function cg(e){return Boolean(lg.CSS_UNIT.exec(String(e)))}function ug(e){let t={r:0,g:0,b:0},i=1,r=null,n=null,o=null,s=!1,a=!1;if("string"===typeof e&&(e=function(e){if(0===(e=e.trim().toLowerCase()).length)return!1;let t=!1;if(ng[e])e=ng[e],t=!0;else if("transparent"===e)return{r:0,g:0,b:0,a:0,format:"name"};let i=lg.rgb.exec(e);return i?{r:i[1],g:i[2],b:i[3]}:(i=lg.rgba.exec(e),i?{r:i[1],g:i[2],b:i[3],a:i[4]}:(i=lg.hsl.exec(e),i?{h:i[1],s:i[2],l:i[3]}:(i=lg.hsla.exec(e),i?{h:i[1],s:i[2],l:i[3],a:i[4]}:(i=lg.hsv.exec(e),i?{h:i[1],s:i[2],v:i[3]}:(i=lg.hsva.exec(e),i?{h:i[1],s:i[2],v:i[3],a:i[4]}:(i=lg.hex8.exec(e),i?{r:ig(i[1]),g:ig(i[2]),b:ig(i[3]),a:rg(i[4]),format:t?"name":"hex8"}:(i=lg.hex6.exec(e),i?{r:ig(i[1]),g:ig(i[2]),b:ig(i[3]),format:t?"name":"hex"}:(i=lg.hex4.exec(e),i?{r:ig(i[1]+i[1]),g:ig(i[2]+i[2]),b:ig(i[3]+i[3]),a:rg(i[4]+i[4]),format:t?"name":"hex8"}:(i=lg.hex3.exec(e),!!i&&{r:ig(i[1]+i[1]),g:ig(i[2]+i[2]),b:ig(i[3]+i[3]),format:t?"name":"hex"})))))))))}(e)),Array.isArray(e)){const[r,n,o]=e;cg(r)&&cg(n)&&cg(o)&&(t=Zf(255*r,255*n,255*o),s=!0,a="rgb"),4===e.length&&(i=e[3])}return"object"===typeof e&&(cg(e.r)&&cg(e.g)&&cg(e.b)?(t=Zf(e.r,e.g,e.b),s=!0,a="%"===String(e.r).substr(-1)?"prgb":"rgb"):cg(e.h)&&cg(e.s)&&cg(e.v)?(r=Qf(e.s),n=Qf(e.v),t=function(e,t,i){e=6*Xf(e,360),t=Xf(t,100),i=Xf(i,100);const r=Math.floor(e),n=e-r,o=i*(1-t),s=i*(1-n*t),a=i*(1-(1-n)*t),l=r%6;return{r:255*[i,s,o,o,a,i][l],g:255*[a,i,i,s,o,o][l],b:255*[o,o,a,i,i,s][l]}}(e.h,r,n),s=!0,a="hsv"):cg(e.h)&&cg(e.s)&&cg(e.l)&&(r=Qf(e.s),o=Qf(e.l),t=function(e,t,i){let r,n,o;function s(e,t,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?e+6*i*(t-e):i<.5?t:i<2/3?e+(t-e)*(2/3-i)*6:e}if(e=Xf(e,360),t=Xf(t,100),i=Xf(i,100),0===t)n=i,o=i,r=i;else{const a=i<.5?i*(1+t):i+t-i*t,l=2*i-a;r=s(l,a,e+1/3),n=s(l,a,e),o=s(l,a,e-1/3)}return{r:255*r,g:255*n,b:255*o}}(e.h,r,o),s=!0,a="hsl"),Object.prototype.hasOwnProperty.call(e,"a")&&(i=e.a)),i=Yf(i),{ok:s,format:e.format||a,r:Math.min(255,Math.max(t.r,0)),g:Math.min(255,Math.max(t.g,0)),b:Math.min(255,Math.max(t.b,0)),a:i}}var hg=class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e instanceof hg)return e;this.originalInput=e;const i=ug(e);this.originalInput=e,this.r=i.r,this.g=i.g,this.b=i.b,this.a=i.a,this.roundA=Math.round(100*this.a)/100,this.format=t.format||i.format,this.gradientType=t.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=i.ok}getAlpha(){return this.a}setAlpha(e){return this.a=Yf(e),this.roundA=Math.round(100*this.a)/100,this}toHsv(){const e=$f(this.r,this.g,this.b);return{h:360*e.h,s:e.s,v:e.v,a:this.a}}toHsvString(){const e=$f(this.r,this.g,this.b),t=Math.round(360*e.h),i=Math.round(100*e.s),r=Math.round(100*e.v);return 1===this.a?"hsv(".concat(t,", ").concat(i,"%, ").concat(r,"%)"):"hsva(".concat(t,", ").concat(i,"%, ").concat(r,"%, ").concat(this.roundA,")")}toHsl(){const e=Jf(this.r,this.g,this.b);return{h:360*e.h,s:e.s,l:e.l,a:this.a}}toHslString(){const e=Jf(this.r,this.g,this.b),t=Math.round(360*e.h),i=Math.round(100*e.s),r=Math.round(100*e.l);return 1===this.a?"hsl(".concat(t,", ").concat(i,"%, ").concat(r,"%)"):"hsla(".concat(t,", ").concat(i,"%, ").concat(r,"%, ").concat(this.roundA,")")}toHex(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return eg(this.r,this.g,this.b,e)}toHexString(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return"#".concat(this.toHex(e))}toHex8(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(e,t,i,r,n){const o=[Kf(Math.round(e).toString(16)),Kf(Math.round(t).toString(16)),Kf(Math.round(i).toString(16)),Kf(tg(r))];return n&&o[0].charAt(0)===o[0].charAt(1)&&o[1].charAt(0)===o[1].charAt(1)&&o[2].charAt(0)===o[2].charAt(1)&&o[3].charAt(0)===o[3].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0):o.join("")}(this.r,this.g,this.b,this.a,e)}toHex8String(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return"#".concat(this.toHex8(e))}toRgb(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}}toRgbArray(){return[Math.round(this.r),Math.round(this.g),Math.round(this.b),this.a]}toRgbString(){const e=Math.round(this.r),t=Math.round(this.g),i=Math.round(this.b);return"rgba(".concat(e,", ").concat(t,", ").concat(i,", ").concat(this.roundA,")")}toPercentageRgb(){const e=e=>"".concat(Math.round(100*Xf(e,255)),"%");return{r:e(this.r),g:e(this.g),b:e(this.b),a:this.a}}toPercentageRgbString(){const e=e=>Math.round(100*Xf(e,255));return 1===this.a?"rgb(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%)"):"rgba(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%, ").concat(this.roundA,")")}toName(){if(0===this.a)return"transparent";if(this.a<1)return!1;const e="#".concat(eg(this.r,this.g,this.b,!1));for(const t of Object.keys(ng))if(ng[t]===e)return t;return!1}toString(e){const t=Boolean(e);e=e||this.format;const i=this.a<1&&this.a>=0;if(!t&&i&&e&&(e.startsWith("hex")||"name"===e))return"name"===e&&0===this.a?this.toName():this.toRgbString();switch(e){case"rgb":return this.toRgbString();case"prgb":return this.toPercentageRgbString();case"hex":case"hex6":default:return this.toHexString();case"hex3":return this.toHexString(!0);case"hex4":return this.toHex8String(!0);case"hex8":return this.toHex8String();case"hsl":return this.toHslString();case"hsv":return this.toHsvString();case"name":return this.toName()}}clone(){return new hg(this.toString())}},dg=Gn.Ay.div(Qi||(Qi=(0,Wn.A)(["\n  position: absolute;\n  width: ","px;\n  height: ","px;\n  overflow: hidden;\n  pointer-events: none;\n  ","\n  left: ","px;\n  :after {\n    content: '';\n    position: absolute;\n    width: ","px;\n    height: ","px;\n    left: 50%;\n    ","\n    background-color: ",";\n    pointer-events: none;\n  }\n"])),(e=>e.theme.measurements.color.colorPicker.arrow.width),(e=>e.theme.measurements.color.colorPicker.arrow.width/2),(e=>"bottom"===e.direction?(0,Gn.AH)(Ki||(Ki=(0,Wn.A)(["\n          bottom: 100%;\n        "]))):(0,Gn.AH)(Zi||(Zi=(0,Wn.A)(["\n          top: 100%;\n        "])))),(e=>e.arrowOffset),(e=>e.theme.measurements.color.colorPicker.arrow.width/2),(e=>e.theme.measurements.color.colorPicker.arrow.width/2),(e=>"bottom"===e.direction?(0,Gn.AH)(Ji||(Ji=(0,Wn.A)(["\n            transform: translate(-50%, 50%) rotate(45deg);\n          "]))):(0,Gn.AH)($i||($i=(0,Wn.A)(["\n            transform: translate(-50%, -50%) rotate(45deg);\n          "])))),(e=>e.theme.colorPicker.listBackground)),pg=dg,fg=Gn.Ay.div(er||(er=(0,Wn.A)(["\n  text-align: center;\n  width: 28px;\n  padding-left: 4px;\n"]))),gg=(0,Gn.Ay)(cu.Input.Text)(tr||(tr=(0,Wn.A)(["\n  input {\n    text-align: center;\n    border-bottom: 1px solid\n      ",";\n  }\n"])),(e=>e.theme.colorPicker.inputBorderColor)),mg=e=>{let{value:t,label:i,onChange:r}=e;return qn.createElement(fg,null,qn.createElement(cu.Input.Label,{label:i}),qn.createElement(gg,{min:0,max:255,value:t,onChange:r}))},yg=Gn.Ay.div(ir||(ir=(0,Wn.A)(["\n  text-align: left;\n  width: 62px;\n"]))),_g=(0,Gn.Ay)(cu.Input.Text)(rr||(rr=(0,Wn.A)(["\n  input {\n    text-align: left;\n    border-bottom: 1px solid\n      ",";\n  }\n"])),(e=>e.theme.colorPicker.inputBorderColor)),vg=e=>{let{value:t,label:i,onChange:r}=e;return qn.createElement(yg,null,qn.createElement(cu.Input.Label,{label:i}),qn.createElement(_g,{value:t.toUpperCase(),onChange:r}))},bg=Gn.Ay.div.attrs((e=>({style:{left:e.position[0]||"".concat(0,"px"),top:e.position[1]||"".concat(0,"px")}})))(nr||(nr=(0,Wn.A)(["\n  &&& {\n    position: absolute;\n    height: ","px;\n    width: ","px;\n    border-radius: 50%;\n    border: 2px solid ",";\n    box-sizing: border-box;\n    cursor: pointer;\n    box-shadow: 0 1px 1px 0 rgba(0, 0, 0, 0.11), 0 1px 3px 0 rgba(0, 0, 0, 0.46);\n    z-index: 2;\n    pointer-events: none;\n  }\n"])),(e=>e.theme.measurements.color.colorPicker.thumb.size),(e=>e.theme.measurements.color.colorPicker.thumb.size),(e=>e.theme.colorPicker.controlsColor));bg.defaultProps={theme:Uh};var xg=(0,Vn.b)(Yn()),wg=Gn.Ay.div(or||(or=(0,Wn.A)(["\n  position: relative;\n  height: 14px;\n  width: 100%;\n"]))),Sg=e=>t=>{e.forEach((e=>{"function"===typeof e?e(t):null!=e&&(e.current=t)}))},kg=(0,qn.forwardRef)(((e,t)=>{let{surface:i,onChange:r,className:n,children:o}=e;const s=(0,qn.useRef)(null),a=(0,qn.useRef)(null),{config:l}=tp(),[c,u]=(0,qn.useState)(!1),h=e=>{const t=l.measurements.color.colorPicker.thumb.size/2,i=l.measurements.color.colorPicker.thumb.size;let n=0,o=0;n=e.clientX,o=e.clientY;const{top:a,left:c,width:u,height:h}=s.current.getBoundingClientRect();let d=n-c-t,p=o-a-t;d=Math.max(0,Math.min(u-i,d)),p=Math.max(0,Math.min(h-i,p)),r&&r([d,p])},d=(0,qn.useCallback)((0,xg.default)((e=>{c&&h(e)}),10),[c]);return qn.createElement(wg,{ref:Sg([s,t]),className:n},qn.createElement(cu.DraggableCore,{nodeRef:a,onStart:e=>{u(!0),h(e)},onDrag:d,onStop:()=>{c&&u(!1)}},qn.createElement("div",{ref:a},i)),o)})),Cg=(0,Gn.AH)(sr||(sr=(0,Wn.A)(["\n  position: absolute;\n  top: 3px;\n  left: 0;\n  width: 100%;\n  height: 8px;\n  cursor: pointer;\n  -webkit-tap-highlight-color: transparent;\n"]))),Tg=Gn.Ay.div(ar||(ar=(0,Wn.A)(["\n  ","\n  background: linear-gradient(90deg, #F00 0%, #FF0 16.66%, #0F0 33.33%, #0FF 50%, #00F 66.66%, #F0F 83.33%, #F00 100%);\n  height: 8px;\n"])),Cg),Eg=Gn.Ay.div.attrs((e=>({style:{background:"linear-gradient(to left, ".concat(e.transparentColor," 0%, ").concat(e.opaqueColor," 100%)")}})))(lr||(lr=(0,Wn.A)(["\n  ","\n  z-index: 1;\n"])),Cg),Dg=Gn.Ay.div.attrs((e=>({style:{backgroundImage:"url(".concat(e.url,")")}})))(cr||(cr=(0,Wn.A)(["\n  ","\n  z-index: 0;\n  background-repeat: repeat-x;\n  background-size: contain;\n  background-position: left;\n"])),Cg),Ig=Gn.Ay.div.attrs((e=>({style:{backgroundColor:"hsl(".concat(e.hue,", 100%, 50%)")}})))(ur||(ur=(0,Wn.A)(["\n  ","\n  background: linear-gradient(to top, rgb(0, 0, 0), rgba(0, 0, 0, 0)),\n   linear-gradient(to right, rgb(255, 255, 255), rgba(255, 255, 255, 0));\n  height: ","px;\n  top: 0px;\n"])),Cg,(e=>e.theme.measurements.color.colorPicker.saturationSlider.height)),Rg=(0,Gn.Ay)(kg)(hr||(hr=(0,Wn.A)(["\n  height: ","px;\n  margin-top: 0px;\n"])),(e=>e.theme.measurements.color.colorPicker.saturationSlider.height)),Fg=e=>{let{color:t,hue:i,onChange:r}=e;const[n,o]=(0,qn.useState)([0,0]),s=(0,qn.useRef)(null),{config:a}=tp();(0,qn.useEffect)((()=>{const{s:e,v:i}=t.toHsv();if(s.current){const{offsetWidth:t,offsetHeight:r}=s.current,n=t-a.measurements.color.colorPicker.thumb.size,l=r-a.measurements.color.colorPicker.thumb.size;o([e*t*n/t,(1-i)*r*l/r])}}),[t.toString()]);return qn.createElement(Rg,{ref:s,surface:qn.createElement(Ig,{hue:i}),onChange:e=>{if(s.current){const[t,i]=e,{offsetHeight:n,offsetWidth:l}=s.current,c=t*l/(l-a.measurements.color.colorPicker.thumb.size),u=i*n/(n-a.measurements.color.colorPicker.thumb.size),h=Math.min(1,Math.max(0,c/l)),d=Math.min(1,Math.max(0,(n-u)/n));r(h,d),o([t,i])}}},qn.createElement(bg,{position:n}))},Ag=Gn.Ay.div(dr||(dr=(0,Wn.A)(["\n  position: absolute;\n  left: ","px;\n  top: ","px;\n  z-index: ",";\n  display: none;\n  opacity: 0;\n  transition: opacity 0.3s ease-out;\n  ","\n"])),(e=>e.leftOffset),(e=>e.topOffset),(e=>e.theme.measurements.zIndex.input.list),(e=>e.show&&(0,Gn.AH)(pr||(pr=(0,Wn.A)(["\n      display: block;\n      opacity: 1;\n      transition: opacity 0.3s ease-out;\n    "]))))),Og=Gn.Ay.div(fr||(fr=(0,Wn.A)(["\n  &&& {\n    position: absolute;\n    ","\n    padding: 16px;\n    box-sizing: border-box;\n    box-shadow: ",";\n    background: ",";\n    border-radius: ","px;\n    width: ","px;\n    height: ","px;\n    left: 8px;\n    z-index: 1;\n  }\n"])),(e=>"top"===e.direction&&(0,Gn.AH)(gr||(gr=(0,Wn.A)(["\n        transform: translate(0, -100%);\n      "])))),(e=>e.theme.colorPicker.listShadow),(e=>e.theme.colorPicker.listBackground),(e=>e.theme.shape.radiusMedium),(e=>e.theme.measurements.color.colorPicker.width),(e=>e.theme.measurements.color.colorPicker.height)),Mg=(0,Gn.Ay)((e=>{let{hue:t,onChange:i}=e;const[r,n]=(0,qn.useState)(0),o=(0,qn.useRef)(null),{config:s}=tp();return(0,qn.useEffect)((()=>{if(o.current){const{offsetWidth:e}=o.current;let i=0;const r=e-s.measurements.color.colorPicker.thumb.size;i=t*e/360,n(i*r/e)}}),[t]),qn.createElement(kg,{surface:qn.createElement(Tg,null),ref:o,onChange:e=>{if(o.current){const[t]=e,{offsetWidth:r}=o.current,a=t*r/(r-s.measurements.color.colorPicker.thumb.size),l=Math.max(0,Math.min(360,a/r*360));i(l),n(t)}}},qn.createElement(bg,{position:[r,0]}))}))(mr||(mr=(0,Wn.A)(["\n  margin-top: 8px;\n"]))),Pg=(0,Gn.Ay)((e=>{let{color:t,opaqueColor:i,transparentColor:r,onChange:n}=e;const{config:o}=tp(),[s,a]=(0,qn.useState)(0),l=(0,qn.useRef)(null),c=o.assetProvider.getPath("controls","/tiled-background.png");return(0,qn.useEffect)((()=>{if(l.current){const{offsetWidth:e}=l.current;let i=0;const r=e-o.measurements.color.colorPicker.thumb.size;i=(1-t.toHsv().a)*e,a(i*r/e)}}),[t.toString()]),qn.createElement(kg,{ref:l,surface:qn.createElement(Eg,{opaqueColor:i,transparentColor:r}),onChange:e=>{if(l.current){const{offsetWidth:t}=l.current,[i]=e,r=(t-i*t/(t-o.measurements.color.colorPicker.thumb.size))/t,s=Math.round(100*(r+Number.EPSILON))/100,c=Math.min(1,Math.max(0,s));n(c),a(i)}}},qn.createElement(Dg,{url:c}),qn.createElement(bg,{position:[s,0]}))}))(yr||(yr=(0,Wn.A)(["\n  margin-top: 8px;\n"]))),zg=Gn.Ay.div(_r||(_r=(0,Wn.A)(["\n  display: flex;\n  justify-content: space-between;\n  margin-top: 30px;\n"]))),Bg=Gn.Ay.div(vr||(vr=(0,Wn.A)(["\n  display: flex;\n"]))),Lg=class extends qn.Component{constructor(e){super(e),this.node=qn.createRef(),this.checkId=(e,t,i)=>{let r=e,n=0;for(;r.parentElement&&n<i;)if(r=r.parentElement,n+=1,r.id===t)return!0;return!1},this.handleOutsideClick=e=>{var t;const{onRequestClose:i,onAddSnapshot:r,show:n}=this.props,{color:o}=this.state;if(n){if(null==(t=this.node.current)?void 0:t.contains(e.target))return;this.setState({hexInputValue:o.toHexString()}),i&&i(),r&&r()}},this.onChange=e=>{const{onChange:t}=this.props;t({color:e.toRgbArray(),colorString:e.toRgbString()})},this.onHexValueChange=e=>{if(e.match(/^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/i)){const t=new hg(e);this.onChange(t),this.setState({color:t,hue:t.toHsl().h})}this.setState({hexInputValue:e})},this.onAlphaChange=e=>{const{color:t}=this.state,i=t.setAlpha(e);this.onChange(i),this.setState({color:i,hexInputValue:i.toHexString()})},this.onHueChange=e=>{const{color:t}=this.state,{s:i,v:r,a:n}=t.toHsv(),o=new hg({h:e,s:i,v:r,a:n});this.onChange(o),this.setState({color:o,hexInputValue:o.toHexString(),hue:e})},this.onSaturationBrightnessChange=(e,t)=>{const{color:i,hue:r}=this.state,{a:n}=i.toHsv(),o=new hg({h:r,s:e,v:t,a:n});this.onChange(o),this.setState({color:o,hexInputValue:o.toHexString()})},this.onInputChange=e=>t=>{const{color:i}=this.state;if(t.match(/0*([0-9]|[1-8][0-9]|9[0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])/g)||!t.trim()){const r=i.toRgb();r[e]=parseInt(t,10)||0;const n=new hg(r);this.onChange(n),this.setState({color:n,hexInputValue:n.toHexString(),hue:n.toHsl().h})}};const{color:t}=this.props,i=new hg(t);this.state={color:i,hue:i.toHsl().h,hexInputValue:i.toHexString()}}componentDidMount(){document.addEventListener("mousedown",this.handleOutsideClick,!1),document.addEventListener("touchstart",this.handleOutsideClick,!1),document.addEventListener("keydown",this.handleOutsideClick,!1)}componentDidUpdate(e){const{color:t,show:i}=this.props;if(i&&!e.show){const e=new hg(t);this.setState({color:e,hue:e.toHsl().h,hexInputValue:e.toHexString()})}}componentWillUnmount(){document.removeEventListener("mousedown",this.handleOutsideClick,!1),document.removeEventListener("touchstart",this.handleOutsideClick,!1),document.removeEventListener("keydown",this.handleOutsideClick,!1)}render(){const{show:e,showArrow:t,direction:i,arrowOffset:r,topOffset:n,leftOffset:o,labelHex:s,labelR:a,labelG:l,labelB:c,labelSliderHue:u,labelSliderOpacity:h}=this.props,{color:d,hexInputValue:p,hue:f}=this.state,{r:g,g:m,b:y}=d.toRgb(),_=d.clone().setAlpha(1).toRgbString(),v=d.clone().setAlpha(0).toRgbString();return qn.createElement("div",{ref:this.node},qn.createElement(Ag,{show:e,direction:i,leftOffset:o,topOffset:n},qn.createElement(Og,{direction:i},t&&qn.createElement(pg,{direction:i,arrowOffset:r}),qn.createElement(Fg,{color:d,hue:f,onChange:this.onSaturationBrightnessChange}),qn.createElement(cu.Spacer,{count:2}),qn.createElement(cu.Input.Label,{label:u}),qn.createElement(Mg,{hue:f,onChange:this.onHueChange}),qn.createElement(cu.Spacer,{count:2}),qn.createElement(cu.Input.Label,{label:h}),qn.createElement(Pg,{color:d,opaqueColor:_,transparentColor:v,onChange:this.onAlphaChange}),qn.createElement(zg,null,qn.createElement(vg,{value:p,label:s,onChange:this.onHexValueChange}),qn.createElement(Bg,null,qn.createElement(mg,{value:g,label:a,onChange:this.onInputChange("r")}),qn.createElement(mg,{value:m,label:l,onChange:this.onInputChange("g")}),qn.createElement(mg,{value:y,label:c,onChange:this.onInputChange("b")}))))))}};Lg.defaultProps={direction:"bottom",showArrow:!0},Og.defaultProps={theme:Uh};var Ug=Gn.Ay.div(br||(br=(0,Wn.A)(["\n  display: flex;\n  flex-wrap: wrap;\n  position: relative;\n"]))),Ng=class extends qn.Component{constructor(e){super(e),this.containerRef=null,this.onClick=e=>t=>{const{onAddSnapshot:i,config:r,onChange:n,colorPickerDirection:o,rect:s}=this.props,{activeIdentifier:a,showColorPicker:l,colorList:c}=this.state,u=c.find((t=>t.identifier===e));if(a!==u.identifier||l)l?this.setState({showColorPicker:!1}):(n(u.color),this.setState({activeIdentifier:e}),i&&i());else{const{left:e,width:i,top:n,height:a}=t.currentTarget.getBoundingClientRect(),{left:l,top:c}=this.containerRef.current.getBoundingClientRect(),{colorPicker:u}=r.measurements.color,h=u.arrow.width/2;let d=e-l+i/2-2,p="bottom"===o?n-c+a+h:n-c-h,f=-24;const g=u.width-u.arrow.width-12;d>g&&(f+=d-g,d-=f);let m=!0;if("bottom"===o&&s){const e=s.height,t=n-s.top,i=e-(t+a),o=r.measurements.color.colorPicker.height+h;i<o&&(p=i-o),t+p<t+a/2&&(p+=h,m=!1)}this.setState({showColorPicker:!0,showColorPickerArrow:m,arrowOffset:d,topOffset:p,leftOffset:f})}},this.onChange=e=>{let{color:t,colorString:i}=e;const{onChange:r}=this.props,{activeIdentifier:n,colorList:o}=this.state,s=o.findIndex((e=>e.identifier===n));if(-1!==s){const e=[...o];e[s]={identifier:o[s].identifier,colorString:i,color:t},this.setState({colorList:e})}r(t)},this.onChangeColorPicker=e=>{let{color:t,colorString:i}=e;this.onChange({color:[t[0]/255,t[1]/255,t[2]/255,t[3]],colorString:i})},this.closeColorPicker=()=>{this.setState({showColorPicker:!1})},this.getColorPicker=()=>{const{activeColor:e,labelsColor:t,colorPickerDirection:i,onAddSnapshot:r}=this.props,{showColorPicker:n,showColorPickerArrow:o,arrowOffset:s,leftOffset:a,topOffset:l}=this.state;return qn.createElement(Lg,{color:(0,Vn.p)(e),show:n,showArrow:o,direction:i,arrowOffset:s,leftOffset:a,topOffset:l,labelHex:t.hex,labelR:t.r,labelG:t.g,labelB:t.b,labelSliderOpacity:t.sliderOpacity,labelSliderHue:t.sliderHue,onChange:this.onChangeColorPicker,onRequestClose:this.closeColorPicker,onAddSnapshot:r})};const{colors:t}=this.props;this.containerRef=qn.createRef(),this.state={activeIdentifier:"",activeSprite:"",colorList:[...t],showColorPicker:!1,showColorPickerArrow:!1,arrowOffset:0,leftOffset:0,topOffset:0}}static getDerivedStateFromProps(e,t){let{activeSprite:i,activeColor:r}=e,{activeSprite:n,colorList:o}=t;if(i!==n||!i){const e=Fu((0,Vn.p)(r)),t=o.find((t=>{let{colorString:i}=t;return i===e}));return{activeSprite:i,activeIdentifier:t?t.identifier:""}}return null}render(){const{tool:e,isDisabled:t,custom:i,config:r,className:n}=this.props,{activeIdentifier:o,colorList:s}=this.state,a=i.getColorItem(),l=r.assetProvider.getPath("controls","/tiled-background.png"),c=s.map((i=>a?qn.createElement(a,{tool:e,key:"".concat(i.colorString,"-item-").concat(i.identifier),isActive:i.identifier===o,isDisabled:t,onClick:this.onClick(i.identifier),color:i.colorString,label:i.identifier,tiledBackgroundUrl:l}):null));return qn.createElement(Ug,{className:n,"data-test":Vn.Ta.ColorList,ref:this.containerRef},c,this.getColorPicker())}};Ng.defaultProps={colorPickerDirection:"bottom",isDisabled:!1};var Hg=Ca("config","custom")(ba(Ng)),jg=e=>qn.createElement(fo.Consumer,null,(t=>{let{rect:i}=t;return qn.createElement(Hg,{...e,rect:i})})),Wg=(0,Vn.b)(Yn()),Vg=(0,Gn.Ay)(Nf.Controls.Container)(xr||(xr=(0,Wn.A)(["\n  cursor: none;\n"]))),Gg=Gn.Ay.div(wr||(wr=(0,Wn.A)(["\n  position: absolute;\n  width: 20px;\n  height: 20px;\n  transform: translate(-50%, -50%);\n  border-radius: 50%;\n  border-width: 2px;\n  border-style: solid;\n  box-shadow: 0 0 0 0.5px rgba(0, 0, 0, 0.8), 0 0 0 1px rgba(255, 255, 255, 1);\n  color: ",";\n"])),(e=>e.theme.foreground)),qg=class extends qn.Component{constructor(e){super(e),this.INITIAL_POSITION={x:void 0,y:void 0},this.state={...this.INITIAL_POSITION,isDrawing:!1},this.containerElementRef=null,this.getCursorCoordinates=e=>{let t=0,i=0;if(-1!==e.type.indexOf("touch")){const r=e;if(!r.touches.length)return{...this.INITIAL_POSITION,height:0,width:0};t=r.touches[0].clientX,i=r.touches[0].clientY}else{const r=e;t=r.clientX,i=r.clientY}const r=this.containerElementRef.current.getBoundingClientRect();return{x:t-r.left,y:i-r.top,height:r.height,width:r.width}},this.draw=e=>{e.preventDefault(),e.stopPropagation(),this.touchDraw(e)},this.touchDraw=e=>{const{x:t,y:i}=this.getCursorCoordinates(e);void 0!==t&&void 0!==i&&(this.setState({x:t,y:i}),this.state.isDrawing&&this.brushTool.strokePosition({x:t,y:i}))},this.touchStart=()=>{this.brushTool.clickableCanvas(!1),this.setState({isDrawing:!0}),this.brushTool.beginStroke()},this.start=e=>{0===e.button?this.touchStart():this.stop(e)},this.stop=e=>{this.state.isDrawing&&(e.preventDefault(),e.stopPropagation(),this.setState({isDrawing:!1}),this.brushTool.endStroke(),this.brushTool.clickableCanvas(!0))},this.setInitialPosition=()=>{this.setState({...this.INITIAL_POSITION})},this.mouseOut=e=>{const{config:t}=this.props;e.preventDefault(),e.stopPropagation();const i=this.brushTool.sizeOnScreenSpace/2,{x:r,y:n,height:o,width:s}=this.getCursorCoordinates(e);r&&n&&(r<0||n<0||r>s-i||n>o-i||n<t.measurements.mainCanvasActionBar.height)&&this.setInitialPosition()},this.touchEnd=e=>{e.preventDefault(),e.stopPropagation();const{x:t,y:i}=this.state;t&&i&&this.setInitialPosition()},this.getCursor=()=>{const{x:e,y:t}=this.state;if(e&&t){const e=Fu(this.brushTool.color),t="".concat(this.brushTool.sizeOnScreenSpace,"px"),i={left:"".concat(this.state.x,"px"),top:"".concat(this.state.y,"px"),borderColor:e,height:t,width:t};return qn.createElement(Gg,{style:i,"data-test":Vn.Ta.Cursor})}return null},this.containerElementRef=qn.createRef()}componentDidMount(){document.addEventListener("mouseup",this.stop,!1),document.addEventListener("touchend",this.stop,{passive:!1})}componentWillUnmount(){document.removeEventListener("mouseup",this.stop,!1),document.removeEventListener("touchend",this.stop,!1)}get brushTool(){return this.props.brushTool}render(){return qn.createElement(Vg,{ref:this.containerElementRef,"data-test":Vn.Ta.CursorContainer,onMouseMove:this.draw,onTouchMove:this.touchDraw,onMouseDown:this.start,onTouchStart:this.touchStart,onMouseOut:this.mouseOut,onTouchEnd:this.touchEnd},this.getCursor())}},Xg=Ca("brushTool","config")(ba(qg)),Yg=(e,t)=>void 0!==e&&void 0!==t&&!Number.isNaN(e)&&!Number.isNaN(t),Qg=(0,Gn.Ay)(Nf.Controls.Knob)(Sr||(Sr=(0,Wn.A)(["\n  margin-top: -","px;\n  margin-left: -","px;\n"])),(e=>e.theme.measurements.canvasControls.knob.touchable.desktop/2),(e=>e.theme.measurements.canvasControls.knob.touchable.desktop/2)),{Container:Kg}=Nf.Controls,Zg=class extends qn.Component{constructor(e){super(e),this.start=(e,t)=>{let{x:i,y:r}=t;Yg(i,r)&&this.focusTool.setStart({x:i,y:r})},this.end=(e,t)=>{let{x:i,y:r}=t;Yg(i,r)&&this.focusTool.setEnd({x:i,y:r})},this.onKnob1DragStart=(e,t)=>{this.focusTool.clickableCanvas(!1),this.start(e,t)},this.onKnob1DragStop=(e,t)=>{this.addSnapshot(t,this.historyLocale.focusPosition),this.start(e,t),this.focusTool.clickableCanvas(!0)},this.onKnob2DragStart=(e,t)=>{this.focusTool.clickableCanvas(!1),this.end(e,t)},this.onKnob2DragStop=(e,t)=>{this.addSnapshot(t,this.historyLocale.focusPosition),this.end(e,t),this.focusTool.clickableCanvas(!0)},this.addSnapshot=(e,t)=>{let{x:i,y:r}=e;Yg(i,r)&&this.focusTool.toolSnapshot(t)},this.getLine=()=>{const{height:e,width:t}=this.props.canvas.canvasSize,i=this.focusTool.startOnPreview,r=this.focusTool.endOnPreview;return qn.createElement("svg",{focusable:"false",height:e,width:t},qn.createElement("line",{x1:i.x,y1:i.y,x2:r.x,y2:r.y,strokeWidth:"2",stroke:"currentColor"}))},this.startRef=qn.createRef(),this.endRef=qn.createRef()}get focusTool(){return this.props.focusTool}get historyLocale(){return this.focusTool.locale.history}render(){return qn.createElement(Kg,null,qn.createElement(Nf.Controls.Line,null,this.getLine()),qn.createElement(cu.Draggable,{nodeRef:this.startRef,bounds:"parent",position:this.focusTool.startOnPreview,onStart:this.onKnob1DragStart,onDrag:this.start,onStop:this.onKnob1DragStop},qn.createElement(Qg,{ref:this.startRef})),qn.createElement(cu.Draggable,{nodeRef:this.endRef,bounds:"parent",onStart:this.onKnob2DragStart,onDrag:this.end,onStop:this.onKnob2DragStop,position:this.focusTool.endOnPreview},qn.createElement(Qg,{ref:this.endRef})))}};Qg.defaultProps={theme:Uh};var Jg=Ca("canvas","focusTool")(ba(Zg)),$g=class extends qn.Component{constructor(e){super(e),this.getKnobPosition=()=>{const{focusTool:e}=this.props,{origin:t,size:i}=e,r=i/2,n=Math.PI/2+e.rotation;return{x:t.x+r*Math.cos(n),y:t.y+r*Math.sin(n)}},this.onArea=(e,t)=>{let{x:i,y:r}=t;const{editor:n}=this.props,o=n.configStore.measurements.canvasControls.knob.size;if(Yg(i,r)){const{canvas:e,focusTool:t}=this.props,{size:n,mirroredAreaWidth:s}=t,a=i+s/2,l=r+n/2,c=new Vn.Qa(this.getKnobPosition()),u=new Vn.Qa({x:i,y:r}).subtract(new Vn.Qa(this.areaPosition)),h=c.add(u);h.x>o&&h.x<e.canvasSize.width-o&&h.y>o&&h.y<e.canvasSize.height-o&&t.setOrigin({x:a,y:l})}},this.onKnob=(e,t)=>{let{x:i,y:r}=t;const{focusTool:n}=this.props;if(Yg(i,r)){n.clickableCanvas(!1);const e=new Vn.Qa(n.origin),t=new Vn.Qa(i,r),o=e.subtract(t),s=o.magnitude,a=Math.PI/2+Math.atan2(o.y,o.x);n.setSize(2*s),n.setRotation(a)}},this.onAreaDragStop=(e,t)=>{const{focusTool:i}=this.props;this.addSnapshot(t,i.locale.history.focusPosition),this.onArea(e,t),i.clickableCanvas(!0)},this.onKnobDragStop=(e,t)=>{const{focusTool:i}=this.props;this.addSnapshot(t,i.locale.history.focusSize),this.onKnob(e,t),i.clickableCanvas(!0)},this.addSnapshot=(e,t)=>{let{x:i,y:r}=e;const{focusTool:n}=this.props;Yg(i,r)&&n.toolSnapshot(t)},this.knobRef=qn.createRef(),this.areaRef=qn.createRef()}get areaPosition(){const{focusTool:e}=this.props,{origin:t,size:i,mirroredAreaWidth:r}=e;return{x:t.x-r/2,y:t.y-i/2}}render(){const{x:e,y:t}=this.areaPosition,{focusTool:i}=this.props;return qn.createElement(Nf.Controls.Container,null,qn.createElement(cu.Draggable,{nodeRef:this.knobRef,bounds:"parent",onStart:this.onKnob,onDrag:this.onKnob,onStop:this.onKnobDragStop,position:this.getKnobPosition()},qn.createElement(Nf.Controls.Knob,{ref:this.knobRef})),qn.createElement(cu.Draggable,{nodeRef:this.areaRef,onStart:this.onArea,onDrag:this.onArea,onStop:this.onAreaDragStop,position:{x:e,y:t},rotation:i.rotation},qn.createElement(Nf.Controls.Area,{ref:this.areaRef,"data-test":Vn.Ta.Focus,height:i.size,width:i.mirroredAreaWidth})))}};$g=(0,Vn.c)([Ca("focusTool","canvas","editor"),ba],$g);var em=class extends qn.Component{constructor(e){super(e),this.state={knobAngle:2.35},this.onCircle=(e,t)=>{let{x:i,y:r}=t;if(Yg(i,r)){const{focusTool:e}=this.props;e.setCenter({x:i+e.radius,y:r+e.radius})}},this.onKnob=(e,t)=>{let{x:i,y:r}=t;if(Yg(i,r)){const{focusTool:e}=this.props,t=new Vn.Qa(i,r),n=new Vn.Qa(e.center.x,e.center.y).subtract(t),o=n.magnitude,s=-Math.atan2(n.y,n.x);this.setState({knobAngle:s}),e.setRadius(o)}},this.onCircleDragStart=(e,t)=>{const{focusTool:i}=this.props;i.clickableCanvas(!1),this.onCircle(e,t)},this.onCircleDragStop=(e,t)=>{const{focusTool:i}=this.props;this.addSnapshot(t,i.locale.history.focusPosition),this.onCircle(e,t),i.clickableCanvas(!0)},this.onKnobDragStart=(e,t)=>{const{focusTool:i}=this.props;i.clickableCanvas(!1),this.onKnob(e,t)},this.onKnobDragStop=(e,t)=>{const{focusTool:i}=this.props;this.addSnapshot(t,i.locale.history.focusSize),this.onKnob(e,t),i.clickableCanvas(!0)},this.addSnapshot=(e,t)=>{let{x:i,y:r}=e;const{focusTool:n}=this.props;Yg(i,r)&&n.toolSnapshot(t)},this.knobRef=qn.createRef(),this.circleRef=qn.createRef()}componentDidMount(){this.setState({knobAngle:2.35})}render(){const{focusTool:e}=this.props,{knobAngle:t}=this.state,{center:i,radius:r}=e,n={x:i.x-r,y:i.y-r},o=Math.PI-t,s={x:i.x+r*Math.cos(o),y:i.y+r*Math.sin(o)};return qn.createElement(Nf.Controls.Container,null,qn.createElement(cu.Draggable,{nodeRef:this.knobRef,bounds:"parent",onStart:this.onKnobDragStart,onDrag:this.onKnob,onStop:this.onKnobDragStop,position:s},qn.createElement(Nf.Controls.Knob,{ref:this.knobRef})),qn.createElement(cu.Draggable,{nodeRef:this.circleRef,onStart:this.onCircleDragStart,onDrag:this.onCircle,onStop:this.onCircleDragStop,position:n},qn.createElement(Nf.Controls.Circle,{ref:this.circleRef,"data-test":Vn.Ta.Focus,radius:r})))}};em=(0,Vn.c)([Ca("focusTool","canvas"),ba],em);var tm=ba((()=>{const{focusTool:e}=tp(),{state:t}=e,i=(()=>{switch(t.identifier){case"linear":return Jg;case"radial":return em;case"mirrored":return $g;default:return null}})();return e.isOptionSelected&&i?qn.createElement(i,null):null})),im=e=>{let{customButtonKey:t,onClick:i,label:r,icon:n,disabled:o}=e;const{custom:s}=tp(),a=s.getButton(t);return a?qn.createElement(a,{onClick:i,label:r,ariaLabel:r,icon:n,isDisabled:o}):null},rm=e=>{let{availableKeys:t,actions:i}=e;return qn.createElement(Nf.Bar.ButtonGroup,{onClick:Vn.Pa},t.map((e=>{const t=i[e];return t?qn.createElement(im,{key:e,...t}):null})))},nm=Ca("sprite","stickerTool")(ba((e=>{let{sprite:t,stickerTool:i}=e;const r=i.locale.canvasActions,n={bringtofront:{customButtonKey:"canvasActionBringToFront",onClick:i.bringToFront,label:r.buttonBringToFront,icon:qn.createElement(ff.bringToFront,null),disabled:t.isOnTop},flip:{customButtonKey:"canvasActionFlip",onClick:i.flipHorizontally,label:r.buttonFlipHorizontal,icon:qn.createElement(ff.flipHorizontal,null)},duplicate:{customButtonKey:"canvasActionDuplicate",onClick:()=>i.duplicate(),label:r.buttonDuplicate,icon:qn.createElement(ff.duplicate,null)},delete:{customButtonKey:"canvasActionDelete",onClick:i.delete,label:r.buttonDelete,icon:qn.createElement(ff.delete,null)}};return i.isStickerSelected?qn.createElement(rm,{availableKeys:i.config.canvasActions,actions:n}):null}))),om=Ca("textTool","sprite")(ba((e=>{let{textTool:t,sprite:i}=e;const r=t.locale.canvasActions,n={edit:{customButtonKey:"canvasActionEdit",onClick:()=>t.setEditMode(!0),label:r.buttonEdit,icon:qn.createElement(ff.edit,null)},bringtofront:{customButtonKey:"canvasActionBringToFront",onClick:t.bringToFront,label:r.buttonBringToFront,icon:qn.createElement(ff.bringToFront,null),disabled:i.isOnTop},duplicate:{customButtonKey:"canvasActionDuplicate",onClick:t.duplicate,label:r.buttonDuplicate,icon:qn.createElement(ff.duplicate,null)},delete:{customButtonKey:"canvasActionDelete",onClick:t.delete,label:r.buttonDelete,icon:qn.createElement(ff.delete,null)}};return i.isSpriteText?qn.createElement(rm,{availableKeys:t.config.canvasActions,actions:n}):null}))),sm=Ca("sprite","textDesignTool")(ba((e=>{let{sprite:t,textDesignTool:i}=e;const r=i.locale.canvasActions,n={edit:{customButtonKey:"canvasActionEdit",onClick:()=>i.setEditMode(!0),label:r.buttonEdit,icon:qn.createElement(ff.edit,null)},bringtofront:{customButtonKey:"canvasActionBringToFront",onClick:i.bringToFront,label:r.buttonBringToFront,icon:qn.createElement(ff.bringToFront,null),disabled:t.isOnTop},invert:{customButtonKey:"canvasActionInvert",onClick:i.invertBackground,label:r.buttonInvert,icon:qn.createElement(ff.flipHorizontal,null)},duplicate:{customButtonKey:"canvasActionDuplicate",onClick:i.duplicate,label:r.buttonDuplicate,icon:qn.createElement(ff.duplicate,null)},delete:{customButtonKey:"canvasActionDelete",onClick:()=>i.delete(),label:r.buttonDelete,icon:qn.createElement(ff.delete,null)}};return i.isTextDesignSelected?qn.createElement(rm,{availableKeys:i.config.canvasActions,actions:n}):null}))),am=class extends qn.Component{constructor(e){super(e),this.actionsRef=null,this.spriteControlPosition=()=>{const{config:e,sprite:t,canvas:{canvasSize:i}}=this.props,{controlPadding:r,controlOffset:n}=e.measurements.canvasControls.sprite,{x:o,y:s}=t.position,{height:a,width:l}=t.currentSprite.size,c=t.rotationWRTOutputRotation,u=this.actionsRef.current;let h=new Vn.Qa(0,0);if(u){const e=u.getBoundingClientRect();h=new Vn.Qa(e.width/2+n,e.height+n)}const d=Math.abs(l*Math.sin(c))+Math.abs(a*Math.cos(c)),p=new Vn.Qa(o,s-d/2-r-n).clamp(h,new Vn.Qa(i.width,i.height).subtract(h));return{left:p.x,top:p.y}},this.getSpriteControls=()=>{const{sprite:e}=this.props;switch(e.tool){case"text":return qn.createElement(om,null);case"textdesign":return qn.createElement(sm,null);case"sticker":return qn.createElement(nm,null);default:return null}},this.actionsRef=qn.createRef(),this.state={isMounted:!1}}componentDidMount(){this.setState({isMounted:!0})}render(){const{sprite:e}=this.props,{isMounted:t}=this.state,i=!e.isDragMode&&!e.isEditMode,r=this.spriteControlPosition();return qn.createElement(Nf.Controls.SpriteActionsWrapper,{"data-test":Vn.Ta.SpriteActions,ref:this.actionsRef,show:i&&t,style:{...r}},this.getSpriteControls())}};am=(0,Vn.c)([Ca("sprite","config","editor","canvas"),ba],am);var{Corner:lm}=Nf.Controls,{Draggable:cm}=cu,um=new Vn.Qa(0,0),hm=new Vn.Qa(0,0),dm=ba((()=>{const e=(0,qn.useRef)(null),t=(0,qn.useRef)(null),i=(0,qn.useRef)(null),r=(0,qn.useRef)(null),{config:n,sprite:o}=tp(),{leftTopPosition:s,leftBottomPosition:a,rightTopPosition:l,rightBottomPosition:c}=o,{borderWidth:u}=n.measurements.canvasControls.corner,h=e=>{let{clientX:t,clientY:i}=e;void 0!==t&&void 0!==i&&o.onCornerDrag(hm.subtract(um.subtract(new Vn.Qa(t,i))))},d=(e,t)=>{const{clientX:i,clientY:r}=e;um=new Vn.Qa(i,r),hm=new Vn.Qa((e=>{switch(e){case"leftTop":default:return s;case"leftBottom":return a;case"rightTop":return l;case"rightBottom":return c}})(t)),o.clickableCanvas(!1),o.setDragMode(!0)},p=()=>{o.clickableCanvas(!0),o.setDragMode(!1),o.spriteSnapshot("size"),um=new Vn.Qa(0,0),hm=new Vn.Qa(0,0)};return qn.createElement(qn.Fragment,null,qn.createElement(cm,{nodeRef:e,onStop:p,onDrag:h,onStart:e=>d(e,"leftTop")},qn.createElement(lm,{ref:e,"data-test":Vn.Ta.SpriteTopLeft,vertical:"top",horizontal:"left",borderWidth:u})),qn.createElement(cm,{nodeRef:i,onStop:p,onDrag:h,onStart:e=>d(e,"leftBottom")},qn.createElement(lm,{ref:i,"data-test":Vn.Ta.SpriteBottomLeft,vertical:"bottom",horizontal:"left",borderWidth:u})),qn.createElement(cm,{nodeRef:t,onStop:p,onDrag:h,onStart:e=>d(e,"rightTop")},qn.createElement(lm,{ref:t,"data-test":Vn.Ta.SpriteTopRight,vertical:"top",horizontal:"right",borderWidth:u})),qn.createElement(cm,{nodeRef:r,onStop:p,onDrag:h,onStart:e=>d(e,"rightBottom")},qn.createElement(lm,{ref:r,"data-test":Vn.Ta.SpriteBottomRight,vertical:"bottom",horizontal:"right",borderWidth:u})))})),pm=Gn.Ay.img(kr||(kr=(0,Wn.A)(["\n  position: absolute;\n  left: -24px;\n  top: calc(50% - 12px);\n  cursor: ew-resize;\n"]))),fm=Gn.Ay.img(Cr||(Cr=(0,Wn.A)(["\n  position: absolute;\n  right: -24px;\n  top: calc(50% - 12px);\n  cursor: ew-resize;\n"]))),gm=new Vn.Qa(0,0),mm=new Vn.Qa(0,0),ym=Ca("sprite","config")(ba((e=>{let{sprite:t,config:i}=e;const r=(0,qn.useRef)(null),n=(0,qn.useRef)(null),o=t.leftMidPosition,s=t.rightMidPosition,a=i.assetProvider.getPath("controls","/arrow-left.png"),l=i.assetProvider.getPath("controls","/arrow-right.png"),c=(e,i)=>{t.setDragMode(!0),t.clickableCanvas(!1);const{clientX:r,clientY:n}=e;gm=new Vn.Qa(r,n),mm=new Vn.Qa("left"===i?o:s)},u=()=>{t.clickableCanvas(!0),t.setDragMode(!1),t.addSnapshot("edit",t.textDesignLocale.padding),gm=new Vn.Qa(0,0),mm=new Vn.Qa(0,0)},h=e=>{let{clientX:i,clientY:r}=e;if(void 0!==i&&void 0!==r){const e=mm.subtract(gm.subtract(new Vn.Qa(i,r)));t.onPaddingDrag(e)}};return qn.createElement(qn.Fragment,null,qn.createElement(cu.Draggable,{nodeRef:r,onStart:e=>c(e,"left"),onDrag:h,onStop:u},qn.createElement(pm,{ref:r,src:a})),qn.createElement(cu.Draggable,{nodeRef:n,onStart:e=>c(e,"right"),onDrag:h,onStop:u},qn.createElement(fm,{ref:n,src:l})))}))),_m=(0,Gn.Ay)(Nf.Controls.Knob)(Tr||(Tr=(0,Wn.A)(["\n  margin-left: -11px;\n  margin-top: 0px;\n  cursor: url(",") 9 9, ew-resize;\n  &:before {\n    top: unset;\n    bottom: 0px;\n    left: calc(\n      50% - ","px\n    );\n  }\n"])),(e=>e.url),(e=>e.theme.measurements.canvasControls.knob.size/2)),vm=new Vn.Qa(0,0),bm=new Vn.Qa(0,0);_m.defaultProps={theme:Uh};var xm=Ca("sprite","snapping","config")(ba((e=>{let{config:t,sprite:i,snapping:r}=e;const n=(0,qn.useRef)(null),o=i.rightBottomHandlePosition,s=i.leftBottomHandlePosition,a={x:(o.x+s.x)/2,y:(o.y+s.y)/2},l=t.assetProvider.getPath("controls","/".concat((0,Vn.u)()?"rotate-windows":"rotate-osx",".png"));return qn.createElement(cu.Draggable,{nodeRef:n,onStart:e=>{let{clientX:t,clientY:r}=e;vm=new Vn.Qa(t,r),bm=new Vn.Qa(a),i.setDragMode(!0),i.clickableCanvas(!1)},onDrag:e=>{(e=>{let{clientX:t,clientY:n}=e;if(void 0!==t&&void 0!==n){const e=bm.subtract(vm.subtract(new Vn.Qa(t,n))),o=i.position,s=new Vn.Qa(o.x,o.y),a=e.subtract(s),l=Math.atan2(a.y,a.x)-Math.PI/2,c=r.snapToRotation(l,a,i.currentRect);i.setRotation(c)}})(e)},onStop:()=>{i.clickableCanvas(!0),i.setDragMode(!1),i.spriteSnapshot("rotation"),r.hideRotationGuides(),vm=new Vn.Qa(0,0),bm=new Vn.Qa(0,0)}},qn.createElement(_m,{ref:n,url:l}))}))),wm=(0,Gn.Ay)(Nf.Controls.Width)(Er||(Er=(0,Wn.A)(["\n  cursor: ew-resize;\n  @media all and (min-width: 0) and (max-width: 599px) {\n    display: none;\n  }\n"]))),Sm=(0,Gn.Ay)(wm)(Dr||(Dr=(0,Wn.A)(["\n  left: -3px;\n  top: calc(\n    50% - ","px\n  );\n"])),(e=>e.theme.measurements.canvasControls.width.size/2)),km=(0,Gn.Ay)(wm)(Ir||(Ir=(0,Wn.A)(["\n  right: -3px;\n  top: calc(\n    50% - ","px\n  );\n"])),(e=>e.theme.measurements.canvasControls.width.size/2)),Cm=new Vn.Qa(0,0),Tm=new Vn.Qa(0,0);Sm.defaultProps={theme:Uh},km.defaultProps={theme:Uh};var Em=Ca("sprite","textTool")(ba((e=>{let{sprite:t,textTool:i}=e;const r=(0,qn.useRef)(null),n=(0,qn.useRef)(null),o=t.leftMidPadPosition,s=t.rightMidPadPosition,a=(e,i)=>{t.setDragMode(!0),t.clickableCanvas(!1);const{clientX:r,clientY:n}=e;Cm=new Vn.Qa(r,n),Tm=new Vn.Qa("left"===i?o:s)},l=()=>{t.clickableCanvas(!0),t.setDragMode(!1),t.addSnapshot("edit",t.textLocale.width),i.updateDefaultFontSize(),Cm=new Vn.Qa(0,0),Tm=new Vn.Qa(0,0)},c=e=>{let{clientX:i,clientY:r}=e;if(void 0!==i&&void 0!==r){const e=Tm.subtract(Cm.subtract(new Vn.Qa(i,r)));t.onWidthDrag(e)}};return qn.createElement(qn.Fragment,null,qn.createElement(cu.Draggable,{nodeRef:r,onStart:e=>a(e,"left"),onDrag:c,onStop:l},qn.createElement(Sm,{ref:r})),qn.createElement(cu.Draggable,{nodeRef:n,onStart:e=>a(e,"right"),onDrag:c,onStop:l},qn.createElement(km,{ref:n})))}))),{Draggable:Dm}=cu,Im=new Vn.Qa(0,0),Rm=new Vn.Qa(0,0),Fm=ba((()=>{const e=(0,qn.useRef)(),{active:t,config:i,snapping:r,sprite:n}=tp();if(!(()=>{const e=t.tool,i=n.tool;return n.isSpriteSelected&&e===i})())return null;const{isSpriteText:o}=n,s=n.isSpriteTextDesign&&n.textDesignToolStore.isInverted,{height:a,width:l}=n.size,c=n.spritePosition,u=n.rotationWRTOutputRotation,{controlPadding:h}=i.measurements.canvasControls.sprite;return qn.createElement(Nf.Controls.Container,null,qn.createElement(Dm,{nodeRef:e,onStart:e=>{const{clientX:t,clientY:i}=e;Im=new Vn.Qa(t,i),Rm=new Vn.Qa(n.position),n.setDragMode(!0),r.updateGuides()},onDrag:e=>{let{clientX:t,clientY:i}=e;const o=Rm.subtract(Im.subtract(new Vn.Qa(t,i))),{x:s,y:a}=r.snapToPosition({x:o.x,y:o.y},n.currentRect);n.setPosition({x:s,y:a})},onStop:e=>{const{clientX:t,clientY:i}=e,{x:o,y:s}=Im;Im=new Vn.Qa(0,0),Rm=new Vn.Qa(0,0),n.setDragMode(!1),o!==t&&s!==i&&n.spriteSnapshot("position"),r.hidePositionGuides()},rotation:u,position:c},qn.createElement(Nf.Controls.Sprite,{ref:e,"data-test":Vn.Ta.Sprite,onDoubleClick:e=>{e.preventDefault(),e.stopPropagation(),n.setEditMode(!0)},height:a,width:l},o&&qn.createElement(Em,null)||null,s&&qn.createElement(ym,null)||null,qn.createElement(dm,null),qn.createElement(Nf.Controls.RotateHandle,{x:l/2+h/2},qn.createElement(xm,null)))),qn.createElement(am,null))})),{GridLine:Am}=Nf.Crop,Om=Nf.Crop.Mask,{Draggable:Mm}=cu,Pm=(0,Gn.Ay)(zf)(Rr||(Rr=(0,Wn.A)(["\n  left: ","px;\n  top: ","px;\n  @media all and (min-width: 0) and (max-width: 599px) {\n    left: 6px;\n    top: 6px;\n  }\n"])),3,3),zm=(0,Gn.Ay)(zf)((e=>{const{desktop:t}=e.theme.measurements.canvasControls.corner.touchable,i=t/4-e.borderWidth;return(0,Gn.AH)(Fr||(Fr=(0,Wn.A)(["\n    left: ","px;\n    top: ","px;\n    @media all and (min-width: 0) and (max-width: 599px) {\n      left: -30px;\n      top: 6px;\n    }\n  "])),i-t,3)})),Bm=(0,Gn.Ay)(zf)((e=>{const{desktop:t}=e.theme.measurements.canvasControls.corner.touchable,i=t/4-e.borderWidth;return(0,Gn.AH)(Ar||(Ar=(0,Wn.A)(["\n    left: ","px;\n    top: ","px;\n    @media all and (min-width: 0) and (max-width: 599px) {\n      left: -30px;\n      top: -30px;\n    }\n  "])),i-t,i-t)})),Lm=(0,Gn.Ay)(zf)((e=>{const{desktop:t}=e.theme.measurements.canvasControls.corner.touchable,i=t/4-e.borderWidth;return(0,Gn.AH)(Or||(Or=(0,Wn.A)(["\n    top: ","px;\n    left: ","px;\n    @media all and (min-width: 0) and (max-width: 599px) {\n      top: -30px;\n      left: 6px;\n    }\n  "])),i-t,3)})),Um=Ca("transformTool")(ba((e=>{let{transformTool:t}=e;const i=(0,qn.useRef)(null),r=(0,qn.useRef)(null),n=(0,qn.useRef)(null),o=(0,qn.useRef)(null),s=(0,qn.useRef)(null),{leftTopRespectFlip:a,leftBottomRespectFlip:l,rightTopRespectFlip:c,rightBottomRespectFlip:u}=t,{height:h,width:d}=t.cropMaskSize,{maxCropMaskSize:p,defaultCropMaskPosition:f}=t,{isFlippedHorizontal:g,isFlippedVertical:m}=t,y=p.width/2,_=p.height/2,v={...p,left:f.x,top:f.y},b={height:h,width:d},x=t.isDragMode?{transition:"unset"}:{},w=e=>g?2*y-e:e,S=e=>m?2*_-e:e,k=(e,i,r)=>{const n=w(e),o=S(i);switch(fd.getFlippedEdgeIndex(r,g,m)){case 0:t.onLeftTop({x:n,y:o});break;case 1:t.onLeftBottom({x:n,y:o});break;case 2:t.onRightTop({x:n,y:o});break;case 3:t.onRightBottom({x:n,y:o})}},C=(e,i,r)=>{t.setDragMode(!0),t.clickableCanvas(!1),k(e,i,r)},T=(e,t,i)=>{k(e,t,i)},E=(e,i,r)=>{t.setDragMode(!1),k(e,i,r),t.clickableCanvas(!0),t.trackChanges()},D=(e,i)=>{const r=w(e+d/2)-d/2,n=S(i+h/2)-h/2;t.changePosition({x:r,y:n})};return qn.createElement("div",{style:{...v,position:"absolute"}},qn.createElement(Mm,{nodeRef:s,bounds:"parent",position:a,onStart:(e,i)=>{let{x:r,y:n}=i;t.setDragMode(!0),t.clickableCanvas(!1),D(r,n)},onDrag:(e,t)=>{let{x:i,y:r}=t;D(i,r)},onStop:(e,i)=>{let{x:r,y:n}=i;t.setDragMode(!1),D(r,n),t.clickableCanvas(!0),t.trackChanges()}},qn.createElement(Om,{ref:s,style:{...b,...x}})),qn.createElement(Am,{style:{left:a.x+d/3,top:a.y,height:h,width:1,...x}}),qn.createElement(Am,{style:{left:a.x+d/3*2,top:a.y,height:h,width:1,...x}}),qn.createElement(Am,{style:{left:a.x,top:a.y+h/3,height:1,width:d,...x}}),qn.createElement(Am,{style:{left:a.x,top:a.y+h/3*2,height:1,width:d,...x}}),qn.createElement(Mm,{nodeRef:i,bounds:"parent",position:{...a},onStart:(e,t)=>{let{x:i,y:r}=t;C(i,r,0)},onDrag:(e,t)=>{let{x:i,y:r}=t;T(i,r,0)},onStop:(e,t)=>{let{x:i,y:r}=t;E(i,r,0)}},qn.createElement(Pm,{ref:i,"data-test":Vn.Ta.CropTopLeft,vertical:"top",horizontal:"left",borderWidth:3,style:x})),qn.createElement(Mm,{nodeRef:n,bounds:"parent",position:l,onStart:(e,t)=>{let{x:i,y:r}=t;C(i,r,1)},onDrag:(e,t)=>{let{x:i,y:r}=t;T(i,r,1)},onStop:(e,t)=>{let{x:i,y:r}=t;E(i,r,1)}},qn.createElement(Lm,{ref:n,"data-test":Vn.Ta.CropBottomLeft,vertical:"bottom",horizontal:"left",borderWidth:3,style:x})),qn.createElement(Mm,{nodeRef:r,bounds:"parent",position:c,onStart:(e,t)=>{let{x:i,y:r}=t;C(i,r,2)},onDrag:(e,t)=>{let{x:i,y:r}=t;T(i,r,2)},onStop:(e,t)=>{let{x:i,y:r}=t;E(i,r,2)}},qn.createElement(zm,{ref:r,"data-test":Vn.Ta.CropTopRight,vertical:"top",horizontal:"right",borderWidth:3,style:x})),qn.createElement(Mm,{nodeRef:o,bounds:"parent",position:u,onStart:(e,t)=>{let{x:i,y:r}=t;C(i,r,3)},onDrag:(e,t)=>{let{x:i,y:r}=t;T(i,r,3)},onStop:(e,t)=>{let{x:i,y:r}=t;E(i,r,3)}},qn.createElement(Bm,{ref:o,"data-test":Vn.Ta.CropBottomRight,vertical:"bottom",horizontal:"right",borderWidth:3,style:x})))}))),Nm=Gn.Ay.div(Mr||(Mr=(0,Wn.A)(["\n  overflow: hidden;\n  display: none;\n  position: relative;\n  transform: unset !important;\n  vertical-align: bottom;\n  ","\n\n  svg {\n    color: ",";\n  }\n"])),(e=>e.isVisible&&(0,Gn.AH)(Pr||(Pr=(0,Wn.A)(["\n      display: inline-block;\n    "])))),(e=>e.theme.foreground)),Hm=Gn.Ay.div(zr||(zr=(0,Wn.A)(["\n  position: relative;\n  cursor: pointer;\n  display: flex;\n  align-self: center;\n"]))),jm=Gn.Ay.div(Br||(Br=(0,Wn.A)(["\n  font-size: 15px;\n  display: none;\n  width: 33px;\n  text-align: right;\n  color: ",";\n  z-index: 1;\n  margin: 2px;\n  ","\n"])),(e=>e.theme.foreground),(e=>e.isVisible&&(0,Gn.AH)(Lr||(Lr=(0,Wn.A)(["\n      display: inline-block;\n    "]))))),Wm=Gn.Ay.div(Ur||(Ur=(0,Wn.A)(["\n  transform: translate(0, 0) !important;\n"]))),Vm=class extends qn.Component{constructor(e){super(e),this.SLIDER_WIDTH=213,this.MAX_ROTATION=45,this.DEGREES_PER_PIXEL=2*this.MAX_ROTATION/this.SLIDER_WIDTH,this.drag=(e,t)=>{let{x:i}=t;const{flipHorizontally:r,flipVertically:n}=this.transformTool.rotateFlipState;r!==n&&(i*=-1);const o=this.transformTool.defaultAngle-i*this.DEGREES_PER_PIXEL,s=Math.min(this.MAX_ROTATION,Math.max(o,-1*this.MAX_ROTATION));this.transformTool.setRotation(parseInt("".concat(s),10))},this.stop=()=>{this.transformTool.setDefaultAngle(this.transformTool.rotationInDegrees),this.transformTool.trackChanges()},this.rotateRef=qn.createRef()}get transformTool(){return this.props.transformTool}render(){const{config:e,canvasWidth:t,transformTool:i,className:r}=this.props,{flipHorizontally:n,flipVertically:o}=this.transformTool.rotateFlipState,s=!e.isLayoutAdvanced||e.isLayoutAdvanced&&t>e.measurements.canvas.transform.minSliderWidth,a=!e.isLayoutAdvanced||e.isLayoutAdvanced&&t>e.measurements.canvas.transform.minValueWidth,l=this.transformTool.rotationInDegrees-this.transformTool.defaultAngle,c=n===o?-1*l:l,u=n!==o?-1*i.rotationInDegrees:i.rotationInDegrees;return qn.createElement(Hm,{"data-test":Vn.Ta.RotateSlider,className:r},qn.createElement(cu.Draggable,{nodeRef:this.rotateRef,axis:"x",position:{x:0,y:0},onStart:this.drag,onDrag:this.drag,onStop:this.stop,updateOnPosition:!0,disabled:!s},qn.createElement(Wm,{ref:this.rotateRef},qn.createElement(Nm,{isVisible:s},qn.createElement(ff.dots,{width:90,height:15,x:c})),qn.createElement(jm,{isVisible:a},u,"\xb0"),qn.createElement(Nm,{isVisible:s},qn.createElement(ff.dots,{width:90,height:15,x:c})))))}},Gm=Ca("transformTool","config")(ba(Vm)),qm=(0,Gn.AH)(Nr||(Nr=(0,Wn.A)(["\n  grid-column-start: span 2;\n"]))),Xm=(0,Gn.Ay)(Gm)(Hr||(Hr=(0,Wn.A)(["\n  ","\n  @media all and (min-width: 0) and (max-width: 599px) {\n    ","\n  }\n"])),(e=>e.smallContainer&&qm),qm),Ym=(0,Gn.AH)(jr||(jr=(0,Wn.A)(["\n  grid-column-start: 1;\n  grid-row-start: 2;\n"]))),Qm=Gn.Ay.div(Wr||(Wr=(0,Wn.A)(["\n  display: flex;\n  gap: 5px;\n  ","\n  @media all and (min-width: 0) and (max-width: 599px) {\n    ","\n  }\n"])),(e=>e.smallContainer&&Ym),Ym),Km=(0,Gn.AH)(Vr||(Vr=(0,Wn.A)(["\n  justify-content: flex-end;\n  grid-column-start: 2;\n  grid-row-start: 2;\n"]))),Zm=Gn.Ay.div(Gr||(Gr=(0,Wn.A)(["\n  display: flex;\n  gap: 5px;\n  ","\n  @media all and (min-width: 0) and (max-width: 599px) {\n    ","\n  }\n"])),(e=>e.smallContainer&&Km),Km),Jm=(0,Gn.Ay)(ff.rotate)(qr||(qr=(0,Wn.A)(["\n  height: 16px;\n  width: 16px;\n  transform: scaleX(-1);\n"]))),$m=(0,Gn.Ay)(ff.rotate)(Xr||(Xr=(0,Wn.A)(["\n  height: 16px;\n  width: 16px;\n"]))),ey=(0,Gn.Ay)(ff.flipHorizontal)(Yr||(Yr=(0,Wn.A)(["\n  height: 16px;\n  width: 16px;\n"]))),ty=(0,Gn.Ay)(ff.flipVertical)(Qr||(Qr=(0,Wn.A)(["\n  height: 16px;\n  width: 16px;\n"]))),iy=(0,Gn.AH)(Kr||(Kr=(0,Wn.A)(["\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  grid-template-rows: 1fr 1fr;\n  margin-bottom: 0.5rem;\n"]))),ry=Gn.Ay.div(Zr||(Zr=(0,Wn.A)(["\n  display: inline-flex;\n  gap: 5px;\n\n  svg {\n    color: ",";\n  }\n\n  ","\n  @media all and (min-width: 0) and (max-width: 599px) {\n    ","\n  }\n"])),(e=>e.theme.foreground),(e=>e.smallContainer&&iy),iy),ny=Ca("transformTool","config","custom","canvas")(ba((e=>{let{transformTool:t,config:i,custom:r,canvas:n}=e;const{rect:o}=(0,qn.useContext)(fo),s=t.locale.transformActions,a=n.canvasSize.width,l=!i.isLayoutAdvanced||i.isLayoutAdvanced&&a>i.measurements.canvas.transform.minFlipWidth,c=e=>{let{customButtonKey:t,onClick:i,label:n,icon:o}=e;const s=r.getButton(t);return qn.createElement(s,{key:n,onClick:i,label:n,ariaLabel:n,icon:o})},u=c({label:s.buttonFlipHorizontal,icon:qn.createElement(ey,null),onClick:()=>{t.flipHorizontally()},customButtonKey:"transformActionFlipHorizontal"}),h=c({label:s.buttonFlipVertical,icon:qn.createElement(ty,null),onClick:()=>{t.flipVertically()},customButtonKey:"transformActionFlipVertical"}),d=c({label:s.buttonRotateClockwise,icon:qn.createElement(Jm,null),onClick:t.rotateClockwise,customButtonKey:"transformActionRotateClockwise"}),p=c({label:s.buttonRotateAntiClockwise,icon:qn.createElement($m,null),onClick:t.rotateAntiClockwise,customButtonKey:"transformActionRotateAntiClockwise"}),f=!!o&&o.width<600,g=i.isLayoutAdvanced?{transform:"rotate(180deg)"}:{};return qn.createElement(ry,{style:g,"data-test":Vn.Ta.FlipRotateControls,smallContainer:f},t.config.enableFlip&&l&&qn.createElement(Qm,{smallContainer:f},u,h),t.config.enableRotation&&qn.createElement(Xm,{canvasWidth:a,smallContainer:f}),t.config.enableRotation&&qn.createElement(Zm,{smallContainer:f},p,d))}))),oy=Nf.Bar.Index,{Backdrop:sy}=Nf.Crop,ay=Ca("transformTool","canvas","config")(ba((e=>{let{transformTool:t,canvas:i,config:r}=e;const{leftTopRespectFlip:n,leftBottomRespectFlip:o,rightTopRespectFlip:s}=t,{height:a}=t.cropMaskSize,{height:l,width:c}=i.canvasSize,{defaultCropMaskPosition:u}=t,h=t.isDragMode?{transition:"unset"}:{};return qn.createElement(Nf.Controls.Container,null,qn.createElement(sy,{style:{left:0,top:0,width:c,height:n.y+u.y,...h}}),qn.createElement(sy,{style:{left:0,top:n.y+u.y,width:u.x+n.x,height:a,...h}}),qn.createElement(sy,{style:{left:s.x+u.x,top:s.y+u.y,width:c-s.x-u.x,height:a,...h}}),qn.createElement(sy,{style:{left:0,top:o.y+u.y,width:c,height:l-o.y-u.y+r.measurements.basicUIToolControlBar.controlsBarHeight,...h}}),qn.createElement(Um,null),r.isLayoutAdvanced?qn.createElement(oy,{bottom:!0},qn.createElement(ny,null)):null)}))),ly=(0,Gn.Ay)(Nf.Controls.Container)(Jr||(Jr=(0,Wn.A)(["\n  ","\n  z-index: ",";\n"])),(e=>e.activeCursor?(0,Gn.AH)($r||($r=(0,Wn.A)(["\n          cursor: move;\n        "]))):""),(e=>e.theme.measurements.zIndex.canvas.crop.dragImage)),cy=class extends qn.Component{constructor(e){super(e),this.INITIAL_POSITION={x:void 0,y:void 0},this.state={...this.INITIAL_POSITION,isDragging:!1},this.containerRef=null,this.getCursorCoordinates=e=>{let t=0,i=0;if(-1!==e.type.indexOf("touch")){const r=e;if(!r.touches.length)return this.INITIAL_POSITION;t=r.touches[0].clientX,i=r.touches[0].clientY}else{const r=e;t=r.clientX,i=r.clientY}const r=this.containerRef.current.getBoundingClientRect();return{x:t-r.left,y:i-r.top}},this.move=e=>{if(this.scale.canDrag){const{x:t,y:i}=this.getCursorCoordinates(e);if(void 0!==t&&void 0!==i&&this.state.isDragging){const e={x:this.state.x-t,y:this.state.y-i};this.scale.setOffset(e)}}},this.touchDrag=e=>{if(this.scale.canDrag){const{x:t,y:i}=this.getCursorCoordinates(e);void 0!==t&&void 0!==i&&this.setState({x:t,y:i,isDragging:!0})}},this.drag=e=>{e.preventDefault(),this.touchDrag(e)},this.stop=()=>{this.scale.canDrag&&(this.scale.savePosition(),this.setState({...this.INITIAL_POSITION,isDragging:!1}))},this.touchEnd=e=>{e.preventDefault(),e.stopPropagation();const{x:t,y:i}=this.state;t&&i&&this.setState({...this.INITIAL_POSITION,isDragging:!1})},this.containerRef=qn.createRef()}componentDidMount(){document.addEventListener("mouseup",this.stop,!1),document.addEventListener("touchend",this.stop,{passive:!0})}componentWillUnmount(){document.removeEventListener("mouseup",this.stop,!1),document.removeEventListener("touchend",this.stop,!1)}get scale(){return this.props.scale}render(){return qn.createElement(ly,{ref:this.containerRef,onMouseMove:this.move,onTouchMove:this.move,onMouseDown:this.drag,onTouchStart:this.touchDrag,onMouseUp:this.stop,onTouchEnd:this.touchEnd,activeCursor:this.scale.canDrag})}},uy=Ca("scale")(ba(cy)),hy=ba((e=>{let{children:t}=e;const i=(0,qn.useRef)(null),{active:r,sprite:n,canvas:o}=tp(),{canvasSize:s}=o;return qn.createElement(Nf.Controls.Wrapper,{"aria-hidden":!0,ref:i,onClick:e=>{if(e.preventDefault(),e.stopPropagation(),null==o?void 0:o.isCanvasClickable){let{clientX:t}=e,{clientY:r}=e;if(-1!==e.type.indexOf("touch")){const i=e;if(!i.touches.length)return;t=i.touches[0].clientX,r=i.touches[0].clientY}const n=i.current.getBoundingClientRect(),s=t-n.left,a=r-n.top;o.getContainersAtPreviewPoint({x:s,y:a})}},onKeyDown:e=>{"Tab"===e.code&&n.selectLast()},height:s.height,width:s.width},t,(()=>{switch(r.tool){case"focus":return qn.createElement(tm,null);case"text":case"textdesign":case"sticker":return qn.createElement(Fm,null);case"brush":return qn.createElement(Xg,null);case"transform":return qn.createElement(ay,null);default:return qn.createElement(Nf.Controls.Container,null,qn.createElement(uy,null))}})())})),dy=Gn.Ay.div(en||(en=(0,Wn.A)(["\n  display: ",";\n  position: absolute;\n  z-index: ",";\n"])),(e=>{let{isVisible:t}=e;return t?"block":"none"}),(e=>e.theme.measurements.zIndex.canvas.snappingGuide)),py=e=>{let{isVisible:t,className:i}=e;return qn.createElement(dy,{isVisible:t,className:i})},fy=(0,Gn.Ay)(py)(tn||(tn=(0,Wn.A)(["\n  background: ",";\n  ","\n"])),(e=>e.theme.snapping.positionGuideColor),(e=>"horizontal"===e.direction?(0,Gn.AH)(rn||(rn=(0,Wn.A)(["\n        width: 100%;\n        height: 2px;\n        top: ","px;\n      "])),(()=>e.position)):(0,Gn.AH)(nn||(nn=(0,Wn.A)(["\n      width: 2px;\n      height: 100%;\n      left: ","px;\n    "])),(()=>e.position)))),gy=(0,Gn.Ay)(py)(on||(on=(0,Wn.A)(["\n  border: none;\n  border-top: 2px dashed ",";\n  background: transparent;\n  left: ","px;\n  top: ","px;\n  transform: rotate(","rad);\n  width: 200%;\n"])),(e=>e.theme.snapping.rotationGuideColor),(e=>{let{position:t}=e;return t.x}),(e=>{let{position:t}=e;return t.y}),(e=>{let{rotation:t}=e;return t})),my=Gn.Ay.div(sn||(sn=(0,Wn.A)(["\n  position: absolute;\n  width: ","px;\n  height: ","px;\n  top: ","px;\n  left: ","px;\n  overflow: hidden;\n"])),(e=>{let{width:t}=e;return t}),(e=>{let{height:t}=e;return t}),(e=>{let{top:t}=e;return t}),(e=>{let{left:t}=e;return t})),yy=Ca("snapping","editor")(ba((e=>{let{snapping:t,editor:i}=e;const{width:r,height:n}=i.getPreviewSize(),{x:o,y:s}=t.previewTopLeftPosition,a=t.positionGuides.map(((e,t)=>{let{direction:i,value:r,isVisible:n}=e;return qn.createElement(fy,{key:"positionGuide-".concat(t),direction:i,position:r,isVisible:n})})),l=t.rotationGuides.find((e=>{let{isVisible:t}=e;return t}));return qn.createElement(my,{"data-test":Vn.Ta.SnappingLine,width:r,height:n,left:o,top:s},a,qn.createElement(gy,{key:"rotationGuide",rotation:l?l.value:0,position:l?l.position:{x:0,y:0},isVisible:!!l}))}))),_y=Gn.Ay.img(an||(an=(0,Wn.A)(["\n  z-index: 5;\n  position: absolute;\n  width: 100px;\n  bottom: 30px;\n  right: 30px;\n"]))),vy=()=>qn.createElement(_y,{alt:"watermark","data-test":Vn.Ta.Watermark,src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAaQAAACMCAYAAAAzxN3aAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAABMZSURBVHgB7d1tbFTXmQfw4xTXJsZk4hc8LAYPNWDTxOvZJMITNSkInGaTdOUmRWsTdUsrJYvafsh+yDcUqft9VSkftlLYqMRqpJAVQbJ2SeRiU5NCPKAEm1rBr5BxYpKxwNjGJrZxovb+SaYi1Daee8+59zkz/59k0aoUv83c/32e89xzcl7av//XioiIKEA5OTnqLkVERCQAA4mIiERgIBERkQgMJCIiEoGBREREIjCQiIhIBAYSERGJwEAiIiIRGEhERCQCA4mIiERgIBERkQgMJCIiEoGBREREIjCQiIhIBAYSERGJwEAiIiIRGEhERCQCA4mIiERgIBERkQgMJCIiEoGBREREIjCQiIhIBAYSERGJwEAiIiIRGEhERCQCA4mIiERgIBERkQgMJCIiEoGBREREIjCQiIhIBAYSERGJwEAiIiIRGEhERCTCCkWUhUYuXQoNJxJl45OToSuXL6+dn5/Pu379euiL+fn8mbm50EL/nxUrVszmfutbsytyc2dznY+CgoLJVYWF42vLypIlJSUTVVVVo4qIXGMgUVa4du1a/rsnT9YifJyPisVCZylffPFFPj7U3NzN/351fPzmn729vTf/RGCtLixMVkQifZsrKxMMKKL0WBFI//3b3+6d+fzztC8gi6n+7nfjP3zyydPL/ftnz56NHD9+vEEZdk8olHz+uefeVD5qa2ur7e7u3qEMa9qzp7l83boJ5aNUCDmVULUTHhFlGMIKnwcfXV1dauXKlROlxcWJWCwWz9ZwMvHe0fVa+v+3367rO38+pkzIyVEbv/Od7h8//fQJpZH296vzdZaWlib2/vSnLUoAKwLpuhNGcy7uaBczOzubr9I0o/HzL/o5RkdDuIiuXr16Vvnkk0uXIn58b35CO+7dP/2pbnh4OHqzognIzMxM6OORkejHhw9HC1etSt5fUxOv37nznMoyUl9f33/kkXM9PT07TL1GBgYGYs77+bTO93P/wEBU98/zusabfa841CAM7uiVj5LJZLXKEAiig83NDQdfe+2FCxcuxIIMo9tNTU+HOzs7f/Rfv/nNC23Hj/v6O6aFISgeevDBVmUIXn/H2tvrlCYjIyMhPyr9IDGQhEF7SfnkVGdnlaSLtluoKo8cObL996+/vs9500aVYKiaUsHU398fVhSox+rru1fm5RlrJX9dJWl5jznhtl1lOAaSMNempsK6XsB34rxZrK+OcFE/cODAvg97e3fYFK4Ipv89fHjfG4cOPe7X75sWVhuNal3nuRVek2fef79KeYTqyNTN1pYtW8S0kRlIwuh6AS+H7e26o0ePxnBRt3kNbMhpLR549dV9aDcqCoTxKqmvz3OQ9PX1VSgDMHjjrGt2KyEYSAL1a3gB3wmmn2xu16GyONvd/bjKAKiW0G48deqULzci9Pd27txpbMpszFn3wftNedBlaBJ248aNYsIIGEgC+dG2O9fTY+XCOn4ueAwAlYXKILg5ON7R0dTe3i56DSxTPfDAA4mie+9NKEPi8bjr9R+Mes8a6AKgOqrbtk3U1CcDSSA/2nZjly9HlGUQRr87eHBvJk8avRePNzCUgvFwLGZsLQlVktshFox6KwNQHfn9bOCdMJCEunjxorH1HbQPbFx3cdpajRifVhkOoeS1xUPpM10lfdDVlXZXwtSot8TqCBhIQo2NjUVMte1sbNdhzSjTn8G4VeuxY40cdPCfySoJD2qn+542NeotsToCBpJQaNsNDQ0ZqQZsa9e9deTIjkxbM7oT/P5bWlqMb1dF32SySkr3QVlTo95SqyNgIAnWY6CSsa1dhyrhfG9vxj8QuBBUhNzVwX8mq6R0HpQ1NeottToCBpJgnyaT1brbdja16/C9H3rjjb0qi2EjTT446y/TVdJyB5ZMjHpLro6Ax08Ilmrb4Q2iNLGpXXesrS3mZzWH4yNKSkqGCwoKxgsLCydX5uXNpP63iWvXQjdu3MgfHx8PX716NaJ8gmeUsL9hOrvTk3eoko6+805EGYAHZe+0ye7J996rMjHqLbk6AgaScGjb6QokjJ3a0q7zq1WHEKqoqOiu3rKlf7k/Z1Qsp8+cqT7X3b3dj5/n1/sbMpB8hNdCZzyeMDFIk3pQdqnXm/Pa0r5mKr06ArbshPtU4/Y+bsZOg+JUR8bDqLKyMv6rX/zi5WebmlrTCX3sEo3tZl588cWXY3V1LSa3nYGrGp70p/Q1NDQY271hqQdlTY16S6+OgIEkHNp2ui5Gn46MWLF3Hb5fk7t2407xqSeeaEYQeT2rBsGEA+PCa9b0K4MuJhJGFrhpcbh4l5eXG9laZ6kHZU2MettQHQEDyQJ9AwOed22wqV1ncvACb8ymxsZmnetyuHA9//zzh0w+VDmaTEYU+c654TA2cbdQxwLVkYlNj22ojoCBZAE8UKc8GhgaiigLYO3IVHWUCiNTb8x/+8lP3sSalDIA+xsq8h1eK2jtKgMWelAWo966Nz22pToCBpIFdLTtLly4YMX6EY4eV4aYDCNA+2/z5s1Ghg/wGuDODcH44ZNPnjBxo7HQg7ImRr1LS0oSNlRHwECyhJe2HS5kU5bcYZta59q6dWuHH2/KH9TXG7mbhuvT03weKQAmbzTwoGzqP5sa9d61a5extqNuHPu2xNdtu1blgnPXZcUwg6l1LrQsdj/zjC9vSly8Xtq//z8VZRTcaAwODtbpbqfh38NuHHguycSo94b1661YO0phhWQJL227j4eHrTj4refDD418nbW1tdbcIZJMJqskHMhpatTbpuoIGEgWcdO2Q7vOll2yTUySoTp6bNcuUadikp1QJZlYS8L78/BbbzUqzWyrjoCBFAC3L2o303Z9vb2unl/BhVz5zERwlhYXJxSRBiarJBPnfNlWHQEDKQBrw2FXD1G6adu5PW3S7wu5qZ0IampqrBh3JTuYqpJ0s7E6AgZSAMrXr//I7Ys6nSf23bbrCletShYUFvr6Yr702WdGpgB1PgBLZLJK0snG6ggYSAHBhp7KhUQiseyKx227bk1ZWUL5bGpq6h6lWVFRUUIRaSa9SrK1OgIGUkCwu7RyAccRLLe95bZd5/Zr82J6elr7uHdubq741grZR3qVZGt1BAykgGzatClpsm3ntl2HrymINtf8jRvaH/p0KqSkIjIAVZLpXd7dsLk6Aj4YGxDcZa0uLEy6CY2v23ZL3gW5bdcVBzSVdv3zz7VXSKFQSOsb88CrrzZem5gQt+MFjsFQ5Cu8f2uj0RPx06cblCA2V0fAQArQhoqKfjeBhLYdKqCl7oQufnWoW9o2btzoe7sOvvzyS/Hb4qCKs2XHdDIPR4/4dUjjctheHQFbdgHa/uijrh/YdO7MFt0sFTsIj46OugqkrdXVCRUA3VuyEPkBVZISwvbqCBhIAULZ7/YMnaV2NThz5oyrLXgw7m37HRaRn1AlmTwHa7kyoToCBlLAysLhYeUCWn2LHUfgtl0XxLg3ke0ejsUCr0wyoToCBlLAYnV12tt2Y2NjEeVCEOPeRLbDVGqQVVKmVEfAQAoYXkh5LsdHF2rbnersrHKzHhPUuHdKnoER2omJCQ4gkC+CrJIypToCBpIA5eXlfcoFtO1uPwJ5YGDAVbuuOAM3Ib0+NcVAIl8EVSVlUnUEDCQBvLTK3j158httu2QyadW4d0rB3Xdrf1Nddtm6JHIjFkCVlEnVETCQBMDdlesjKW4ZYMCWQm7Hp4Ma9065u6BAeyDhea3bK0giUx70uUrKtOoIGEhChMNhz227cz09tW7+DQnj3iUlJaPKgD/39EQUkU/8rJIyrToCBpIQtR7O7Um17cYuX44oFySMexcVFY0rA3p7e12FNJEbflVJmVgdAQNJCC+braJth3ad2y1MJIx7V2zYYKRCuuKsI7FtR37yo0rKxOoIGEhCpDZbVS6gbfdBV1edcgFHlUs4xM7L+PtSsKb2h7Y2Vz+b22GdCz+v5XyYOC8H/+ZCn0uRKKiSwmvWGLvJy9TqCLi5qiBuN1sFt9N1pYLGvUtLSxMjIyOuznBayuDgYMypkk4j9JUHP9+7t2W5f/dgc3OD7u/loYcean1s1y7XD1KTfyYmJ8uUIZlaHQErJEG8bLbq1j+Ul7vausiE9evWJZQBqJKOvv32duUTbOlkIlg3lJfzfCcLtLW11c4a2gE8k6sjYCAJ4mWzVbeCHve+1bZt2/pNHQ09dOFCrL29XXtILORYW5v28ENrrqqqykggYY0NIcq1Nj26urt3KEMyuToCtuyEwWarbtt26SoqKkpIutvycmjhcpx5//3Hy50qw9SFHU6dOlVlojrS3VrF13m+tzeKoY9bn13DDQF+B1XV1d31O3e6nvzMVqyOvGEgCYPNVnt7e31pL1VUVLh69skk7Al29J13IsoAXHj/7+jRxoJVq5pNvLFRZXR2dv6zMqDGw2MBt0IQ4WtcbCITPyPcEDh/J9Lt3OlHo9EOBtPysTryhi07YUxNmy1kc2WlmPWjFEz8rTT4/WP3ht+//vq+tuPHtT6fdLarqwL/ronTQ3VNQr5x6NDjxzs6mpb7NeJn5QTTj/4HR7eznXdHrI68Y4UkEDZbveCseSiDTK5JeIVTOOOnTzcoQ1AF4EJ76ZNPIrvq6094eaPjQo2BiSGDv6/a2lrPd8YII7dfY3J0tPp3Bw+G/uOFF15RArS0tGh5bfzql79sVhqxOvKOgSQQHlQ1HUiSxr1vh1M4z3V3b58xdLeZ8rGz1nPwtdeiG8rLu9ESS6cKQUWU+OijSP/gYMzk8eu4cfA6ePLWkSM7vAbm1PR0GKG2p6mpVQXMrzXWdLA60oOBJBAujK3Hjs2avNBVbtok+jC+2MMPt/6xo6NR+QDBhA/8zEucoL63qCiZn58/m//tb/9t4m/2xo18pxoKXZ+eDt0+CGBSJBLxdDHCutZ5TWuSCLWzZ8/2S3iQWhpWR3owkITCZqsmprVS/rGmJqEEe+R73+s7d+5cws+7YYQM2lP4UAKgOorV1XkaKNA9gt4Zj29nIH0TqyN9ONQg1JYtW4xNwGHc2+uuBX5oaGhoMfVckg2wduT1YuR2B4/FLHQoZLZjdaQPA0momvvuGzZ1MZY47r0QXIzvv//+rHpDpqA68rpNkJfzsZZy+6GQ2YzVkV4MJKG8bLZ6JxLHvRfzL089FS8vL8+q/dtwI9LU2Oh5AuzSZ5+FlQFYS1N0U//AgLG2erZVR8BAEgybrSrNJI97L+bHTz/dikMEVZZAVajjznhubi5PGTA/N8eWneMDpwI1tcaZjdURMJAEM7HZquRx78WgWty9e/ebK316YDhIW7du7UBVqEi8eDxubEeVbKyOgIEkmInNVqWPey8Gd4tNe/Y0Z3IoVVZWxnc/84y2C1FeXt6cMiA3Ly9rB01SWB2ZwUASDputKo2kj3svJZNDCetkz2p+6HTd2rVG2pylpaVGTve1CasjMxhIwtXcd5+2iThbxr2XkgqlTFpTQpsuncP/lmvTpk1JE5Oako4sCQKrI3MYSMJhAEHXZqu2jHvfCd6w2FcNLS5luWg02qqzTXcr3Hw4v3Ot65DSjiwJwp97eoyNvWdzdQQMJAtgs1WlgU3j3suBFlesrq7FxhYeph3/dffuV0wPMHz/0UdP66yS6nfuDHwvuyCNjIyETO2gUlxcnPVhz0CyADZbVR7ZOO69HNiIFS08m55Vclp0J/79uede8eP3ofPhYlSkmfgaSsex9nZja0exbduyujoCBpIFsHeY17tcG8e9lwsXXazBPPXEE6IHHtDu+vnPfvay06Lr8HMtT8fDxVize1bATt9BMl0dcY9Abq5qDa+brdo67p0OvKGdj5ePtbVFBwYHa69evRpRArg53kI3BPbhI0cm3ZxGjDDDw8kqy7E6Ms+KQCooKJi46y59xVy6z2c4n38WLS+lSb6L50M2O4EyNjYWUS6lO+6Nn5HO79lPaOPhA0cvYLfrscuXI6bPVrodqqGysrLhH9TXx6VMNqIyc34eE8s9awpVOdp9Xta5dL93gjI5OZmP95+J7+We1auTrI6+kvPS/v2/VkQZDhuN9g0MVI2Pj4dNVE64eK8Nh/uLS0qS/xSN9klfnEYVmRgerr5y5UrFrRuw4vtwAjS5YcOGfuwUYvtjAmSPnJwcBhJlHxyfMDQ0FMbmo1NTU/cgpObn5/NxYZ6ZmVmwcsCFOjc3dxZ/Onf9k7nOnwife0OhiUgkkrR5Ogo/j2tTU/mrCwtnGUAUFAQS15Ao6+Cie3O9SamEoq92lmcQkQCcsiMiIhEYSEREJAIDiYiIRGAgERGRCAwkIiISgYFEREQiMJCIiEgEBhIREYnAQCIiIhEYSEREJAIDiYiIRGAgERGRCAwkIiISgYFEREQiMJCIiEgEBhIREYnAQCIiIhEYSEREJAIDiYiIRGAgERGRCAwkIiISgYFEREQiMJCIiEgEBhIREYnAQCIiIhEYSEREJAIDiYiIRGAgERGRCAwkIiISgYFEREQiMJCIiEiEFYqIKAvl5OQoEuUvfwUYvyPZHkPjVwAAAABJRU5ErkJggg=="}),by=ba((function(){const e=(0,qn.useRef)(null),{canvas:t,config:i}=tp(),r=function(){let i=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(null==e?void 0:e.current){const{clientWidth:r,clientHeight:n}=e.current,o=(0,Vn._a)();e.current.width=r*o,e.current.height=n*o,t.saveDimensions({width:r,height:n,render:i})}},n=new bs((0,Wg.default)((()=>r()),100,{trailing:!0}));(0,qn.useEffect)((()=>{const i=e.current;return t.setCanvasElement(i),()=>{n.disconnect()}}),[]),(0,qn.useLayoutEffect)((()=>{r(!1),n.observe(e.current)}));const{licenseChecker:o}=i;return qn.createElement(qn.Fragment,null,o&&o.isWhiteLabel()?null:qn.createElement(vy,null),qn.createElement(Nf.Element,{ref:e,"aria-label":"Canvas","data-test":Vn.Ta.Canvas}),qn.createElement(hy,null,qn.createElement(yy,null)))})),xy=class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.getAdvancedCategoryCard=()=>this.components.advancedUICategoryCard,this.getAdvancedItemCard=()=>this.components.advancedUIItemCard,this.getAdvancedToolbarItem=()=>this.components.advancedUIToolbarItem,this.getAdvancedToolbar=()=>this.components.advancedUIToolbar,this.getAdvancedToolControlBar=()=>this.components.advancedUIToolControlBar,this.getBasicToolbar=()=>this.components.basicUIToolbar,this.getBasicToolControlBar=()=>this.components.basicUIToolControlBar,this.getBasicToolItemsBar=()=>this.components.basicUIToolItemsBar,this.getDialog=()=>this.components.dialog,this.getButton=e=>this.components.buttons[e],this.getColorItem=()=>this.components.colorItem,this.getCheckbox=()=>this.components.checkbox,this.getWindowContainer=()=>this.components.windowContainer,this.getSlider=()=>this.components.slider;const i={dialog:cu.Dialog,colorItem:cu.ColorItem,checkbox:cu.Input.Checkbox,slider:cu.Input.Slider,buttons:{mainCanvasActionUndo:Nf.Button.TextSecondary,mainCanvasActionRedo:Nf.Button.TextSecondary,mainCanvasActionExport:Eo,mainCanvasActionClose:So,canvasActionEdit:Nf.Controls.SpriteActionButton,canvasActionBringToFront:Nf.Controls.SpriteActionButton,canvasActionDuplicate:Nf.Controls.SpriteActionButton,canvasActionDelete:Nf.Controls.SpriteActionButton,canvasActionInvert:Nf.Controls.SpriteActionButton,canvasActionFlip:Nf.Controls.SpriteActionButton,transformActionFlipHorizontal:To,transformActionFlipVertical:To,transformActionRotateClockwise:To,transformActionRotateAntiClockwise:To,textAlignment:To,toolControlBarPrimaryButton:wo,toolControlBarSecondaryButton:So},windowContainer:Ld};this.components=Cu([i,t,e])}},wy=Ca("textTool","textDesignTool","modal","custom")(ba((e=>{let{modal:t,textTool:i,textDesignTool:r,custom:n}=e;const{type:o,identifier:s,isVisible:a,modalProps:l,positionOffset:c}=t,{headerLabel:u,bodyLabel:h,confirmLabel:d,dismissLabel:p,handleClose:f,handleConfirm:g,handleDismiss:m}=l,y=n.getDialog();if("info"===o)return qn.createElement(cu.InfoModal,{headerLabel:u,bodyLabel:h},qn.createElement(y,{type:o,isVisible:a,identifier:s,position:c,handleClose:f,headerLabel:u,bodyLabel:h}));if("textEdit"===o){const{buttonSave:e,buttonClose:n}=i.locale.canvasControls,l={type:o,isVisible:t.isVisible,confirmLabel:e,dismissLabel:n,headerLabel:i.locale.canvasControls.inputText};if(i.isTextSelected)return qn.createElement(cu.TextEditModal,{...l,defaultText:yh.defaultText(),handleConfirm:i.changeText,handleDismiss:i.setEditMode,text:i.text,maxLength:i.config.maxCharacterLimit,allowEmojis:i.config.allowEmojis},qn.createElement(y,{type:o,isVisible:a,identifier:s,position:c,handleClose:f,confirmLabel:e,dismissLabel:n,headerLabel:i.locale.canvasControls.inputText}));if(r.isTextDesignSelected)return qn.createElement(cu.TextEditModal,{...l,defaultText:xh.defaultText(),handleConfirm:r.changeText,handleDismiss:r.setEditMode,text:r.text,maxLength:r.config.maxCharacterLimit,allowEmojis:r.config.allowEmojis},qn.createElement(y,{type:o,isVisible:a,identifier:s,position:c,handleClose:f,confirmLabel:e,dismissLabel:n,headerLabel:i.locale.canvasControls.inputText}))}return qn.createElement(cu.ActionModal,{type:o,headerLabel:u,bodyLabel:h,confirmLabel:d,dismissLabel:p,handleClose:f,handleConfirm:g,handleDismiss:m},qn.createElement(y,{type:o,isVisible:a,identifier:s,position:c,confirmLabel:d,dismissLabel:p,headerLabel:u,bodyLabel:h,handleClose:f}))}))),Sy=(0,Gn.Ay)(cu.Input.Label)(ln||(ln=(0,Wn.A)(["\n  padding: 0;\n  padding-left: 4px;\n"]))),ky=class extends qn.Component{constructor(e){super(e),this.onChange=e=>{this.setState({value:e.replace(/[^\d.,-]/g,""),isSubmitted:!1})},this.onSubmit=()=>{const{getCorrectValue:e}=this.props,{isSubmitted:t,value:i}=this.state;t||this.setState({value:e(parseInt(i,10)||0).toString(),isSubmitted:!0})},this.state={isSubmitted:!1,value:e.value.toString()}}componentDidUpdate(e){const{value:t}=this.props;e.value!==t&&this.setState({value:t.toString()})}render(){const{id:e,isDisabled:t,label:i,"aria-label":r}=this.props,{value:n}=this.state;return qn.createElement(cu.Input.Text,{id:e,"aria-label":r,value:n,isDisabled:t,onChange:this.onChange,onBlur:this.onSubmit,onKeyUp:(0,Vn.Ra)(this.onSubmit)},qn.createElement(Sy,{label:i,htmlFor:e}))}},Cy=Gn.Ay.div(cn||(cn=(0,Wn.A)(["\n  display: grid;\n  grid-template-columns: 1fr min-content 1fr;\n  gap: 1rem;\n  align-items: center;\n  max-width: ","px;\n"])),(e=>e.theme.measurements.inputs.cropSize.maxWidth)),Ty=Gn.Ay.span(un||(un=(0,Wn.A)(["\n  font-size: ","px;\n  letter-spacing: ","px;\n  text-transform: ",";\n  color: ",";\n"])),(e=>e.theme.measurements.fontSystem.body.size),(e=>e.theme.measurements.fontSystem.body.letterSpacing),(e=>e.theme.measurements.fontSystem.body.case),(e=>e.theme.textInput.foreground)),Ey=e=>{let{showLabel:t=!0,label:i,isDisabled:r,valueHeight:n,valueWidth:o,labelWidth:s,labelHeight:a,ariaLabelWidth:l,ariaLabelHeight:c,onSubmitWidth:u,onSubmitHeight:h}=e;return qn.createElement("div",null,qn.createElement(cu.Input.Label,{id:"photoeditorsdk-crop-size-label",label:i,show:t}),qn.createElement(Cy,{"aria-labelledby":"photoeditorsdk-crop-size-label"},qn.createElement(ky,{id:"photoeditorsdk-transformScaleWidth",value:o,getCorrectValue:u,label:s,"aria-label":l,isDisabled:r}),qn.createElement(Ty,null,"x"),qn.createElement(ky,{id:"photoeditorsdk-transformScaleHeight",value:n,getCorrectValue:h,label:a,"aria-label":c,isDisabled:r})))},Dy=(0,Gn.AH)(hn||(hn=(0,Wn.A)(["\n  min-width: unset;\n  height: unset;\n  min-height: 40px;\n"]))),Iy=Gn.Ay.div(dn||(dn=(0,Wn.A)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  animation: "," 0.2s linear;\n  animation-fill-mode: both;\n  height: 40px;\n  min-width: 350px;\n\n  ","\n  @media all and (min-width: 0) and (max-width: 599px) {\n    ","\n  }\n"])),lu.scale,(e=>e.smallContainer&&Dy),Dy),Ry=e=>{let{children:t,...i}=e;const{rect:r}=(0,qn.useContext)(fo);return qn.createElement(Iy,{...i,smallContainer:!!r&&r.width<600},t)},Fy=(0,Gn.AH)(pn||(pn=(0,Wn.A)(["\n  background: ",";\n  color: ",";\n  border-bottom: 1px solid ",";\n"])),(e=>e.theme.tabTitle.activeBackground),(e=>e.theme.tabTitle.activeForeground),(e=>e.theme.tabTitle.activeBorderColor)),Ay=(0,Gn.Ay)(du)(fn||(fn=(0,Wn.A)(["\n  display: inline-flex;\n  align-items: center;\n  font-size: ","px;\n  letter-spacing: ","px;\n  text-transform: ",";\n  color: ",";\n  border-radius: 0px;\n  padding: 1px 12px 2px;\n  background: ",";\n\n  ","\n\n  &:active {\n    ","\n  }\n\n  @media all and (min-width: 0) and (max-width: 599px) {\n    max-width: 150px;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n  }\n"])),(e=>e.theme.measurements.fontSystem.basicUITabLabel.size),(e=>e.theme.measurements.fontSystem.basicUITabLabel.letterSpacing),(e=>e.theme.measurements.fontSystem.basicUITabLabel.case),(e=>e.theme.tabTitle.foreground),(e=>e.theme.tabTitle.background),(e=>{let{isActive:t}=e;return t&&Fy}),Fy),Oy=class extends qn.Component{constructor(){super(...arguments),this.onClick=()=>{const{label:e,onClick:t}=this.props;t(e)}}render(){const{activeTab:e,label:t}=this.props;return qn.createElement(Ay,{ariaLabel:t,isActive:e===t,onClick:this.onClick},t)}},My=Gn.Ay.div(gn||(gn=(0,Wn.A)([""]))),Py=(0,Gn.Ay)(po)(mn||(mn=(0,Wn.A)(["\n  display: inline-flex;\n  padding: 0 4px;\n  height: 20px;\n  font-size: 16px;\n"]))),zy=(0,Gn.AH)(yn||(yn=(0,Wn.A)(["\n  left: 0;\n  right: 0;\n  transform: translateY(-120%);\n  background: transparent;\n  button {\n    &:first-child {\n      border-bottom-right-radius: 0;\n      border-top-right-radius: 0;\n    }\n    &:last-child {\n      border-bottom-left-radius: 0;\n      border-top-left-radius: 0;\n    }\n    &:not(:first-child):not(:last-child) {\n      border-radius: 0;\n    }\n  }\n"]))),By=(0,Gn.Ay)(pu)(_n||(_n=(0,Wn.A)(["\n  display: inline-flex;\n  justify-content: center;\n  transform: translate(-100%, -100%);\n\n  ","\n  @media all and (min-width: 0) and (max-width: 499px) {\n    ","\n  }\n"])),(e=>e.smallContainer&&zy),zy),Ly=e=>{let{length:t,children:i}=e;const r=qn.Children.toArray(i),n=qn.Children.count(i),[o,s]=(0,qn.useState)((0,qn.isValidElement)(r[0])&&r[0].props.label||""),[a,l]=(0,qn.useState)(!1),{rect:c}=(0,qn.useContext)(fo),u=e=>{s(e),l(!1)},h=r.slice(0,t),d=n>t;return qn.createElement(My,null,h.map((e=>{if(e){const t=e.props.label||"";return qn.createElement(Oy,{activeTab:o,key:t,label:t,onClick:u})}return null})),d&&qn.createElement(Py,{onClick:()=>{l((e=>!e))},ariaLabel:"Select Next"},"..."),a&&(()=>{const e=r.slice(t,n);return qn.createElement(By,{show:a,smallContainer:!!c&&c.width<500},e.map((e=>{const t=e.props.label||"";return qn.createElement(du,{onClick:()=>u(t),key:t,ariaLabel:"More Options"},t)})))})(),qn.Children.map(i,(e=>!e||e.props&&e.props.label!==o?null:qn.createElement(Ry,{key:e.props.label},e.props.children))))},Uy=Gn.Ay.div(vn||(vn=(0,Wn.A)(["\n  position: relative;\n  white-space: nowrap;\n  display: flex;\n  flex-direction: column;\n  transition: all 0.2s linear;\n"]))),Ny=Gn.Ay.div(bn||(bn=(0,Wn.A)(["\n  &:after {\n    content: '';\n    position: absolute;\n    bottom: 0px;\n    ","\n    border-bottom: 1px solid ",";\n  }\n"])),(e=>e.full?(0,Gn.AH)(xn||(xn=(0,Wn.A)(["\n            left: -24px;\n            width: calc(100% + 48px);\n          "]))):"\n      left: 24px;\n      width: calc(100% - 48px);\n    "),(e=>e.theme.toolControlBar.separatorColor)),Hy=Ny,jy=(0,Gn.AH)(wn||(wn=(0,Wn.A)(["\n  width: 100%;\n"]))),Wy=Gn.Ay.div(Sn||(Sn=(0,Wn.A)(["\n  display: flex;\n  justify-content: center;\n  width: 100%;\n\n  > div {\n    position: relative;\n    width: 224px;\n\n    ","\n    @media all and (min-width: 0) and (max-width: 599px) {\n      ","\n    }\n  }\n"])),(e=>e.smallContainer&&jy),jy),Vy=Gn.Ay.div.attrs((()=>({"data-test":Vn.Ta.CategoryItemsContainer})))(kn||(kn=(0,Wn.A)(["\n  visibility: hidden;\n  opacity: 0;\n  display: none;\n\n  ","\n"])),(e=>{let{show:t}=e;return t&&(0,Gn.AH)(Cn||(Cn=(0,Wn.A)(["\n      opacity: 1;\n      visibility: visible;\n      display: flex;\n    "])))})),Gy=Vy,qy=Gn.Ay.div.attrs((()=>({"data-test":Vn.Ta.ToolControlBar})))(Tn||(Tn=(0,Wn.A)(["\n  display: flex;\n  flex-shrink: 0;\n  justify-content: center;\n  position: relative;\n  width: 100%;\n  z-index: ",";\n\n  ","\n"])),(e=>e.theme.measurements.zIndex.toolControlBar),(e=>e.show?(0,Gn.AH)(En||(En=(0,Wn.A)(["\n          transition-timing-function: ease-in;\n          transition-duration: 0.3s;\n          transition-property: all;\n          padding: 2px 0px;\n          background: ",";\n          color: ",";\n        "])),e.theme.toolControlBar.background,e.theme.toolControlBar.inputLabelForeground):(0,Gn.AH)(Dn||(Dn=(0,Wn.A)(["\n          max-height: 0px;\n        "])))));qy.defaultProps={show:!0};var Xy=Gn.Ay.div(In||(In=(0,Wn.A)(["\n  height: ","px;\n  width: 2px;\n  margin: 0 10px;\n  display: inline-flex;\n  position: relative;\n  &:after {\n    content: ' ';\n    right: 0px;\n    position: absolute;\n    top: 8px;\n    height: calc(100% - 16px);\n    border-right: 1px solid\n      ",";\n  }\n"])),(e=>e.theme.measurements.basicUIToolControlBar.itemsBarHeight),(e=>e.theme.toolControlBar.separatorColor)),Yy=Xy,Qy=Gn.Ay.span(Rn||(Rn=(0,Wn.A)(["\n  display: flex;\n  cursor: pointer;\n  z-index: ",";\n  transition: bottom 0.3s linear;\n\n  color: ",";\n  letter-spacing: ",";\n  font-size: ","px;\n\n  ","\n\n  &:active {\n    color: ",";\n  }\n"])),(e=>e.theme.measurements.zIndex.label),(e=>e.theme.toolbar.foreground),(e=>e.theme.measurements.fontSystem.body.letterSpacing),(e=>e.theme.measurements.fontSystem.body.size),(e=>{let{isActive:t}=e;return t&&(0,Gn.AH)(Fn||(Fn=(0,Wn.A)(["\n      color: ",";\n    "])),(e=>e.theme.toolbar.activeForeground))}),(e=>e.theme.toolbar.activeForeground)),Ky=(0,Gn.AH)(An||(An=(0,Wn.A)(["\n  background-color: ",";\n  color: ",";\n\n  svg {\n    color: ",";\n  }\n"])),(e=>e.theme.toolbar.activeBackground),(e=>e.theme.toolbar.activeForeground),(e=>e.theme.toolbar.activeForeground)),Zy=(0,Gn.Ay)(lo)(On||(On=(0,Wn.A)(["\n  display: block;\n  height: 100%;\n  width: 100%;\n  color: ",";\n  background-color: ",";\n  border: unset;\n  box-shadow: unset;\n  font-size: ","px;\n  letter-spacing: ","px;\n  text-transform: ",";\n  font-family: '","', sans-serif;\n\n  ","\n  ","\n\n  &:active {\n    ","\n  }\n\n  svg {\n    display: flex;\n    transition: visibility 0s, opacity 0.5s linear;\n    visibility: visible;\n    opacity: 1;\n  }\n"])),(e=>e.theme.toolbar.foreground),(e=>e.theme.toolbar.background),(e=>e.theme.measurements.fontSystem.label.size),(e=>e.theme.measurements.fontSystem.label.letterSpacing),(e=>e.theme.measurements.fontSystem.label.case),(e=>e.theme.typography.fontFamily),(e=>{let{isActive:t}=e;return t&&Ky}),(e=>{let{isDisabled:t}=e;return t&&(0,Gn.AH)(Mn||(Mn=(0,Wn.A)(["\n      &:disabled {\n        cursor: default;\n        pointer-events: none;\n        opacity: ",";\n      }\n    "])),(e=>e.theme.button.textInactiveOpacity))}),Ky),Jy=Gn.Ay.div(Pn||(Pn=(0,Wn.A)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n\n  svg {\n    color: ",";\n  }\n"])),(e=>e.theme.toolbar.foreground)),$y=Gn.Ay.div.attrs({role:"none"})(zn||(zn=(0,Wn.A)(["\n  display: flex;\n  height: ","px;\n  text-align: center;\n  min-width: 100px;\n  /* Allow the text to grow in this limit */\n  max-width: 150px;\n  position: relative;\n  /* Position inline-block box at the top of the line box */\n  vertical-align: top;\n  /* Allow text to wrap again, overwriting the Toolbar style */\n  white-space: normal;\n  margin: 1px;\n"])),(e=>e.theme.measurements.basicUIToolbar.openHeight-2)),e_=Gn.Ay.div(Bn||(Bn=(0,Wn.A)(["\n  display: flex;\n  flex-shrink: 0;\n  justify-content: center;\n  position: relative;\n  width: 100%;\n  transition: height 0.2s ease-out, display 0.1s fade-out;\n  background-color: ",";\n  color: ",";\n  z-index: ",";\n\n  ","\n"])),(e=>e.theme.toolbar.background),(e=>e.theme.toolbar.foreground),(e=>e.theme.measurements.zIndex.toolbar),(e=>e.show?(0,Gn.AH)(Ln||(Ln=(0,Wn.A)(["\n          height: ","px;\n          "," {\n            svg {\n              visibility: hidden;\n              opacity: 0;\n              height: 0;\n            }\n          }\n          "," {\n            height: ","px;\n          }\n        "])),e.theme.measurements.basicUIToolbar.closeHeight,Zy,$y,e.theme.measurements.basicUIToolbar.closeHeight):(0,Gn.AH)(Un||(Un=(0,Wn.A)(["\n          height: ","px;\n        "])),e.theme.measurements.basicUIToolbar.openHeight))),t_=Gn.Ay.li.attrs({role:"none"})(Nn||(Nn=(0,Wn.A)(["\n  ","\n  width: 2px;\n  display: inline-block;\n  position: relative;\n  &:after {\n    content: ' ';\n    right: 0px;\n    position: absolute;\n    top: 8px;\n    height: calc(100% - 16px);\n    border-right: 1px solid\n      ",";\n  }\n"])),(e=>e.active?(0,Gn.AH)(jn||(jn=(0,Wn.A)(["\n          height: ","px;\n        "])),e.theme.measurements.basicUIToolbar.closeHeight):(0,Gn.AH)(Hn||(Hn=(0,Wn.A)(["\n          height: ","px;\n        "])),e.theme.measurements.basicUIToolbar.openHeight)),(e=>e.theme.toolControlBar.separatorColor)),i_={CardContainer:Hd,ExpandableContainer:Gy,CategoryContainer:Wd,Card:e=>{let{type:t="medium",...i}=e;let r=Nd;return"large"===t&&(r=Ud),qn.createElement(r,{type:t,...i})},CardAvatar:Mo,CardLabel:jd,Toolbar:{Index:e=>{let{show:t=!1,className:i,style:r,children:n}=e;return qn.createElement(e_,{"data-test":Vn.Ta.Toolbar,show:t,className:i,style:r},qn.createElement(ic,null,n))},Item:e=>{let{children:t,label:i,isActive:r,isDisabled:n,onClick:o}=e;return qn.createElement($y,{"aria-haspopup":!0,"aria-expanded":r},qn.createElement(Zy,{"data-test":Vn.Ta.ToolbarItem,ariaLabel:i,onClick:o,isActive:r,isDisabled:n},qn.createElement(Jy,null,t,qn.createElement(Qy,{isActive:r},i))))},Separator:t_},BarSeparator:Hy,ItemsSeparator:Yy,Itemsbar:qy,Controlsbar:Gd,ControlsbarContainer:e=>{let{children:t,...i}=e;const{rect:r}=(0,qn.useContext)(fo);return qn.createElement(Qd,{...i,"data-test":Vn.Ta.ToolControlBarExpandableControls,smallContainer:!!r&&r.width<600},qn.createElement(Zd,{smallContainer:!!r&&r.width<600},t))},ResponsiveTabWrapper:e=>{let{children:t}=e;const[i,r]=(0,qn.useState)(qn.Children.count(t)),{rect:n}=(0,qn.useContext)(fo);(0,qn.useEffect)((()=>(window.addEventListener("resize",o),o(),()=>{window.removeEventListener("resize",o)})),[n]);const o=(0,Jd.default)((()=>{const e=(null==n?void 0:n.width)||0,i=qn.Children.count(t),o=e-32-64-100*i;if(o<0){const e=Math.round(Math.abs(o/100));r(i-e)}else r(i)}),100);return i?qn.createElement(Uy,null,qn.createElement(Ly,{length:i},t)):null},Slider:e=>{let{children:t,...i}=e;const{custom:r}=tp(),{rect:n}=(0,qn.useContext)(fo),o=r.getSlider();return o?qn.createElement(Wy,{smallContainer:!!n&&n.width<600},qn.createElement(o,{centerSlider:!0,...i},t)):null},TabWrapper:Ly,Tab:ep,Other:{ControlsWrapper:e=>{let{children:t,...i}=e;const{rect:r}=(0,qn.useContext)(fo);return qn.createElement(Xd,{...i,smallContainer:!!r&&r.width<600},t)}}},r_=(0,Vn.b)(Yn()),n_=ba((function(){const{active:e,modal:t,editor:i}=tp(),r=(0,qn.useRef)(null),n=(0,qn.useRef)(null),[o,s]=(0,qn.useState)(0),[a,l]=(0,qn.useState)(null),[c,u]=(0,qn.useState)(0),[h,d]=(0,qn.useState)(0);(0,qn.useLayoutEffect)((()=>{const o=()=>{const{measurements:e}=i.configStore,{height:t,width:r}=n.current.getBoundingClientRect(),o=.95*t,a=.95*r,l=(t-o)/2;s(l<24+e.buttons.float.size?t-48-e.buttons.float.size/2:t-l+24),u(o),d(a)},a=new bs((0,r_.default)((()=>o()),100,{trailing:!0}));navigator.mediaDevices&&navigator.mediaDevices.getUserMedia?navigator.mediaDevices.getUserMedia({video:!0}).then((e=>{r.current.srcObject=e})).catch((()=>{t.showActionModal({type:"error",identifier:"webcamUnavailable",error:"Webcam not supported",handleConfirm:()=>{e.selectWebcam(!1)}})})):t.showActionModal({type:"error",identifier:"webcamUnavailable",error:"Webcam not supported",handleConfirm:()=>{e.selectWebcam(!1)}}),o(),a.observe(n.current);const c=document.createElement("canvas");return l(c),()=>{(0,Vn.r)(c),a.disconnect()}}),[i,t,e]);const p=()=>{r.current.srcObject.getTracks().forEach((e=>{e.stop()})),r.current.srcObject=null,e.selectWebcam(!1)},f=e.webcamLabel;return qn.createElement(Nf.Wrapper,{ref:n},qn.createElement(Nf.Bar.Index,{transparentBackgound:!0,style:{justifyContent:"flex-end"}},qn.createElement(Nf.Bar.ButtonGroup,null,qn.createElement(So,{ariaLabel:f,onClick:p},f))),qn.createElement(Nf.Webcam,{style:{height:c,width:h},autoPlay:!0,ref:r}),qn.createElement(Nf.Button.Float,{ariaLabel:"Click and Save",style:{top:o},onClick:()=>{a&&(a.width=r.current.videoWidth,a.height=r.current.videoHeight,a.getContext("2d").drawImage(r.current,0,0),e.newImage(a.toDataURL("image/webp")),p())}}))})),o_=e=>{let{children:t}=e;return qn.createElement(Nf.Container,{"data-test":Vn.Ta.CanvasContainer},t)},s_=ba((e=>{let{tool:t,fullWidth:i=!1,icon:r,label:n,onClick:o}=e;const{custom:s}=tp(),a=(()=>{const[e,t]=(0,qn.useState)([]);return(0,qn.useEffect)((()=>{var e;if(void 0!==typeof window&&(null==(e=window.navigator)?void 0:e.mediaDevices)){let e=!0;const i=()=>{window.navigator.mediaDevices.enumerateDevices().then((i=>{e&&t(i.map((e=>{let{deviceId:t,groupId:i,kind:r,label:n}=e;return{deviceId:t,groupId:i,kind:r,label:n}})))})).catch((()=>null))};return window.navigator.mediaDevices.addEventListener("devicechange",i),i(),()=>{e=!1,window.navigator.mediaDevices.removeEventListener("devicechange",i)}}return null}),[]),e})();if(!a.some((e=>{let{kind:t}=e;return"videoinput"===t})))return null;const l=s.getButton("toolControlBarSecondaryButton");return l?qn.createElement(l,{"data-test":Vn.Ta.LibraryWebcamButton,tool:t,label:n,ariaLabel:n,onClick:o,fullWidth:i,icon:r}):null}))},160:(e,t,i)=>{"use strict";var r=i(43);function n(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,i=1;i<arguments.length;i++)t+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=Object.prototype.hasOwnProperty,s=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,a={},l={};function c(e){return!!o.call(l,e)||!o.call(a,e)&&(s.test(e)?l[e]=!0:(a[e]=!0,!1))}function u(e,t,i,r,n,o,s){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=n,this.mustUseProperty=i,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var h={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){h[e]=new u(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];h[t]=new u(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){h[e]=new u(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){h[e]=new u(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){h[e]=new u(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){h[e]=new u(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){h[e]=new u(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){h[e]=new u(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){h[e]=new u(e,5,!1,e.toLowerCase(),null,!1,!1)}));var d=/[\-:]([a-z])/g;function p(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(d,p);h[t]=new u(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(d,p);h[t]=new u(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(d,p);h[t]=new u(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){h[e]=new u(e,1,!1,e.toLowerCase(),null,!1,!1)})),h.xlinkHref=new u("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){h[e]=new u(e,1,!1,e.toLowerCase(),null,!0,!0)}));var f={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},g=["Webkit","ms","Moz","O"];Object.keys(f).forEach((function(e){g.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),f[t]=f[e]}))}));var m=/["'&<>]/;function y(e){if("boolean"===typeof e||"number"===typeof e)return""+e;e=""+e;var t=m.exec(e);if(t){var i,r="",n=0;for(i=t.index;i<e.length;i++){switch(e.charCodeAt(i)){case 34:t="&quot;";break;case 38:t="&amp;";break;case 39:t="&#x27;";break;case 60:t="&lt;";break;case 62:t="&gt;";break;default:continue}n!==i&&(r+=e.substring(n,i)),n=i+1,r+=t}e=n!==i?r+e.substring(n,i):r}return e}var _=/([A-Z])/g,v=/^ms-/,b=Array.isArray;function x(e,t){return{insertionMode:e,selectedValue:t}}var w=new Map;function S(e,t,i){if("object"!==typeof i)throw Error(n(62));for(var r in t=!0,i)if(o.call(i,r)){var s=i[r];if(null!=s&&"boolean"!==typeof s&&""!==s){if(0===r.indexOf("--")){var a=y(r);s=y((""+s).trim())}else{a=r;var l=w.get(a);void 0!==l||(l=y(a.replace(_,"-$1").toLowerCase().replace(v,"-ms-")),w.set(a,l)),a=l,s="number"===typeof s?0===s||o.call(f,r)?""+s:s+"px":y((""+s).trim())}t?(t=!1,e.push(' style="',a,":",s)):e.push(";",a,":",s)}}t||e.push('"')}function k(e,t,i,r){switch(i){case"style":return void S(e,t,r);case"defaultValue":case"defaultChecked":case"innerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":return}if(!(2<i.length)||"o"!==i[0]&&"O"!==i[0]||"n"!==i[1]&&"N"!==i[1])if(null!==(t=h.hasOwnProperty(i)?h[i]:null)){switch(typeof r){case"function":case"symbol":return;case"boolean":if(!t.acceptsBooleans)return}switch(i=t.attributeName,t.type){case 3:r&&e.push(" ",i,'=""');break;case 4:!0===r?e.push(" ",i,'=""'):!1!==r&&e.push(" ",i,'="',y(r),'"');break;case 5:isNaN(r)||e.push(" ",i,'="',y(r),'"');break;case 6:!isNaN(r)&&1<=r&&e.push(" ",i,'="',y(r),'"');break;default:t.sanitizeURL&&(r=""+r),e.push(" ",i,'="',y(r),'"')}}else if(c(i)){switch(typeof r){case"function":case"symbol":return;case"boolean":if("data-"!==(t=i.toLowerCase().slice(0,5))&&"aria-"!==t)return}e.push(" ",i,'="',y(r),'"')}}function C(e,t,i){if(null!=t){if(null!=i)throw Error(n(60));if("object"!==typeof t||!("__html"in t))throw Error(n(61));null!==(t=t.__html)&&void 0!==t&&e.push(""+t)}}function T(e,t,i,r){e.push(I(i));var n,s=i=null;for(n in t)if(o.call(t,n)){var a=t[n];if(null!=a)switch(n){case"children":i=a;break;case"dangerouslySetInnerHTML":s=a;break;default:k(e,r,n,a)}}return e.push(">"),C(e,s,i),"string"===typeof i?(e.push(y(i)),null):i}var E=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,D=new Map;function I(e){var t=D.get(e);if(void 0===t){if(!E.test(e))throw Error(n(65,e));t="<"+e,D.set(e,t)}return t}function R(e,t,i,s,a){switch(t){case"select":e.push(I("select"));var l=null,u=null;for(f in i)if(o.call(i,f)){var h=i[f];if(null!=h)switch(f){case"children":l=h;break;case"dangerouslySetInnerHTML":u=h;break;case"defaultValue":case"value":break;default:k(e,s,f,h)}}return e.push(">"),C(e,u,l),l;case"option":u=a.selectedValue,e.push(I("option"));var d=h=null,p=null,f=null;for(l in i)if(o.call(i,l)){var g=i[l];if(null!=g)switch(l){case"children":h=g;break;case"selected":p=g;break;case"dangerouslySetInnerHTML":f=g;break;case"value":d=g;default:k(e,s,l,g)}}if(null!=u)if(i=null!==d?""+d:function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(h),b(u)){for(s=0;s<u.length;s++)if(""+u[s]===i){e.push(' selected=""');break}}else""+u===i&&e.push(' selected=""');else p&&e.push(' selected=""');return e.push(">"),C(e,f,h),h;case"textarea":for(h in e.push(I("textarea")),f=u=l=null,i)if(o.call(i,h)&&null!=(d=i[h]))switch(h){case"children":f=d;break;case"value":l=d;break;case"defaultValue":u=d;break;case"dangerouslySetInnerHTML":throw Error(n(91));default:k(e,s,h,d)}if(null===l&&null!==u&&(l=u),e.push(">"),null!=f){if(null!=l)throw Error(n(92));if(b(f)&&1<f.length)throw Error(n(93));l=""+f}return"string"===typeof l&&"\n"===l[0]&&e.push("\n"),null!==l&&e.push(y(""+l)),null;case"input":for(u in e.push(I("input")),d=f=h=l=null,i)if(o.call(i,u)&&null!=(p=i[u]))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(n(399,"input"));case"defaultChecked":d=p;break;case"defaultValue":h=p;break;case"checked":f=p;break;case"value":l=p;break;default:k(e,s,u,p)}return null!==f?k(e,s,"checked",f):null!==d&&k(e,s,"checked",d),null!==l?k(e,s,"value",l):null!==h&&k(e,s,"value",h),e.push("/>"),null;case"menuitem":for(var m in e.push(I("menuitem")),i)if(o.call(i,m)&&null!=(l=i[m]))switch(m){case"children":case"dangerouslySetInnerHTML":throw Error(n(400));default:k(e,s,m,l)}return e.push(">"),null;case"title":for(g in e.push(I("title")),l=null,i)if(o.call(i,g)&&null!=(u=i[g]))switch(g){case"children":l=u;break;case"dangerouslySetInnerHTML":throw Error(n(434));default:k(e,s,g,u)}return e.push(">"),l;case"listing":case"pre":for(d in e.push(I(t)),u=l=null,i)if(o.call(i,d)&&null!=(h=i[d]))switch(d){case"children":l=h;break;case"dangerouslySetInnerHTML":u=h;break;default:k(e,s,d,h)}if(e.push(">"),null!=u){if(null!=l)throw Error(n(60));if("object"!==typeof u||!("__html"in u))throw Error(n(61));null!==(i=u.__html)&&void 0!==i&&("string"===typeof i&&0<i.length&&"\n"===i[0]?e.push("\n",i):e.push(""+i))}return"string"===typeof l&&"\n"===l[0]&&e.push("\n"),l;case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":for(var _ in e.push(I(t)),i)if(o.call(i,_)&&null!=(l=i[_]))switch(_){case"children":case"dangerouslySetInnerHTML":throw Error(n(399,t));default:k(e,s,_,l)}return e.push("/>"),null;case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return T(e,i,t,s);case"html":return 0===a.insertionMode&&e.push("<!DOCTYPE html>"),T(e,i,t,s);default:if(-1===t.indexOf("-")&&"string"!==typeof i.is)return T(e,i,t,s);for(p in e.push(I(t)),u=l=null,i)if(o.call(i,p)&&null!=(h=i[p]))switch(p){case"children":l=h;break;case"dangerouslySetInnerHTML":u=h;break;case"style":S(e,s,h);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":break;default:c(p)&&"function"!==typeof h&&"symbol"!==typeof h&&e.push(" ",p,'="',y(h),'"')}return e.push(">"),C(e,u,l),l}}function F(e,t,i){if(e.push('\x3c!--$?--\x3e<template id="'),null===i)throw Error(n(395));return e.push(i),e.push('"></template>')}var A=/[<\u2028\u2029]/g;function O(e){return JSON.stringify(e).replace(A,(function(e){switch(e){case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSStringsForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}}))}function M(e,t,i,r){return i.generateStaticMarkup?(e.push(y(t)),!1):(""===t?e=r:(r&&e.push("\x3c!-- --\x3e"),e.push(y(t)),e=!0),e)}var P=Object.assign,z=Symbol.for("react.element"),B=Symbol.for("react.portal"),L=Symbol.for("react.fragment"),U=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),H=Symbol.for("react.provider"),j=Symbol.for("react.context"),W=Symbol.for("react.forward_ref"),V=Symbol.for("react.suspense"),G=Symbol.for("react.suspense_list"),q=Symbol.for("react.memo"),X=Symbol.for("react.lazy"),Y=Symbol.for("react.scope"),Q=Symbol.for("react.debug_trace_mode"),K=Symbol.for("react.legacy_hidden"),Z=Symbol.for("react.default_value"),J=Symbol.iterator;function $(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case L:return"Fragment";case B:return"Portal";case N:return"Profiler";case U:return"StrictMode";case V:return"Suspense";case G:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case j:return(e.displayName||"Context")+".Consumer";case H:return(e._context.displayName||"Context")+".Provider";case W:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case q:return null!==(t=e.displayName||null)?t:$(e.type)||"Memo";case X:t=e._payload,e=e._init;try{return $(e(t))}catch(i){}}return null}var ee={};function te(e,t){if(!(e=e.contextTypes))return ee;var i,r={};for(i in e)r[i]=t[i];return r}var ie=null;function re(e,t){if(e!==t){e.context._currentValue2=e.parentValue,e=e.parent;var i=t.parent;if(null===e){if(null!==i)throw Error(n(401))}else{if(null===i)throw Error(n(401));re(e,i)}t.context._currentValue2=t.value}}function ne(e){e.context._currentValue2=e.parentValue,null!==(e=e.parent)&&ne(e)}function oe(e){var t=e.parent;null!==t&&oe(t),e.context._currentValue2=e.value}function se(e,t){if(e.context._currentValue2=e.parentValue,null===(e=e.parent))throw Error(n(402));e.depth===t.depth?re(e,t):se(e,t)}function ae(e,t){var i=t.parent;if(null===i)throw Error(n(402));e.depth===i.depth?re(e,i):ae(e,i),t.context._currentValue2=t.value}function le(e){var t=ie;t!==e&&(null===t?oe(e):null===e?ne(t):t.depth===e.depth?re(t,e):t.depth>e.depth?se(t,e):ae(t,e),ie=e)}var ce={isMounted:function(){return!1},enqueueSetState:function(e,t){null!==(e=e._reactInternals).queue&&e.queue.push(t)},enqueueReplaceState:function(e,t){(e=e._reactInternals).replace=!0,e.queue=[t]},enqueueForceUpdate:function(){}};function ue(e,t,i,r){var n=void 0!==e.state?e.state:null;e.updater=ce,e.props=i,e.state=n;var o={queue:[],replace:!1};e._reactInternals=o;var s=t.contextType;if(e.context="object"===typeof s&&null!==s?s._currentValue2:r,"function"===typeof(s=t.getDerivedStateFromProps)&&(n=null===(s=s(i,n))||void 0===s?n:P({},n,s),e.state=n),"function"!==typeof t.getDerivedStateFromProps&&"function"!==typeof e.getSnapshotBeforeUpdate&&("function"===typeof e.UNSAFE_componentWillMount||"function"===typeof e.componentWillMount))if(t=e.state,"function"===typeof e.componentWillMount&&e.componentWillMount(),"function"===typeof e.UNSAFE_componentWillMount&&e.UNSAFE_componentWillMount(),t!==e.state&&ce.enqueueReplaceState(e,e.state,null),null!==o.queue&&0<o.queue.length)if(t=o.queue,s=o.replace,o.queue=null,o.replace=!1,s&&1===t.length)e.state=t[0];else{for(o=s?t[0]:e.state,n=!0,s=s?1:0;s<t.length;s++){var a=t[s];null!=(a="function"===typeof a?a.call(e,o,i,r):a)&&(n?(n=!1,o=P({},o,a)):P(o,a))}e.state=o}else o.queue=null}var he={id:1,overflow:""};function de(e,t,i){var r=e.id;e=e.overflow;var n=32-pe(r)-1;r&=~(1<<n),i+=1;var o=32-pe(t)+n;if(30<o){var s=n-n%5;return o=(r&(1<<s)-1).toString(32),r>>=s,n-=s,{id:1<<32-pe(t)+n|i<<n|r,overflow:o+e}}return{id:1<<o|i<<n|r,overflow:e}}var pe=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(fe(e)/ge|0)|0},fe=Math.log,ge=Math.LN2;var me="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},ye=null,_e=null,ve=null,be=null,xe=!1,we=!1,Se=0,ke=null,Ce=0;function Te(){if(null===ye)throw Error(n(321));return ye}function Ee(){if(0<Ce)throw Error(n(312));return{memoizedState:null,queue:null,next:null}}function De(){return null===be?null===ve?(xe=!1,ve=be=Ee()):(xe=!0,be=ve):null===be.next?(xe=!1,be=be.next=Ee()):(xe=!0,be=be.next),be}function Ie(){_e=ye=null,we=!1,ve=null,Ce=0,be=ke=null}function Re(e,t){return"function"===typeof t?t(e):t}function Fe(e,t,i){if(ye=Te(),be=De(),xe){var r=be.queue;if(t=r.dispatch,null!==ke&&void 0!==(i=ke.get(r))){ke.delete(r),r=be.memoizedState;do{r=e(r,i.action),i=i.next}while(null!==i);return be.memoizedState=r,[r,t]}return[be.memoizedState,t]}return e=e===Re?"function"===typeof t?t():t:void 0!==i?i(t):t,be.memoizedState=e,e=(e=be.queue={last:null,dispatch:null}).dispatch=Oe.bind(null,ye,e),[be.memoizedState,e]}function Ae(e,t){if(ye=Te(),t=void 0===t?null:t,null!==(be=De())){var i=be.memoizedState;if(null!==i&&null!==t){var r=i[1];e:if(null===r)r=!1;else{for(var n=0;n<r.length&&n<t.length;n++)if(!me(t[n],r[n])){r=!1;break e}r=!0}if(r)return i[0]}}return e=e(),be.memoizedState=[e,t],e}function Oe(e,t,i){if(25<=Ce)throw Error(n(301));if(e===ye)if(we=!0,e={action:i,next:null},null===ke&&(ke=new Map),void 0===(i=ke.get(t)))ke.set(t,e);else{for(t=i;null!==t.next;)t=t.next;t.next=e}}function Me(){throw Error(n(394))}function Pe(){}var ze={readContext:function(e){return e._currentValue2},useContext:function(e){return Te(),e._currentValue2},useMemo:Ae,useReducer:Fe,useRef:function(e){ye=Te();var t=(be=De()).memoizedState;return null===t?(e={current:e},be.memoizedState=e):t},useState:function(e){return Fe(Re,e)},useInsertionEffect:Pe,useLayoutEffect:function(){},useCallback:function(e,t){return Ae((function(){return e}),t)},useImperativeHandle:Pe,useEffect:Pe,useDebugValue:Pe,useDeferredValue:function(e){return Te(),e},useTransition:function(){return Te(),[!1,Me]},useId:function(){var e=_e.treeContext,t=e.overflow;e=((e=e.id)&~(1<<32-pe(e)-1)).toString(32)+t;var i=Be;if(null===i)throw Error(n(404));return t=Se++,e=":"+i.idPrefix+"R"+e,0<t&&(e+="H"+t.toString(32)),e+":"},useMutableSource:function(e,t){return Te(),t(e._source)},useSyncExternalStore:function(e,t,i){if(void 0===i)throw Error(n(407));return i()}},Be=null,Le=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentDispatcher;function Ue(e){return console.error(e),null}function Ne(){}function He(e,t,i,r,n,o,s,a){e.allPendingTasks++,null===i?e.pendingRootTasks++:i.pendingTasks++;var l={node:t,ping:function(){var t=e.pingedTasks;t.push(l),1===t.length&&it(e)},blockedBoundary:i,blockedSegment:r,abortSet:n,legacyContext:o,context:s,treeContext:a};return n.add(l),l}function je(e,t,i,r,n,o){return{status:0,id:-1,index:t,parentFlushed:!1,chunks:[],children:[],formatContext:r,boundary:i,lastPushedText:n,textEmbedded:o}}function We(e,t){if(null!=(e=e.onError(t))&&"string"!==typeof e)throw Error('onError returned something with a type other than "string". onError should return a string and may return null or undefined but must not return anything else. It received something of type "'+typeof e+'" instead');return e}function Ve(e,t){var i=e.onShellError;i(t),(i=e.onFatalError)(t),null!==e.destination?(e.status=2,e.destination.destroy(t)):(e.status=1,e.fatalError=t)}function Ge(e,t,i,r,n){for(ye={},_e=t,Se=0,e=i(r,n);we;)we=!1,Se=0,Ce+=1,be=null,e=i(r,n);return Ie(),e}function qe(e,t,i,r){var o=i.render(),s=r.childContextTypes;if(null!==s&&void 0!==s){var a=t.legacyContext;if("function"!==typeof i.getChildContext)r=a;else{for(var l in i=i.getChildContext())if(!(l in s))throw Error(n(108,$(r)||"Unknown",l));r=P({},a,i)}t.legacyContext=r,Qe(e,t,o),t.legacyContext=a}else Qe(e,t,o)}function Xe(e,t){if(e&&e.defaultProps){for(var i in t=P({},t),e=e.defaultProps)void 0===t[i]&&(t[i]=e[i]);return t}return t}function Ye(e,t,i,r,o){if("function"===typeof i)if(i.prototype&&i.prototype.isReactComponent){o=te(i,t.legacyContext);var s=i.contextType;ue(s=new i(r,"object"===typeof s&&null!==s?s._currentValue2:o),i,r,o),qe(e,t,s,i)}else{o=Ge(e,t,i,r,s=te(i,t.legacyContext));var a=0!==Se;if("object"===typeof o&&null!==o&&"function"===typeof o.render&&void 0===o.$$typeof)ue(o,i,r,s),qe(e,t,o,i);else if(a){r=t.treeContext,t.treeContext=de(r,1,0);try{Qe(e,t,o)}finally{t.treeContext=r}}else Qe(e,t,o)}else{if("string"!==typeof i){switch(i){case K:case Q:case U:case N:case L:case G:return void Qe(e,t,r.children);case Y:throw Error(n(343));case V:e:{i=t.blockedBoundary,o=t.blockedSegment,s=r.fallback,r=r.children;var l={id:null,rootSegmentID:-1,parentFlushed:!1,pendingTasks:0,forceClientRender:!1,completedSegments:[],byteSize:0,fallbackAbortableTasks:a=new Set,errorDigest:null},c=je(0,o.chunks.length,l,o.formatContext,!1,!1);o.children.push(c),o.lastPushedText=!1;var u=je(0,0,null,o.formatContext,!1,!1);u.parentFlushed=!0,t.blockedBoundary=l,t.blockedSegment=u;try{if(Ze(e,t,r),e.responseState.generateStaticMarkup||u.lastPushedText&&u.textEmbedded&&u.chunks.push("\x3c!-- --\x3e"),u.status=1,et(l,u),0===l.pendingTasks)break e}catch(h){u.status=4,l.forceClientRender=!0,l.errorDigest=We(e,h)}finally{t.blockedBoundary=i,t.blockedSegment=o}t=He(e,s,i,c,a,t.legacyContext,t.context,t.treeContext),e.pingedTasks.push(t)}return}if("object"===typeof i&&null!==i)switch(i.$$typeof){case W:if(r=Ge(e,t,i.render,r,o),0!==Se){i=t.treeContext,t.treeContext=de(i,1,0);try{Qe(e,t,r)}finally{t.treeContext=i}}else Qe(e,t,r);return;case q:return void Ye(e,t,i=i.type,r=Xe(i,r),o);case H:if(o=r.children,i=i._context,r=r.value,s=i._currentValue2,i._currentValue2=r,ie=r={parent:a=ie,depth:null===a?0:a.depth+1,context:i,parentValue:s,value:r},t.context=r,Qe(e,t,o),null===(e=ie))throw Error(n(403));return r=e.parentValue,e.context._currentValue2=r===Z?e.context._defaultValue:r,e=ie=e.parent,void(t.context=e);case j:return void Qe(e,t,r=(r=r.children)(i._currentValue2));case X:return void Ye(e,t,i=(o=i._init)(i._payload),r=Xe(i,r),void 0)}throw Error(n(130,null==i?i:typeof i,""))}switch(s=R((o=t.blockedSegment).chunks,i,r,e.responseState,o.formatContext),o.lastPushedText=!1,a=o.formatContext,o.formatContext=function(e,t,i){switch(t){case"select":return x(1,null!=i.value?i.value:i.defaultValue);case"svg":return x(2,null);case"math":return x(3,null);case"foreignObject":return x(1,null);case"table":return x(4,null);case"thead":case"tbody":case"tfoot":return x(5,null);case"colgroup":return x(7,null);case"tr":return x(6,null)}return 4<=e.insertionMode||0===e.insertionMode?x(1,null):e}(a,i,r),Ze(e,t,s),o.formatContext=a,i){case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"input":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":break;default:o.chunks.push("</",i,">")}o.lastPushedText=!1}}function Qe(e,t,i){if(t.node=i,"object"===typeof i&&null!==i){switch(i.$$typeof){case z:return void Ye(e,t,i.type,i.props,i.ref);case B:throw Error(n(257));case X:var r=i._init;return void Qe(e,t,i=r(i._payload))}if(b(i))return void Ke(e,t,i);if(null===i||"object"!==typeof i?r=null:r="function"===typeof(r=J&&i[J]||i["@@iterator"])?r:null,r&&(r=r.call(i))){if(!(i=r.next()).done){var o=[];do{o.push(i.value),i=r.next()}while(!i.done);Ke(e,t,o)}return}throw e=Object.prototype.toString.call(i),Error(n(31,"[object Object]"===e?"object with keys {"+Object.keys(i).join(", ")+"}":e))}"string"===typeof i?(r=t.blockedSegment).lastPushedText=M(t.blockedSegment.chunks,i,e.responseState,r.lastPushedText):"number"===typeof i&&((r=t.blockedSegment).lastPushedText=M(t.blockedSegment.chunks,""+i,e.responseState,r.lastPushedText))}function Ke(e,t,i){for(var r=i.length,n=0;n<r;n++){var o=t.treeContext;t.treeContext=de(o,r,n);try{Ze(e,t,i[n])}finally{t.treeContext=o}}}function Ze(e,t,i){var r=t.blockedSegment.formatContext,n=t.legacyContext,o=t.context;try{return Qe(e,t,i)}catch(l){if(Ie(),"object"!==typeof l||null===l||"function"!==typeof l.then)throw t.blockedSegment.formatContext=r,t.legacyContext=n,t.context=o,le(o),l;i=l;var s=t.blockedSegment,a=je(0,s.chunks.length,null,s.formatContext,s.lastPushedText,!0);s.children.push(a),s.lastPushedText=!1,e=He(e,t.node,t.blockedBoundary,a,t.abortSet,t.legacyContext,t.context,t.treeContext).ping,i.then(e,e),t.blockedSegment.formatContext=r,t.legacyContext=n,t.context=o,le(o)}}function Je(e){var t=e.blockedBoundary;(e=e.blockedSegment).status=3,tt(this,t,e)}function $e(e,t,i){var r=e.blockedBoundary;e.blockedSegment.status=3,null===r?(t.allPendingTasks--,2!==t.status&&(t.status=2,null!==t.destination&&t.destination.push(null))):(r.pendingTasks--,r.forceClientRender||(r.forceClientRender=!0,e=void 0===i?Error(n(432)):i,r.errorDigest=t.onError(e),r.parentFlushed&&t.clientRenderedBoundaries.push(r)),r.fallbackAbortableTasks.forEach((function(e){return $e(e,t,i)})),r.fallbackAbortableTasks.clear(),t.allPendingTasks--,0===t.allPendingTasks&&(r=t.onAllReady)())}function et(e,t){if(0===t.chunks.length&&1===t.children.length&&null===t.children[0].boundary){var i=t.children[0];i.id=t.id,i.parentFlushed=!0,1===i.status&&et(e,i)}else e.completedSegments.push(t)}function tt(e,t,i){if(null===t){if(i.parentFlushed){if(null!==e.completedRootSegment)throw Error(n(389));e.completedRootSegment=i}e.pendingRootTasks--,0===e.pendingRootTasks&&(e.onShellError=Ne,(t=e.onShellReady)())}else t.pendingTasks--,t.forceClientRender||(0===t.pendingTasks?(i.parentFlushed&&1===i.status&&et(t,i),t.parentFlushed&&e.completedBoundaries.push(t),t.fallbackAbortableTasks.forEach(Je,e),t.fallbackAbortableTasks.clear()):i.parentFlushed&&1===i.status&&(et(t,i),1===t.completedSegments.length&&t.parentFlushed&&e.partialBoundaries.push(t)));e.allPendingTasks--,0===e.allPendingTasks&&(e=e.onAllReady)()}function it(e){if(2!==e.status){var t=ie,i=Le.current;Le.current=ze;var r=Be;Be=e.responseState;try{var n,o=e.pingedTasks;for(n=0;n<o.length;n++){var s=o[n],a=e,l=s.blockedSegment;if(0===l.status){le(s.context);try{Qe(a,s,s.node),a.responseState.generateStaticMarkup||l.lastPushedText&&l.textEmbedded&&l.chunks.push("\x3c!-- --\x3e"),s.abortSet.delete(s),l.status=1,tt(a,s.blockedBoundary,l)}catch(p){if(Ie(),"object"===typeof p&&null!==p&&"function"===typeof p.then){var c=s.ping;p.then(c,c)}else{s.abortSet.delete(s),l.status=4;var u=s.blockedBoundary,h=p,d=We(a,h);if(null===u?Ve(a,h):(u.pendingTasks--,u.forceClientRender||(u.forceClientRender=!0,u.errorDigest=d,u.parentFlushed&&a.clientRenderedBoundaries.push(u))),a.allPendingTasks--,0===a.allPendingTasks)(0,a.onAllReady)()}}}}o.splice(0,n),null!==e.destination&&lt(e,e.destination)}catch(p){We(e,p),Ve(e,p)}finally{Be=r,Le.current=i,i===ze&&le(t)}}}function rt(e,t,i){switch(i.parentFlushed=!0,i.status){case 0:var r=i.id=e.nextSegmentId++;return i.lastPushedText=!1,i.textEmbedded=!1,e=e.responseState,t.push('<template id="'),t.push(e.placeholderPrefix),e=r.toString(16),t.push(e),t.push('"></template>');case 1:i.status=2;var o=!0;r=i.chunks;var s=0;i=i.children;for(var a=0;a<i.length;a++){for(o=i[a];s<o.index;s++)t.push(r[s]);o=nt(e,t,o)}for(;s<r.length-1;s++)t.push(r[s]);return s<r.length&&(o=t.push(r[s])),o;default:throw Error(n(390))}}function nt(e,t,i){var r=i.boundary;if(null===r)return rt(e,t,i);if(r.parentFlushed=!0,r.forceClientRender)return e.responseState.generateStaticMarkup||(r=r.errorDigest,t.push("\x3c!--$!--\x3e"),t.push("<template"),r&&(t.push(' data-dgst="'),r=y(r),t.push(r),t.push('"')),t.push("></template>")),rt(e,t,i),e=!!e.responseState.generateStaticMarkup||t.push("\x3c!--/$--\x3e");if(0<r.pendingTasks){r.rootSegmentID=e.nextSegmentId++,0<r.completedSegments.length&&e.partialBoundaries.push(r);var o=e.responseState,s=o.nextSuspenseID++;return o=o.boundaryPrefix+s.toString(16),r=r.id=o,F(t,e.responseState,r),rt(e,t,i),t.push("\x3c!--/$--\x3e")}if(r.byteSize>e.progressiveChunkSize)return r.rootSegmentID=e.nextSegmentId++,e.completedBoundaries.push(r),F(t,e.responseState,r.id),rt(e,t,i),t.push("\x3c!--/$--\x3e");if(e.responseState.generateStaticMarkup||t.push("\x3c!--$--\x3e"),1!==(i=r.completedSegments).length)throw Error(n(391));return nt(e,t,i[0]),e=!!e.responseState.generateStaticMarkup||t.push("\x3c!--/$--\x3e")}function ot(e,t,i){return function(e,t,i,r){switch(i.insertionMode){case 0:case 1:return e.push('<div hidden id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');case 2:return e.push('<svg aria-hidden="true" style="display:none" id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');case 3:return e.push('<math aria-hidden="true" style="display:none" id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');case 4:return e.push('<table hidden id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');case 5:return e.push('<table hidden><tbody id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');case 6:return e.push('<table hidden><tr id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');case 7:return e.push('<table hidden><colgroup id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');default:throw Error(n(397))}}(t,e.responseState,i.formatContext,i.id),nt(e,t,i),function(e,t){switch(t.insertionMode){case 0:case 1:return e.push("</div>");case 2:return e.push("</svg>");case 3:return e.push("</math>");case 4:return e.push("</table>");case 5:return e.push("</tbody></table>");case 6:return e.push("</tr></table>");case 7:return e.push("</colgroup></table>");default:throw Error(n(397))}}(t,i.formatContext)}function st(e,t,i){for(var r=i.completedSegments,o=0;o<r.length;o++)at(e,t,i,r[o]);if(r.length=0,e=e.responseState,r=i.id,i=i.rootSegmentID,t.push(e.startInlineScript),e.sentCompleteBoundaryFunction?t.push('$RC("'):(e.sentCompleteBoundaryFunction=!0,t.push('function $RC(a,b){a=document.getElementById(a);b=document.getElementById(b);b.parentNode.removeChild(b);if(a){a=a.previousSibling;var f=a.parentNode,c=a.nextSibling,e=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d)if(0===e)break;else e--;else"$"!==d&&"$?"!==d&&"$!"!==d||e++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;b.firstChild;)f.insertBefore(b.firstChild,c);a.data="$";a._reactRetry&&a._reactRetry()}};$RC("')),null===r)throw Error(n(395));return i=i.toString(16),t.push(r),t.push('","'),t.push(e.segmentPrefix),t.push(i),t.push('")<\/script>')}function at(e,t,i,r){if(2===r.status)return!0;var o=r.id;if(-1===o){if(-1===(r.id=i.rootSegmentID))throw Error(n(392));return ot(e,t,r)}return ot(e,t,r),e=e.responseState,t.push(e.startInlineScript),e.sentCompleteSegmentFunction?t.push('$RS("'):(e.sentCompleteSegmentFunction=!0,t.push('function $RS(a,b){a=document.getElementById(a);b=document.getElementById(b);for(a.parentNode.removeChild(a);a.firstChild;)b.parentNode.insertBefore(a.firstChild,b);b.parentNode.removeChild(b)};$RS("')),t.push(e.segmentPrefix),o=o.toString(16),t.push(o),t.push('","'),t.push(e.placeholderPrefix),t.push(o),t.push('")<\/script>')}function lt(e,t){try{var i=e.completedRootSegment;if(null!==i&&0===e.pendingRootTasks){nt(e,t,i),e.completedRootSegment=null;var r=e.responseState.bootstrapChunks;for(i=0;i<r.length-1;i++)t.push(r[i]);i<r.length&&t.push(r[i])}var o,s=e.clientRenderedBoundaries;for(o=0;o<s.length;o++){var a=s[o];r=t;var l=e.responseState,c=a.id,u=a.errorDigest,h=a.errorMessage,d=a.errorComponentStack;if(r.push(l.startInlineScript),l.sentClientRenderFunction?r.push('$RX("'):(l.sentClientRenderFunction=!0,r.push('function $RX(b,c,d,e){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),b._reactRetry&&b._reactRetry())};$RX("')),null===c)throw Error(n(395));if(r.push(c),r.push('"'),u||h||d){r.push(",");var p=O(u||"");r.push(p)}if(h||d){r.push(",");var f=O(h||"");r.push(f)}if(d){r.push(",");var g=O(d);r.push(g)}if(!r.push(")<\/script>"))return e.destination=null,o++,void s.splice(0,o)}s.splice(0,o);var m=e.completedBoundaries;for(o=0;o<m.length;o++)if(!st(e,t,m[o]))return e.destination=null,o++,void m.splice(0,o);m.splice(0,o);var y=e.partialBoundaries;for(o=0;o<y.length;o++){var _=y[o];e:{s=e,a=t;var v=_.completedSegments;for(l=0;l<v.length;l++)if(!at(s,a,_,v[l])){l++,v.splice(0,l);var b=!1;break e}v.splice(0,l),b=!0}if(!b)return e.destination=null,o++,void y.splice(0,o)}y.splice(0,o);var x=e.completedBoundaries;for(o=0;o<x.length;o++)if(!st(e,t,x[o]))return e.destination=null,o++,void x.splice(0,o);x.splice(0,o)}finally{0===e.allPendingTasks&&0===e.pingedTasks.length&&0===e.clientRenderedBoundaries.length&&0===e.completedBoundaries.length&&t.push(null)}}function ct(e,t){try{var i=e.abortableTasks;i.forEach((function(i){return $e(i,e,t)})),i.clear(),null!==e.destination&&lt(e,e.destination)}catch(r){We(e,r),Ve(e,r)}}function ut(){}function ht(e,t,i,r){var o=!1,s=null,a="",l={push:function(e){return null!==e&&(a+=e),!0},destroy:function(e){o=!0,s=e}},c=!1;if(e=function(e,t,i,r,n,o,s,a,l){var c=[],u=new Set;return(i=je(t={destination:null,responseState:t,progressiveChunkSize:void 0===r?12800:r,status:0,fatalError:null,nextSegmentId:0,allPendingTasks:0,pendingRootTasks:0,completedRootSegment:null,abortableTasks:u,pingedTasks:c,clientRenderedBoundaries:[],completedBoundaries:[],partialBoundaries:[],onError:void 0===n?Ue:n,onAllReady:void 0===o?Ne:o,onShellReady:void 0===s?Ne:s,onShellError:void 0===a?Ne:a,onFatalError:void 0===l?Ne:l},0,null,i,!1,!1)).parentFlushed=!0,e=He(t,e,null,i,u,ee,null,he),c.push(e),t}(e,function(e,t){return{bootstrapChunks:[],startInlineScript:"<script>",placeholderPrefix:(t=void 0===t?"":t)+"P:",segmentPrefix:t+"S:",boundaryPrefix:t+"B:",idPrefix:t,nextSuspenseID:0,sentCompleteSegmentFunction:!1,sentCompleteBoundaryFunction:!1,sentClientRenderFunction:!1,generateStaticMarkup:e}}(i,t?t.identifierPrefix:void 0),{insertionMode:1,selectedValue:null},1/0,ut,void 0,(function(){c=!0}),void 0,void 0),it(e),ct(e,r),1===e.status)e.status=2,l.destroy(e.fatalError);else if(2!==e.status&&null===e.destination){e.destination=l;try{lt(e,l)}catch(u){We(e,u),Ve(e,u)}}if(o)throw s;if(!c)throw Error(n(426));return a}t.renderToNodeStream=function(){throw Error(n(207))},t.renderToStaticMarkup=function(e,t){return ht(e,t,!0,'The server used "renderToStaticMarkup" which does not support Suspense. If you intended to have the server wait for the suspended component please switch to "renderToReadableStream" which supports Suspense on the server')},t.renderToStaticNodeStream=function(){throw Error(n(208))},t.renderToString=function(e,t){return ht(e,t,!1,'The server used "renderToString" which does not support Suspense. If you intended for this Suspense boundary to render the fallback content on the server consider throwing an Error somewhere within the Suspense boundary. If you intended to have the server wait for the suspended component please switch to "renderToReadableStream" which supports Suspense on the server')},t.version="18.3.1"},556:(e,t,i)=>{"use strict";var r=i(43);function n(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,i=1;i<arguments.length;i++)t+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=null,s=0;function a(e,t){if(0!==t.length)if(512<t.length)0<s&&(e.enqueue(new Uint8Array(o.buffer,0,s)),o=new Uint8Array(512),s=0),e.enqueue(t);else{var i=o.length-s;i<t.length&&(0===i?e.enqueue(o):(o.set(t.subarray(0,i),s),e.enqueue(o),t=t.subarray(i)),o=new Uint8Array(512),s=0),o.set(t,s),s+=t.length}}function l(e,t){return a(e,t),!0}function c(e){o&&0<s&&(e.enqueue(new Uint8Array(o.buffer,0,s)),o=null,s=0)}var u=new TextEncoder;function h(e){return u.encode(e)}function d(e){return u.encode(e)}function p(e,t){"function"===typeof e.error?e.error(t):e.close()}var f=Object.prototype.hasOwnProperty,g=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},y={};function _(e){return!!f.call(y,e)||!f.call(m,e)&&(g.test(e)?y[e]=!0:(m[e]=!0,!1))}function v(e,t,i,r,n,o,s){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=n,this.mustUseProperty=i,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){b[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];b[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){b[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){b[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){b[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){b[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){b[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){b[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){b[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var x=/[\-:]([a-z])/g;function w(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(x,w);b[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(x,w);b[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(x,w);b[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){b[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),b.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){b[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var S={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},k=["Webkit","ms","Moz","O"];Object.keys(S).forEach((function(e){k.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),S[t]=S[e]}))}));var C=/["'&<>]/;function T(e){if("boolean"===typeof e||"number"===typeof e)return""+e;e=""+e;var t=C.exec(e);if(t){var i,r="",n=0;for(i=t.index;i<e.length;i++){switch(e.charCodeAt(i)){case 34:t="&quot;";break;case 38:t="&amp;";break;case 39:t="&#x27;";break;case 60:t="&lt;";break;case 62:t="&gt;";break;default:continue}n!==i&&(r+=e.substring(n,i)),n=i+1,r+=t}e=n!==i?r+e.substring(n,i):r}return e}var E=/([A-Z])/g,D=/^ms-/,I=Array.isArray,R=d("<script>"),F=d("<\/script>"),A=d('<script src="'),O=d('<script type="module" src="'),M=d('" async=""><\/script>'),P=/(<\/|<)(s)(cript)/gi;function z(e,t,i,r){return t+("s"===i?"\\u0073":"\\u0053")+r}function B(e,t){return{insertionMode:e,selectedValue:t}}var L=d("\x3c!-- --\x3e");function U(e,t,i,r){return""===t?r:(r&&e.push(L),e.push(h(T(t))),!0)}var N=new Map,H=d(' style="'),j=d(":"),W=d(";");function V(e,t,i){if("object"!==typeof i)throw Error(n(62));for(var r in t=!0,i)if(f.call(i,r)){var o=i[r];if(null!=o&&"boolean"!==typeof o&&""!==o){if(0===r.indexOf("--")){var s=h(T(r));o=h(T((""+o).trim()))}else{s=r;var a=N.get(s);void 0!==a||(a=d(T(s.replace(E,"-$1").toLowerCase().replace(D,"-ms-"))),N.set(s,a)),s=a,o="number"===typeof o?0===o||f.call(S,r)?h(""+o):h(o+"px"):h(T((""+o).trim()))}t?(t=!1,e.push(H,s,j,o)):e.push(W,s,j,o)}}t||e.push(X)}var G=d(" "),q=d('="'),X=d('"'),Y=d('=""');function Q(e,t,i,r){switch(i){case"style":return void V(e,t,r);case"defaultValue":case"defaultChecked":case"innerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":return}if(!(2<i.length)||"o"!==i[0]&&"O"!==i[0]||"n"!==i[1]&&"N"!==i[1])if(null!==(t=b.hasOwnProperty(i)?b[i]:null)){switch(typeof r){case"function":case"symbol":return;case"boolean":if(!t.acceptsBooleans)return}switch(i=h(t.attributeName),t.type){case 3:r&&e.push(G,i,Y);break;case 4:!0===r?e.push(G,i,Y):!1!==r&&e.push(G,i,q,h(T(r)),X);break;case 5:isNaN(r)||e.push(G,i,q,h(T(r)),X);break;case 6:!isNaN(r)&&1<=r&&e.push(G,i,q,h(T(r)),X);break;default:t.sanitizeURL&&(r=""+r),e.push(G,i,q,h(T(r)),X)}}else if(_(i)){switch(typeof r){case"function":case"symbol":return;case"boolean":if("data-"!==(t=i.toLowerCase().slice(0,5))&&"aria-"!==t)return}e.push(G,h(i),q,h(T(r)),X)}}var K=d(">"),Z=d("/>");function J(e,t,i){if(null!=t){if(null!=i)throw Error(n(60));if("object"!==typeof t||!("__html"in t))throw Error(n(61));null!==(t=t.__html)&&void 0!==t&&e.push(h(""+t))}}var $=d(' selected=""');function ee(e,t,i,r){e.push(ne(i));var n,o=i=null;for(n in t)if(f.call(t,n)){var s=t[n];if(null!=s)switch(n){case"children":i=s;break;case"dangerouslySetInnerHTML":o=s;break;default:Q(e,r,n,s)}}return e.push(K),J(e,o,i),"string"===typeof i?(e.push(h(T(i))),null):i}var te=d("\n"),ie=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,re=new Map;function ne(e){var t=re.get(e);if(void 0===t){if(!ie.test(e))throw Error(n(65,e));t=d("<"+e),re.set(e,t)}return t}var oe=d("<!DOCTYPE html>");function se(e,t,i,o,s){switch(t){case"select":e.push(ne("select"));var a=null,l=null;for(p in i)if(f.call(i,p)){var c=i[p];if(null!=c)switch(p){case"children":a=c;break;case"dangerouslySetInnerHTML":l=c;break;case"defaultValue":case"value":break;default:Q(e,o,p,c)}}return e.push(K),J(e,l,a),a;case"option":l=s.selectedValue,e.push(ne("option"));var u=c=null,d=null,p=null;for(a in i)if(f.call(i,a)){var g=i[a];if(null!=g)switch(a){case"children":c=g;break;case"selected":d=g;break;case"dangerouslySetInnerHTML":p=g;break;case"value":u=g;default:Q(e,o,a,g)}}if(null!=l)if(i=null!==u?""+u:function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(c),I(l)){for(o=0;o<l.length;o++)if(""+l[o]===i){e.push($);break}}else""+l===i&&e.push($);else d&&e.push($);return e.push(K),J(e,p,c),c;case"textarea":for(c in e.push(ne("textarea")),p=l=a=null,i)if(f.call(i,c)&&null!=(u=i[c]))switch(c){case"children":p=u;break;case"value":a=u;break;case"defaultValue":l=u;break;case"dangerouslySetInnerHTML":throw Error(n(91));default:Q(e,o,c,u)}if(null===a&&null!==l&&(a=l),e.push(K),null!=p){if(null!=a)throw Error(n(92));if(I(p)&&1<p.length)throw Error(n(93));a=""+p}return"string"===typeof a&&"\n"===a[0]&&e.push(te),null!==a&&e.push(h(T(""+a))),null;case"input":for(l in e.push(ne("input")),u=p=c=a=null,i)if(f.call(i,l)&&null!=(d=i[l]))switch(l){case"children":case"dangerouslySetInnerHTML":throw Error(n(399,"input"));case"defaultChecked":u=d;break;case"defaultValue":c=d;break;case"checked":p=d;break;case"value":a=d;break;default:Q(e,o,l,d)}return null!==p?Q(e,o,"checked",p):null!==u&&Q(e,o,"checked",u),null!==a?Q(e,o,"value",a):null!==c&&Q(e,o,"value",c),e.push(Z),null;case"menuitem":for(var m in e.push(ne("menuitem")),i)if(f.call(i,m)&&null!=(a=i[m]))switch(m){case"children":case"dangerouslySetInnerHTML":throw Error(n(400));default:Q(e,o,m,a)}return e.push(K),null;case"title":for(g in e.push(ne("title")),a=null,i)if(f.call(i,g)&&null!=(l=i[g]))switch(g){case"children":a=l;break;case"dangerouslySetInnerHTML":throw Error(n(434));default:Q(e,o,g,l)}return e.push(K),a;case"listing":case"pre":for(u in e.push(ne(t)),l=a=null,i)if(f.call(i,u)&&null!=(c=i[u]))switch(u){case"children":a=c;break;case"dangerouslySetInnerHTML":l=c;break;default:Q(e,o,u,c)}if(e.push(K),null!=l){if(null!=a)throw Error(n(60));if("object"!==typeof l||!("__html"in l))throw Error(n(61));null!==(i=l.__html)&&void 0!==i&&("string"===typeof i&&0<i.length&&"\n"===i[0]?e.push(te,h(i)):e.push(h(""+i)))}return"string"===typeof a&&"\n"===a[0]&&e.push(te),a;case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":for(var y in e.push(ne(t)),i)if(f.call(i,y)&&null!=(a=i[y]))switch(y){case"children":case"dangerouslySetInnerHTML":throw Error(n(399,t));default:Q(e,o,y,a)}return e.push(Z),null;case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return ee(e,i,t,o);case"html":return 0===s.insertionMode&&e.push(oe),ee(e,i,t,o);default:if(-1===t.indexOf("-")&&"string"!==typeof i.is)return ee(e,i,t,o);for(d in e.push(ne(t)),l=a=null,i)if(f.call(i,d)&&null!=(c=i[d]))switch(d){case"children":a=c;break;case"dangerouslySetInnerHTML":l=c;break;case"style":V(e,o,c);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":break;default:_(d)&&"function"!==typeof c&&"symbol"!==typeof c&&e.push(G,h(d),q,h(T(c)),X)}return e.push(K),J(e,l,a),a}}var ae=d("</"),le=d(">"),ce=d('<template id="'),ue=d('"></template>'),he=d("\x3c!--$--\x3e"),de=d('\x3c!--$?--\x3e<template id="'),pe=d('"></template>'),fe=d("\x3c!--$!--\x3e"),ge=d("\x3c!--/$--\x3e"),me=d("<template"),ye=d('"'),_e=d(' data-dgst="');d(' data-msg="'),d(' data-stck="');var ve=d("></template>");function be(e,t,i){if(a(e,de),null===i)throw Error(n(395));return a(e,i),l(e,pe)}var xe=d('<div hidden id="'),we=d('">'),Se=d("</div>"),ke=d('<svg aria-hidden="true" style="display:none" id="'),Ce=d('">'),Te=d("</svg>"),Ee=d('<math aria-hidden="true" style="display:none" id="'),De=d('">'),Ie=d("</math>"),Re=d('<table hidden id="'),Fe=d('">'),Ae=d("</table>"),Oe=d('<table hidden><tbody id="'),Me=d('">'),Pe=d("</tbody></table>"),ze=d('<table hidden><tr id="'),Be=d('">'),Le=d("</tr></table>"),Ue=d('<table hidden><colgroup id="'),Ne=d('">'),He=d("</colgroup></table>");var je=d('function $RS(a,b){a=document.getElementById(a);b=document.getElementById(b);for(a.parentNode.removeChild(a);a.firstChild;)b.parentNode.insertBefore(a.firstChild,b);b.parentNode.removeChild(b)};$RS("'),We=d('$RS("'),Ve=d('","'),Ge=d('")<\/script>'),qe=d('function $RC(a,b){a=document.getElementById(a);b=document.getElementById(b);b.parentNode.removeChild(b);if(a){a=a.previousSibling;var f=a.parentNode,c=a.nextSibling,e=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d)if(0===e)break;else e--;else"$"!==d&&"$?"!==d&&"$!"!==d||e++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;b.firstChild;)f.insertBefore(b.firstChild,c);a.data="$";a._reactRetry&&a._reactRetry()}};$RC("'),Xe=d('$RC("'),Ye=d('","'),Qe=d('")<\/script>'),Ke=d('function $RX(b,c,d,e){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),b._reactRetry&&b._reactRetry())};$RX("'),Ze=d('$RX("'),Je=d('"'),$e=d(")<\/script>"),et=d(","),tt=/[<\u2028\u2029]/g;function it(e){return JSON.stringify(e).replace(tt,(function(e){switch(e){case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSStringsForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}}))}var rt=Object.assign,nt=Symbol.for("react.element"),ot=Symbol.for("react.portal"),st=Symbol.for("react.fragment"),at=Symbol.for("react.strict_mode"),lt=Symbol.for("react.profiler"),ct=Symbol.for("react.provider"),ut=Symbol.for("react.context"),ht=Symbol.for("react.forward_ref"),dt=Symbol.for("react.suspense"),pt=Symbol.for("react.suspense_list"),ft=Symbol.for("react.memo"),gt=Symbol.for("react.lazy"),mt=Symbol.for("react.scope"),yt=Symbol.for("react.debug_trace_mode"),_t=Symbol.for("react.legacy_hidden"),vt=Symbol.for("react.default_value"),bt=Symbol.iterator;function xt(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case st:return"Fragment";case ot:return"Portal";case lt:return"Profiler";case at:return"StrictMode";case dt:return"Suspense";case pt:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case ut:return(e.displayName||"Context")+".Consumer";case ct:return(e._context.displayName||"Context")+".Provider";case ht:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case ft:return null!==(t=e.displayName||null)?t:xt(e.type)||"Memo";case gt:t=e._payload,e=e._init;try{return xt(e(t))}catch(i){}}return null}var wt={};function St(e,t){if(!(e=e.contextTypes))return wt;var i,r={};for(i in e)r[i]=t[i];return r}var kt=null;function Ct(e,t){if(e!==t){e.context._currentValue=e.parentValue,e=e.parent;var i=t.parent;if(null===e){if(null!==i)throw Error(n(401))}else{if(null===i)throw Error(n(401));Ct(e,i)}t.context._currentValue=t.value}}function Tt(e){e.context._currentValue=e.parentValue,null!==(e=e.parent)&&Tt(e)}function Et(e){var t=e.parent;null!==t&&Et(t),e.context._currentValue=e.value}function Dt(e,t){if(e.context._currentValue=e.parentValue,null===(e=e.parent))throw Error(n(402));e.depth===t.depth?Ct(e,t):Dt(e,t)}function It(e,t){var i=t.parent;if(null===i)throw Error(n(402));e.depth===i.depth?Ct(e,i):It(e,i),t.context._currentValue=t.value}function Rt(e){var t=kt;t!==e&&(null===t?Et(e):null===e?Tt(t):t.depth===e.depth?Ct(t,e):t.depth>e.depth?Dt(t,e):It(t,e),kt=e)}var Ft={isMounted:function(){return!1},enqueueSetState:function(e,t){null!==(e=e._reactInternals).queue&&e.queue.push(t)},enqueueReplaceState:function(e,t){(e=e._reactInternals).replace=!0,e.queue=[t]},enqueueForceUpdate:function(){}};function At(e,t,i,r){var n=void 0!==e.state?e.state:null;e.updater=Ft,e.props=i,e.state=n;var o={queue:[],replace:!1};e._reactInternals=o;var s=t.contextType;if(e.context="object"===typeof s&&null!==s?s._currentValue:r,"function"===typeof(s=t.getDerivedStateFromProps)&&(n=null===(s=s(i,n))||void 0===s?n:rt({},n,s),e.state=n),"function"!==typeof t.getDerivedStateFromProps&&"function"!==typeof e.getSnapshotBeforeUpdate&&("function"===typeof e.UNSAFE_componentWillMount||"function"===typeof e.componentWillMount))if(t=e.state,"function"===typeof e.componentWillMount&&e.componentWillMount(),"function"===typeof e.UNSAFE_componentWillMount&&e.UNSAFE_componentWillMount(),t!==e.state&&Ft.enqueueReplaceState(e,e.state,null),null!==o.queue&&0<o.queue.length)if(t=o.queue,s=o.replace,o.queue=null,o.replace=!1,s&&1===t.length)e.state=t[0];else{for(o=s?t[0]:e.state,n=!0,s=s?1:0;s<t.length;s++){var a=t[s];null!=(a="function"===typeof a?a.call(e,o,i,r):a)&&(n?(n=!1,o=rt({},o,a)):rt(o,a))}e.state=o}else o.queue=null}var Ot={id:1,overflow:""};function Mt(e,t,i){var r=e.id;e=e.overflow;var n=32-Pt(r)-1;r&=~(1<<n),i+=1;var o=32-Pt(t)+n;if(30<o){var s=n-n%5;return o=(r&(1<<s)-1).toString(32),r>>=s,n-=s,{id:1<<32-Pt(t)+n|i<<n|r,overflow:o+e}}return{id:1<<o|i<<n|r,overflow:e}}var Pt=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(zt(e)/Bt|0)|0},zt=Math.log,Bt=Math.LN2;var Lt="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},Ut=null,Nt=null,Ht=null,jt=null,Wt=!1,Vt=!1,Gt=0,qt=null,Xt=0;function Yt(){if(null===Ut)throw Error(n(321));return Ut}function Qt(){if(0<Xt)throw Error(n(312));return{memoizedState:null,queue:null,next:null}}function Kt(){return null===jt?null===Ht?(Wt=!1,Ht=jt=Qt()):(Wt=!0,jt=Ht):null===jt.next?(Wt=!1,jt=jt.next=Qt()):(Wt=!0,jt=jt.next),jt}function Zt(){Nt=Ut=null,Vt=!1,Ht=null,Xt=0,jt=qt=null}function Jt(e,t){return"function"===typeof t?t(e):t}function $t(e,t,i){if(Ut=Yt(),jt=Kt(),Wt){var r=jt.queue;if(t=r.dispatch,null!==qt&&void 0!==(i=qt.get(r))){qt.delete(r),r=jt.memoizedState;do{r=e(r,i.action),i=i.next}while(null!==i);return jt.memoizedState=r,[r,t]}return[jt.memoizedState,t]}return e=e===Jt?"function"===typeof t?t():t:void 0!==i?i(t):t,jt.memoizedState=e,e=(e=jt.queue={last:null,dispatch:null}).dispatch=ti.bind(null,Ut,e),[jt.memoizedState,e]}function ei(e,t){if(Ut=Yt(),t=void 0===t?null:t,null!==(jt=Kt())){var i=jt.memoizedState;if(null!==i&&null!==t){var r=i[1];e:if(null===r)r=!1;else{for(var n=0;n<r.length&&n<t.length;n++)if(!Lt(t[n],r[n])){r=!1;break e}r=!0}if(r)return i[0]}}return e=e(),jt.memoizedState=[e,t],e}function ti(e,t,i){if(25<=Xt)throw Error(n(301));if(e===Ut)if(Vt=!0,e={action:i,next:null},null===qt&&(qt=new Map),void 0===(i=qt.get(t)))qt.set(t,e);else{for(t=i;null!==t.next;)t=t.next;t.next=e}}function ii(){throw Error(n(394))}function ri(){}var ni={readContext:function(e){return e._currentValue},useContext:function(e){return Yt(),e._currentValue},useMemo:ei,useReducer:$t,useRef:function(e){Ut=Yt();var t=(jt=Kt()).memoizedState;return null===t?(e={current:e},jt.memoizedState=e):t},useState:function(e){return $t(Jt,e)},useInsertionEffect:ri,useLayoutEffect:function(){},useCallback:function(e,t){return ei((function(){return e}),t)},useImperativeHandle:ri,useEffect:ri,useDebugValue:ri,useDeferredValue:function(e){return Yt(),e},useTransition:function(){return Yt(),[!1,ii]},useId:function(){var e=Nt.treeContext,t=e.overflow;e=((e=e.id)&~(1<<32-Pt(e)-1)).toString(32)+t;var i=oi;if(null===i)throw Error(n(404));return t=Gt++,e=":"+i.idPrefix+"R"+e,0<t&&(e+="H"+t.toString(32)),e+":"},useMutableSource:function(e,t){return Yt(),t(e._source)},useSyncExternalStore:function(e,t,i){if(void 0===i)throw Error(n(407));return i()}},oi=null,si=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentDispatcher;function ai(e){return console.error(e),null}function li(){}function ci(e,t,i,r,n,o,s,a){e.allPendingTasks++,null===i?e.pendingRootTasks++:i.pendingTasks++;var l={node:t,ping:function(){var t=e.pingedTasks;t.push(l),1===t.length&&ki(e)},blockedBoundary:i,blockedSegment:r,abortSet:n,legacyContext:o,context:s,treeContext:a};return n.add(l),l}function ui(e,t,i,r,n,o){return{status:0,id:-1,index:t,parentFlushed:!1,chunks:[],children:[],formatContext:r,boundary:i,lastPushedText:n,textEmbedded:o}}function hi(e,t){if(null!=(e=e.onError(t))&&"string"!==typeof e)throw Error('onError returned something with a type other than "string". onError should return a string and may return null or undefined but must not return anything else. It received something of type "'+typeof e+'" instead');return e}function di(e,t){var i=e.onShellError;i(t),(i=e.onFatalError)(t),null!==e.destination?(e.status=2,p(e.destination,t)):(e.status=1,e.fatalError=t)}function pi(e,t,i,r,n){for(Ut={},Nt=t,Gt=0,e=i(r,n);Vt;)Vt=!1,Gt=0,Xt+=1,jt=null,e=i(r,n);return Zt(),e}function fi(e,t,i,r){var o=i.render(),s=r.childContextTypes;if(null!==s&&void 0!==s){var a=t.legacyContext;if("function"!==typeof i.getChildContext)r=a;else{for(var l in i=i.getChildContext())if(!(l in s))throw Error(n(108,xt(r)||"Unknown",l));r=rt({},a,i)}t.legacyContext=r,yi(e,t,o),t.legacyContext=a}else yi(e,t,o)}function gi(e,t){if(e&&e.defaultProps){for(var i in t=rt({},t),e=e.defaultProps)void 0===t[i]&&(t[i]=e[i]);return t}return t}function mi(e,t,i,r,o){if("function"===typeof i)if(i.prototype&&i.prototype.isReactComponent){o=St(i,t.legacyContext);var s=i.contextType;At(s=new i(r,"object"===typeof s&&null!==s?s._currentValue:o),i,r,o),fi(e,t,s,i)}else{o=pi(e,t,i,r,s=St(i,t.legacyContext));var a=0!==Gt;if("object"===typeof o&&null!==o&&"function"===typeof o.render&&void 0===o.$$typeof)At(o,i,r,s),fi(e,t,o,i);else if(a){r=t.treeContext,t.treeContext=Mt(r,1,0);try{yi(e,t,o)}finally{t.treeContext=r}}else yi(e,t,o)}else{if("string"!==typeof i){switch(i){case _t:case yt:case at:case lt:case st:case pt:return void yi(e,t,r.children);case mt:throw Error(n(343));case dt:e:{i=t.blockedBoundary,o=t.blockedSegment,s=r.fallback,r=r.children;var l={id:null,rootSegmentID:-1,parentFlushed:!1,pendingTasks:0,forceClientRender:!1,completedSegments:[],byteSize:0,fallbackAbortableTasks:a=new Set,errorDigest:null},c=ui(0,o.chunks.length,l,o.formatContext,!1,!1);o.children.push(c),o.lastPushedText=!1;var u=ui(0,0,null,o.formatContext,!1,!1);u.parentFlushed=!0,t.blockedBoundary=l,t.blockedSegment=u;try{if(vi(e,t,r),u.lastPushedText&&u.textEmbedded&&u.chunks.push(L),u.status=1,wi(l,u),0===l.pendingTasks)break e}catch(d){u.status=4,l.forceClientRender=!0,l.errorDigest=hi(e,d)}finally{t.blockedBoundary=i,t.blockedSegment=o}t=ci(e,s,i,c,a,t.legacyContext,t.context,t.treeContext),e.pingedTasks.push(t)}return}if("object"===typeof i&&null!==i)switch(i.$$typeof){case ht:if(r=pi(e,t,i.render,r,o),0!==Gt){i=t.treeContext,t.treeContext=Mt(i,1,0);try{yi(e,t,r)}finally{t.treeContext=i}}else yi(e,t,r);return;case ft:return void mi(e,t,i=i.type,r=gi(i,r),o);case ct:if(o=r.children,i=i._context,r=r.value,s=i._currentValue,i._currentValue=r,kt=r={parent:a=kt,depth:null===a?0:a.depth+1,context:i,parentValue:s,value:r},t.context=r,yi(e,t,o),null===(e=kt))throw Error(n(403));return r=e.parentValue,e.context._currentValue=r===vt?e.context._defaultValue:r,e=kt=e.parent,void(t.context=e);case ut:return void yi(e,t,r=(r=r.children)(i._currentValue));case gt:return void mi(e,t,i=(o=i._init)(i._payload),r=gi(i,r),void 0)}throw Error(n(130,null==i?i:typeof i,""))}switch(s=se((o=t.blockedSegment).chunks,i,r,e.responseState,o.formatContext),o.lastPushedText=!1,a=o.formatContext,o.formatContext=function(e,t,i){switch(t){case"select":return B(1,null!=i.value?i.value:i.defaultValue);case"svg":return B(2,null);case"math":return B(3,null);case"foreignObject":return B(1,null);case"table":return B(4,null);case"thead":case"tbody":case"tfoot":return B(5,null);case"colgroup":return B(7,null);case"tr":return B(6,null)}return 4<=e.insertionMode||0===e.insertionMode?B(1,null):e}(a,i,r),vi(e,t,s),o.formatContext=a,i){case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"input":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":break;default:o.chunks.push(ae,h(i),le)}o.lastPushedText=!1}}function yi(e,t,i){if(t.node=i,"object"===typeof i&&null!==i){switch(i.$$typeof){case nt:return void mi(e,t,i.type,i.props,i.ref);case ot:throw Error(n(257));case gt:var r=i._init;return void yi(e,t,i=r(i._payload))}if(I(i))return void _i(e,t,i);if(null===i||"object"!==typeof i?r=null:r="function"===typeof(r=bt&&i[bt]||i["@@iterator"])?r:null,r&&(r=r.call(i))){if(!(i=r.next()).done){var o=[];do{o.push(i.value),i=r.next()}while(!i.done);_i(e,t,o)}return}throw e=Object.prototype.toString.call(i),Error(n(31,"[object Object]"===e?"object with keys {"+Object.keys(i).join(", ")+"}":e))}"string"===typeof i?(r=t.blockedSegment).lastPushedText=U(t.blockedSegment.chunks,i,e.responseState,r.lastPushedText):"number"===typeof i&&((r=t.blockedSegment).lastPushedText=U(t.blockedSegment.chunks,""+i,e.responseState,r.lastPushedText))}function _i(e,t,i){for(var r=i.length,n=0;n<r;n++){var o=t.treeContext;t.treeContext=Mt(o,r,n);try{vi(e,t,i[n])}finally{t.treeContext=o}}}function vi(e,t,i){var r=t.blockedSegment.formatContext,n=t.legacyContext,o=t.context;try{return yi(e,t,i)}catch(l){if(Zt(),"object"!==typeof l||null===l||"function"!==typeof l.then)throw t.blockedSegment.formatContext=r,t.legacyContext=n,t.context=o,Rt(o),l;i=l;var s=t.blockedSegment,a=ui(0,s.chunks.length,null,s.formatContext,s.lastPushedText,!0);s.children.push(a),s.lastPushedText=!1,e=ci(e,t.node,t.blockedBoundary,a,t.abortSet,t.legacyContext,t.context,t.treeContext).ping,i.then(e,e),t.blockedSegment.formatContext=r,t.legacyContext=n,t.context=o,Rt(o)}}function bi(e){var t=e.blockedBoundary;(e=e.blockedSegment).status=3,Si(this,t,e)}function xi(e,t,i){var r=e.blockedBoundary;e.blockedSegment.status=3,null===r?(t.allPendingTasks--,2!==t.status&&(t.status=2,null!==t.destination&&t.destination.close())):(r.pendingTasks--,r.forceClientRender||(r.forceClientRender=!0,e=void 0===i?Error(n(432)):i,r.errorDigest=t.onError(e),r.parentFlushed&&t.clientRenderedBoundaries.push(r)),r.fallbackAbortableTasks.forEach((function(e){return xi(e,t,i)})),r.fallbackAbortableTasks.clear(),t.allPendingTasks--,0===t.allPendingTasks&&(r=t.onAllReady)())}function wi(e,t){if(0===t.chunks.length&&1===t.children.length&&null===t.children[0].boundary){var i=t.children[0];i.id=t.id,i.parentFlushed=!0,1===i.status&&wi(e,i)}else e.completedSegments.push(t)}function Si(e,t,i){if(null===t){if(i.parentFlushed){if(null!==e.completedRootSegment)throw Error(n(389));e.completedRootSegment=i}e.pendingRootTasks--,0===e.pendingRootTasks&&(e.onShellError=li,(t=e.onShellReady)())}else t.pendingTasks--,t.forceClientRender||(0===t.pendingTasks?(i.parentFlushed&&1===i.status&&wi(t,i),t.parentFlushed&&e.completedBoundaries.push(t),t.fallbackAbortableTasks.forEach(bi,e),t.fallbackAbortableTasks.clear()):i.parentFlushed&&1===i.status&&(wi(t,i),1===t.completedSegments.length&&t.parentFlushed&&e.partialBoundaries.push(t)));e.allPendingTasks--,0===e.allPendingTasks&&(e=e.onAllReady)()}function ki(e){if(2!==e.status){var t=kt,i=si.current;si.current=ni;var r=oi;oi=e.responseState;try{var n,o=e.pingedTasks;for(n=0;n<o.length;n++){var s=o[n],a=e,l=s.blockedSegment;if(0===l.status){Rt(s.context);try{yi(a,s,s.node),l.lastPushedText&&l.textEmbedded&&l.chunks.push(L),s.abortSet.delete(s),l.status=1,Si(a,s.blockedBoundary,l)}catch(p){if(Zt(),"object"===typeof p&&null!==p&&"function"===typeof p.then){var c=s.ping;p.then(c,c)}else{s.abortSet.delete(s),l.status=4;var u=s.blockedBoundary,h=p,d=hi(a,h);if(null===u?di(a,h):(u.pendingTasks--,u.forceClientRender||(u.forceClientRender=!0,u.errorDigest=d,u.parentFlushed&&a.clientRenderedBoundaries.push(u))),a.allPendingTasks--,0===a.allPendingTasks)(0,a.onAllReady)()}}}}o.splice(0,n),null!==e.destination&&Ri(e,e.destination)}catch(p){hi(e,p),di(e,p)}finally{oi=r,si.current=i,i===ni&&Rt(t)}}}function Ci(e,t,i){switch(i.parentFlushed=!0,i.status){case 0:var r=i.id=e.nextSegmentId++;return i.lastPushedText=!1,i.textEmbedded=!1,e=e.responseState,a(t,ce),a(t,e.placeholderPrefix),a(t,e=h(r.toString(16))),l(t,ue);case 1:i.status=2;var o=!0;r=i.chunks;var s=0;i=i.children;for(var c=0;c<i.length;c++){for(o=i[c];s<o.index;s++)a(t,r[s]);o=Ti(e,t,o)}for(;s<r.length-1;s++)a(t,r[s]);return s<r.length&&(o=l(t,r[s])),o;default:throw Error(n(390))}}function Ti(e,t,i){var r=i.boundary;if(null===r)return Ci(e,t,i);if(r.parentFlushed=!0,r.forceClientRender)r=r.errorDigest,l(t,fe),a(t,me),r&&(a(t,_e),a(t,h(T(r))),a(t,ye)),l(t,ve),Ci(e,t,i);else if(0<r.pendingTasks){r.rootSegmentID=e.nextSegmentId++,0<r.completedSegments.length&&e.partialBoundaries.push(r);var o=e.responseState,s=o.nextSuspenseID++;o=d(o.boundaryPrefix+s.toString(16)),r=r.id=o,be(t,e.responseState,r),Ci(e,t,i)}else if(r.byteSize>e.progressiveChunkSize)r.rootSegmentID=e.nextSegmentId++,e.completedBoundaries.push(r),be(t,e.responseState,r.id),Ci(e,t,i);else{if(l(t,he),1!==(i=r.completedSegments).length)throw Error(n(391));Ti(e,t,i[0])}return l(t,ge)}function Ei(e,t,i){return function(e,t,i,r){switch(i.insertionMode){case 0:case 1:return a(e,xe),a(e,t.segmentPrefix),a(e,h(r.toString(16))),l(e,we);case 2:return a(e,ke),a(e,t.segmentPrefix),a(e,h(r.toString(16))),l(e,Ce);case 3:return a(e,Ee),a(e,t.segmentPrefix),a(e,h(r.toString(16))),l(e,De);case 4:return a(e,Re),a(e,t.segmentPrefix),a(e,h(r.toString(16))),l(e,Fe);case 5:return a(e,Oe),a(e,t.segmentPrefix),a(e,h(r.toString(16))),l(e,Me);case 6:return a(e,ze),a(e,t.segmentPrefix),a(e,h(r.toString(16))),l(e,Be);case 7:return a(e,Ue),a(e,t.segmentPrefix),a(e,h(r.toString(16))),l(e,Ne);default:throw Error(n(397))}}(t,e.responseState,i.formatContext,i.id),Ti(e,t,i),function(e,t){switch(t.insertionMode){case 0:case 1:return l(e,Se);case 2:return l(e,Te);case 3:return l(e,Ie);case 4:return l(e,Ae);case 5:return l(e,Pe);case 6:return l(e,Le);case 7:return l(e,He);default:throw Error(n(397))}}(t,i.formatContext)}function Di(e,t,i){for(var r=i.completedSegments,o=0;o<r.length;o++)Ii(e,t,i,r[o]);if(r.length=0,e=e.responseState,r=i.id,i=i.rootSegmentID,a(t,e.startInlineScript),e.sentCompleteBoundaryFunction?a(t,Xe):(e.sentCompleteBoundaryFunction=!0,a(t,qe)),null===r)throw Error(n(395));return i=h(i.toString(16)),a(t,r),a(t,Ye),a(t,e.segmentPrefix),a(t,i),l(t,Qe)}function Ii(e,t,i,r){if(2===r.status)return!0;var o=r.id;if(-1===o){if(-1===(r.id=i.rootSegmentID))throw Error(n(392));return Ei(e,t,r)}return Ei(e,t,r),a(t,(e=e.responseState).startInlineScript),e.sentCompleteSegmentFunction?a(t,We):(e.sentCompleteSegmentFunction=!0,a(t,je)),a(t,e.segmentPrefix),a(t,o=h(o.toString(16))),a(t,Ve),a(t,e.placeholderPrefix),a(t,o),l(t,Ge)}function Ri(e,t){o=new Uint8Array(512),s=0;try{var i=e.completedRootSegment;if(null!==i&&0===e.pendingRootTasks){Ti(e,t,i),e.completedRootSegment=null;var r=e.responseState.bootstrapChunks;for(i=0;i<r.length-1;i++)a(t,r[i]);i<r.length&&l(t,r[i])}var u,d=e.clientRenderedBoundaries;for(u=0;u<d.length;u++){var p=d[u];r=t;var f=e.responseState,g=p.id,m=p.errorDigest,y=p.errorMessage,_=p.errorComponentStack;if(a(r,f.startInlineScript),f.sentClientRenderFunction?a(r,Ze):(f.sentClientRenderFunction=!0,a(r,Ke)),null===g)throw Error(n(395));if(a(r,g),a(r,Je),(m||y||_)&&(a(r,et),a(r,h(it(m||"")))),(y||_)&&(a(r,et),a(r,h(it(y||"")))),_&&(a(r,et),a(r,h(it(_)))),!l(r,$e))return e.destination=null,u++,void d.splice(0,u)}d.splice(0,u);var v=e.completedBoundaries;for(u=0;u<v.length;u++)if(!Di(e,t,v[u]))return e.destination=null,u++,void v.splice(0,u);v.splice(0,u),c(t),o=new Uint8Array(512),s=0;var b=e.partialBoundaries;for(u=0;u<b.length;u++){var x=b[u];e:{d=e,p=t;var w=x.completedSegments;for(f=0;f<w.length;f++)if(!Ii(d,p,x,w[f])){f++,w.splice(0,f);var S=!1;break e}w.splice(0,f),S=!0}if(!S)return e.destination=null,u++,void b.splice(0,u)}b.splice(0,u);var k=e.completedBoundaries;for(u=0;u<k.length;u++)if(!Di(e,t,k[u]))return e.destination=null,u++,void k.splice(0,u);k.splice(0,u)}finally{c(t),0===e.allPendingTasks&&0===e.pingedTasks.length&&0===e.clientRenderedBoundaries.length&&0===e.completedBoundaries.length&&t.close()}}function Fi(e,t){try{var i=e.abortableTasks;i.forEach((function(i){return xi(i,e,t)})),i.clear(),null!==e.destination&&Ri(e,e.destination)}catch(r){hi(e,r),di(e,r)}}t.renderToReadableStream=function(e,t){return new Promise((function(i,r){var n,o,s=new Promise((function(e,t){o=e,n=t})),a=function(e,t,i,r,n,o,s,a,l){var c=[],u=new Set;return(i=ui(t={destination:null,responseState:t,progressiveChunkSize:void 0===r?12800:r,status:0,fatalError:null,nextSegmentId:0,allPendingTasks:0,pendingRootTasks:0,completedRootSegment:null,abortableTasks:u,pingedTasks:c,clientRenderedBoundaries:[],completedBoundaries:[],partialBoundaries:[],onError:void 0===n?ai:n,onAllReady:void 0===o?li:o,onShellReady:void 0===s?li:s,onShellError:void 0===a?li:a,onFatalError:void 0===l?li:l},0,null,i,!1,!1)).parentFlushed=!0,e=ci(t,e,null,i,u,wt,null,Ot),c.push(e),t}(e,function(e,t,i,r,n){e=void 0===e?"":e,t=void 0===t?R:d('<script nonce="'+T(t)+'">');var o=[];if(void 0!==i&&o.push(t,h((""+i).replace(P,z)),F),void 0!==r)for(i=0;i<r.length;i++)o.push(A,h(T(r[i])),M);if(void 0!==n)for(r=0;r<n.length;r++)o.push(O,h(T(n[r])),M);return{bootstrapChunks:o,startInlineScript:t,placeholderPrefix:d(e+"P:"),segmentPrefix:d(e+"S:"),boundaryPrefix:e+"B:",idPrefix:e,nextSuspenseID:0,sentCompleteSegmentFunction:!1,sentCompleteBoundaryFunction:!1,sentClientRenderFunction:!1}}(t?t.identifierPrefix:void 0,t?t.nonce:void 0,t?t.bootstrapScriptContent:void 0,t?t.bootstrapScripts:void 0,t?t.bootstrapModules:void 0),function(e){return B("http://www.w3.org/2000/svg"===e?2:"http://www.w3.org/1998/Math/MathML"===e?3:0,null)}(t?t.namespaceURI:void 0),t?t.progressiveChunkSize:void 0,t?t.onError:void 0,o,(function(){var e=new ReadableStream({type:"bytes",pull:function(e){if(1===a.status)a.status=2,p(e,a.fatalError);else if(2!==a.status&&null===a.destination){a.destination=e;try{Ri(a,e)}catch(t){hi(a,t),di(a,t)}}},cancel:function(){Fi(a)}},{highWaterMark:0});e.allReady=s,i(e)}),(function(e){s.catch((function(){})),r(e)}),n);if(t&&t.signal){var l=t.signal,c=function(){Fi(a,l.reason),l.removeEventListener("abort",c)};l.addEventListener("abort",c)}ki(a)}))},t.version="18.3.1"},730:(e,t,i)=>{"use strict";var r=i(43),n=i(853);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,i=1;i<arguments.length;i++)t+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,a={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(a[e]=t,e=0;e<t.length;e++)s.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},f={};function g(e,t,i,r,n,o,s){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=n,this.mustUseProperty=i,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new g(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new g(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new g(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new g(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new g(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new g(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new g(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new g(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new g(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function _(e){return e[1].toUpperCase()}function v(e,t,i,r){var n=m.hasOwnProperty(t)?m[t]:null;(null!==n?0!==n.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,i,r){if(null===t||"undefined"===typeof t||function(e,t,i,r){if(null!==i&&0===i.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==i?!i.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,i,r))return!0;if(r)return!1;if(null!==i)switch(i.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,i,n,r)&&(i=null),r||null===n?function(e){return!!h.call(f,e)||!h.call(p,e)&&(d.test(e)?f[e]=!0:(p[e]=!0,!1))}(t)&&(null===i?e.removeAttribute(t):e.setAttribute(t,""+i)):n.mustUseProperty?e[n.propertyName]=null===i?3!==n.type&&"":i:(t=n.attributeName,r=n.attributeNamespace,null===i?e.removeAttribute(t):(i=3===(n=n.type)||4===n&&!0===i?"":""+i,r?e.setAttributeNS(r,t,i):e.setAttribute(t,i))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,_);m[t]=new g(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,_);m[t]=new g(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,_);m[t]=new g(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new g(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new g(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=Symbol.for("react.element"),w=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),E=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),F=Symbol.for("react.memo"),A=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var O=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var M=Symbol.iterator;function P(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=M&&e[M]||e["@@iterator"])?e:null}var z,B=Object.assign;function L(e){if(void 0===z)try{throw Error()}catch(i){var t=i.stack.trim().match(/\n( *(at )?)/);z=t&&t[1]||""}return"\n"+z+e}var U=!1;function N(e,t){if(!e||U)return"";U=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var n=c.stack.split("\n"),o=r.stack.split("\n"),s=n.length-1,a=o.length-1;1<=s&&0<=a&&n[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(n[s]!==o[a]){if(1!==s||1!==a)do{if(s--,0>--a||n[s]!==o[a]){var l="\n"+n[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=s&&0<=a);break}}}finally{U=!1,Error.prepareStackTrace=i}return(e=e?e.displayName||e.name:"")?L(e):""}function H(e){switch(e.tag){case 5:return L(e.type);case 16:return L("Lazy");case 13:return L("Suspense");case 19:return L("SuspenseList");case 0:case 2:case 15:return e=N(e.type,!1);case 11:return e=N(e.type.render,!1);case 1:return e=N(e.type,!0);default:return""}}function j(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case S:return"Fragment";case w:return"Portal";case C:return"Profiler";case k:return"StrictMode";case I:return"Suspense";case R:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case E:return(e.displayName||"Context")+".Consumer";case T:return(e._context.displayName||"Context")+".Provider";case D:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case F:return null!==(t=e.displayName||null)?t:j(e.type)||"Memo";case A:t=e._payload,e=e._init;try{return j(e(t))}catch(i){}}return null}function W(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return j(t);case 8:return t===k?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function V(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function G(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function q(e){e._valueTracker||(e._valueTracker=function(e){var t=G(e)?"checked":"value",i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof i&&"function"===typeof i.get&&"function"===typeof i.set){var n=i.get,o=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return n.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function X(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var i=t.getValue(),r="";return e&&(r=G(e)?e.checked?"true":"false":e.value),(e=r)!==i&&(t.setValue(e),!0)}function Y(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Q(e,t){var i=t.checked;return B({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=i?i:e._wrapperState.initialChecked})}function K(e,t){var i=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;i=V(null!=t.value?t.value:i),e._wrapperState={initialChecked:r,initialValue:i,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Z(e,t){null!=(t=t.checked)&&v(e,"checked",t,!1)}function J(e,t){Z(e,t);var i=V(t.value),r=t.type;if(null!=i)"number"===r?(0===i&&""===e.value||e.value!=i)&&(e.value=""+i):e.value!==""+i&&(e.value=""+i);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,i):t.hasOwnProperty("defaultValue")&&ee(e,t.type,V(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function $(e,t,i){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,i||t===e.value||(e.value=t),e.defaultValue=t}""!==(i=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==i&&(e.name=i)}function ee(e,t,i){"number"===t&&Y(e.ownerDocument)===e||(null==i?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+i&&(e.defaultValue=""+i))}var te=Array.isArray;function ie(e,t,i,r){if(e=e.options,t){t={};for(var n=0;n<i.length;n++)t["$"+i[n]]=!0;for(i=0;i<e.length;i++)n=t.hasOwnProperty("$"+e[i].value),e[i].selected!==n&&(e[i].selected=n),n&&r&&(e[i].defaultSelected=!0)}else{for(i=""+V(i),t=null,n=0;n<e.length;n++){if(e[n].value===i)return e[n].selected=!0,void(r&&(e[n].defaultSelected=!0));null!==t||e[n].disabled||(t=e[n])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return B({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ne(e,t){var i=t.value;if(null==i){if(i=t.children,t=t.defaultValue,null!=i){if(null!=t)throw Error(o(92));if(te(i)){if(1<i.length)throw Error(o(93));i=i[0]}t=i}null==t&&(t=""),i=t}e._wrapperState={initialValue:V(i)}}function oe(e,t){var i=V(t.value),r=V(t.defaultValue);null!=i&&((i=""+i)!==e.value&&(e.value=i),null==t.defaultValue&&e.defaultValue!==i&&(e.defaultValue=i)),null!=r&&(e.defaultValue=""+r)}function se(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ae(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ae(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue=function(e){return"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,i,r,n){MSApp.execUnsafeLocalFunction((function(){return e(t,i)}))}:e}((function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}}));function he(e,t){if(t){var i=e.firstChild;if(i&&i===e.lastChild&&3===i.nodeType)return void(i.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function fe(e,t,i){return null==t||"boolean"===typeof t||""===t?"":i||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function ge(e,t){for(var i in e=e.style,t)if(t.hasOwnProperty(i)){var r=0===i.indexOf("--"),n=fe(i,t[i],r);"float"===i&&(i="cssFloat"),r?e.setProperty(i,n):e[i]=n}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var me=B({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(me[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function _e(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ve=null;function be(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,we=null,Se=null;function ke(e){if(e=gn(e)){if("function"!==typeof xe)throw Error(o(280));var t=e.stateNode;t&&(t=yn(t),xe(e.stateNode,e.type,t))}}function Ce(e){we?Se?Se.push(e):Se=[e]:we=e}function Te(){if(we){var e=we,t=Se;if(Se=we=null,ke(e),t)for(e=0;e<t.length;e++)ke(t[e])}}function Ee(e,t){return e(t)}function De(){}var Ie=!1;function Re(e,t,i){if(Ie)return e(t,i);Ie=!0;try{return Ee(e,t,i)}finally{Ie=!1,(null!==we||null!==Se)&&(De(),Te())}}function Fe(e,t){var i=e.stateNode;if(null===i)return null;var r=yn(i);if(null===r)return null;i=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(i&&"function"!==typeof i)throw Error(o(231,t,typeof i));return i}var Ae=!1;if(u)try{var Oe={};Object.defineProperty(Oe,"passive",{get:function(){Ae=!0}}),window.addEventListener("test",Oe,Oe),window.removeEventListener("test",Oe,Oe)}catch(eu){Ae=!1}function Me(e,t,i,r,n,o,s,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(i,c)}catch(u){this.onError(u)}}var Pe=!1,ze=null,Be=!1,Le=null,Ue={onError:function(e){Pe=!0,ze=e}};function Ne(e,t,i,r,n,o,s,a,l){Pe=!1,ze=null,Me.apply(Ue,arguments)}function He(e){var t=e,i=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(i=t.return),e=t.return}while(e)}return 3===t.tag?i:null}function je(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(He(e)!==e)throw Error(o(188))}function Ve(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=He(e)))throw Error(o(188));return t!==e?null:e}for(var i=e,r=t;;){var n=i.return;if(null===n)break;var s=n.alternate;if(null===s){if(null!==(r=n.return)){i=r;continue}break}if(n.child===s.child){for(s=n.child;s;){if(s===i)return We(n),e;if(s===r)return We(n),t;s=s.sibling}throw Error(o(188))}if(i.return!==r.return)i=n,r=s;else{for(var a=!1,l=n.child;l;){if(l===i){a=!0,i=n,r=s;break}if(l===r){a=!0,r=n,i=s;break}l=l.sibling}if(!a){for(l=s.child;l;){if(l===i){a=!0,i=s,r=n;break}if(l===r){a=!0,r=s,i=n;break}l=l.sibling}if(!a)throw Error(o(189))}}if(i.alternate!==r)throw Error(o(190))}if(3!==i.tag)throw Error(o(188));return i.stateNode.current===i?e:t}(e))?Ge(e):null}function Ge(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ge(e);if(null!==t)return t;e=e.sibling}return null}var qe=n.unstable_scheduleCallback,Xe=n.unstable_cancelCallback,Ye=n.unstable_shouldYield,Qe=n.unstable_requestPaint,Ke=n.unstable_now,Ze=n.unstable_getCurrentPriorityLevel,Je=n.unstable_ImmediatePriority,$e=n.unstable_UserBlockingPriority,et=n.unstable_NormalPriority,tt=n.unstable_LowPriority,it=n.unstable_IdlePriority,rt=null,nt=null;var ot=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(st(e)/at|0)|0},st=Math.log,at=Math.LN2;var lt=64,ct=4194304;function ut(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var i=e.pendingLanes;if(0===i)return 0;var r=0,n=e.suspendedLanes,o=e.pingedLanes,s=268435455&i;if(0!==s){var a=s&~n;0!==a?r=ut(a):0!==(o&=s)&&(r=ut(o))}else 0!==(s=i&~n)?r=ut(s):0!==o&&(r=ut(o));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&n)&&((n=r&-r)>=(o=t&-t)||16===n&&0!==(4194240&o)))return t;if(0!==(4&r)&&(r|=16&i),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)n=1<<(i=31-ot(t)),r|=e[i],t&=~n;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function ft(){var e=lt;return 0===(4194240&(lt<<=1))&&(lt=64),e}function gt(e){for(var t=[],i=0;31>i;i++)t.push(e);return t}function mt(e,t,i){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=i}function yt(e,t){var i=e.entangledLanes|=t;for(e=e.entanglements;i;){var r=31-ot(i),n=1<<r;n&t|e[r]&t&&(e[r]|=t),i&=~n}}var _t=0;function vt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var bt,xt,wt,St,kt,Ct=!1,Tt=[],Et=null,Dt=null,It=null,Rt=new Map,Ft=new Map,At=[],Ot="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Mt(e,t){switch(e){case"focusin":case"focusout":Et=null;break;case"dragenter":case"dragleave":Dt=null;break;case"mouseover":case"mouseout":It=null;break;case"pointerover":case"pointerout":Rt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ft.delete(t.pointerId)}}function Pt(e,t,i,r,n,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:i,eventSystemFlags:r,nativeEvent:o,targetContainers:[n]},null!==t&&(null!==(t=gn(t))&&xt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==n&&-1===t.indexOf(n)&&t.push(n),e)}function zt(e){var t=fn(e.target);if(null!==t){var i=He(t);if(null!==i)if(13===(t=i.tag)){if(null!==(t=je(i)))return e.blockedOn=t,void kt(e.priority,(function(){wt(i)}))}else if(3===t&&i.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===i.tag?i.stateNode.containerInfo:null)}e.blockedOn=null}function Bt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var i=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==i)return null!==(t=gn(i))&&xt(t),e.blockedOn=i,!1;var r=new(i=e.nativeEvent).constructor(i.type,i);ve=r,i.target.dispatchEvent(r),ve=null,t.shift()}return!0}function Lt(e,t,i){Bt(e)&&i.delete(t)}function Ut(){Ct=!1,null!==Et&&Bt(Et)&&(Et=null),null!==Dt&&Bt(Dt)&&(Dt=null),null!==It&&Bt(It)&&(It=null),Rt.forEach(Lt),Ft.forEach(Lt)}function Nt(e,t){e.blockedOn===t&&(e.blockedOn=null,Ct||(Ct=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,Ut)))}function Ht(e){function t(t){return Nt(t,e)}if(0<Tt.length){Nt(Tt[0],e);for(var i=1;i<Tt.length;i++){var r=Tt[i];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Et&&Nt(Et,e),null!==Dt&&Nt(Dt,e),null!==It&&Nt(It,e),Rt.forEach(t),Ft.forEach(t),i=0;i<At.length;i++)(r=At[i]).blockedOn===e&&(r.blockedOn=null);for(;0<At.length&&null===(i=At[0]).blockedOn;)zt(i),null===i.blockedOn&&At.shift()}var jt=b.ReactCurrentBatchConfig,Wt=!0;function Vt(e,t,i,r){var n=_t,o=jt.transition;jt.transition=null;try{_t=1,qt(e,t,i,r)}finally{_t=n,jt.transition=o}}function Gt(e,t,i,r){var n=_t,o=jt.transition;jt.transition=null;try{_t=4,qt(e,t,i,r)}finally{_t=n,jt.transition=o}}function qt(e,t,i,r){if(Wt){var n=Yt(e,t,i,r);if(null===n)Ur(e,t,r,Xt,i),Mt(e,r);else if(function(e,t,i,r,n){switch(t){case"focusin":return Et=Pt(Et,e,t,i,r,n),!0;case"dragenter":return Dt=Pt(Dt,e,t,i,r,n),!0;case"mouseover":return It=Pt(It,e,t,i,r,n),!0;case"pointerover":var o=n.pointerId;return Rt.set(o,Pt(Rt.get(o)||null,e,t,i,r,n)),!0;case"gotpointercapture":return o=n.pointerId,Ft.set(o,Pt(Ft.get(o)||null,e,t,i,r,n)),!0}return!1}(n,e,t,i,r))r.stopPropagation();else if(Mt(e,r),4&t&&-1<Ot.indexOf(e)){for(;null!==n;){var o=gn(n);if(null!==o&&bt(o),null===(o=Yt(e,t,i,r))&&Ur(e,t,r,Xt,i),o===n)break;n=o}null!==n&&r.stopPropagation()}else Ur(e,t,r,null,i)}}var Xt=null;function Yt(e,t,i,r){if(Xt=null,null!==(e=fn(e=be(r))))if(null===(t=He(e)))e=null;else if(13===(i=t.tag)){if(null!==(e=je(t)))return e;e=null}else if(3===i){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Xt=e,null}function Qt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ze()){case Je:return 1;case $e:return 4;case et:case tt:return 16;case it:return 536870912;default:return 16}default:return 16}}var Kt=null,Zt=null,Jt=null;function $t(){if(Jt)return Jt;var e,t,i=Zt,r=i.length,n="value"in Kt?Kt.value:Kt.textContent,o=n.length;for(e=0;e<r&&i[e]===n[e];e++);var s=r-e;for(t=1;t<=s&&i[r-t]===n[o-t];t++);return Jt=n.slice(e,1<t?1-t:void 0)}function ei(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function ti(){return!0}function ii(){return!1}function ri(e){function t(t,i,r,n,o){for(var s in this._reactName=t,this._targetInst=r,this.type=i,this.nativeEvent=n,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(n):n[s]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?ti:ii,this.isPropagationStopped=ii,this}return B(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=ti)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=ti)},persist:function(){},isPersistent:ti}),t}var ni,oi,si,ai={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},li=ri(ai),ci=B({},ai,{view:0,detail:0}),ui=ri(ci),hi=B({},ci,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wi,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==si&&(si&&"mousemove"===e.type?(ni=e.screenX-si.screenX,oi=e.screenY-si.screenY):oi=ni=0,si=e),ni)},movementY:function(e){return"movementY"in e?e.movementY:oi}}),di=ri(hi),pi=ri(B({},hi,{dataTransfer:0})),fi=ri(B({},ci,{relatedTarget:0})),gi=ri(B({},ai,{animationName:0,elapsedTime:0,pseudoElement:0})),mi=ri(B({},ai,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),yi=ri(B({},ai,{data:0})),_i={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vi={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bi={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xi(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=bi[e])&&!!t[e]}function wi(){return xi}var Si=ri(B({},ci,{key:function(e){if(e.key){var t=_i[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=ei(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?vi[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wi,charCode:function(e){return"keypress"===e.type?ei(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?ei(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),ki=ri(B({},hi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Ci=ri(B({},ci,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wi})),Ti=ri(B({},ai,{propertyName:0,elapsedTime:0,pseudoElement:0})),Ei=ri(B({},hi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),Di=[9,13,27,32],Ii=u&&"CompositionEvent"in window,Ri=null;u&&"documentMode"in document&&(Ri=document.documentMode);var Fi=u&&"TextEvent"in window&&!Ri,Ai=u&&(!Ii||Ri&&8<Ri&&11>=Ri),Oi=String.fromCharCode(32),Mi=!1;function Pi(e,t){switch(e){case"keyup":return-1!==Di.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zi(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Bi=!1;var Li={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ui(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Li[e.type]:"textarea"===t}function Ni(e,t,i,r){Ce(r),0<(t=Hr(t,"onChange")).length&&(i=new li("onChange","change",null,i,r),e.push({event:i,listeners:t}))}var Hi=null,ji=null;function Wi(e){Or(e,0)}function Vi(e){if(X(mn(e)))return e}function Gi(e,t){if("change"===e)return t}var qi=!1;if(u){var Xi;if(u){var Yi="oninput"in document;if(!Yi){var Qi=document.createElement("div");Qi.setAttribute("oninput","return;"),Yi="function"===typeof Qi.oninput}Xi=Yi}else Xi=!1;qi=Xi&&(!document.documentMode||9<document.documentMode)}function Ki(){Hi&&(Hi.detachEvent("onpropertychange",Zi),ji=Hi=null)}function Zi(e){if("value"===e.propertyName&&Vi(ji)){var t=[];Ni(t,ji,e,be(e)),Re(Wi,t)}}function Ji(e,t,i){"focusin"===e?(Ki(),ji=i,(Hi=t).attachEvent("onpropertychange",Zi)):"focusout"===e&&Ki()}function $i(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Vi(ji)}function er(e,t){if("click"===e)return Vi(t)}function tr(e,t){if("input"===e||"change"===e)return Vi(t)}var ir="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function rr(e,t){if(ir(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var i=Object.keys(e),r=Object.keys(t);if(i.length!==r.length)return!1;for(r=0;r<i.length;r++){var n=i[r];if(!h.call(t,n)||!ir(e[n],t[n]))return!1}return!0}function nr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function or(e,t){var i,r=nr(e);for(e=0;r;){if(3===r.nodeType){if(i=e+r.textContent.length,e<=t&&i>=t)return{node:r,offset:t-e};e=i}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=nr(r)}}function sr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?sr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function ar(){for(var e=window,t=Y();t instanceof e.HTMLIFrameElement;){try{var i="string"===typeof t.contentWindow.location.href}catch(r){i=!1}if(!i)break;t=Y((e=t.contentWindow).document)}return t}function lr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function cr(e){var t=ar(),i=e.focusedElem,r=e.selectionRange;if(t!==i&&i&&i.ownerDocument&&sr(i.ownerDocument.documentElement,i)){if(null!==r&&lr(i))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in i)i.selectionStart=t,i.selectionEnd=Math.min(e,i.value.length);else if((e=(t=i.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var n=i.textContent.length,o=Math.min(r.start,n);r=void 0===r.end?o:Math.min(r.end,n),!e.extend&&o>r&&(n=r,r=o,o=n),n=or(i,o);var s=or(i,r);n&&s&&(1!==e.rangeCount||e.anchorNode!==n.node||e.anchorOffset!==n.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&((t=t.createRange()).setStart(n.node,n.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}for(t=[],e=i;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof i.focus&&i.focus(),i=0;i<t.length;i++)(e=t[i]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var ur=u&&"documentMode"in document&&11>=document.documentMode,hr=null,dr=null,pr=null,fr=!1;function gr(e,t,i){var r=i.window===i?i.document:9===i.nodeType?i:i.ownerDocument;fr||null==hr||hr!==Y(r)||("selectionStart"in(r=hr)&&lr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},pr&&rr(pr,r)||(pr=r,0<(r=Hr(dr,"onSelect")).length&&(t=new li("onSelect","select",null,t,i),e.push({event:t,listeners:r}),t.target=hr)))}function mr(e,t){var i={};return i[e.toLowerCase()]=t.toLowerCase(),i["Webkit"+e]="webkit"+t,i["Moz"+e]="moz"+t,i}var yr={animationend:mr("Animation","AnimationEnd"),animationiteration:mr("Animation","AnimationIteration"),animationstart:mr("Animation","AnimationStart"),transitionend:mr("Transition","TransitionEnd")},_r={},vr={};function br(e){if(_r[e])return _r[e];if(!yr[e])return e;var t,i=yr[e];for(t in i)if(i.hasOwnProperty(t)&&t in vr)return _r[e]=i[t];return e}u&&(vr=document.createElement("div").style,"AnimationEvent"in window||(delete yr.animationend.animation,delete yr.animationiteration.animation,delete yr.animationstart.animation),"TransitionEvent"in window||delete yr.transitionend.transition);var xr=br("animationend"),wr=br("animationiteration"),Sr=br("animationstart"),kr=br("transitionend"),Cr=new Map,Tr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Er(e,t){Cr.set(e,t),l(t,[e])}for(var Dr=0;Dr<Tr.length;Dr++){var Ir=Tr[Dr];Er(Ir.toLowerCase(),"on"+(Ir[0].toUpperCase()+Ir.slice(1)))}Er(xr,"onAnimationEnd"),Er(wr,"onAnimationIteration"),Er(Sr,"onAnimationStart"),Er("dblclick","onDoubleClick"),Er("focusin","onFocus"),Er("focusout","onBlur"),Er(kr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Fr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Rr));function Ar(e,t,i){var r=e.type||"unknown-event";e.currentTarget=i,function(e,t,i,r,n,s,a,l,c){if(Ne.apply(this,arguments),Pe){if(!Pe)throw Error(o(198));var u=ze;Pe=!1,ze=null,Be||(Be=!0,Le=u)}}(r,t,void 0,e),e.currentTarget=null}function Or(e,t){t=0!==(4&t);for(var i=0;i<e.length;i++){var r=e[i],n=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==o&&n.isPropagationStopped())break e;Ar(n,a,c),o=l}else for(s=0;s<r.length;s++){if(l=(a=r[s]).instance,c=a.currentTarget,a=a.listener,l!==o&&n.isPropagationStopped())break e;Ar(n,a,c),o=l}}}if(Be)throw e=Le,Be=!1,Le=null,e}function Mr(e,t){var i=t[hn];void 0===i&&(i=t[hn]=new Set);var r=e+"__bubble";i.has(r)||(Lr(t,e,2,!1),i.add(r))}function Pr(e,t,i){var r=0;t&&(r|=4),Lr(i,e,r,t)}var zr="_reactListening"+Math.random().toString(36).slice(2);function Br(e){if(!e[zr]){e[zr]=!0,s.forEach((function(t){"selectionchange"!==t&&(Fr.has(t)||Pr(t,!1,e),Pr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zr]||(t[zr]=!0,Pr("selectionchange",!1,t))}}function Lr(e,t,i,r){switch(Qt(t)){case 1:var n=Vt;break;case 4:n=Gt;break;default:n=qt}i=n.bind(null,t,i,e),n=void 0,!Ae||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(n=!0),r?void 0!==n?e.addEventListener(t,i,{capture:!0,passive:n}):e.addEventListener(t,i,!0):void 0!==n?e.addEventListener(t,i,{passive:n}):e.addEventListener(t,i,!1)}function Ur(e,t,i,r,n){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var s=r.tag;if(3===s||4===s){var a=r.stateNode.containerInfo;if(a===n||8===a.nodeType&&a.parentNode===n)break;if(4===s)for(s=r.return;null!==s;){var l=s.tag;if((3===l||4===l)&&((l=s.stateNode.containerInfo)===n||8===l.nodeType&&l.parentNode===n))return;s=s.return}for(;null!==a;){if(null===(s=fn(a)))return;if(5===(l=s.tag)||6===l){r=o=s;continue e}a=a.parentNode}}r=r.return}Re((function(){var r=o,n=be(i),s=[];e:{var a=Cr.get(e);if(void 0!==a){var l=li,c=e;switch(e){case"keypress":if(0===ei(i))break e;case"keydown":case"keyup":l=Si;break;case"focusin":c="focus",l=fi;break;case"focusout":c="blur",l=fi;break;case"beforeblur":case"afterblur":l=fi;break;case"click":if(2===i.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=di;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=pi;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Ci;break;case xr:case wr:case Sr:l=gi;break;case kr:l=Ti;break;case"scroll":l=ui;break;case"wheel":l=Ei;break;case"copy":case"cut":case"paste":l=mi;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=ki}var u=0!==(4&t),h=!u&&"scroll"===e,d=u?null!==a?a+"Capture":null:a;u=[];for(var p,f=r;null!==f;){var g=(p=f).stateNode;if(5===p.tag&&null!==g&&(p=g,null!==d&&(null!=(g=Fe(f,d))&&u.push(Nr(f,g,p)))),h)break;f=f.return}0<u.length&&(a=new l(a,c,null,i,n),s.push({event:a,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||i===ve||!(c=i.relatedTarget||i.fromElement)||!fn(c)&&!c[un])&&(l||a)&&(a=n.window===n?n:(a=n.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=r,null!==(c=(c=i.relatedTarget||i.toElement)?fn(c):null)&&(c!==(h=He(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=di,g="onMouseLeave",d="onMouseEnter",f="mouse","pointerout"!==e&&"pointerover"!==e||(u=ki,g="onPointerLeave",d="onPointerEnter",f="pointer"),h=null==l?a:mn(l),p=null==c?a:mn(c),(a=new u(g,f+"leave",l,i,n)).target=h,a.relatedTarget=p,g=null,fn(n)===r&&((u=new u(d,f+"enter",c,i,n)).target=p,u.relatedTarget=h,g=u),h=g,l&&c)e:{for(d=c,f=0,p=u=l;p;p=jr(p))f++;for(p=0,g=d;g;g=jr(g))p++;for(;0<f-p;)u=jr(u),f--;for(;0<p-f;)d=jr(d),p--;for(;f--;){if(u===d||null!==d&&u===d.alternate)break e;u=jr(u),d=jr(d)}u=null}else u=null;null!==l&&Wr(s,a,l,u,!1),null!==c&&null!==h&&Wr(s,h,c,u,!0)}if("select"===(l=(a=r?mn(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var m=Gi;else if(Ui(a))if(qi)m=tr;else{m=$i;var y=Ji}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(m=er);switch(m&&(m=m(e,r))?Ni(s,m,i,n):(y&&y(e,a,r),"focusout"===e&&(y=a._wrapperState)&&y.controlled&&"number"===a.type&&ee(a,"number",a.value)),y=r?mn(r):window,e){case"focusin":(Ui(y)||"true"===y.contentEditable)&&(hr=y,dr=r,pr=null);break;case"focusout":pr=dr=hr=null;break;case"mousedown":fr=!0;break;case"contextmenu":case"mouseup":case"dragend":fr=!1,gr(s,i,n);break;case"selectionchange":if(ur)break;case"keydown":case"keyup":gr(s,i,n)}var _;if(Ii)e:{switch(e){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else Bi?Pi(e,i)&&(v="onCompositionEnd"):"keydown"===e&&229===i.keyCode&&(v="onCompositionStart");v&&(Ai&&"ko"!==i.locale&&(Bi||"onCompositionStart"!==v?"onCompositionEnd"===v&&Bi&&(_=$t()):(Zt="value"in(Kt=n)?Kt.value:Kt.textContent,Bi=!0)),0<(y=Hr(r,v)).length&&(v=new yi(v,e,null,i,n),s.push({event:v,listeners:y}),_?v.data=_:null!==(_=zi(i))&&(v.data=_))),(_=Fi?function(e,t){switch(e){case"compositionend":return zi(t);case"keypress":return 32!==t.which?null:(Mi=!0,Oi);case"textInput":return(e=t.data)===Oi&&Mi?null:e;default:return null}}(e,i):function(e,t){if(Bi)return"compositionend"===e||!Ii&&Pi(e,t)?(e=$t(),Jt=Zt=Kt=null,Bi=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ai&&"ko"!==t.locale?null:t.data}}(e,i))&&(0<(r=Hr(r,"onBeforeInput")).length&&(n=new yi("onBeforeInput","beforeinput",null,i,n),s.push({event:n,listeners:r}),n.data=_))}Or(s,t)}))}function Nr(e,t,i){return{instance:e,listener:t,currentTarget:i}}function Hr(e,t){for(var i=t+"Capture",r=[];null!==e;){var n=e,o=n.stateNode;5===n.tag&&null!==o&&(n=o,null!=(o=Fe(e,i))&&r.unshift(Nr(e,o,n)),null!=(o=Fe(e,t))&&r.push(Nr(e,o,n))),e=e.return}return r}function jr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Wr(e,t,i,r,n){for(var o=t._reactName,s=[];null!==i&&i!==r;){var a=i,l=a.alternate,c=a.stateNode;if(null!==l&&l===r)break;5===a.tag&&null!==c&&(a=c,n?null!=(l=Fe(i,o))&&s.unshift(Nr(i,l,a)):n||null!=(l=Fe(i,o))&&s.push(Nr(i,l,a))),i=i.return}0!==s.length&&e.push({event:t,listeners:s})}var Vr=/\r\n?/g,Gr=/\u0000|\uFFFD/g;function qr(e){return("string"===typeof e?e:""+e).replace(Vr,"\n").replace(Gr,"")}function Xr(e,t,i){if(t=qr(t),qr(e)!==t&&i)throw Error(o(425))}function Yr(){}var Qr=null,Kr=null;function Zr(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Jr="function"===typeof setTimeout?setTimeout:void 0,$r="function"===typeof clearTimeout?clearTimeout:void 0,en="function"===typeof Promise?Promise:void 0,tn="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof en?function(e){return en.resolve(null).then(e).catch(rn)}:Jr;function rn(e){setTimeout((function(){throw e}))}function nn(e,t){var i=t,r=0;do{var n=i.nextSibling;if(e.removeChild(i),n&&8===n.nodeType)if("/$"===(i=n.data)){if(0===r)return e.removeChild(n),void Ht(t);r--}else"$"!==i&&"$?"!==i&&"$!"!==i||r++;i=n}while(i);Ht(t)}function on(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function sn(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var i=e.data;if("$"===i||"$!"===i||"$?"===i){if(0===t)return e;t--}else"/$"===i&&t++}e=e.previousSibling}return null}var an=Math.random().toString(36).slice(2),ln="__reactFiber$"+an,cn="__reactProps$"+an,un="__reactContainer$"+an,hn="__reactEvents$"+an,dn="__reactListeners$"+an,pn="__reactHandles$"+an;function fn(e){var t=e[ln];if(t)return t;for(var i=e.parentNode;i;){if(t=i[un]||i[ln]){if(i=t.alternate,null!==t.child||null!==i&&null!==i.child)for(e=sn(e);null!==e;){if(i=e[ln])return i;e=sn(e)}return t}i=(e=i).parentNode}return null}function gn(e){return!(e=e[ln]||e[un])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function mn(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function yn(e){return e[cn]||null}var _n=[],vn=-1;function bn(e){return{current:e}}function xn(e){0>vn||(e.current=_n[vn],_n[vn]=null,vn--)}function wn(e,t){vn++,_n[vn]=e.current,e.current=t}var Sn={},kn=bn(Sn),Cn=bn(!1),Tn=Sn;function En(e,t){var i=e.type.contextTypes;if(!i)return Sn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var n,o={};for(n in i)o[n]=t[n];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Dn(e){return null!==(e=e.childContextTypes)&&void 0!==e}function In(){xn(Cn),xn(kn)}function Rn(e,t,i){if(kn.current!==Sn)throw Error(o(168));wn(kn,t),wn(Cn,i)}function Fn(e,t,i){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return i;for(var n in r=r.getChildContext())if(!(n in t))throw Error(o(108,W(e)||"Unknown",n));return B({},i,r)}function An(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Sn,Tn=kn.current,wn(kn,e),wn(Cn,Cn.current),!0}function On(e,t,i){var r=e.stateNode;if(!r)throw Error(o(169));i?(e=Fn(e,t,Tn),r.__reactInternalMemoizedMergedChildContext=e,xn(Cn),xn(kn),wn(kn,e)):xn(Cn),wn(Cn,i)}var Mn=null,Pn=!1,zn=!1;function Bn(e){null===Mn?Mn=[e]:Mn.push(e)}function Ln(){if(!zn&&null!==Mn){zn=!0;var e=0,t=_t;try{var i=Mn;for(_t=1;e<i.length;e++){var r=i[e];do{r=r(!0)}while(null!==r)}Mn=null,Pn=!1}catch(n){throw null!==Mn&&(Mn=Mn.slice(e+1)),qe(Je,Ln),n}finally{_t=t,zn=!1}}return null}var Un=[],Nn=0,Hn=null,jn=0,Wn=[],Vn=0,Gn=null,qn=1,Xn="";function Yn(e,t){Un[Nn++]=jn,Un[Nn++]=Hn,Hn=e,jn=t}function Qn(e,t,i){Wn[Vn++]=qn,Wn[Vn++]=Xn,Wn[Vn++]=Gn,Gn=e;var r=qn;e=Xn;var n=32-ot(r)-1;r&=~(1<<n),i+=1;var o=32-ot(t)+n;if(30<o){var s=n-n%5;o=(r&(1<<s)-1).toString(32),r>>=s,n-=s,qn=1<<32-ot(t)+n|i<<n|r,Xn=o+e}else qn=1<<o|i<<n|r,Xn=e}function Kn(e){null!==e.return&&(Yn(e,1),Qn(e,1,0))}function Zn(e){for(;e===Hn;)Hn=Un[--Nn],Un[Nn]=null,jn=Un[--Nn],Un[Nn]=null;for(;e===Gn;)Gn=Wn[--Vn],Wn[Vn]=null,Xn=Wn[--Vn],Wn[Vn]=null,qn=Wn[--Vn],Wn[Vn]=null}var Jn=null,$n=null,eo=!1,to=null;function io(e,t){var i=Ec(5,null,null,0);i.elementType="DELETED",i.stateNode=t,i.return=e,null===(t=e.deletions)?(e.deletions=[i],e.flags|=16):t.push(i)}function ro(e,t){switch(e.tag){case 5:var i=e.type;return null!==(t=1!==t.nodeType||i.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,Jn=e,$n=on(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,Jn=e,$n=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(i=null!==Gn?{id:qn,overflow:Xn}:null,e.memoizedState={dehydrated:t,treeContext:i,retryLane:1073741824},(i=Ec(18,null,null,0)).stateNode=t,i.return=e,e.child=i,Jn=e,$n=null,!0);default:return!1}}function no(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function oo(e){if(eo){var t=$n;if(t){var i=t;if(!ro(e,t)){if(no(e))throw Error(o(418));t=on(i.nextSibling);var r=Jn;t&&ro(e,t)?io(r,i):(e.flags=-4097&e.flags|2,eo=!1,Jn=e)}}else{if(no(e))throw Error(o(418));e.flags=-4097&e.flags|2,eo=!1,Jn=e}}}function so(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Jn=e}function ao(e){if(e!==Jn)return!1;if(!eo)return so(e),eo=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!Zr(e.type,e.memoizedProps)),t&&(t=$n)){if(no(e))throw lo(),Error(o(418));for(;t;)io(e,t),t=on(t.nextSibling)}if(so(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var i=e.data;if("/$"===i){if(0===t){$n=on(e.nextSibling);break e}t--}else"$"!==i&&"$!"!==i&&"$?"!==i||t++}e=e.nextSibling}$n=null}}else $n=Jn?on(e.stateNode.nextSibling):null;return!0}function lo(){for(var e=$n;e;)e=on(e.nextSibling)}function co(){$n=Jn=null,eo=!1}function uo(e){null===to?to=[e]:to.push(e)}var ho=b.ReactCurrentBatchConfig;function po(e,t,i){if(null!==(e=i.ref)&&"function"!==typeof e&&"object"!==typeof e){if(i._owner){if(i=i._owner){if(1!==i.tag)throw Error(o(309));var r=i.stateNode}if(!r)throw Error(o(147,e));var n=r,s=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===s?t.ref:(t=function(e){var t=n.refs;null===e?delete t[s]:t[s]=e},t._stringRef=s,t)}if("string"!==typeof e)throw Error(o(284));if(!i._owner)throw Error(o(290,e))}return e}function fo(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function go(e){return(0,e._init)(e._payload)}function mo(e){function t(t,i){if(e){var r=t.deletions;null===r?(t.deletions=[i],t.flags|=16):r.push(i)}}function i(i,r){if(!e)return null;for(;null!==r;)t(i,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function n(e,t){return(e=Ic(e,t)).index=0,e.sibling=null,e}function s(t,i,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<i?(t.flags|=2,i):r:(t.flags|=2,i):(t.flags|=1048576,i)}function a(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,i,r){return null===t||6!==t.tag?((t=Oc(i,e.mode,r)).return=e,t):((t=n(t,i)).return=e,t)}function c(e,t,i,r){var o=i.type;return o===S?h(e,t,i.props.children,r,i.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===A&&go(o)===t.type)?((r=n(t,i.props)).ref=po(e,t,i),r.return=e,r):((r=Rc(i.type,i.key,i.props,null,e.mode,r)).ref=po(e,t,i),r.return=e,r)}function u(e,t,i,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==i.containerInfo||t.stateNode.implementation!==i.implementation?((t=Mc(i,e.mode,r)).return=e,t):((t=n(t,i.children||[])).return=e,t)}function h(e,t,i,r,o){return null===t||7!==t.tag?((t=Fc(i,e.mode,r,o)).return=e,t):((t=n(t,i)).return=e,t)}function d(e,t,i){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Oc(""+t,e.mode,i)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case x:return(i=Rc(t.type,t.key,t.props,null,e.mode,i)).ref=po(e,null,t),i.return=e,i;case w:return(t=Mc(t,e.mode,i)).return=e,t;case A:return d(e,(0,t._init)(t._payload),i)}if(te(t)||P(t))return(t=Fc(t,e.mode,i,null)).return=e,t;fo(e,t)}return null}function p(e,t,i,r){var n=null!==t?t.key:null;if("string"===typeof i&&""!==i||"number"===typeof i)return null!==n?null:l(e,t,""+i,r);if("object"===typeof i&&null!==i){switch(i.$$typeof){case x:return i.key===n?c(e,t,i,r):null;case w:return i.key===n?u(e,t,i,r):null;case A:return p(e,t,(n=i._init)(i._payload),r)}if(te(i)||P(i))return null!==n?null:h(e,t,i,r,null);fo(e,i)}return null}function f(e,t,i,r,n){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(i)||null,""+r,n);if("object"===typeof r&&null!==r){switch(r.$$typeof){case x:return c(t,e=e.get(null===r.key?i:r.key)||null,r,n);case w:return u(t,e=e.get(null===r.key?i:r.key)||null,r,n);case A:return f(e,t,i,(0,r._init)(r._payload),n)}if(te(r)||P(r))return h(t,e=e.get(i)||null,r,n,null);fo(t,r)}return null}function g(n,o,a,l){for(var c=null,u=null,h=o,g=o=0,m=null;null!==h&&g<a.length;g++){h.index>g?(m=h,h=null):m=h.sibling;var y=p(n,h,a[g],l);if(null===y){null===h&&(h=m);break}e&&h&&null===y.alternate&&t(n,h),o=s(y,o,g),null===u?c=y:u.sibling=y,u=y,h=m}if(g===a.length)return i(n,h),eo&&Yn(n,g),c;if(null===h){for(;g<a.length;g++)null!==(h=d(n,a[g],l))&&(o=s(h,o,g),null===u?c=h:u.sibling=h,u=h);return eo&&Yn(n,g),c}for(h=r(n,h);g<a.length;g++)null!==(m=f(h,n,g,a[g],l))&&(e&&null!==m.alternate&&h.delete(null===m.key?g:m.key),o=s(m,o,g),null===u?c=m:u.sibling=m,u=m);return e&&h.forEach((function(e){return t(n,e)})),eo&&Yn(n,g),c}function m(n,a,l,c){var u=P(l);if("function"!==typeof u)throw Error(o(150));if(null==(l=u.call(l)))throw Error(o(151));for(var h=u=null,g=a,m=a=0,y=null,_=l.next();null!==g&&!_.done;m++,_=l.next()){g.index>m?(y=g,g=null):y=g.sibling;var v=p(n,g,_.value,c);if(null===v){null===g&&(g=y);break}e&&g&&null===v.alternate&&t(n,g),a=s(v,a,m),null===h?u=v:h.sibling=v,h=v,g=y}if(_.done)return i(n,g),eo&&Yn(n,m),u;if(null===g){for(;!_.done;m++,_=l.next())null!==(_=d(n,_.value,c))&&(a=s(_,a,m),null===h?u=_:h.sibling=_,h=_);return eo&&Yn(n,m),u}for(g=r(n,g);!_.done;m++,_=l.next())null!==(_=f(g,n,m,_.value,c))&&(e&&null!==_.alternate&&g.delete(null===_.key?m:_.key),a=s(_,a,m),null===h?u=_:h.sibling=_,h=_);return e&&g.forEach((function(e){return t(n,e)})),eo&&Yn(n,m),u}return function e(r,o,s,l){if("object"===typeof s&&null!==s&&s.type===S&&null===s.key&&(s=s.props.children),"object"===typeof s&&null!==s){switch(s.$$typeof){case x:e:{for(var c=s.key,u=o;null!==u;){if(u.key===c){if((c=s.type)===S){if(7===u.tag){i(r,u.sibling),(o=n(u,s.props.children)).return=r,r=o;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===A&&go(c)===u.type){i(r,u.sibling),(o=n(u,s.props)).ref=po(r,u,s),o.return=r,r=o;break e}i(r,u);break}t(r,u),u=u.sibling}s.type===S?((o=Fc(s.props.children,r.mode,l,s.key)).return=r,r=o):((l=Rc(s.type,s.key,s.props,null,r.mode,l)).ref=po(r,o,s),l.return=r,r=l)}return a(r);case w:e:{for(u=s.key;null!==o;){if(o.key===u){if(4===o.tag&&o.stateNode.containerInfo===s.containerInfo&&o.stateNode.implementation===s.implementation){i(r,o.sibling),(o=n(o,s.children||[])).return=r,r=o;break e}i(r,o);break}t(r,o),o=o.sibling}(o=Mc(s,r.mode,l)).return=r,r=o}return a(r);case A:return e(r,o,(u=s._init)(s._payload),l)}if(te(s))return g(r,o,s,l);if(P(s))return m(r,o,s,l);fo(r,s)}return"string"===typeof s&&""!==s||"number"===typeof s?(s=""+s,null!==o&&6===o.tag?(i(r,o.sibling),(o=n(o,s)).return=r,r=o):(i(r,o),(o=Oc(s,r.mode,l)).return=r,r=o),a(r)):i(r,o)}}var yo=mo(!0),_o=mo(!1),vo=bn(null),bo=null,xo=null,wo=null;function So(){wo=xo=bo=null}function ko(e){var t=vo.current;xn(vo),e._currentValue=t}function Co(e,t,i){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===i)break;e=e.return}}function To(e,t){bo=e,wo=xo=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ga=!0),e.firstContext=null)}function Eo(e){var t=e._currentValue;if(wo!==e)if(e={context:e,memoizedValue:t,next:null},null===xo){if(null===bo)throw Error(o(308));xo=e,bo.dependencies={lanes:0,firstContext:e}}else xo=xo.next=e;return t}var Do=null;function Io(e){null===Do?Do=[e]:Do.push(e)}function Ro(e,t,i,r){var n=t.interleaved;return null===n?(i.next=i,Io(t)):(i.next=n.next,n.next=i),t.interleaved=i,Fo(e,r)}function Fo(e,t){e.lanes|=t;var i=e.alternate;for(null!==i&&(i.lanes|=t),i=e,e=e.return;null!==e;)e.childLanes|=t,null!==(i=e.alternate)&&(i.childLanes|=t),i=e,e=e.return;return 3===i.tag?i.stateNode:null}var Ao=!1;function Oo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Mo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Po(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function zo(e,t,i){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&kl)){var n=r.pending;return null===n?t.next=t:(t.next=n.next,n.next=t),r.pending=t,Fo(e,i)}return null===(n=r.interleaved)?(t.next=t,Io(r)):(t.next=n.next,n.next=t),r.interleaved=t,Fo(e,i)}function Bo(e,t,i){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&i))){var r=t.lanes;i|=r&=e.pendingLanes,t.lanes=i,yt(e,i)}}function Lo(e,t){var i=e.updateQueue,r=e.alternate;if(null!==r&&i===(r=r.updateQueue)){var n=null,o=null;if(null!==(i=i.firstBaseUpdate)){do{var s={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};null===o?n=o=s:o=o.next=s,i=i.next}while(null!==i);null===o?n=o=t:o=o.next=t}else n=o=t;return i={baseState:r.baseState,firstBaseUpdate:n,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=i)}null===(e=i.lastBaseUpdate)?i.firstBaseUpdate=t:e.next=t,i.lastBaseUpdate=t}function Uo(e,t,i,r){var n=e.updateQueue;Ao=!1;var o=n.firstBaseUpdate,s=n.lastBaseUpdate,a=n.shared.pending;if(null!==a){n.shared.pending=null;var l=a,c=l.next;l.next=null,null===s?o=c:s.next=c,s=l;var u=e.alternate;null!==u&&((a=(u=u.updateQueue).lastBaseUpdate)!==s&&(null===a?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(null!==o){var h=n.baseState;for(s=0,u=c=l=null,a=o;;){var d=a.lane,p=a.eventTime;if((r&d)===d){null!==u&&(u=u.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var f=e,g=a;switch(d=t,p=i,g.tag){case 1:if("function"===typeof(f=g.payload)){h=f.call(p,h,d);break e}h=f;break e;case 3:f.flags=-65537&f.flags|128;case 0:if(null===(d="function"===typeof(f=g.payload)?f.call(p,h,d):f)||void 0===d)break e;h=B({},h,d);break e;case 2:Ao=!0}}null!==a.callback&&0!==a.lane&&(e.flags|=64,null===(d=n.effects)?n.effects=[a]:d.push(a))}else p={eventTime:p,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===u?(c=u=p,l=h):u=u.next=p,s|=d;if(null===(a=a.next)){if(null===(a=n.shared.pending))break;a=(d=a).next,d.next=null,n.lastBaseUpdate=d,n.shared.pending=null}}if(null===u&&(l=h),n.baseState=l,n.firstBaseUpdate=c,n.lastBaseUpdate=u,null!==(t=n.shared.interleaved)){n=t;do{s|=n.lane,n=n.next}while(n!==t)}else null===o&&(n.shared.lanes=0);Al|=s,e.lanes=s,e.memoizedState=h}}function No(e,t,i){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],n=r.callback;if(null!==n){if(r.callback=null,r=i,"function"!==typeof n)throw Error(o(191,n));n.call(r)}}}var Ho={},jo=bn(Ho),Wo=bn(Ho),Vo=bn(Ho);function Go(e){if(e===Ho)throw Error(o(174));return e}function qo(e,t){switch(wn(Vo,t),wn(Wo,e),wn(jo,Ho),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}xn(jo),wn(jo,t)}function Xo(){xn(jo),xn(Wo),xn(Vo)}function Yo(e){Go(Vo.current);var t=Go(jo.current),i=le(t,e.type);t!==i&&(wn(Wo,e),wn(jo,i))}function Qo(e){Wo.current===e&&(xn(jo),xn(Wo))}var Ko=bn(0);function Zo(e){for(var t=e;null!==t;){if(13===t.tag){var i=t.memoizedState;if(null!==i&&(null===(i=i.dehydrated)||"$?"===i.data||"$!"===i.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Jo=[];function $o(){for(var e=0;e<Jo.length;e++)Jo[e]._workInProgressVersionPrimary=null;Jo.length=0}var es=b.ReactCurrentDispatcher,ts=b.ReactCurrentBatchConfig,is=0,rs=null,ns=null,os=null,ss=!1,as=!1,ls=0,cs=0;function us(){throw Error(o(321))}function hs(e,t){if(null===t)return!1;for(var i=0;i<t.length&&i<e.length;i++)if(!ir(e[i],t[i]))return!1;return!0}function ds(e,t,i,r,n,s){if(is=s,rs=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,es.current=null===e||null===e.memoizedState?Qs:Ks,e=i(r,n),as){s=0;do{if(as=!1,ls=0,25<=s)throw Error(o(301));s+=1,os=ns=null,t.updateQueue=null,es.current=Zs,e=i(r,n)}while(as)}if(es.current=Ys,t=null!==ns&&null!==ns.next,is=0,os=ns=rs=null,ss=!1,t)throw Error(o(300));return e}function ps(){var e=0!==ls;return ls=0,e}function fs(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===os?rs.memoizedState=os=e:os=os.next=e,os}function gs(){if(null===ns){var e=rs.alternate;e=null!==e?e.memoizedState:null}else e=ns.next;var t=null===os?rs.memoizedState:os.next;if(null!==t)os=t,ns=e;else{if(null===e)throw Error(o(310));e={memoizedState:(ns=e).memoizedState,baseState:ns.baseState,baseQueue:ns.baseQueue,queue:ns.queue,next:null},null===os?rs.memoizedState=os=e:os=os.next=e}return os}function ms(e,t){return"function"===typeof t?t(e):t}function ys(e){var t=gs(),i=t.queue;if(null===i)throw Error(o(311));i.lastRenderedReducer=e;var r=ns,n=r.baseQueue,s=i.pending;if(null!==s){if(null!==n){var a=n.next;n.next=s.next,s.next=a}r.baseQueue=n=s,i.pending=null}if(null!==n){s=n.next,r=r.baseState;var l=a=null,c=null,u=s;do{var h=u.lane;if((is&h)===h)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var d={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=d,a=r):c=c.next=d,rs.lanes|=h,Al|=h}u=u.next}while(null!==u&&u!==s);null===c?a=r:c.next=l,ir(r,t.memoizedState)||(ga=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=c,i.lastRenderedState=r}if(null!==(e=i.interleaved)){n=e;do{s=n.lane,rs.lanes|=s,Al|=s,n=n.next}while(n!==e)}else null===n&&(i.lanes=0);return[t.memoizedState,i.dispatch]}function _s(e){var t=gs(),i=t.queue;if(null===i)throw Error(o(311));i.lastRenderedReducer=e;var r=i.dispatch,n=i.pending,s=t.memoizedState;if(null!==n){i.pending=null;var a=n=n.next;do{s=e(s,a.action),a=a.next}while(a!==n);ir(s,t.memoizedState)||(ga=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),i.lastRenderedState=s}return[s,r]}function vs(){}function bs(e,t){var i=rs,r=gs(),n=t(),s=!ir(r.memoizedState,n);if(s&&(r.memoizedState=n,ga=!0),r=r.queue,As(Ss.bind(null,i,r,e),[e]),r.getSnapshot!==t||s||null!==os&&1&os.memoizedState.tag){if(i.flags|=2048,Es(9,ws.bind(null,i,r,n,t),void 0,null),null===Cl)throw Error(o(349));0!==(30&is)||xs(i,t,n)}return n}function xs(e,t,i){e.flags|=16384,e={getSnapshot:t,value:i},null===(t=rs.updateQueue)?(t={lastEffect:null,stores:null},rs.updateQueue=t,t.stores=[e]):null===(i=t.stores)?t.stores=[e]:i.push(e)}function ws(e,t,i,r){t.value=i,t.getSnapshot=r,ks(t)&&Cs(e)}function Ss(e,t,i){return i((function(){ks(t)&&Cs(e)}))}function ks(e){var t=e.getSnapshot;e=e.value;try{var i=t();return!ir(e,i)}catch(r){return!0}}function Cs(e){var t=Fo(e,1);null!==t&&Jl(t,e,1,-1)}function Ts(e){var t=fs();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ms,lastRenderedState:e},t.queue=e,e=e.dispatch=Vs.bind(null,rs,e),[t.memoizedState,e]}function Es(e,t,i,r){return e={tag:e,create:t,destroy:i,deps:r,next:null},null===(t=rs.updateQueue)?(t={lastEffect:null,stores:null},rs.updateQueue=t,t.lastEffect=e.next=e):null===(i=t.lastEffect)?t.lastEffect=e.next=e:(r=i.next,i.next=e,e.next=r,t.lastEffect=e),e}function Ds(){return gs().memoizedState}function Is(e,t,i,r){var n=fs();rs.flags|=e,n.memoizedState=Es(1|t,i,void 0,void 0===r?null:r)}function Rs(e,t,i,r){var n=gs();r=void 0===r?null:r;var o=void 0;if(null!==ns){var s=ns.memoizedState;if(o=s.destroy,null!==r&&hs(r,s.deps))return void(n.memoizedState=Es(t,i,o,r))}rs.flags|=e,n.memoizedState=Es(1|t,i,o,r)}function Fs(e,t){return Is(8390656,8,e,t)}function As(e,t){return Rs(2048,8,e,t)}function Os(e,t){return Rs(4,2,e,t)}function Ms(e,t){return Rs(4,4,e,t)}function Ps(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function zs(e,t,i){return i=null!==i&&void 0!==i?i.concat([e]):null,Rs(4,4,Ps.bind(null,t,e),i)}function Bs(){}function Ls(e,t){var i=gs();t=void 0===t?null:t;var r=i.memoizedState;return null!==r&&null!==t&&hs(t,r[1])?r[0]:(i.memoizedState=[e,t],e)}function Us(e,t){var i=gs();t=void 0===t?null:t;var r=i.memoizedState;return null!==r&&null!==t&&hs(t,r[1])?r[0]:(e=e(),i.memoizedState=[e,t],e)}function Ns(e,t,i){return 0===(21&is)?(e.baseState&&(e.baseState=!1,ga=!0),e.memoizedState=i):(ir(i,t)||(i=ft(),rs.lanes|=i,Al|=i,e.baseState=!0),t)}function Hs(e,t){var i=_t;_t=0!==i&&4>i?i:4,e(!0);var r=ts.transition;ts.transition={};try{e(!1),t()}finally{_t=i,ts.transition=r}}function js(){return gs().memoizedState}function Ws(e,t,i){var r=Zl(e);if(i={lane:r,action:i,hasEagerState:!1,eagerState:null,next:null},Gs(e))qs(t,i);else if(null!==(i=Ro(e,t,i,r))){Jl(i,e,r,Kl()),Xs(i,t,r)}}function Vs(e,t,i){var r=Zl(e),n={lane:r,action:i,hasEagerState:!1,eagerState:null,next:null};if(Gs(e))qs(t,n);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var s=t.lastRenderedState,a=o(s,i);if(n.hasEagerState=!0,n.eagerState=a,ir(a,s)){var l=t.interleaved;return null===l?(n.next=n,Io(t)):(n.next=l.next,l.next=n),void(t.interleaved=n)}}catch(c){}null!==(i=Ro(e,t,n,r))&&(Jl(i,e,r,n=Kl()),Xs(i,t,r))}}function Gs(e){var t=e.alternate;return e===rs||null!==t&&t===rs}function qs(e,t){as=ss=!0;var i=e.pending;null===i?t.next=t:(t.next=i.next,i.next=t),e.pending=t}function Xs(e,t,i){if(0!==(4194240&i)){var r=t.lanes;i|=r&=e.pendingLanes,t.lanes=i,yt(e,i)}}var Ys={readContext:Eo,useCallback:us,useContext:us,useEffect:us,useImperativeHandle:us,useInsertionEffect:us,useLayoutEffect:us,useMemo:us,useReducer:us,useRef:us,useState:us,useDebugValue:us,useDeferredValue:us,useTransition:us,useMutableSource:us,useSyncExternalStore:us,useId:us,unstable_isNewReconciler:!1},Qs={readContext:Eo,useCallback:function(e,t){return fs().memoizedState=[e,void 0===t?null:t],e},useContext:Eo,useEffect:Fs,useImperativeHandle:function(e,t,i){return i=null!==i&&void 0!==i?i.concat([e]):null,Is(4194308,4,Ps.bind(null,t,e),i)},useLayoutEffect:function(e,t){return Is(4194308,4,e,t)},useInsertionEffect:function(e,t){return Is(4,2,e,t)},useMemo:function(e,t){var i=fs();return t=void 0===t?null:t,e=e(),i.memoizedState=[e,t],e},useReducer:function(e,t,i){var r=fs();return t=void 0!==i?i(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Ws.bind(null,rs,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},fs().memoizedState=e},useState:Ts,useDebugValue:Bs,useDeferredValue:function(e){return fs().memoizedState=e},useTransition:function(){var e=Ts(!1),t=e[0];return e=Hs.bind(null,e[1]),fs().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,i){var r=rs,n=fs();if(eo){if(void 0===i)throw Error(o(407));i=i()}else{if(i=t(),null===Cl)throw Error(o(349));0!==(30&is)||xs(r,t,i)}n.memoizedState=i;var s={value:i,getSnapshot:t};return n.queue=s,Fs(Ss.bind(null,r,s,e),[e]),r.flags|=2048,Es(9,ws.bind(null,r,s,i,t),void 0,null),i},useId:function(){var e=fs(),t=Cl.identifierPrefix;if(eo){var i=Xn;t=":"+t+"R"+(i=(qn&~(1<<32-ot(qn)-1)).toString(32)+i),0<(i=ls++)&&(t+="H"+i.toString(32)),t+=":"}else t=":"+t+"r"+(i=cs++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Ks={readContext:Eo,useCallback:Ls,useContext:Eo,useEffect:As,useImperativeHandle:zs,useInsertionEffect:Os,useLayoutEffect:Ms,useMemo:Us,useReducer:ys,useRef:Ds,useState:function(){return ys(ms)},useDebugValue:Bs,useDeferredValue:function(e){return Ns(gs(),ns.memoizedState,e)},useTransition:function(){return[ys(ms)[0],gs().memoizedState]},useMutableSource:vs,useSyncExternalStore:bs,useId:js,unstable_isNewReconciler:!1},Zs={readContext:Eo,useCallback:Ls,useContext:Eo,useEffect:As,useImperativeHandle:zs,useInsertionEffect:Os,useLayoutEffect:Ms,useMemo:Us,useReducer:_s,useRef:Ds,useState:function(){return _s(ms)},useDebugValue:Bs,useDeferredValue:function(e){var t=gs();return null===ns?t.memoizedState=e:Ns(t,ns.memoizedState,e)},useTransition:function(){return[_s(ms)[0],gs().memoizedState]},useMutableSource:vs,useSyncExternalStore:bs,useId:js,unstable_isNewReconciler:!1};function Js(e,t){if(e&&e.defaultProps){for(var i in t=B({},t),e=e.defaultProps)void 0===t[i]&&(t[i]=e[i]);return t}return t}function $s(e,t,i,r){i=null===(i=i(r,t=e.memoizedState))||void 0===i?t:B({},t,i),e.memoizedState=i,0===e.lanes&&(e.updateQueue.baseState=i)}var ea={isMounted:function(e){return!!(e=e._reactInternals)&&He(e)===e},enqueueSetState:function(e,t,i){e=e._reactInternals;var r=Kl(),n=Zl(e),o=Po(r,n);o.payload=t,void 0!==i&&null!==i&&(o.callback=i),null!==(t=zo(e,o,n))&&(Jl(t,e,n,r),Bo(t,e,n))},enqueueReplaceState:function(e,t,i){e=e._reactInternals;var r=Kl(),n=Zl(e),o=Po(r,n);o.tag=1,o.payload=t,void 0!==i&&null!==i&&(o.callback=i),null!==(t=zo(e,o,n))&&(Jl(t,e,n,r),Bo(t,e,n))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var i=Kl(),r=Zl(e),n=Po(i,r);n.tag=2,void 0!==t&&null!==t&&(n.callback=t),null!==(t=zo(e,n,r))&&(Jl(t,e,r,i),Bo(t,e,r))}};function ta(e,t,i,r,n,o,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,s):!t.prototype||!t.prototype.isPureReactComponent||(!rr(i,r)||!rr(n,o))}function ia(e,t,i){var r=!1,n=Sn,o=t.contextType;return"object"===typeof o&&null!==o?o=Eo(o):(n=Dn(t)?Tn:kn.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?En(e,n):Sn),t=new t(i,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ea,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=o),t}function ra(e,t,i,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(i,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(i,r),t.state!==e&&ea.enqueueReplaceState(t,t.state,null)}function na(e,t,i,r){var n=e.stateNode;n.props=i,n.state=e.memoizedState,n.refs={},Oo(e);var o=t.contextType;"object"===typeof o&&null!==o?n.context=Eo(o):(o=Dn(t)?Tn:kn.current,n.context=En(e,o)),n.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&($s(e,t,o,i),n.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof n.getSnapshotBeforeUpdate||"function"!==typeof n.UNSAFE_componentWillMount&&"function"!==typeof n.componentWillMount||(t=n.state,"function"===typeof n.componentWillMount&&n.componentWillMount(),"function"===typeof n.UNSAFE_componentWillMount&&n.UNSAFE_componentWillMount(),t!==n.state&&ea.enqueueReplaceState(n,n.state,null),Uo(e,i,n,r),n.state=e.memoizedState),"function"===typeof n.componentDidMount&&(e.flags|=4194308)}function oa(e,t){try{var i="",r=t;do{i+=H(r),r=r.return}while(r);var n=i}catch(o){n="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:n,digest:null}}function sa(e,t,i){return{value:e,source:null,stack:null!=i?i:null,digest:null!=t?t:null}}function aa(e,t){try{console.error(t.value)}catch(i){setTimeout((function(){throw i}))}}var la="function"===typeof WeakMap?WeakMap:Map;function ca(e,t,i){(i=Po(-1,i)).tag=3,i.payload={element:null};var r=t.value;return i.callback=function(){Nl||(Nl=!0,Hl=r),aa(0,t)},i}function ua(e,t,i){(i=Po(-1,i)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var n=t.value;i.payload=function(){return r(n)},i.callback=function(){aa(0,t)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(i.callback=function(){aa(0,t),"function"!==typeof r&&(null===jl?jl=new Set([this]):jl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),i}function ha(e,t,i){var r=e.pingCache;if(null===r){r=e.pingCache=new la;var n=new Set;r.set(t,n)}else void 0===(n=r.get(t))&&(n=new Set,r.set(t,n));n.has(i)||(n.add(i),e=xc.bind(null,e,t,i),t.then(e,e))}function da(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function pa(e,t,i,r,n){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,i.flags|=131072,i.flags&=-52805,1===i.tag&&(null===i.alternate?i.tag=17:((t=Po(-1,1)).tag=2,zo(i,t,1))),i.lanes|=1),e):(e.flags|=65536,e.lanes=n,e)}var fa=b.ReactCurrentOwner,ga=!1;function ma(e,t,i,r){t.child=null===e?_o(t,null,i,r):yo(t,e.child,i,r)}function ya(e,t,i,r,n){i=i.render;var o=t.ref;return To(t,n),r=ds(e,t,i,r,o,n),i=ps(),null===e||ga?(eo&&i&&Kn(t),t.flags|=1,ma(e,t,r,n),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n,Na(e,t,n))}function _a(e,t,i,r,n){if(null===e){var o=i.type;return"function"!==typeof o||Dc(o)||void 0!==o.defaultProps||null!==i.compare||void 0!==i.defaultProps?((e=Rc(i.type,null,r,t,t.mode,n)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,va(e,t,o,r,n))}if(o=e.child,0===(e.lanes&n)){var s=o.memoizedProps;if((i=null!==(i=i.compare)?i:rr)(s,r)&&e.ref===t.ref)return Na(e,t,n)}return t.flags|=1,(e=Ic(o,r)).ref=t.ref,e.return=t,t.child=e}function va(e,t,i,r,n){if(null!==e){var o=e.memoizedProps;if(rr(o,r)&&e.ref===t.ref){if(ga=!1,t.pendingProps=r=o,0===(e.lanes&n))return t.lanes=e.lanes,Na(e,t,n);0!==(131072&e.flags)&&(ga=!0)}}return wa(e,t,i,r,n)}function ba(e,t,i){var r=t.pendingProps,n=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},wn(Il,Dl),Dl|=i;else{if(0===(1073741824&i))return e=null!==o?o.baseLanes|i:i,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,wn(Il,Dl),Dl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:i,wn(Il,Dl),Dl|=r}else null!==o?(r=o.baseLanes|i,t.memoizedState=null):r=i,wn(Il,Dl),Dl|=r;return ma(e,t,n,i),t.child}function xa(e,t){var i=t.ref;(null===e&&null!==i||null!==e&&e.ref!==i)&&(t.flags|=512,t.flags|=2097152)}function wa(e,t,i,r,n){var o=Dn(i)?Tn:kn.current;return o=En(t,o),To(t,n),i=ds(e,t,i,r,o,n),r=ps(),null===e||ga?(eo&&r&&Kn(t),t.flags|=1,ma(e,t,i,n),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n,Na(e,t,n))}function Sa(e,t,i,r,n){if(Dn(i)){var o=!0;An(t)}else o=!1;if(To(t,n),null===t.stateNode)Ua(e,t),ia(t,i,r),na(t,i,r,n),r=!0;else if(null===e){var s=t.stateNode,a=t.memoizedProps;s.props=a;var l=s.context,c=i.contextType;"object"===typeof c&&null!==c?c=Eo(c):c=En(t,c=Dn(i)?Tn:kn.current);var u=i.getDerivedStateFromProps,h="function"===typeof u||"function"===typeof s.getSnapshotBeforeUpdate;h||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==r||l!==c)&&ra(t,s,r,c),Ao=!1;var d=t.memoizedState;s.state=d,Uo(t,r,s,n),l=t.memoizedState,a!==r||d!==l||Cn.current||Ao?("function"===typeof u&&($s(t,i,u,r),l=t.memoizedState),(a=Ao||ta(t,i,a,r,d,l,c))?(h||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.flags|=4194308)):("function"===typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=c,r=a):("function"===typeof s.componentDidMount&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,Mo(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:Js(t.type,a),s.props=c,h=t.pendingProps,d=s.context,"object"===typeof(l=i.contextType)&&null!==l?l=Eo(l):l=En(t,l=Dn(i)?Tn:kn.current);var p=i.getDerivedStateFromProps;(u="function"===typeof p||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==h||d!==l)&&ra(t,s,r,l),Ao=!1,d=t.memoizedState,s.state=d,Uo(t,r,s,n);var f=t.memoizedState;a!==h||d!==f||Cn.current||Ao?("function"===typeof p&&($s(t,i,p,r),f=t.memoizedState),(c=Ao||ta(t,i,c,r,d,f,l)||!1)?(u||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(r,f,l),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,f,l)),"function"===typeof s.componentDidUpdate&&(t.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),s.props=r,s.state=f,s.context=l,r=c):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return ka(e,t,i,r,o,n)}function ka(e,t,i,r,n,o){xa(e,t);var s=0!==(128&t.flags);if(!r&&!s)return n&&On(t,i,!1),Na(e,t,o);r=t.stateNode,fa.current=t;var a=s&&"function"!==typeof i.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&s?(t.child=yo(t,e.child,null,o),t.child=yo(t,null,a,o)):ma(e,t,a,o),t.memoizedState=r.state,n&&On(t,i,!0),t.child}function Ca(e){var t=e.stateNode;t.pendingContext?Rn(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Rn(0,t.context,!1),qo(e,t.containerInfo)}function Ta(e,t,i,r,n){return co(),uo(n),t.flags|=256,ma(e,t,i,r),t.child}var Ea,Da,Ia,Ra,Fa={dehydrated:null,treeContext:null,retryLane:0};function Aa(e){return{baseLanes:e,cachePool:null,transitions:null}}function Oa(e,t,i){var r,n=t.pendingProps,s=Ko.current,a=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&s)),r?(a=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(s|=1),wn(Ko,1&s),null===e)return oo(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=n.children,e=n.fallback,a?(n=t.mode,a=t.child,l={mode:"hidden",children:l},0===(1&n)&&null!==a?(a.childLanes=0,a.pendingProps=l):a=Ac(l,n,0,null),e=Fc(e,n,i,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Aa(i),t.memoizedState=Fa,e):Ma(t,l));if(null!==(s=e.memoizedState)&&null!==(r=s.dehydrated))return function(e,t,i,r,n,s,a){if(i)return 256&t.flags?(t.flags&=-257,Pa(e,t,a,r=sa(Error(o(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(s=r.fallback,n=t.mode,r=Ac({mode:"visible",children:r.children},n,0,null),(s=Fc(s,n,a,null)).flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,0!==(1&t.mode)&&yo(t,e.child,null,a),t.child.memoizedState=Aa(a),t.memoizedState=Fa,s);if(0===(1&t.mode))return Pa(e,t,a,null);if("$!"===n.data){if(r=n.nextSibling&&n.nextSibling.dataset)var l=r.dgst;return r=l,Pa(e,t,a,r=sa(s=Error(o(419)),r,void 0))}if(l=0!==(a&e.childLanes),ga||l){if(null!==(r=Cl)){switch(a&-a){case 4:n=2;break;case 16:n=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:n=32;break;case 536870912:n=268435456;break;default:n=0}0!==(n=0!==(n&(r.suspendedLanes|a))?0:n)&&n!==s.retryLane&&(s.retryLane=n,Fo(e,n),Jl(r,e,n,-1))}return hc(),Pa(e,t,a,r=sa(Error(o(421))))}return"$?"===n.data?(t.flags|=128,t.child=e.child,t=Sc.bind(null,e),n._reactRetry=t,null):(e=s.treeContext,$n=on(n.nextSibling),Jn=t,eo=!0,to=null,null!==e&&(Wn[Vn++]=qn,Wn[Vn++]=Xn,Wn[Vn++]=Gn,qn=e.id,Xn=e.overflow,Gn=t),t=Ma(t,r.children),t.flags|=4096,t)}(e,t,l,n,r,s,i);if(a){a=n.fallback,l=t.mode,r=(s=e.child).sibling;var c={mode:"hidden",children:n.children};return 0===(1&l)&&t.child!==s?((n=t.child).childLanes=0,n.pendingProps=c,t.deletions=null):(n=Ic(s,c)).subtreeFlags=14680064&s.subtreeFlags,null!==r?a=Ic(r,a):(a=Fc(a,l,i,null)).flags|=2,a.return=t,n.return=t,n.sibling=a,t.child=n,n=a,a=t.child,l=null===(l=e.child.memoizedState)?Aa(i):{baseLanes:l.baseLanes|i,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=e.childLanes&~i,t.memoizedState=Fa,n}return e=(a=e.child).sibling,n=Ic(a,{mode:"visible",children:n.children}),0===(1&t.mode)&&(n.lanes=i),n.return=t,n.sibling=null,null!==e&&(null===(i=t.deletions)?(t.deletions=[e],t.flags|=16):i.push(e)),t.child=n,t.memoizedState=null,n}function Ma(e,t){return(t=Ac({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Pa(e,t,i,r){return null!==r&&uo(r),yo(t,e.child,null,i),(e=Ma(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function za(e,t,i){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Co(e.return,t,i)}function Ba(e,t,i,r,n){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:i,tailMode:n}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=i,o.tailMode=n)}function La(e,t,i){var r=t.pendingProps,n=r.revealOrder,o=r.tail;if(ma(e,t,r.children,i),0!==(2&(r=Ko.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&za(e,i,t);else if(19===e.tag)za(e,i,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(wn(Ko,r),0===(1&t.mode))t.memoizedState=null;else switch(n){case"forwards":for(i=t.child,n=null;null!==i;)null!==(e=i.alternate)&&null===Zo(e)&&(n=i),i=i.sibling;null===(i=n)?(n=t.child,t.child=null):(n=i.sibling,i.sibling=null),Ba(t,!1,n,i,o);break;case"backwards":for(i=null,n=t.child,t.child=null;null!==n;){if(null!==(e=n.alternate)&&null===Zo(e)){t.child=n;break}e=n.sibling,n.sibling=i,i=n,n=e}Ba(t,!0,i,null,o);break;case"together":Ba(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ua(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Na(e,t,i){if(null!==e&&(t.dependencies=e.dependencies),Al|=t.lanes,0===(i&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(i=Ic(e=t.child,e.pendingProps),t.child=i,i.return=t;null!==e.sibling;)e=e.sibling,(i=i.sibling=Ic(e,e.pendingProps)).return=t;i.sibling=null}return t.child}function Ha(e,t){if(!eo)switch(e.tailMode){case"hidden":t=e.tail;for(var i=null;null!==t;)null!==t.alternate&&(i=t),t=t.sibling;null===i?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var r=null;null!==i;)null!==i.alternate&&(r=i),i=i.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ja(e){var t=null!==e.alternate&&e.alternate.child===e.child,i=0,r=0;if(t)for(var n=e.child;null!==n;)i|=n.lanes|n.childLanes,r|=14680064&n.subtreeFlags,r|=14680064&n.flags,n.return=e,n=n.sibling;else for(n=e.child;null!==n;)i|=n.lanes|n.childLanes,r|=n.subtreeFlags,r|=n.flags,n.return=e,n=n.sibling;return e.subtreeFlags|=r,e.childLanes=i,t}function Wa(e,t,i){var r=t.pendingProps;switch(Zn(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ja(t),null;case 1:case 17:return Dn(t.type)&&In(),ja(t),null;case 3:return r=t.stateNode,Xo(),xn(Cn),xn(kn),$o(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ao(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==to&&(ic(to),to=null))),Da(e,t),ja(t),null;case 5:Qo(t);var n=Go(Vo.current);if(i=t.type,null!==e&&null!=t.stateNode)Ia(e,t,i,r,n),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(o(166));return ja(t),null}if(e=Go(jo.current),ao(t)){r=t.stateNode,i=t.type;var s=t.memoizedProps;switch(r[ln]=t,r[cn]=s,e=0!==(1&t.mode),i){case"dialog":Mr("cancel",r),Mr("close",r);break;case"iframe":case"object":case"embed":Mr("load",r);break;case"video":case"audio":for(n=0;n<Rr.length;n++)Mr(Rr[n],r);break;case"source":Mr("error",r);break;case"img":case"image":case"link":Mr("error",r),Mr("load",r);break;case"details":Mr("toggle",r);break;case"input":K(r,s),Mr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Mr("invalid",r);break;case"textarea":ne(r,s),Mr("invalid",r)}for(var l in ye(i,s),n=null,s)if(s.hasOwnProperty(l)){var c=s[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==s.suppressHydrationWarning&&Xr(r.textContent,c,e),n=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==s.suppressHydrationWarning&&Xr(r.textContent,c,e),n=["children",""+c]):a.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Mr("scroll",r)}switch(i){case"input":q(r),$(r,s,!0);break;case"textarea":q(r),se(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=Yr)}r=n,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===n.nodeType?n:n.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ae(i)),"http://www.w3.org/1999/xhtml"===e?"script"===i?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(i,{is:r.is}):(e=l.createElement(i),"select"===i&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,i),e[ln]=t,e[cn]=r,Ea(e,t,!1,!1),t.stateNode=e;e:{switch(l=_e(i,r),i){case"dialog":Mr("cancel",e),Mr("close",e),n=r;break;case"iframe":case"object":case"embed":Mr("load",e),n=r;break;case"video":case"audio":for(n=0;n<Rr.length;n++)Mr(Rr[n],e);n=r;break;case"source":Mr("error",e),n=r;break;case"img":case"image":case"link":Mr("error",e),Mr("load",e),n=r;break;case"details":Mr("toggle",e),n=r;break;case"input":K(e,r),n=Q(e,r),Mr("invalid",e);break;case"option":default:n=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},n=B({},r,{value:void 0}),Mr("invalid",e);break;case"textarea":ne(e,r),n=re(e,r),Mr("invalid",e)}for(s in ye(i,n),c=n)if(c.hasOwnProperty(s)){var u=c[s];"style"===s?ge(e,u):"dangerouslySetInnerHTML"===s?null!=(u=u?u.__html:void 0)&&ue(e,u):"children"===s?"string"===typeof u?("textarea"!==i||""!==u)&&he(e,u):"number"===typeof u&&he(e,""+u):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(a.hasOwnProperty(s)?null!=u&&"onScroll"===s&&Mr("scroll",e):null!=u&&v(e,s,u,l))}switch(i){case"input":q(e),$(e,r,!1);break;case"textarea":q(e),se(e);break;case"option":null!=r.value&&e.setAttribute("value",""+V(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?ie(e,!!r.multiple,s,!1):null!=r.defaultValue&&ie(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof n.onClick&&(e.onclick=Yr)}switch(i){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return ja(t),null;case 6:if(e&&null!=t.stateNode)Ra(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(i=Go(Vo.current),Go(jo.current),ao(t)){if(r=t.stateNode,i=t.memoizedProps,r[ln]=t,(s=r.nodeValue!==i)&&null!==(e=Jn))switch(e.tag){case 3:Xr(r.nodeValue,i,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Xr(r.nodeValue,i,0!==(1&e.mode))}s&&(t.flags|=4)}else(r=(9===i.nodeType?i:i.ownerDocument).createTextNode(r))[ln]=t,t.stateNode=r}return ja(t),null;case 13:if(xn(Ko),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(eo&&null!==$n&&0!==(1&t.mode)&&0===(128&t.flags))lo(),co(),t.flags|=98560,s=!1;else if(s=ao(t),null!==r&&null!==r.dehydrated){if(null===e){if(!s)throw Error(o(318));if(!(s=null!==(s=t.memoizedState)?s.dehydrated:null))throw Error(o(317));s[ln]=t}else co(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;ja(t),s=!1}else null!==to&&(ic(to),to=null),s=!0;if(!s)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=i,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&Ko.current)?0===Rl&&(Rl=3):hc())),null!==t.updateQueue&&(t.flags|=4),ja(t),null);case 4:return Xo(),Da(e,t),null===e&&Br(t.stateNode.containerInfo),ja(t),null;case 10:return ko(t.type._context),ja(t),null;case 19:if(xn(Ko),null===(s=t.memoizedState))return ja(t),null;if(r=0!==(128&t.flags),null===(l=s.rendering))if(r)Ha(s,!1);else{if(0!==Rl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=Zo(e))){for(t.flags|=128,Ha(s,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=i,i=t.child;null!==i;)e=r,(s=i).flags&=14680066,null===(l=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,e=l.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),i=i.sibling;return wn(Ko,1&Ko.current|2),t.child}e=e.sibling}null!==s.tail&&Ke()>Ll&&(t.flags|=128,r=!0,Ha(s,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=Zo(l))){if(t.flags|=128,r=!0,null!==(i=e.updateQueue)&&(t.updateQueue=i,t.flags|=4),Ha(s,!0),null===s.tail&&"hidden"===s.tailMode&&!l.alternate&&!eo)return ja(t),null}else 2*Ke()-s.renderingStartTime>Ll&&1073741824!==i&&(t.flags|=128,r=!0,Ha(s,!1),t.lanes=4194304);s.isBackwards?(l.sibling=t.child,t.child=l):(null!==(i=s.last)?i.sibling=l:t.child=l,s.last=l)}return null!==s.tail?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Ke(),t.sibling=null,i=Ko.current,wn(Ko,r?1&i|2:1&i),t):(ja(t),null);case 22:case 23:return ac(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Dl)&&(ja(t),6&t.subtreeFlags&&(t.flags|=8192)):ja(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}function Va(e,t){switch(Zn(t),t.tag){case 1:return Dn(t.type)&&In(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Xo(),xn(Cn),xn(kn),$o(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Qo(t),null;case 13:if(xn(Ko),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));co()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return xn(Ko),null;case 4:return Xo(),null;case 10:return ko(t.type._context),null;case 22:case 23:return ac(),null;default:return null}}Ea=function(e,t){for(var i=t.child;null!==i;){if(5===i.tag||6===i.tag)e.appendChild(i.stateNode);else if(4!==i.tag&&null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;i=i.return}i.sibling.return=i.return,i=i.sibling}},Da=function(){},Ia=function(e,t,i,r){var n=e.memoizedProps;if(n!==r){e=t.stateNode,Go(jo.current);var o,s=null;switch(i){case"input":n=Q(e,n),r=Q(e,r),s=[];break;case"select":n=B({},n,{value:void 0}),r=B({},r,{value:void 0}),s=[];break;case"textarea":n=re(e,n),r=re(e,r),s=[];break;default:"function"!==typeof n.onClick&&"function"===typeof r.onClick&&(e.onclick=Yr)}for(u in ye(i,r),i=null,n)if(!r.hasOwnProperty(u)&&n.hasOwnProperty(u)&&null!=n[u])if("style"===u){var l=n[u];for(o in l)l.hasOwnProperty(o)&&(i||(i={}),i[o]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(a.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=n?n[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(i||(i={}),i[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(i||(i={}),i[o]=c[o])}else i||(s||(s=[]),s.push(u,i)),i=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(s=s||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(s=s||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(a.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Mr("scroll",e),s||l===c||(s=[])):(s=s||[]).push(u,c))}i&&(s=s||[]).push("style",i);var u=s;(t.updateQueue=u)&&(t.flags|=4)}},Ra=function(e,t,i,r){i!==r&&(t.flags|=4)};var Ga=!1,qa=!1,Xa="function"===typeof WeakSet?WeakSet:Set,Ya=null;function Qa(e,t){var i=e.ref;if(null!==i)if("function"===typeof i)try{i(null)}catch(r){bc(e,t,r)}else i.current=null}function Ka(e,t,i){try{i()}catch(r){bc(e,t,r)}}var Za=!1;function Ja(e,t,i){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var n=r=r.next;do{if((n.tag&e)===e){var o=n.destroy;n.destroy=void 0,void 0!==o&&Ka(t,i,o)}n=n.next}while(n!==r)}}function $a(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var i=t=t.next;do{if((i.tag&e)===e){var r=i.create;i.destroy=r()}i=i.next}while(i!==t)}}function el(e){var t=e.ref;if(null!==t){var i=e.stateNode;e.tag,e=i,"function"===typeof t?t(e):t.current=e}}function tl(e){var t=e.alternate;null!==t&&(e.alternate=null,tl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[ln],delete t[cn],delete t[hn],delete t[dn],delete t[pn])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function il(e){return 5===e.tag||3===e.tag||4===e.tag}function rl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||il(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function nl(e,t,i){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===i.nodeType?i.parentNode.insertBefore(e,t):i.insertBefore(e,t):(8===i.nodeType?(t=i.parentNode).insertBefore(e,i):(t=i).appendChild(e),null!==(i=i._reactRootContainer)&&void 0!==i||null!==t.onclick||(t.onclick=Yr));else if(4!==r&&null!==(e=e.child))for(nl(e,t,i),e=e.sibling;null!==e;)nl(e,t,i),e=e.sibling}function ol(e,t,i){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?i.insertBefore(e,t):i.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ol(e,t,i),e=e.sibling;null!==e;)ol(e,t,i),e=e.sibling}var sl=null,al=!1;function ll(e,t,i){for(i=i.child;null!==i;)cl(e,t,i),i=i.sibling}function cl(e,t,i){if(nt&&"function"===typeof nt.onCommitFiberUnmount)try{nt.onCommitFiberUnmount(rt,i)}catch(a){}switch(i.tag){case 5:qa||Qa(i,t);case 6:var r=sl,n=al;sl=null,ll(e,t,i),al=n,null!==(sl=r)&&(al?(e=sl,i=i.stateNode,8===e.nodeType?e.parentNode.removeChild(i):e.removeChild(i)):sl.removeChild(i.stateNode));break;case 18:null!==sl&&(al?(e=sl,i=i.stateNode,8===e.nodeType?nn(e.parentNode,i):1===e.nodeType&&nn(e,i),Ht(e)):nn(sl,i.stateNode));break;case 4:r=sl,n=al,sl=i.stateNode.containerInfo,al=!0,ll(e,t,i),sl=r,al=n;break;case 0:case 11:case 14:case 15:if(!qa&&(null!==(r=i.updateQueue)&&null!==(r=r.lastEffect))){n=r=r.next;do{var o=n,s=o.destroy;o=o.tag,void 0!==s&&(0!==(2&o)||0!==(4&o))&&Ka(i,t,s),n=n.next}while(n!==r)}ll(e,t,i);break;case 1:if(!qa&&(Qa(i,t),"function"===typeof(r=i.stateNode).componentWillUnmount))try{r.props=i.memoizedProps,r.state=i.memoizedState,r.componentWillUnmount()}catch(a){bc(i,t,a)}ll(e,t,i);break;case 21:ll(e,t,i);break;case 22:1&i.mode?(qa=(r=qa)||null!==i.memoizedState,ll(e,t,i),qa=r):ll(e,t,i);break;default:ll(e,t,i)}}function ul(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var i=e.stateNode;null===i&&(i=e.stateNode=new Xa),t.forEach((function(t){var r=kc.bind(null,e,t);i.has(t)||(i.add(t),t.then(r,r))}))}}function hl(e,t){var i=t.deletions;if(null!==i)for(var r=0;r<i.length;r++){var n=i[r];try{var s=e,a=t,l=a;e:for(;null!==l;){switch(l.tag){case 5:sl=l.stateNode,al=!1;break e;case 3:case 4:sl=l.stateNode.containerInfo,al=!0;break e}l=l.return}if(null===sl)throw Error(o(160));cl(s,a,n),sl=null,al=!1;var c=n.alternate;null!==c&&(c.return=null),n.return=null}catch(u){bc(n,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)dl(t,e),t=t.sibling}function dl(e,t){var i=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(hl(t,e),pl(e),4&r){try{Ja(3,e,e.return),$a(3,e)}catch(m){bc(e,e.return,m)}try{Ja(5,e,e.return)}catch(m){bc(e,e.return,m)}}break;case 1:hl(t,e),pl(e),512&r&&null!==i&&Qa(i,i.return);break;case 5:if(hl(t,e),pl(e),512&r&&null!==i&&Qa(i,i.return),32&e.flags){var n=e.stateNode;try{he(n,"")}catch(m){bc(e,e.return,m)}}if(4&r&&null!=(n=e.stateNode)){var s=e.memoizedProps,a=null!==i?i.memoizedProps:s,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===s.type&&null!=s.name&&Z(n,s),_e(l,a);var u=_e(l,s);for(a=0;a<c.length;a+=2){var h=c[a],d=c[a+1];"style"===h?ge(n,d):"dangerouslySetInnerHTML"===h?ue(n,d):"children"===h?he(n,d):v(n,h,d,u)}switch(l){case"input":J(n,s);break;case"textarea":oe(n,s);break;case"select":var p=n._wrapperState.wasMultiple;n._wrapperState.wasMultiple=!!s.multiple;var f=s.value;null!=f?ie(n,!!s.multiple,f,!1):p!==!!s.multiple&&(null!=s.defaultValue?ie(n,!!s.multiple,s.defaultValue,!0):ie(n,!!s.multiple,s.multiple?[]:"",!1))}n[cn]=s}catch(m){bc(e,e.return,m)}}break;case 6:if(hl(t,e),pl(e),4&r){if(null===e.stateNode)throw Error(o(162));n=e.stateNode,s=e.memoizedProps;try{n.nodeValue=s}catch(m){bc(e,e.return,m)}}break;case 3:if(hl(t,e),pl(e),4&r&&null!==i&&i.memoizedState.isDehydrated)try{Ht(t.containerInfo)}catch(m){bc(e,e.return,m)}break;case 4:default:hl(t,e),pl(e);break;case 13:hl(t,e),pl(e),8192&(n=e.child).flags&&(s=null!==n.memoizedState,n.stateNode.isHidden=s,!s||null!==n.alternate&&null!==n.alternate.memoizedState||(Bl=Ke())),4&r&&ul(e);break;case 22:if(h=null!==i&&null!==i.memoizedState,1&e.mode?(qa=(u=qa)||h,hl(t,e),qa=u):hl(t,e),pl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!h&&0!==(1&e.mode))for(Ya=e,h=e.child;null!==h;){for(d=Ya=h;null!==Ya;){switch(f=(p=Ya).child,p.tag){case 0:case 11:case 14:case 15:Ja(4,p,p.return);break;case 1:Qa(p,p.return);var g=p.stateNode;if("function"===typeof g.componentWillUnmount){r=p,i=p.return;try{t=r,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(m){bc(r,i,m)}}break;case 5:Qa(p,p.return);break;case 22:if(null!==p.memoizedState){yl(d);continue}}null!==f?(f.return=p,Ya=f):yl(d)}h=h.sibling}e:for(h=null,d=e;;){if(5===d.tag){if(null===h){h=d;try{n=d.stateNode,u?"function"===typeof(s=n.style).setProperty?s.setProperty("display","none","important"):s.display="none":(l=d.stateNode,a=void 0!==(c=d.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=fe("display",a))}catch(m){bc(e,e.return,m)}}}else if(6===d.tag){if(null===h)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(m){bc(e,e.return,m)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:hl(t,e),pl(e),4&r&&ul(e);case 21:}}function pl(e){var t=e.flags;if(2&t){try{e:{for(var i=e.return;null!==i;){if(il(i)){var r=i;break e}i=i.return}throw Error(o(160))}switch(r.tag){case 5:var n=r.stateNode;32&r.flags&&(he(n,""),r.flags&=-33),ol(e,rl(e),n);break;case 3:case 4:var s=r.stateNode.containerInfo;nl(e,rl(e),s);break;default:throw Error(o(161))}}catch(a){bc(e,e.return,a)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function fl(e,t,i){Ya=e,gl(e,t,i)}function gl(e,t,i){for(var r=0!==(1&e.mode);null!==Ya;){var n=Ya,o=n.child;if(22===n.tag&&r){var s=null!==n.memoizedState||Ga;if(!s){var a=n.alternate,l=null!==a&&null!==a.memoizedState||qa;a=Ga;var c=qa;if(Ga=s,(qa=l)&&!c)for(Ya=n;null!==Ya;)l=(s=Ya).child,22===s.tag&&null!==s.memoizedState?_l(n):null!==l?(l.return=s,Ya=l):_l(n);for(;null!==o;)Ya=o,gl(o,t,i),o=o.sibling;Ya=n,Ga=a,qa=c}ml(e)}else 0!==(8772&n.subtreeFlags)&&null!==o?(o.return=n,Ya=o):ml(e)}}function ml(e){for(;null!==Ya;){var t=Ya;if(0!==(8772&t.flags)){var i=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:qa||$a(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!qa)if(null===i)r.componentDidMount();else{var n=t.elementType===t.type?i.memoizedProps:Js(t.type,i.memoizedProps);r.componentDidUpdate(n,i.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;null!==s&&No(t,s,r);break;case 3:var a=t.updateQueue;if(null!==a){if(i=null,null!==t.child)switch(t.child.tag){case 5:case 1:i=t.child.stateNode}No(t,a,i)}break;case 5:var l=t.stateNode;if(null===i&&4&t.flags){i=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&i.focus();break;case"img":c.src&&(i.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var h=u.memoizedState;if(null!==h){var d=h.dehydrated;null!==d&&Ht(d)}}}break;default:throw Error(o(163))}qa||512&t.flags&&el(t)}catch(p){bc(t,t.return,p)}}if(t===e){Ya=null;break}if(null!==(i=t.sibling)){i.return=t.return,Ya=i;break}Ya=t.return}}function yl(e){for(;null!==Ya;){var t=Ya;if(t===e){Ya=null;break}var i=t.sibling;if(null!==i){i.return=t.return,Ya=i;break}Ya=t.return}}function _l(e){for(;null!==Ya;){var t=Ya;try{switch(t.tag){case 0:case 11:case 15:var i=t.return;try{$a(4,t)}catch(l){bc(t,i,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var n=t.return;try{r.componentDidMount()}catch(l){bc(t,n,l)}}var o=t.return;try{el(t)}catch(l){bc(t,o,l)}break;case 5:var s=t.return;try{el(t)}catch(l){bc(t,s,l)}}}catch(l){bc(t,t.return,l)}if(t===e){Ya=null;break}var a=t.sibling;if(null!==a){a.return=t.return,Ya=a;break}Ya=t.return}}var vl,bl=Math.ceil,xl=b.ReactCurrentDispatcher,wl=b.ReactCurrentOwner,Sl=b.ReactCurrentBatchConfig,kl=0,Cl=null,Tl=null,El=0,Dl=0,Il=bn(0),Rl=0,Fl=null,Al=0,Ol=0,Ml=0,Pl=null,zl=null,Bl=0,Ll=1/0,Ul=null,Nl=!1,Hl=null,jl=null,Wl=!1,Vl=null,Gl=0,ql=0,Xl=null,Yl=-1,Ql=0;function Kl(){return 0!==(6&kl)?Ke():-1!==Yl?Yl:Yl=Ke()}function Zl(e){return 0===(1&e.mode)?1:0!==(2&kl)&&0!==El?El&-El:null!==ho.transition?(0===Ql&&(Ql=ft()),Ql):0!==(e=_t)?e:e=void 0===(e=window.event)?16:Qt(e.type)}function Jl(e,t,i,r){if(50<ql)throw ql=0,Xl=null,Error(o(185));mt(e,i,r),0!==(2&kl)&&e===Cl||(e===Cl&&(0===(2&kl)&&(Ol|=i),4===Rl&&rc(e,El)),$l(e,r),1===i&&0===kl&&0===(1&t.mode)&&(Ll=Ke()+500,Pn&&Ln()))}function $l(e,t){var i=e.callbackNode;!function(e,t){for(var i=e.suspendedLanes,r=e.pingedLanes,n=e.expirationTimes,o=e.pendingLanes;0<o;){var s=31-ot(o),a=1<<s,l=n[s];-1===l?0!==(a&i)&&0===(a&r)||(n[s]=dt(a,t)):l<=t&&(e.expiredLanes|=a),o&=~a}}(e,t);var r=ht(e,e===Cl?El:0);if(0===r)null!==i&&Xe(i),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=i&&Xe(i),1===t)0===e.tag?function(e){Pn=!0,Bn(e)}(nc.bind(null,e)):Bn(nc.bind(null,e)),tn((function(){0===(6&kl)&&Ln()})),i=null;else{switch(vt(r)){case 1:i=Je;break;case 4:i=$e;break;case 16:default:i=et;break;case 536870912:i=it}i=Cc(i,ec.bind(null,e))}e.callbackPriority=t,e.callbackNode=i}}function ec(e,t){if(Yl=-1,Ql=0,0!==(6&kl))throw Error(o(327));var i=e.callbackNode;if(_c()&&e.callbackNode!==i)return null;var r=ht(e,e===Cl?El:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=dc(e,r);else{t=r;var n=kl;kl|=2;var s=uc();for(Cl===e&&El===t||(Ul=null,Ll=Ke()+500,lc(e,t));;)try{fc();break}catch(l){cc(e,l)}So(),xl.current=s,kl=n,null!==Tl?t=0:(Cl=null,El=0,t=Rl)}if(0!==t){if(2===t&&(0!==(n=pt(e))&&(r=n,t=tc(e,n))),1===t)throw i=Fl,lc(e,0),rc(e,r),$l(e,Ke()),i;if(6===t)rc(e,r);else{if(n=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var i=t.updateQueue;if(null!==i&&null!==(i=i.stores))for(var r=0;r<i.length;r++){var n=i[r],o=n.getSnapshot;n=n.value;try{if(!ir(o(),n))return!1}catch(a){return!1}}}if(i=t.child,16384&t.subtreeFlags&&null!==i)i.return=t,t=i;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(n)&&(2===(t=dc(e,r))&&(0!==(s=pt(e))&&(r=s,t=tc(e,s))),1===t))throw i=Fl,lc(e,0),rc(e,r),$l(e,Ke()),i;switch(e.finishedWork=n,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:case 5:yc(e,zl,Ul);break;case 3:if(rc(e,r),(130023424&r)===r&&10<(t=Bl+500-Ke())){if(0!==ht(e,0))break;if(((n=e.suspendedLanes)&r)!==r){Kl(),e.pingedLanes|=e.suspendedLanes&n;break}e.timeoutHandle=Jr(yc.bind(null,e,zl,Ul),t);break}yc(e,zl,Ul);break;case 4:if(rc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,n=-1;0<r;){var a=31-ot(r);s=1<<a,(a=t[a])>n&&(n=a),r&=~s}if(r=n,10<(r=(120>(r=Ke()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*bl(r/1960))-r)){e.timeoutHandle=Jr(yc.bind(null,e,zl,Ul),r);break}yc(e,zl,Ul);break;default:throw Error(o(329))}}}return $l(e,Ke()),e.callbackNode===i?ec.bind(null,e):null}function tc(e,t){var i=Pl;return e.current.memoizedState.isDehydrated&&(lc(e,t).flags|=256),2!==(e=dc(e,t))&&(t=zl,zl=i,null!==t&&ic(t)),e}function ic(e){null===zl?zl=e:zl.push.apply(zl,e)}function rc(e,t){for(t&=~Ml,t&=~Ol,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var i=31-ot(t),r=1<<i;e[i]=-1,t&=~r}}function nc(e){if(0!==(6&kl))throw Error(o(327));_c();var t=ht(e,0);if(0===(1&t))return $l(e,Ke()),null;var i=dc(e,t);if(0!==e.tag&&2===i){var r=pt(e);0!==r&&(t=r,i=tc(e,r))}if(1===i)throw i=Fl,lc(e,0),rc(e,t),$l(e,Ke()),i;if(6===i)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,yc(e,zl,Ul),$l(e,Ke()),null}function oc(e,t){var i=kl;kl|=1;try{return e(t)}finally{0===(kl=i)&&(Ll=Ke()+500,Pn&&Ln())}}function sc(e){null!==Vl&&0===Vl.tag&&0===(6&kl)&&_c();var t=kl;kl|=1;var i=Sl.transition,r=_t;try{if(Sl.transition=null,_t=1,e)return e()}finally{_t=r,Sl.transition=i,0===(6&(kl=t))&&Ln()}}function ac(){Dl=Il.current,xn(Il)}function lc(e,t){e.finishedWork=null,e.finishedLanes=0;var i=e.timeoutHandle;if(-1!==i&&(e.timeoutHandle=-1,$r(i)),null!==Tl)for(i=Tl.return;null!==i;){var r=i;switch(Zn(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&In();break;case 3:Xo(),xn(Cn),xn(kn),$o();break;case 5:Qo(r);break;case 4:Xo();break;case 13:case 19:xn(Ko);break;case 10:ko(r.type._context);break;case 22:case 23:ac()}i=i.return}if(Cl=e,Tl=e=Ic(e.current,null),El=Dl=t,Rl=0,Fl=null,Ml=Ol=Al=0,zl=Pl=null,null!==Do){for(t=0;t<Do.length;t++)if(null!==(r=(i=Do[t]).interleaved)){i.interleaved=null;var n=r.next,o=i.pending;if(null!==o){var s=o.next;o.next=n,r.next=s}i.pending=r}Do=null}return e}function cc(e,t){for(;;){var i=Tl;try{if(So(),es.current=Ys,ss){for(var r=rs.memoizedState;null!==r;){var n=r.queue;null!==n&&(n.pending=null),r=r.next}ss=!1}if(is=0,os=ns=rs=null,as=!1,ls=0,wl.current=null,null===i||null===i.return){Rl=1,Fl=t,Tl=null;break}e:{var s=e,a=i.return,l=i,c=t;if(t=El,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,h=l,d=h.tag;if(0===(1&h.mode)&&(0===d||11===d||15===d)){var p=h.alternate;p?(h.updateQueue=p.updateQueue,h.memoizedState=p.memoizedState,h.lanes=p.lanes):(h.updateQueue=null,h.memoizedState=null)}var f=da(a);if(null!==f){f.flags&=-257,pa(f,a,l,0,t),1&f.mode&&ha(s,u,t),c=u;var g=(t=f).updateQueue;if(null===g){var m=new Set;m.add(c),t.updateQueue=m}else g.add(c);break e}if(0===(1&t)){ha(s,u,t),hc();break e}c=Error(o(426))}else if(eo&&1&l.mode){var y=da(a);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),pa(y,a,l,0,t),uo(oa(c,l));break e}}s=c=oa(c,l),4!==Rl&&(Rl=2),null===Pl?Pl=[s]:Pl.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t,Lo(s,ca(0,c,t));break e;case 1:l=c;var _=s.type,v=s.stateNode;if(0===(128&s.flags)&&("function"===typeof _.getDerivedStateFromError||null!==v&&"function"===typeof v.componentDidCatch&&(null===jl||!jl.has(v)))){s.flags|=65536,t&=-t,s.lanes|=t,Lo(s,ua(s,l,t));break e}}s=s.return}while(null!==s)}mc(i)}catch(b){t=b,Tl===i&&null!==i&&(Tl=i=i.return);continue}break}}function uc(){var e=xl.current;return xl.current=Ys,null===e?Ys:e}function hc(){0!==Rl&&3!==Rl&&2!==Rl||(Rl=4),null===Cl||0===(268435455&Al)&&0===(268435455&Ol)||rc(Cl,El)}function dc(e,t){var i=kl;kl|=2;var r=uc();for(Cl===e&&El===t||(Ul=null,lc(e,t));;)try{pc();break}catch(n){cc(e,n)}if(So(),kl=i,xl.current=r,null!==Tl)throw Error(o(261));return Cl=null,El=0,Rl}function pc(){for(;null!==Tl;)gc(Tl)}function fc(){for(;null!==Tl&&!Ye();)gc(Tl)}function gc(e){var t=vl(e.alternate,e,Dl);e.memoizedProps=e.pendingProps,null===t?mc(e):Tl=t,wl.current=null}function mc(e){var t=e;do{var i=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(i=Wa(i,t,Dl)))return void(Tl=i)}else{if(null!==(i=Va(i,t)))return i.flags&=32767,void(Tl=i);if(null===e)return Rl=6,void(Tl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Tl=t);Tl=t=e}while(null!==t);0===Rl&&(Rl=5)}function yc(e,t,i){var r=_t,n=Sl.transition;try{Sl.transition=null,_t=1,function(e,t,i,r){do{_c()}while(null!==Vl);if(0!==(6&kl))throw Error(o(327));i=e.finishedWork;var n=e.finishedLanes;if(null===i)return null;if(e.finishedWork=null,e.finishedLanes=0,i===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var s=i.lanes|i.childLanes;if(function(e,t){var i=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<i;){var n=31-ot(i),o=1<<n;t[n]=0,r[n]=-1,e[n]=-1,i&=~o}}(e,s),e===Cl&&(Tl=Cl=null,El=0),0===(2064&i.subtreeFlags)&&0===(2064&i.flags)||Wl||(Wl=!0,Cc(et,(function(){return _c(),null}))),s=0!==(15990&i.flags),0!==(15990&i.subtreeFlags)||s){s=Sl.transition,Sl.transition=null;var a=_t;_t=1;var l=kl;kl|=4,wl.current=null,function(e,t){if(Qr=Wt,lr(e=ar())){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(i=(i=e.ownerDocument)&&i.defaultView||window).getSelection&&i.getSelection();if(r&&0!==r.rangeCount){i=r.anchorNode;var n=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{i.nodeType,s.nodeType}catch(x){i=null;break e}var a=0,l=-1,c=-1,u=0,h=0,d=e,p=null;t:for(;;){for(var f;d!==i||0!==n&&3!==d.nodeType||(l=a+n),d!==s||0!==r&&3!==d.nodeType||(c=a+r),3===d.nodeType&&(a+=d.nodeValue.length),null!==(f=d.firstChild);)p=d,d=f;for(;;){if(d===e)break t;if(p===i&&++u===n&&(l=a),p===s&&++h===r&&(c=a),null!==(f=d.nextSibling))break;p=(d=p).parentNode}d=f}i=-1===l||-1===c?null:{start:l,end:c}}else i=null}i=i||{start:0,end:0}}else i=null;for(Kr={focusedElem:e,selectionRange:i},Wt=!1,Ya=t;null!==Ya;)if(e=(t=Ya).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Ya=e;else for(;null!==Ya;){t=Ya;try{var g=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==g){var m=g.memoizedProps,y=g.memoizedState,_=t.stateNode,v=_.getSnapshotBeforeUpdate(t.elementType===t.type?m:Js(t.type,m),y);_.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(o(163))}}catch(x){bc(t,t.return,x)}if(null!==(e=t.sibling)){e.return=t.return,Ya=e;break}Ya=t.return}g=Za,Za=!1}(e,i),dl(i,e),cr(Kr),Wt=!!Qr,Kr=Qr=null,e.current=i,fl(i,e,n),Qe(),kl=l,_t=a,Sl.transition=s}else e.current=i;if(Wl&&(Wl=!1,Vl=e,Gl=n),s=e.pendingLanes,0===s&&(jl=null),function(e){if(nt&&"function"===typeof nt.onCommitFiberRoot)try{nt.onCommitFiberRoot(rt,e,void 0,128===(128&e.current.flags))}catch(t){}}(i.stateNode),$l(e,Ke()),null!==t)for(r=e.onRecoverableError,i=0;i<t.length;i++)n=t[i],r(n.value,{componentStack:n.stack,digest:n.digest});if(Nl)throw Nl=!1,e=Hl,Hl=null,e;0!==(1&Gl)&&0!==e.tag&&_c(),s=e.pendingLanes,0!==(1&s)?e===Xl?ql++:(ql=0,Xl=e):ql=0,Ln()}(e,t,i,r)}finally{Sl.transition=n,_t=r}return null}function _c(){if(null!==Vl){var e=vt(Gl),t=Sl.transition,i=_t;try{if(Sl.transition=null,_t=16>e?16:e,null===Vl)var r=!1;else{if(e=Vl,Vl=null,Gl=0,0!==(6&kl))throw Error(o(331));var n=kl;for(kl|=4,Ya=e.current;null!==Ya;){var s=Ya,a=s.child;if(0!==(16&Ya.flags)){var l=s.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Ya=u;null!==Ya;){var h=Ya;switch(h.tag){case 0:case 11:case 15:Ja(8,h,s)}var d=h.child;if(null!==d)d.return=h,Ya=d;else for(;null!==Ya;){var p=(h=Ya).sibling,f=h.return;if(tl(h),h===u){Ya=null;break}if(null!==p){p.return=f,Ya=p;break}Ya=f}}}var g=s.alternate;if(null!==g){var m=g.child;if(null!==m){g.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(null!==m)}}Ya=s}}if(0!==(2064&s.subtreeFlags)&&null!==a)a.return=s,Ya=a;else e:for(;null!==Ya;){if(0!==(2048&(s=Ya).flags))switch(s.tag){case 0:case 11:case 15:Ja(9,s,s.return)}var _=s.sibling;if(null!==_){_.return=s.return,Ya=_;break e}Ya=s.return}}var v=e.current;for(Ya=v;null!==Ya;){var b=(a=Ya).child;if(0!==(2064&a.subtreeFlags)&&null!==b)b.return=a,Ya=b;else e:for(a=v;null!==Ya;){if(0!==(2048&(l=Ya).flags))try{switch(l.tag){case 0:case 11:case 15:$a(9,l)}}catch(w){bc(l,l.return,w)}if(l===a){Ya=null;break e}var x=l.sibling;if(null!==x){x.return=l.return,Ya=x;break e}Ya=l.return}}if(kl=n,Ln(),nt&&"function"===typeof nt.onPostCommitFiberRoot)try{nt.onPostCommitFiberRoot(rt,e)}catch(w){}r=!0}return r}finally{_t=i,Sl.transition=t}}return!1}function vc(e,t,i){e=zo(e,t=ca(0,t=oa(i,t),1),1),t=Kl(),null!==e&&(mt(e,1,t),$l(e,t))}function bc(e,t,i){if(3===e.tag)vc(e,e,i);else for(;null!==t;){if(3===t.tag){vc(t,e,i);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===jl||!jl.has(r))){t=zo(t,e=ua(t,e=oa(i,e),1),1),e=Kl(),null!==t&&(mt(t,1,e),$l(t,e));break}}t=t.return}}function xc(e,t,i){var r=e.pingCache;null!==r&&r.delete(t),t=Kl(),e.pingedLanes|=e.suspendedLanes&i,Cl===e&&(El&i)===i&&(4===Rl||3===Rl&&(130023424&El)===El&&500>Ke()-Bl?lc(e,0):Ml|=i),$l(e,t)}function wc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ct,0===(130023424&(ct<<=1))&&(ct=4194304)));var i=Kl();null!==(e=Fo(e,t))&&(mt(e,t,i),$l(e,i))}function Sc(e){var t=e.memoizedState,i=0;null!==t&&(i=t.retryLane),wc(e,i)}function kc(e,t){var i=0;switch(e.tag){case 13:var r=e.stateNode,n=e.memoizedState;null!==n&&(i=n.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(t),wc(e,i)}function Cc(e,t){return qe(e,t)}function Tc(e,t,i,r){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ec(e,t,i,r){return new Tc(e,t,i,r)}function Dc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ic(e,t){var i=e.alternate;return null===i?((i=Ec(e.tag,t,e.key,e.mode)).elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=t,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=14680064&e.flags,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,t=e.dependencies,i.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i}function Rc(e,t,i,r,n,s){var a=2;if(r=e,"function"===typeof e)Dc(e)&&(a=1);else if("string"===typeof e)a=5;else e:switch(e){case S:return Fc(i.children,n,s,t);case k:a=8,n|=8;break;case C:return(e=Ec(12,i,t,2|n)).elementType=C,e.lanes=s,e;case I:return(e=Ec(13,i,t,n)).elementType=I,e.lanes=s,e;case R:return(e=Ec(19,i,t,n)).elementType=R,e.lanes=s,e;case O:return Ac(i,n,s,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case T:a=10;break e;case E:a=9;break e;case D:a=11;break e;case F:a=14;break e;case A:a=16,r=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Ec(a,i,t,n)).elementType=e,t.type=r,t.lanes=s,t}function Fc(e,t,i,r){return(e=Ec(7,e,r,t)).lanes=i,e}function Ac(e,t,i,r){return(e=Ec(22,e,r,t)).elementType=O,e.lanes=i,e.stateNode={isHidden:!1},e}function Oc(e,t,i){return(e=Ec(6,e,null,t)).lanes=i,e}function Mc(e,t,i){return(t=Ec(4,null!==e.children?e.children:[],e.key,t)).lanes=i,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Pc(e,t,i,r,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=n,this.mutableSourceEagerHydrationData=null}function zc(e,t,i,r,n,o,s,a,l){return e=new Pc(e,t,i,a,l),1===t?(t=1,!0===o&&(t|=8)):t=0,o=Ec(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:i,cache:null,transitions:null,pendingSuspenseBoundaries:null},Oo(o),e}function Bc(e){if(!e)return Sn;e:{if(He(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Dn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var i=e.type;if(Dn(i))return Fn(e,i,t)}return t}function Lc(e,t,i,r,n,o,s,a,l){return(e=zc(i,r,!0,e,0,o,0,a,l)).context=Bc(null),i=e.current,(o=Po(r=Kl(),n=Zl(i))).callback=void 0!==t&&null!==t?t:null,zo(i,o,n),e.current.lanes=n,mt(e,n,r),$l(e,r),e}function Uc(e,t,i,r){var n=t.current,o=Kl(),s=Zl(n);return i=Bc(i),null===t.context?t.context=i:t.pendingContext=i,(t=Po(o,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=zo(n,t,s))&&(Jl(e,n,s,o),Bo(e,n,s)),s}function Nc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Hc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var i=e.retryLane;e.retryLane=0!==i&&i<t?i:t}}function jc(e,t){Hc(e,t),(e=e.alternate)&&Hc(e,t)}vl=function(e,t,i){if(null!==e)if(e.memoizedProps!==t.pendingProps||Cn.current)ga=!0;else{if(0===(e.lanes&i)&&0===(128&t.flags))return ga=!1,function(e,t,i){switch(t.tag){case 3:Ca(t),co();break;case 5:Yo(t);break;case 1:Dn(t.type)&&An(t);break;case 4:qo(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,n=t.memoizedProps.value;wn(vo,r._currentValue),r._currentValue=n;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(wn(Ko,1&Ko.current),t.flags|=128,null):0!==(i&t.child.childLanes)?Oa(e,t,i):(wn(Ko,1&Ko.current),null!==(e=Na(e,t,i))?e.sibling:null);wn(Ko,1&Ko.current);break;case 19:if(r=0!==(i&t.childLanes),0!==(128&e.flags)){if(r)return La(e,t,i);t.flags|=128}if(null!==(n=t.memoizedState)&&(n.rendering=null,n.tail=null,n.lastEffect=null),wn(Ko,Ko.current),r)break;return null;case 22:case 23:return t.lanes=0,ba(e,t,i)}return Na(e,t,i)}(e,t,i);ga=0!==(131072&e.flags)}else ga=!1,eo&&0!==(1048576&t.flags)&&Qn(t,jn,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ua(e,t),e=t.pendingProps;var n=En(t,kn.current);To(t,i),n=ds(null,t,r,e,n,i);var s=ps();return t.flags|=1,"object"===typeof n&&null!==n&&"function"===typeof n.render&&void 0===n.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Dn(r)?(s=!0,An(t)):s=!1,t.memoizedState=null!==n.state&&void 0!==n.state?n.state:null,Oo(t),n.updater=ea,t.stateNode=n,n._reactInternals=t,na(t,r,e,i),t=ka(null,t,r,!0,s,i)):(t.tag=0,eo&&s&&Kn(t),ma(null,t,n,i),t=t.child),t;case 16:r=t.elementType;e:{switch(Ua(e,t),e=t.pendingProps,r=(n=r._init)(r._payload),t.type=r,n=t.tag=function(e){if("function"===typeof e)return Dc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===D)return 11;if(e===F)return 14}return 2}(r),e=Js(r,e),n){case 0:t=wa(null,t,r,e,i);break e;case 1:t=Sa(null,t,r,e,i);break e;case 11:t=ya(null,t,r,e,i);break e;case 14:t=_a(null,t,r,Js(r.type,e),i);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,n=t.pendingProps,wa(e,t,r,n=t.elementType===r?n:Js(r,n),i);case 1:return r=t.type,n=t.pendingProps,Sa(e,t,r,n=t.elementType===r?n:Js(r,n),i);case 3:e:{if(Ca(t),null===e)throw Error(o(387));r=t.pendingProps,n=(s=t.memoizedState).element,Mo(e,t),Uo(t,r,null,i);var a=t.memoizedState;if(r=a.element,s.isDehydrated){if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=Ta(e,t,r,i,n=oa(Error(o(423)),t));break e}if(r!==n){t=Ta(e,t,r,i,n=oa(Error(o(424)),t));break e}for($n=on(t.stateNode.containerInfo.firstChild),Jn=t,eo=!0,to=null,i=_o(t,null,r,i),t.child=i;i;)i.flags=-3&i.flags|4096,i=i.sibling}else{if(co(),r===n){t=Na(e,t,i);break e}ma(e,t,r,i)}t=t.child}return t;case 5:return Yo(t),null===e&&oo(t),r=t.type,n=t.pendingProps,s=null!==e?e.memoizedProps:null,a=n.children,Zr(r,n)?a=null:null!==s&&Zr(r,s)&&(t.flags|=32),xa(e,t),ma(e,t,a,i),t.child;case 6:return null===e&&oo(t),null;case 13:return Oa(e,t,i);case 4:return qo(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=yo(t,null,r,i):ma(e,t,r,i),t.child;case 11:return r=t.type,n=t.pendingProps,ya(e,t,r,n=t.elementType===r?n:Js(r,n),i);case 7:return ma(e,t,t.pendingProps,i),t.child;case 8:case 12:return ma(e,t,t.pendingProps.children,i),t.child;case 10:e:{if(r=t.type._context,n=t.pendingProps,s=t.memoizedProps,a=n.value,wn(vo,r._currentValue),r._currentValue=a,null!==s)if(ir(s.value,a)){if(s.children===n.children&&!Cn.current){t=Na(e,t,i);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var l=s.dependencies;if(null!==l){a=s.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===s.tag){(c=Po(-1,i&-i)).tag=2;var u=s.updateQueue;if(null!==u){var h=(u=u.shared).pending;null===h?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}s.lanes|=i,null!==(c=s.alternate)&&(c.lanes|=i),Co(s.return,i,t),l.lanes|=i;break}c=c.next}}else if(10===s.tag)a=s.type===t.type?null:s.child;else if(18===s.tag){if(null===(a=s.return))throw Error(o(341));a.lanes|=i,null!==(l=a.alternate)&&(l.lanes|=i),Co(a,i,t),a=s.sibling}else a=s.child;if(null!==a)a.return=s;else for(a=s;null!==a;){if(a===t){a=null;break}if(null!==(s=a.sibling)){s.return=a.return,a=s;break}a=a.return}s=a}ma(e,t,n.children,i),t=t.child}return t;case 9:return n=t.type,r=t.pendingProps.children,To(t,i),r=r(n=Eo(n)),t.flags|=1,ma(e,t,r,i),t.child;case 14:return n=Js(r=t.type,t.pendingProps),_a(e,t,r,n=Js(r.type,n),i);case 15:return va(e,t,t.type,t.pendingProps,i);case 17:return r=t.type,n=t.pendingProps,n=t.elementType===r?n:Js(r,n),Ua(e,t),t.tag=1,Dn(r)?(e=!0,An(t)):e=!1,To(t,i),ia(t,r,n),na(t,r,n,i),ka(null,t,r,!0,e,i);case 19:return La(e,t,i);case 22:return ba(e,t,i)}throw Error(o(156,t.tag))};var Wc="function"===typeof reportError?reportError:function(e){console.error(e)};function Vc(e){this._internalRoot=e}function Gc(e){this._internalRoot=e}function qc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Yc(){}function Qc(e,t,i,r,n){var o=i._reactRootContainer;if(o){var s=o;if("function"===typeof n){var a=n;n=function(){var e=Nc(s);a.call(e)}}Uc(t,s,e,n)}else s=function(e,t,i,r,n){if(n){if("function"===typeof r){var o=r;r=function(){var e=Nc(s);o.call(e)}}var s=Lc(t,r,e,0,null,!1,0,"",Yc);return e._reactRootContainer=s,e[un]=s.current,Br(8===e.nodeType?e.parentNode:e),sc(),s}for(;n=e.lastChild;)e.removeChild(n);if("function"===typeof r){var a=r;r=function(){var e=Nc(l);a.call(e)}}var l=zc(e,0,!1,null,0,!1,0,"",Yc);return e._reactRootContainer=l,e[un]=l.current,Br(8===e.nodeType?e.parentNode:e),sc((function(){Uc(t,l,i,r)})),l}(i,t,e,n,r);return Nc(s)}Gc.prototype.render=Vc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));Uc(e,t,null,null)},Gc.prototype.unmount=Vc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;sc((function(){Uc(null,e,null,null)})),t[un]=null}},Gc.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var i=0;i<At.length&&0!==t&&t<At[i].priority;i++);At.splice(i,0,e),0===i&&zt(e)}},bt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var i=ut(t.pendingLanes);0!==i&&(yt(t,1|i),$l(t,Ke()),0===(6&kl)&&(Ll=Ke()+500,Ln()))}break;case 13:sc((function(){var t=Fo(e,1);if(null!==t){var i=Kl();Jl(t,e,1,i)}})),jc(e,1)}},xt=function(e){if(13===e.tag){var t=Fo(e,134217728);if(null!==t)Jl(t,e,134217728,Kl());jc(e,134217728)}},wt=function(e){if(13===e.tag){var t=Zl(e),i=Fo(e,t);if(null!==i)Jl(i,e,t,Kl());jc(e,t)}},St=function(){return _t},kt=function(e,t){var i=_t;try{return _t=e,t()}finally{_t=i}},xe=function(e,t,i){switch(t){case"input":if(J(e,i),t=i.name,"radio"===i.type&&null!=t){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<i.length;t++){var r=i[t];if(r!==e&&r.form===e.form){var n=yn(r);if(!n)throw Error(o(90));X(r),J(r,n)}}}break;case"textarea":oe(e,i);break;case"select":null!=(t=i.value)&&ie(e,!!i.multiple,t,!1)}},Ee=oc,De=sc;var Kc={usingClientEntryPoint:!1,Events:[gn,mn,yn,Ce,Te,oc]},Zc={findFiberByHostInstance:fn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Jc={bundleType:Zc.bundleType,version:Zc.version,rendererPackageName:Zc.rendererPackageName,rendererConfig:Zc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ve(e))?null:e.stateNode},findFiberByHostInstance:Zc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var $c=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$c.isDisabled&&$c.supportsFiber)try{rt=$c.inject(Jc),nt=$c}catch(eu){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Kc,t.createPortal=function(e,t){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!qc(t))throw Error(o(200));return function(e,t,i){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:w,key:null==r?null:""+r,children:e,containerInfo:t,implementation:i}}(e,t,null,i)},t.createRoot=function(e,t){if(!qc(e))throw Error(o(299));var i=!1,r="",n=Wc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(i=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(n=t.onRecoverableError)),t=zc(e,1,!1,null,0,i,0,r,n),e[un]=t.current,Br(8===e.nodeType?e.parentNode:e),new Vc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=null===(e=Ve(t))?null:e.stateNode},t.flushSync=function(e){return sc(e)},t.hydrate=function(e,t,i){if(!Xc(t))throw Error(o(200));return Qc(null,e,t,!0,i)},t.hydrateRoot=function(e,t,i){if(!qc(e))throw Error(o(405));var r=null!=i&&i.hydratedSources||null,n=!1,s="",a=Wc;if(null!==i&&void 0!==i&&(!0===i.unstable_strictMode&&(n=!0),void 0!==i.identifierPrefix&&(s=i.identifierPrefix),void 0!==i.onRecoverableError&&(a=i.onRecoverableError)),t=Lc(t,null,e,1,null!=i?i:null,n,0,s,a),e[un]=t.current,Br(e),r)for(e=0;e<r.length;e++)n=(n=(i=r[e])._getVersion)(i._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[i,n]:t.mutableSourceEagerHydrationData.push(i,n);return new Gc(t)},t.render=function(e,t,i){if(!Xc(t))throw Error(o(200));return Qc(null,e,t,!1,i)},t.unmountComponentAtNode=function(e){if(!Xc(e))throw Error(o(40));return!!e._reactRootContainer&&(sc((function(){Qc(null,null,e,!1,(function(){e._reactRootContainer=null,e[un]=null}))})),!0)},t.unstable_batchedUpdates=oc,t.unstable_renderSubtreeIntoContainer=function(e,t,i,r){if(!Xc(i))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return Qc(e,t,i,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},391:(e,t,i)=>{"use strict";var r=i(950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},950:(e,t,i)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=i(730)},885:(e,t,i)=>{"use strict";var r,n;r=i(160),n=i(556),r.version,r.renderToString,t.qV=r.renderToStaticMarkup,r.renderToNodeStream,r.renderToStaticNodeStream,n.renderToReadableStream},153:(e,t,i)=>{"use strict";var r=i(43),n=Symbol.for("react.element"),o=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,i){var r,o={},c=null,u=null;for(r in void 0!==i&&(c=""+i),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)s.call(t,r)&&!l.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:n,type:e,key:c,ref:u,props:o,_owner:a.current}}t.jsx=c,t.jsxs=c},202:(e,t)=>{"use strict";var i=Symbol.for("react.element"),r=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),p=Symbol.iterator;var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,m={};function y(e,t,i){this.props=e,this.context=t,this.refs=m,this.updater=i||f}function _(){}function v(e,t,i){this.props=e,this.context=t,this.refs=m,this.updater=i||f}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},_.prototype=y.prototype;var b=v.prototype=new _;b.constructor=v,g(b,y.prototype),b.isPureReactComponent=!0;var x=Array.isArray,w=Object.prototype.hasOwnProperty,S={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function C(e,t,r){var n,o={},s=null,a=null;if(null!=t)for(n in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(s=""+t.key),t)w.call(t,n)&&!k.hasOwnProperty(n)&&(o[n]=t[n]);var l=arguments.length-2;if(1===l)o.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];o.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps)void 0===o[n]&&(o[n]=l[n]);return{$$typeof:i,type:e,key:s,ref:a,props:o,_owner:S.current}}function T(e){return"object"===typeof e&&null!==e&&e.$$typeof===i}var E=/\/+/g;function D(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function I(e,t,n,o,s){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l=!1;if(null===e)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case i:case r:l=!0}}if(l)return s=s(l=e),e=""===o?"."+D(l,0):o,x(s)?(n="",null!=e&&(n=e.replace(E,"$&/")+"/"),I(s,t,n,"",(function(e){return e}))):null!=s&&(T(s)&&(s=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(s,n+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(E,"$&/")+"/")+e)),t.push(s)),1;if(l=0,o=""===o?".":o+":",x(e))for(var c=0;c<e.length;c++){var u=o+D(a=e[c],c);l+=I(a,t,n,u,s)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=p&&e[p]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(a=e.next()).done;)l+=I(a=a.value,t,n,u=o+D(a,c++),s);else if("object"===a)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function R(e,t,i){if(null==e)return e;var r=[],n=0;return I(e,r,"","",(function(e){return t.call(i,e,n++)})),r}function F(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var A={current:null},O={transition:null},M={ReactCurrentDispatcher:A,ReactCurrentBatchConfig:O,ReactCurrentOwner:S};function P(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:R,forEach:function(e,t,i){R(e,(function(){t.apply(this,arguments)}),i)},count:function(e){var t=0;return R(e,(function(){t++})),t},toArray:function(e){return R(e,(function(e){return e}))||[]},only:function(e){if(!T(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=n,t.Profiler=s,t.PureComponent=v,t.StrictMode=o,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=M,t.act=P,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=g({},e.props),o=e.key,s=e.ref,a=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,a=S.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)w.call(t,c)&&!k.hasOwnProperty(c)&&(n[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:i,type:e.type,key:o,ref:s,props:n,_owner:a}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=C,t.createFactory=function(e){var t=C.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=T,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:F}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=O.transition;O.transition={};try{e()}finally{O.transition=t}},t.unstable_act=P,t.useCallback=function(e,t){return A.current.useCallback(e,t)},t.useContext=function(e){return A.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return A.current.useDeferredValue(e)},t.useEffect=function(e,t){return A.current.useEffect(e,t)},t.useId=function(){return A.current.useId()},t.useImperativeHandle=function(e,t,i){return A.current.useImperativeHandle(e,t,i)},t.useInsertionEffect=function(e,t){return A.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return A.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return A.current.useMemo(e,t)},t.useReducer=function(e,t,i){return A.current.useReducer(e,t,i)},t.useRef=function(e){return A.current.useRef(e)},t.useState=function(e){return A.current.useState(e)},t.useSyncExternalStore=function(e,t,i){return A.current.useSyncExternalStore(e,t,i)},t.useTransition=function(){return A.current.useTransition()},t.version="18.3.1"},43:(e,t,i)=>{"use strict";e.exports=i(202)},579:(e,t,i)=>{"use strict";e.exports=i(153)},234:(e,t)=>{"use strict";function i(e,t){var i=e.length;e.push(t);e:for(;0<i;){var r=i-1>>>1,n=e[r];if(!(0<o(n,t)))break e;e[r]=t,e[i]=n,i=r}}function r(e){return 0===e.length?null:e[0]}function n(e){if(0===e.length)return null;var t=e[0],i=e.pop();if(i!==t){e[0]=i;e:for(var r=0,n=e.length,s=n>>>1;r<s;){var a=2*(r+1)-1,l=e[a],c=a+1,u=e[c];if(0>o(l,i))c<n&&0>o(u,l)?(e[r]=u,e[c]=i,r=c):(e[r]=l,e[a]=i,r=a);else{if(!(c<n&&0>o(u,i)))break e;e[r]=u,e[c]=i,r=c}}}return t}function o(e,t){var i=e.sortIndex-t.sortIndex;return 0!==i?i:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],u=[],h=1,d=null,p=3,f=!1,g=!1,m=!1,y="function"===typeof setTimeout?setTimeout:null,_="function"===typeof clearTimeout?clearTimeout:null,v="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(u);null!==t;){if(null===t.callback)n(u);else{if(!(t.startTime<=e))break;n(u),t.sortIndex=t.expirationTime,i(c,t)}t=r(u)}}function x(e){if(m=!1,b(e),!g)if(null!==r(c))g=!0,O(w);else{var t=r(u);null!==t&&M(x,t.startTime-e)}}function w(e,i){g=!1,m&&(m=!1,_(T),T=-1),f=!0;var o=p;try{for(b(i),d=r(c);null!==d&&(!(d.expirationTime>i)||e&&!I());){var s=d.callback;if("function"===typeof s){d.callback=null,p=d.priorityLevel;var a=s(d.expirationTime<=i);i=t.unstable_now(),"function"===typeof a?d.callback=a:d===r(c)&&n(c),b(i)}else n(c);d=r(c)}if(null!==d)var l=!0;else{var h=r(u);null!==h&&M(x,h.startTime-i),l=!1}return l}finally{d=null,p=o,f=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,k=!1,C=null,T=-1,E=5,D=-1;function I(){return!(t.unstable_now()-D<E)}function R(){if(null!==C){var e=t.unstable_now();D=e;var i=!0;try{i=C(!0,e)}finally{i?S():(k=!1,C=null)}}else k=!1}if("function"===typeof v)S=function(){v(R)};else if("undefined"!==typeof MessageChannel){var F=new MessageChannel,A=F.port2;F.port1.onmessage=R,S=function(){A.postMessage(null)}}else S=function(){y(R,0)};function O(e){C=e,k||(k=!0,S())}function M(e,i){T=y((function(){e(t.unstable_now())}),i)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){g||f||(g=!0,O(w))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var i=p;p=t;try{return e()}finally{p=i}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var i=p;p=e;try{return t()}finally{p=i}},t.unstable_scheduleCallback=function(e,n,o){var s=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?s+o:s:o=s,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:h++,callback:n,priorityLevel:e,startTime:o,expirationTime:a=o+a,sortIndex:-1},o>s?(e.sortIndex=o,i(u,e),null===r(c)&&e===r(u)&&(m?(_(T),T=-1):m=!0,M(x,o-s))):(e.sortIndex=a,i(c,e),g||f||(g=!0,O(w))),e},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(e){var t=p;return function(){var i=p;p=t;try{return e.apply(this,arguments)}finally{p=i}}}},853:(e,t,i)=>{"use strict";e.exports=i(234)},324:e=>{e.exports=function(e,t,i,r){var n=i?i.call(r,e,t):void 0;if(void 0!==n)return!!n;if(e===t)return!0;if("object"!==typeof e||!e||"object"!==typeof t||!t)return!1;var o=Object.keys(e),s=Object.keys(t);if(o.length!==s.length)return!1;for(var a=Object.prototype.hasOwnProperty.bind(t),l=0;l<o.length;l++){var c=o[l];if(!a(c))return!1;var u=e[c],h=t[c];if(!1===(n=i?i.call(r,u,h,c):void 0)||void 0===n&&u!==h)return!1}return!0}},464:(e,t,i)=>{"use strict";i.d(t,{NP:()=>Ht,AH:()=>qt,Ay:()=>Qt,i7:()=>Kt});var r=function(){return r=Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++)for(var n in t=arguments[i])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},r.apply(this,arguments)};Object.create;function n(e,t,i){if(i||2===arguments.length)for(var r,n=0,o=t.length;n<o;n++)!r&&n in t||(r||(r=Array.prototype.slice.call(t,0,n)),r[n]=t[n]);return e.concat(r||Array.prototype.slice.call(t))}Object.create;"function"===typeof SuppressedError&&SuppressedError;var o=i(43),s=i(324),a=i.n(s),l="-ms-",c="-moz-",u="-webkit-",h="comm",d="rule",p="decl",f="@import",g="@keyframes",m="@layer",y=Math.abs,_=String.fromCharCode,v=Object.assign;function b(e){return e.trim()}function x(e,t){return(e=t.exec(e))?e[0]:e}function w(e,t,i){return e.replace(t,i)}function S(e,t,i){return e.indexOf(t,i)}function k(e,t){return 0|e.charCodeAt(t)}function C(e,t,i){return e.slice(t,i)}function T(e){return e.length}function E(e){return e.length}function D(e,t){return t.push(e),e}function I(e,t){return e.filter((function(e){return!x(e,t)}))}var R=1,F=1,A=0,O=0,M=0,P="";function z(e,t,i,r,n,o,s,a){return{value:e,root:t,parent:i,type:r,props:n,children:o,line:R,column:F,length:s,return:"",siblings:a}}function B(e,t){return v(z("",null,null,"",null,null,0,e.siblings),e,{length:-e.length},t)}function L(e){for(;e.root;)e=B(e.root,{children:[e]});D(e,e.siblings)}function U(){return M=O>0?k(P,--O):0,F--,10===M&&(F=1,R--),M}function N(){return M=O<A?k(P,O++):0,F++,10===M&&(F=1,R++),M}function H(){return k(P,O)}function j(){return O}function W(e,t){return C(P,e,t)}function V(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function G(e){return R=F=1,A=T(P=e),O=0,[]}function q(e){return P="",e}function X(e){return b(W(O-1,K(91===e?e+2:40===e?e+1:e)))}function Y(e){for(;(M=H())&&M<33;)N();return V(e)>2||V(M)>3?"":" "}function Q(e,t){for(;--t&&N()&&!(M<48||M>102||M>57&&M<65||M>70&&M<97););return W(e,j()+(t<6&&32==H()&&32==N()))}function K(e){for(;N();)switch(M){case e:return O;case 34:case 39:34!==e&&39!==e&&K(M);break;case 40:41===e&&K(e);break;case 92:N()}return O}function Z(e,t){for(;N()&&e+M!==57&&(e+M!==84||47!==H()););return"/*"+W(t,O-1)+"*"+_(47===e?e:N())}function J(e){for(;!V(H());)N();return W(e,O)}function $(e,t){for(var i="",r=0;r<e.length;r++)i+=t(e[r],r,e,t)||"";return i}function ee(e,t,i,r){switch(e.type){case m:if(e.children.length)break;case f:case p:return e.return=e.return||e.value;case h:return"";case g:return e.return=e.value+"{"+$(e.children,r)+"}";case d:if(!T(e.value=e.props.join(",")))return""}return T(i=$(e.children,r))?e.return=e.value+"{"+i+"}":""}function te(e,t,i){switch(function(e,t){return 45^k(e,0)?(((t<<2^k(e,0))<<2^k(e,1))<<2^k(e,2))<<2^k(e,3):0}(e,t)){case 5103:return u+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return u+e+e;case 4789:return c+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return u+e+c+e+l+e+e;case 5936:switch(k(e,t+11)){case 114:return u+e+l+w(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return u+e+l+w(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return u+e+l+w(e,/[svh]\w+-[tblr]{2}/,"lr")+e}case 6828:case 4268:case 2903:return u+e+l+e+e;case 6165:return u+e+l+"flex-"+e+e;case 5187:return u+e+w(e,/(\w+).+(:[^]+)/,u+"box-$1$2"+l+"flex-$1$2")+e;case 5443:return u+e+l+"flex-item-"+w(e,/flex-|-self/g,"")+(x(e,/flex-|baseline/)?"":l+"grid-row-"+w(e,/flex-|-self/g,""))+e;case 4675:return u+e+l+"flex-line-pack"+w(e,/align-content|flex-|-self/g,"")+e;case 5548:return u+e+l+w(e,"shrink","negative")+e;case 5292:return u+e+l+w(e,"basis","preferred-size")+e;case 6060:return u+"box-"+w(e,"-grow","")+u+e+l+w(e,"grow","positive")+e;case 4554:return u+w(e,/([^-])(transform)/g,"$1"+u+"$2")+e;case 6187:return w(w(w(e,/(zoom-|grab)/,u+"$1"),/(image-set)/,u+"$1"),e,"")+e;case 5495:case 3959:return w(e,/(image-set\([^]*)/,u+"$1$`$1");case 4968:return w(w(e,/(.+:)(flex-)?(.*)/,u+"box-pack:$3"+l+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+u+e+e;case 4200:if(!x(e,/flex-|baseline/))return l+"grid-column-align"+C(e,t)+e;break;case 2592:case 3360:return l+w(e,"template-","")+e;case 4384:case 3616:return i&&i.some((function(e,i){return t=i,x(e.props,/grid-\w+-end/)}))?~S(e+(i=i[t].value),"span",0)?e:l+w(e,"-start","")+e+l+"grid-row-span:"+(~S(i,"span",0)?x(i,/\d+/):+x(i,/\d+/)-+x(e,/\d+/))+";":l+w(e,"-start","")+e;case 4896:case 4128:return i&&i.some((function(e){return x(e.props,/grid-\w+-start/)}))?e:l+w(w(e,"-end","-span"),"span ","")+e;case 4095:case 3583:case 4068:case 2532:return w(e,/(.+)-inline(.+)/,u+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(T(e)-1-t>6)switch(k(e,t+1)){case 109:if(45!==k(e,t+4))break;case 102:return w(e,/(.+:)(.+)-([^]+)/,"$1"+u+"$2-$3$1"+c+(108==k(e,t+3)?"$3":"$2-$3"))+e;case 115:return~S(e,"stretch",0)?te(w(e,"stretch","fill-available"),t,i)+e:e}break;case 5152:case 5920:return w(e,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,(function(t,i,r,n,o,s,a){return l+i+":"+r+a+(n?l+i+"-span:"+(o?s:+s-+r)+a:"")+e}));case 4949:if(121===k(e,t+6))return w(e,":",":"+u)+e;break;case 6444:switch(k(e,45===k(e,14)?18:11)){case 120:return w(e,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+u+(45===k(e,14)?"inline-":"")+"box$3$1"+u+"$2$3$1"+l+"$2box$3")+e;case 100:return w(e,":",":"+l)+e}break;case 5719:case 2647:case 2135:case 3927:case 2391:return w(e,"scroll-","scroll-snap-")+e}return e}function ie(e,t,i,r){if(e.length>-1&&!e.return)switch(e.type){case p:return void(e.return=te(e.value,e.length,i));case g:return $([B(e,{value:w(e.value,"@","@"+u)})],r);case d:if(e.length)return function(e,t){return e.map(t).join("")}(i=e.props,(function(t){switch(x(t,r=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":L(B(e,{props:[w(t,/:(read-\w+)/,":"+c+"$1")]})),L(B(e,{props:[t]})),v(e,{props:I(i,r)});break;case"::placeholder":L(B(e,{props:[w(t,/:(plac\w+)/,":"+u+"input-$1")]})),L(B(e,{props:[w(t,/:(plac\w+)/,":"+c+"$1")]})),L(B(e,{props:[w(t,/:(plac\w+)/,l+"input-$1")]})),L(B(e,{props:[t]})),v(e,{props:I(i,r)})}return""}))}}function re(e){return q(ne("",null,null,null,[""],e=G(e),0,[0],e))}function ne(e,t,i,r,n,o,s,a,l){for(var c=0,u=0,h=s,d=0,p=0,f=0,g=1,m=1,v=1,b=0,x="",C=n,E=o,I=r,R=x;m;)switch(f=b,b=N()){case 40:if(108!=f&&58==k(R,h-1)){-1!=S(R+=w(X(b),"&","&\f"),"&\f",y(c?a[c-1]:0))&&(v=-1);break}case 34:case 39:case 91:R+=X(b);break;case 9:case 10:case 13:case 32:R+=Y(f);break;case 92:R+=Q(j()-1,7);continue;case 47:switch(H()){case 42:case 47:D(se(Z(N(),j()),t,i,l),l);break;default:R+="/"}break;case 123*g:a[c++]=T(R)*v;case 125*g:case 59:case 0:switch(b){case 0:case 125:m=0;case 59+u:-1==v&&(R=w(R,/\f/g,"")),p>0&&T(R)-h&&D(p>32?ae(R+";",r,i,h-1,l):ae(w(R," ","")+";",r,i,h-2,l),l);break;case 59:R+=";";default:if(D(I=oe(R,t,i,c,u,n,a,x,C=[],E=[],h,o),o),123===b)if(0===u)ne(R,t,I,I,C,o,h,a,E);else switch(99===d&&110===k(R,3)?100:d){case 100:case 108:case 109:case 115:ne(e,I,I,r&&D(oe(e,I,I,0,0,n,a,x,n,C=[],h,E),E),n,E,h,a,r?C:E);break;default:ne(R,I,I,I,[""],E,0,a,E)}}c=u=p=0,g=v=1,x=R="",h=s;break;case 58:h=1+T(R),p=f;default:if(g<1)if(123==b)--g;else if(125==b&&0==g++&&125==U())continue;switch(R+=_(b),b*g){case 38:v=u>0?1:(R+="\f",-1);break;case 44:a[c++]=(T(R)-1)*v,v=1;break;case 64:45===H()&&(R+=X(N())),d=H(),u=h=T(x=R+=J(j())),b++;break;case 45:45===f&&2==T(R)&&(g=0)}}return o}function oe(e,t,i,r,n,o,s,a,l,c,u,h){for(var p=n-1,f=0===n?o:[""],g=E(f),m=0,_=0,v=0;m<r;++m)for(var x=0,S=C(e,p+1,p=y(_=s[m])),k=e;x<g;++x)(k=b(_>0?f[x]+" "+S:w(S,/&\f/g,f[x])))&&(l[v++]=k);return z(e,t,i,0===n?d:a,l,c,u,h)}function se(e,t,i,r){return z(e,t,i,h,_(M),C(e,2,-2),0,r)}function ae(e,t,i,r,n){return z(e,t,i,p,C(e,0,r),C(e,r+1,-1),r,n)}var le={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},ce="undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"/imgly-check",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}&&({NODE_ENV:"production",PUBLIC_URL:"/imgly-check",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_ATTR||{NODE_ENV:"production",PUBLIC_URL:"/imgly-check",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_ATTR)||"data-styled",ue="active",he="data-styled-version",de="6.1.11",pe="/*!sc*/\n",fe="undefined"!=typeof window&&"HTMLElement"in window,ge=Boolean("boolean"==typeof SC_DISABLE_SPEEDY?SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"/imgly-check",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"/imgly-check",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:"/imgly-check",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY?"false"!=={NODE_ENV:"production",PUBLIC_URL:"/imgly-check",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"/imgly-check",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"/imgly-check",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"/imgly-check",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:"/imgly-check",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&("false"!=={NODE_ENV:"production",PUBLIC_URL:"/imgly-check",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"/imgly-check",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY)),me=(new Set,Object.freeze([])),ye=Object.freeze({});function _e(e,t,i){return void 0===i&&(i=ye),e.theme!==i.theme&&e.theme||t||i.theme}var ve=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),be=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,xe=/(^-|-$)/g;function we(e){return e.replace(be,"-").replace(xe,"")}var Se=/(a)(d)/gi,ke=52,Ce=function(e){return String.fromCharCode(e+(e>25?39:97))};function Te(e){var t,i="";for(t=Math.abs(e);t>ke;t=t/ke|0)i=Ce(t%ke)+i;return(Ce(t%ke)+i).replace(Se,"$1-$2")}var Ee,De=5381,Ie=function(e,t){for(var i=t.length;i;)e=33*e^t.charCodeAt(--i);return e},Re=function(e){return Ie(De,e)};function Fe(e){return Te(Re(e)>>>0)}function Ae(e){return e.displayName||e.name||"Component"}function Oe(e){return"string"==typeof e&&!0}var Me="function"==typeof Symbol&&Symbol.for,Pe=Me?Symbol.for("react.memo"):60115,ze=Me?Symbol.for("react.forward_ref"):60112,Be={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},Le={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},Ue={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Ne=((Ee={})[ze]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Ee[Pe]=Ue,Ee);function He(e){return("type"in(t=e)&&t.type.$$typeof)===Pe?Ue:"$$typeof"in e?Ne[e.$$typeof]:Be;var t}var je=Object.defineProperty,We=Object.getOwnPropertyNames,Ve=Object.getOwnPropertySymbols,Ge=Object.getOwnPropertyDescriptor,qe=Object.getPrototypeOf,Xe=Object.prototype;function Ye(e,t,i){if("string"!=typeof t){if(Xe){var r=qe(t);r&&r!==Xe&&Ye(e,r,i)}var n=We(t);Ve&&(n=n.concat(Ve(t)));for(var o=He(e),s=He(t),a=0;a<n.length;++a){var l=n[a];if(!(l in Le||i&&i[l]||s&&l in s||o&&l in o)){var c=Ge(t,l);try{je(e,l,c)}catch(e){}}}}return e}function Qe(e){return"function"==typeof e}function Ke(e){return"object"==typeof e&&"styledComponentId"in e}function Ze(e,t){return e&&t?"".concat(e," ").concat(t):e||t||""}function Je(e,t){if(0===e.length)return"";for(var i=e[0],r=1;r<e.length;r++)i+=t?t+e[r]:e[r];return i}function $e(e){return null!==e&&"object"==typeof e&&e.constructor.name===Object.name&&!("props"in e&&e.$$typeof)}function et(e,t,i){if(void 0===i&&(i=!1),!i&&!$e(e)&&!Array.isArray(e))return t;if(Array.isArray(t))for(var r=0;r<t.length;r++)e[r]=et(e[r],t[r]);else if($e(t))for(var r in t)e[r]=et(e[r],t[r]);return e}function tt(e,t){Object.defineProperty(e,"toString",{value:t})}function it(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(e," for more information.").concat(t.length>0?" Args: ".concat(t.join(", ")):""))}var rt=function(){function e(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return e.prototype.indexOfGroup=function(e){for(var t=0,i=0;i<e;i++)t+=this.groupSizes[i];return t},e.prototype.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var i=this.groupSizes,r=i.length,n=r;e>=n;)if((n<<=1)<0)throw it(16,"".concat(e));this.groupSizes=new Uint32Array(n),this.groupSizes.set(i),this.length=n;for(var o=r;o<n;o++)this.groupSizes[o]=0}for(var s=this.indexOfGroup(e+1),a=(o=0,t.length);o<a;o++)this.tag.insertRule(s,t[o])&&(this.groupSizes[e]++,s++)},e.prototype.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],i=this.indexOfGroup(e),r=i+t;this.groupSizes[e]=0;for(var n=i;n<r;n++)this.tag.deleteRule(i)}},e.prototype.getGroup=function(e){var t="";if(e>=this.length||0===this.groupSizes[e])return t;for(var i=this.groupSizes[e],r=this.indexOfGroup(e),n=r+i,o=r;o<n;o++)t+="".concat(this.tag.getRule(o)).concat(pe);return t},e}(),nt=new Map,ot=new Map,st=1,at=function(e){if(nt.has(e))return nt.get(e);for(;ot.has(st);)st++;var t=st++;return nt.set(e,t),ot.set(t,e),t},lt=function(e,t){st=t+1,nt.set(e,t),ot.set(t,e)},ct="style[".concat(ce,"][").concat(he,'="').concat(de,'"]'),ut=new RegExp("^".concat(ce,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),ht=function(e,t,i){for(var r,n=i.split(","),o=0,s=n.length;o<s;o++)(r=n[o])&&e.registerName(t,r)},dt=function(e,t){for(var i,r=(null!==(i=t.textContent)&&void 0!==i?i:"").split(pe),n=[],o=0,s=r.length;o<s;o++){var a=r[o].trim();if(a){var l=a.match(ut);if(l){var c=0|parseInt(l[1],10),u=l[2];0!==c&&(lt(u,c),ht(e,u,l[3]),e.getTag().insertRules(c,n)),n.length=0}else n.push(a)}}};function pt(){return i.nc}var ft=function(e){var t=document.head,i=e||t,r=document.createElement("style"),n=function(e){var t=Array.from(e.querySelectorAll("style[".concat(ce,"]")));return t[t.length-1]}(i),o=void 0!==n?n.nextSibling:null;r.setAttribute(ce,ue),r.setAttribute(he,de);var s=pt();return s&&r.setAttribute("nonce",s),i.insertBefore(r,o),r},gt=function(){function e(e){this.element=ft(e),this.element.appendChild(document.createTextNode("")),this.sheet=function(e){if(e.sheet)return e.sheet;for(var t=document.styleSheets,i=0,r=t.length;i<r;i++){var n=t[i];if(n.ownerNode===e)return n}throw it(17)}(this.element),this.length=0}return e.prototype.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch(e){return!1}},e.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},e.prototype.getRule=function(e){var t=this.sheet.cssRules[e];return t&&t.cssText?t.cssText:""},e}(),mt=function(){function e(e){this.element=ft(e),this.nodes=this.element.childNodes,this.length=0}return e.prototype.insertRule=function(e,t){if(e<=this.length&&e>=0){var i=document.createTextNode(t);return this.element.insertBefore(i,this.nodes[e]||null),this.length++,!0}return!1},e.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},e.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},e}(),yt=function(){function e(e){this.rules=[],this.length=0}return e.prototype.insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0)},e.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},e.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},e}(),_t=fe,vt={isServer:!fe,useCSSOMInjection:!ge},bt=function(){function e(e,t,i){void 0===e&&(e=ye),void 0===t&&(t={});var n=this;this.options=r(r({},vt),e),this.gs=t,this.names=new Map(i),this.server=!!e.isServer,!this.server&&fe&&_t&&(_t=!1,function(e){for(var t=document.querySelectorAll(ct),i=0,r=t.length;i<r;i++){var n=t[i];n&&n.getAttribute(ce)!==ue&&(dt(e,n),n.parentNode&&n.parentNode.removeChild(n))}}(this)),tt(this,(function(){return function(e){for(var t=e.getTag(),i=t.length,r="",n=function(i){var n=function(e){return ot.get(e)}(i);if(void 0===n)return"continue";var o=e.names.get(n),s=t.getGroup(i);if(void 0===o||0===s.length)return"continue";var a="".concat(ce,".g").concat(i,'[id="').concat(n,'"]'),l="";void 0!==o&&o.forEach((function(e){e.length>0&&(l+="".concat(e,","))})),r+="".concat(s).concat(a,'{content:"').concat(l,'"}').concat(pe)},o=0;o<i;o++)n(o);return r}(n)}))}return e.registerId=function(e){return at(e)},e.prototype.reconstructWithOptions=function(t,i){return void 0===i&&(i=!0),new e(r(r({},this.options),t),this.gs,i&&this.names||void 0)},e.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},e.prototype.getTag=function(){return this.tag||(this.tag=(e=function(e){var t=e.useCSSOMInjection,i=e.target;return e.isServer?new yt(i):t?new gt(i):new mt(i)}(this.options),new rt(e)));var e},e.prototype.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t)},e.prototype.registerName=function(e,t){if(at(e),this.names.has(e))this.names.get(e).add(t);else{var i=new Set;i.add(t),this.names.set(e,i)}},e.prototype.insertRules=function(e,t,i){this.registerName(e,t),this.getTag().insertRules(at(e),i)},e.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},e.prototype.clearRules=function(e){this.getTag().clearGroup(at(e)),this.clearNames(e)},e.prototype.clearTag=function(){this.tag=void 0},e}(),xt=/&/g,wt=/^\s*\/\/.*$/gm;function St(e,t){return e.map((function(e){return"rule"===e.type&&(e.value="".concat(t," ").concat(e.value),e.value=e.value.replaceAll(",",",".concat(t," ")),e.props=e.props.map((function(e){return"".concat(t," ").concat(e)}))),Array.isArray(e.children)&&"@keyframes"!==e.type&&(e.children=St(e.children,t)),e}))}function kt(e){var t,i,r,n=void 0===e?ye:e,o=n.options,s=void 0===o?ye:o,a=n.plugins,l=void 0===a?me:a,c=function(e,r,n){return n.startsWith(i)&&n.endsWith(i)&&n.replaceAll(i,"").length>0?".".concat(t):e},u=l.slice();u.push((function(e){e.type===d&&e.value.includes("&")&&(e.props[0]=e.props[0].replace(xt,i).replace(r,c))})),s.prefix&&u.push(ie),u.push(ee);var h=function(e,n,o,a){void 0===n&&(n=""),void 0===o&&(o=""),void 0===a&&(a="&"),t=a,i=n,r=new RegExp("\\".concat(i,"\\b"),"g");var l=e.replace(wt,""),c=re(o||n?"".concat(o," ").concat(n," { ").concat(l," }"):l);s.namespace&&(c=St(c,s.namespace));var h,d=[];return $(c,function(e){var t=E(e);return function(i,r,n,o){for(var s="",a=0;a<t;a++)s+=e[a](i,r,n,o)||"";return s}}(u.concat((h=function(e){return d.push(e)},function(e){e.root||(e=e.return)&&h(e)})))),d};return h.hash=l.length?l.reduce((function(e,t){return t.name||it(15),Ie(e,t.name)}),De).toString():"",h}var Ct=new bt,Tt=kt(),Et=o.createContext({shouldForwardProp:void 0,styleSheet:Ct,stylis:Tt}),Dt=(Et.Consumer,o.createContext(void 0));function It(){return(0,o.useContext)(Et)}function Rt(e){var t=(0,o.useState)(e.stylisPlugins),i=t[0],r=t[1],n=It().styleSheet,s=(0,o.useMemo)((function(){var t=n;return e.sheet?t=e.sheet:e.target&&(t=t.reconstructWithOptions({target:e.target},!1)),e.disableCSSOMInjection&&(t=t.reconstructWithOptions({useCSSOMInjection:!1})),t}),[e.disableCSSOMInjection,e.sheet,e.target,n]),l=(0,o.useMemo)((function(){return kt({options:{namespace:e.namespace,prefix:e.enableVendorPrefixes},plugins:i})}),[e.enableVendorPrefixes,e.namespace,i]);(0,o.useEffect)((function(){a()(i,e.stylisPlugins)||r(e.stylisPlugins)}),[e.stylisPlugins]);var c=(0,o.useMemo)((function(){return{shouldForwardProp:e.shouldForwardProp,styleSheet:s,stylis:l}}),[e.shouldForwardProp,s,l]);return o.createElement(Et.Provider,{value:c},o.createElement(Dt.Provider,{value:l},e.children))}var Ft=function(){function e(e,t){var i=this;this.inject=function(e,t){void 0===t&&(t=Tt);var r=i.name+t.hash;e.hasNameForId(i.id,r)||e.insertRules(i.id,r,t(i.rules,r,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=t,tt(this,(function(){throw it(12,String(i.name))}))}return e.prototype.getName=function(e){return void 0===e&&(e=Tt),this.name+e.hash},e}(),At=function(e){return e>="A"&&e<="Z"};function Ot(e){for(var t="",i=0;i<e.length;i++){var r=e[i];if(1===i&&"-"===r&&"-"===e[0])return e;At(r)?t+="-"+r.toLowerCase():t+=r}return t.startsWith("ms-")?"-"+t:t}var Mt=function(e){return null==e||!1===e||""===e},Pt=function(e){var t,i,r=[];for(var o in e){var s=e[o];e.hasOwnProperty(o)&&!Mt(s)&&(Array.isArray(s)&&s.isCss||Qe(s)?r.push("".concat(Ot(o),":"),s,";"):$e(s)?r.push.apply(r,n(n(["".concat(o," {")],Pt(s),!1),["}"],!1)):r.push("".concat(Ot(o),": ").concat((t=o,null==(i=s)||"boolean"==typeof i||""===i?"":"number"!=typeof i||0===i||t in le||t.startsWith("--")?String(i).trim():"".concat(i,"px")),";")))}return r};function zt(e,t,i,r){return Mt(e)?[]:Ke(e)?[".".concat(e.styledComponentId)]:Qe(e)?!Qe(n=e)||n.prototype&&n.prototype.isReactComponent||!t?[e]:zt(e(t),t,i,r):e instanceof Ft?i?(e.inject(i,r),[e.getName(r)]):[e]:$e(e)?Pt(e):Array.isArray(e)?Array.prototype.concat.apply(me,e.map((function(e){return zt(e,t,i,r)}))):[e.toString()];var n}function Bt(e){for(var t=0;t<e.length;t+=1){var i=e[t];if(Qe(i)&&!Ke(i))return!1}return!0}var Lt=Re(de),Ut=function(){function e(e,t,i){this.rules=e,this.staticRulesId="",this.isStatic=(void 0===i||i.isStatic)&&Bt(e),this.componentId=t,this.baseHash=Ie(Lt,t),this.baseStyle=i,bt.registerId(t)}return e.prototype.generateAndInjectStyles=function(e,t,i){var r=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,t,i):"";if(this.isStatic&&!i.hash)if(this.staticRulesId&&t.hasNameForId(this.componentId,this.staticRulesId))r=Ze(r,this.staticRulesId);else{var n=Je(zt(this.rules,e,t,i)),o=Te(Ie(this.baseHash,n)>>>0);if(!t.hasNameForId(this.componentId,o)){var s=i(n,".".concat(o),void 0,this.componentId);t.insertRules(this.componentId,o,s)}r=Ze(r,o),this.staticRulesId=o}else{for(var a=Ie(this.baseHash,i.hash),l="",c=0;c<this.rules.length;c++){var u=this.rules[c];if("string"==typeof u)l+=u;else if(u){var h=Je(zt(u,e,t,i));a=Ie(a,h+c),l+=h}}if(l){var d=Te(a>>>0);t.hasNameForId(this.componentId,d)||t.insertRules(this.componentId,d,i(l,".".concat(d),void 0,this.componentId)),r=Ze(r,d)}}return r},e}(),Nt=o.createContext(void 0);Nt.Consumer;function Ht(e){var t=o.useContext(Nt),i=(0,o.useMemo)((function(){return function(e,t){if(!e)throw it(14);if(Qe(e))return e(t);if(Array.isArray(e)||"object"!=typeof e)throw it(8);return t?r(r({},t),e):e}(e.theme,t)}),[e.theme,t]);return e.children?o.createElement(Nt.Provider,{value:i},e.children):null}var jt={};new Set;function Wt(e,t,i){var n=Ke(e),s=e,a=!Oe(e),l=t.attrs,c=void 0===l?me:l,u=t.componentId,h=void 0===u?function(e,t){var i="string"!=typeof e?"sc":we(e);jt[i]=(jt[i]||0)+1;var r="".concat(i,"-").concat(Fe(de+i+jt[i]));return t?"".concat(t,"-").concat(r):r}(t.displayName,t.parentComponentId):u,d=t.displayName,p=void 0===d?function(e){return Oe(e)?"styled.".concat(e):"Styled(".concat(Ae(e),")")}(e):d,f=t.displayName&&t.componentId?"".concat(we(t.displayName),"-").concat(t.componentId):t.componentId||h,g=n&&s.attrs?s.attrs.concat(c).filter(Boolean):c,m=t.shouldForwardProp;if(n&&s.shouldForwardProp){var y=s.shouldForwardProp;if(t.shouldForwardProp){var _=t.shouldForwardProp;m=function(e,t){return y(e,t)&&_(e,t)}}else m=y}var v=new Ut(i,f,n?s.componentStyle:void 0);function b(e,t){return function(e,t,i){var n=e.attrs,s=e.componentStyle,a=e.defaultProps,l=e.foldedComponentIds,c=e.styledComponentId,u=e.target,h=o.useContext(Nt),d=It(),p=e.shouldForwardProp||d.shouldForwardProp,f=_e(t,h,a)||ye,g=function(e,t,i){for(var n,o=r(r({},t),{className:void 0,theme:i}),s=0;s<e.length;s+=1){var a=Qe(n=e[s])?n(o):n;for(var l in a)o[l]="className"===l?Ze(o[l],a[l]):"style"===l?r(r({},o[l]),a[l]):a[l]}return t.className&&(o.className=Ze(o.className,t.className)),o}(n,t,f),m=g.as||u,y={};for(var _ in g)void 0===g[_]||"$"===_[0]||"as"===_||"theme"===_&&g.theme===f||("forwardedAs"===_?y.as=g.forwardedAs:p&&!p(_,m)||(y[_]=g[_]));var v=function(e,t){var i=It();return e.generateAndInjectStyles(t,i.styleSheet,i.stylis)}(s,g),b=Ze(l,c);return v&&(b+=" "+v),g.className&&(b+=" "+g.className),y[Oe(m)&&!ve.has(m)?"class":"className"]=b,y.ref=i,(0,o.createElement)(m,y)}(x,e,t)}b.displayName=p;var x=o.forwardRef(b);return x.attrs=g,x.componentStyle=v,x.displayName=p,x.shouldForwardProp=m,x.foldedComponentIds=n?Ze(s.foldedComponentIds,s.styledComponentId):"",x.styledComponentId=f,x.target=n?s.target:e,Object.defineProperty(x,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(e){this._foldedDefaultProps=n?function(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];for(var r=0,n=t;r<n.length;r++)et(e,n[r],!0);return e}({},s.defaultProps,e):e}}),tt(x,(function(){return".".concat(x.styledComponentId)})),a&&Ye(x,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),x}function Vt(e,t){for(var i=[e[0]],r=0,n=t.length;r<n;r+=1)i.push(t[r],e[r+1]);return i}var Gt=function(e){return Object.assign(e,{isCss:!0})};function qt(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];if(Qe(e)||$e(e))return Gt(zt(Vt(me,n([e],t,!0))));var r=e;return 0===t.length&&1===r.length&&"string"==typeof r[0]?zt(r):Gt(zt(Vt(r,t)))}function Xt(e,t,i){if(void 0===i&&(i=ye),!t)throw it(1,t);var o=function(r){for(var o=[],s=1;s<arguments.length;s++)o[s-1]=arguments[s];return e(t,i,qt.apply(void 0,n([r],o,!1)))};return o.attrs=function(n){return Xt(e,t,r(r({},i),{attrs:Array.prototype.concat(i.attrs,n).filter(Boolean)}))},o.withConfig=function(n){return Xt(e,t,r(r({},i),n))},o}var Yt=function(e){return Xt(Wt,e)},Qt=Yt;ve.forEach((function(e){Qt[e]=Yt(e)}));!function(){function e(e,t){this.rules=e,this.componentId=t,this.isStatic=Bt(e),bt.registerId(this.componentId+1)}e.prototype.createStyles=function(e,t,i,r){var n=r(Je(zt(this.rules,t,i,r)),""),o=this.componentId+e;i.insertRules(o,o,n)},e.prototype.removeStyles=function(e,t){t.clearRules(this.componentId+e)},e.prototype.renderStyles=function(e,t,i,r){e>2&&bt.registerId(this.componentId+e),this.removeStyles(e,i),this.createStyles(e,t,i,r)}}();function Kt(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];var r=Je(qt.apply(void 0,n([e],t,!1))),o=Fe(r);return new Ft(o,r)}(function(){function e(){var e=this;this._emitSheetCSS=function(){var t=e.instance.toString(),i=pt(),r=Je([i&&'nonce="'.concat(i,'"'),"".concat(ce,'="true"'),"".concat(he,'="').concat(de,'"')].filter(Boolean)," ");return"<style ".concat(r,">").concat(t,"</style>")},this.getStyleTags=function(){if(e.sealed)throw it(2);return e._emitSheetCSS()},this.getStyleElement=function(){var t;if(e.sealed)throw it(2);var i=((t={})[ce]="",t[he]=de,t.dangerouslySetInnerHTML={__html:e.instance.toString()},t),n=pt();return n&&(i.nonce=n),[o.createElement("style",r({},i,{key:"sc-0-0"}))]},this.seal=function(){e.sealed=!0},this.instance=new bt({isServer:!0}),this.sealed=!1}e.prototype.collectStyles=function(e){if(this.sealed)throw it(2);return o.createElement(Rt,{sheet:this.instance},e)},e.prototype.interleaveWithNodeStream=function(e){throw it(3)}})(),"__sc-".concat(ce,"__")},528:(e,t,i)=>{"use strict";function r(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}i.d(t,{A:()=>r})}},t={};function i(r){var n=t[r];if(void 0!==n)return n.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,i),o.exports}i.m=e,i.amdO={},i.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return i.d(t,{a:t}),t},i.d=(e,t)=>{for(var r in t)i.o(t,r)&&!i.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},i.f={},i.e=e=>Promise.all(Object.keys(i.f).reduce(((t,r)=>(i.f[r](e,t),t)),[])),i.u=e=>"static/js/"+e+"."+{412:"c9a0b74c",453:"ed3810f9",870:"f5bd1d1d"}[e]+".chunk.js",i.miniCssF=e=>{},i.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="my-app:";i.l=(r,n,o,s)=>{if(e[r])e[r].push(n);else{var a,l;if(void 0!==o)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var h=c[u];if(h.getAttribute("src")==r||h.getAttribute("data-webpack")==t+o){a=h;break}}a||(l=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,i.nc&&a.setAttribute("nonce",i.nc),a.setAttribute("data-webpack",t+o),a.src=r),e[r]=[n];var d=(t,i)=>{a.onerror=a.onload=null,clearTimeout(p);var n=e[r];if(delete e[r],a.parentNode&&a.parentNode.removeChild(a),n&&n.forEach((e=>e(i))),t)return t(i)},p=setTimeout(d.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=d.bind(null,a.onerror),a.onload=d.bind(null,a.onload),l&&document.head.appendChild(a)}}})(),i.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.p="/imgly-check/",(()=>{var e={792:0};i.f.j=(t,r)=>{var n=i.o(e,t)?e[t]:void 0;if(0!==n)if(n)r.push(n[2]);else{var o=new Promise(((i,r)=>n=e[t]=[i,r]));r.push(n[2]=o);var s=i.p+i.u(t),a=new Error;i.l(s,(r=>{if(i.o(e,t)&&(0!==(n=e[t])&&(e[t]=void 0),n)){var o=r&&("load"===r.type?"missing":r.type),s=r&&r.target&&r.target.src;a.message="Loading chunk "+t+" failed.\n("+o+": "+s+")",a.name="ChunkLoadError",a.type=o,a.request=s,n[1](a)}}),"chunk-"+t,t)}};var t=(t,r)=>{var n,o,s=r[0],a=r[1],l=r[2],c=0;if(s.some((t=>0!==e[t]))){for(n in a)i.o(a,n)&&(i.m[n]=a[n]);if(l)l(i)}for(t&&t(r);c<s.length;c++)o=s[c],i.o(e,o)&&e[o]&&e[o][0](),e[o]=0},r=self.webpackChunkmy_app=self.webpackChunkmy_app||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),i.nc=void 0,(()=>{"use strict";var e,t,r,n,o,s,a,l,c,u,h,d,p,f,g,m,y,_,v,b,x,w,S,k,C,T,E,D,I,R,F,A,O,M,P,z,B,L,U,N,H,j,W=i(43),V=i(391),G=i(528),q=i(618),X=i(195),Y=i(464),Q=i(950),K=i(885),Z=(0,X.a)(((e,t)=>{var i=function(){};t.exports=i})),J=(0,X.a)(((e,t)=>{t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"})),$=(0,X.a)(((e,t)=>{var i=J();function r(){}function n(){}n.resetWarningCache=r,t.exports=function(){function e(e,t,r,n,o,s){if(s!==i){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var o={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:n,resetWarningCache:r};return o.PropTypes=o,o}})),ee=(0,X.a)(((e,t)=>{t.exports=$()()})),te=(0,Y.Ay)(q.m)(e||(e=(0,G.A)(["\n  width: ","px;\n  height: ","px;\n  margin-bottom: ","px;\n  color: ",";\n"])),(e=>e.theme.measurements.advancedUICard.large.width),(e=>e.theme.measurements.advancedUICard.large.height),(e=>e.theme.measurements.advancedUISpacer),(e=>e.theme.card.foreground)),ie=e=>{let{isActive:t,...i}=e;return W.createElement(te,{...i})},re=(0,Y.Ay)(q.m)(t||(t=(0,G.A)(["\n  width: ","px;\n  height: ","px;\n  margin-bottom: ","px;\n  color: ",";\n  &:nth-child(2n + 1) {\n    margin-right: ","px;\n  }\n"])),(e=>e.theme.measurements.advancedUICard.medium.width),(e=>e.theme.measurements.advancedUICard.medium.height),(e=>e.theme.measurements.advancedUISpacer),(e=>e.theme.card.foreground),(e=>e.theme.measurements.advancedUISpacer)),ne=(0,Y.Ay)(q.m)(r||(r=(0,G.A)(["\n  width: ","px;\n  height: ","px;\n  margin-bottom: ","px;\n  color: ",";\n  &:nth-child(3n + 1),\n  &:nth-child(3n + 2) {\n    margin-right: ","px;\n  }\n"])),(e=>e.theme.measurements.advancedUICard.small.width),(e=>e.theme.measurements.advancedUICard.small.height),(e=>e.theme.measurements.advancedUISpacer),(e=>e.theme.card.foreground),(e=>e.theme.measurements.advancedUISpacer)),oe=e=>{let{type:t,...i}=e;let r=re;return"large"===t?r=ie:"small"===t&&(r=ne),W.createElement(r,{type:t,...i})},se=Y.Ay.div.attrs((e=>({"data-test":e["data-test"]||X.Ta.CardContainer})))(n||(n=(0,G.A)(["\n  display: flex;\n  flex-wrap: wrap;\n  /* width - padding on both sides */\n  width: ","px;\n"])),(e=>e.theme.measurements.advancedUIToolControlBar.width-48)),ae=Y.Ay.div(o||(o=(0,G.A)(["\n  display: flex;\n  flex-direction: column;\n  flex-shrink: 0;\n\n  position: relative;\n  width: ","px;\n  /* for Firefox */\n  min-height: 0;\n  margin-bottom: ","px;\n\n  z-index: ",";\n\n  background: ",";\n  transition: width 0.4s ease-in;\n  ","\n"])),(e=>e.theme.measurements.advancedUIToolControlBar.width),(e=>e.theme.measurements.advancedUIToolControlBar.marginBottom),(e=>e.theme.measurements.zIndex.toolControlBar),(e=>e.theme.toolControlBar.background),(e=>e.reverse?(0,Y.AH)(a||(a=(0,G.A)(["\n          border-left: 1px solid ",";\n        "])),e.theme.toolControlBar.borderColor):(0,Y.AH)(s||(s=(0,G.A)(["\n          border-right: 1px solid ",";\n        "])),e.theme.toolControlBar.borderColor))),le=Y.Ay.div.attrs((()=>({"data-test":X.Ta.CategoryItemsContainer})))(l||(l=(0,G.A)(["\n  transition: max-height 0.8s ease-out, transform 0.8s ease-out;\n  background: ",";\n  visibility: hidden;\n  opacity: 0;\n  transform-origin: 0 0;\n  display: none;\n  flex-wrap: wrap;\n\n  ","\n"])),(e=>e.theme.toolControlBar.background),(e=>{let{show:t}=e;return t&&(0,Y.AH)(c||(c=(0,G.A)(["\n      opacity: 1;\n      visibility: visible;\n      ","\n    "])),(0,X.t)()?(0,Y.AH)(u||(u=(0,G.A)(["\n            display: block;\n          "]))):(0,Y.AH)(h||(h=(0,G.A)(["\n            display: flex;\n          "]))))})),ce=(0,Y.Ay)(q.p)(d||(d=(0,G.A)(["\n  color: ",";\n\n  /* the padding and margin should only be applied to the children */\n  margin: 0 !important;\n  padding: 0 !important;\n"])),(e=>e.theme.toolControlBar.inputLabelForeground)),ue=Y.Ay.div(p||(p=(0,G.A)(["\n  display: flex;\n  flex-direction: column;\n\n  > * {\n    margin-left: ","px;\n    margin-right: ","px;\n    margin-bottom: ","px;\n  }\n"])),(e=>e.theme.measurements.advancedUIToolControlBar.paddingLeft),(e=>e.theme.measurements.advancedUIToolControlBar.paddingRight),(e=>e.theme.measurements.advancedUIToolControlBar.controls.gutter)),he=(0,Y.Ay)(q.f)(f||(f=(0,G.A)(["\n  position: relative;\n\n  box-sizing: border-box;\n\n  /* for Firefox */\n  min-height: 0;\n\n  transition: height 0.4s cubic-bezier(0.17, 0.04, 0.03, 0.94);\n  color: ",";\n\n  /* compensate the padding in IE and Edge */\n  ","\n"])),(e=>e.theme.toolControlBar.inputLabelForeground),(()=>(0,X.t)()||(0,X.s)()?(0,Y.AH)(g||(g=(0,G.A)(["\n        > ul {\n          padding-right: 34px;\n          margin-right: -34px;\n        }\n      "]))):""));he.defaultProps={direction:"vertical"};var de=Y.Ay.div(m||(m=(0,G.A)(["\n  position: relative;\n  &:after {\n    content: '';\n    position: absolute;\n    bottom: 0px;\n    ","\n    border-bottom: 2px solid ",";\n  }\n"])),(e=>e.full?(0,Y.AH)(y||(y=(0,G.A)(["\n            left: -","px;\n            width: calc(\n              100% + ","px\n            );\n          "])),3*e.theme.measurements.advancedUISpacer/2,3*e.theme.measurements.advancedUISpacer):"\n      left: ".concat(3*e.theme.measurements.advancedUISpacer/2,"px;\n      width: calc(100% - ").concat(3*e.theme.measurements.advancedUISpacer,"px);\n    ")),(e=>e.theme.toolControlBar.separatorColor)),pe=Y.Ay.h2(_||(_=(0,G.A)(["\n  color: ",";\n  font-size: ","px;\n  letter-spacing: ","px;\n  text-transform: ",";\n  font-weight: 500;\n  min-height: ","px;\n  margin-top: 0;\n"])),(e=>e.theme.toolControlBar.titleForeground),(e=>e.theme.measurements.fontSystem.headline2.size),(e=>e.theme.measurements.fontSystem.headline2.letterSpacing),(e=>e.theme.measurements.fontSystem.headline2.case),(e=>2*e.theme.measurements.advancedUISpacer)),fe=Y.Ay.div(v||(v=(0,G.A)(["\n  display: flex;\n  flex-direction: column;\n  position: relative;\n  width: 100%;\n  flex: 1 0 auto;\n"]))),ge=Y.Ay.h1(b||(b=(0,G.A)(["\n  /* Center text horizontally and vertically */\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-grow: 0;\n  padding: 0 4px;\n  margin: 0;\n  min-height: ","px;\n  font-size: ","px;\n  letter-spacing: ","px;\n  text-transform: ",";\n  background: ",";\n  color: ",";\n  border-bottom: 1px solid ",";\n  font-weight: 500;\n  text-align: center;\n  /* prevent the padding from leaving the width of the parent  */\n  box-sizing: border-box;\n"])),(e=>e.theme.measurements.mainCanvasActionBar.height-2),(e=>e.theme.measurements.fontSystem.headline1.size),(e=>e.theme.measurements.fontSystem.headline1.letterSpacing),(e=>e.theme.measurements.fontSystem.headline1.case),(e=>e.theme.toolControlBar.background),(e=>e.theme.toolControlBar.titleForeground),(e=>e.theme.toolControlBar.separatorColor)),me=Y.Ay.div(x||(x=(0,G.A)(["\n  display: flex;\n  flex: 1 0 auto;\n  flex-direction: column;\n\n  overflow-y: auto;\n  overflow-x: hidden;\n\n  /* calculate the max-height based on the padding and if the heading is used */\n  max-height: calc(\n    100% -\n      ","px -\n      ","px\n  );\n\n  padding-top: ","px;\n  padding-bottom: ","px;\n\n  > * {\n    margin-left: ","px;\n    margin-right: ","px;\n  }\n\n  /* The scrollable content needs a padding for the scrollbar position */\n  > "," {\n    margin-left: 0px;\n    margin-right: 0px;\n    padding-left: ","px;\n    padding-right: ","px;\n  }\n\n  > :not(:last-child) {\n    margin-bottom: ","px;\n  }\n"])),(e=>e.theme.measurements.advancedUIToolControlBar.paddingBottom+e.theme.measurements.advancedUIToolControlBar.paddingTop),(e=>e.displayTitle?e.theme.measurements.mainCanvasActionBar.height-2:"0"),(e=>e.theme.measurements.advancedUIToolControlBar.paddingTop),(e=>e.theme.measurements.advancedUIToolControlBar.paddingBottom),(e=>e.theme.measurements.advancedUIToolControlBar.paddingLeft),(e=>e.theme.measurements.advancedUIToolControlBar.paddingRight),he,(e=>e.theme.measurements.advancedUIToolControlBar.paddingLeft),(e=>e.theme.measurements.advancedUIToolControlBar.paddingRight),(e=>e.theme.measurements.advancedUIToolControlBar.controls.gutter)),ye=Y.Ay.div(w||(w=(0,G.A)(["\n  display: flex;\n  flex: 1 0 auto;\n  flex-direction: column;\n  align-items: center;\n  height: 100%;\n  width: ","px;\n\n  z-index: ",";\n\n  background-color: ",";\n  color: ",";\n  ","\n  margin-bottom: ","px;\n"])),(e=>e.theme.measurements.advancedUIToolbar.width),(e=>e.theme.measurements.zIndex.toolbar),(e=>e.theme.toolbar.background),(e=>e.theme.toolbar.foreground),(e=>{const t=e.theme.toolbar.border?e.theme.toolbar.border:(0,Y.AH)(S||(S=(0,G.A)(["\n          1px solid ",";\n        "])),e.theme.toolbar.borderColor);return e.reverse?(0,Y.AH)(C||(C=(0,G.A)(["\n          border-left: ",";\n        "])),t):(0,Y.AH)(k||(k=(0,G.A)(["\n          border-right: ",";\n        "])),t)}),(e=>e.theme.measurements.advancedUIToolbar.marginBottom)),_e=(0,Y.Ay)(q.h)(T||(T=(0,G.A)(["\n  width: inherit;\n  height: inherit;\n  padding: 0;\n  margin: 0;\n  ","\n\n  ","\n"])),(0,X.t)()?(0,Y.AH)(E||(E=(0,G.A)(["\n        background-color: transparent;\n      "]))):(0,Y.AH)(D||(D=(0,G.A)(["\n        background-color: inherit;\n      "]))),(e=>e.isActive&&(0,Y.AH)(I||(I=(0,G.A)(["\n      background-color: ",";\n      color: ",";\n\n      svg {\n        color: ",";\n      }\n    "])),e.theme.toolbar.activeBackground,e.theme.toolbar.activeForeground,e.theme.toolbar.activeForeground))),ve=Y.Ay.li.attrs({"aria-haspopup":!0,"aria-hidden":!0,role:"menuitem"})(R||(R=(0,G.A)(["\n  height: ","px;\n  cursor: pointer;\n  position: relative;\n"])),(e=>e.theme.measurements.advancedUIToolbar.itemHeight)),be=Y.Ay.li.attrs({role:"none"})(F||(F=(0,G.A)(["\n  height: ","px;\n  cursor: pointer;\n  position: relative;\n"])),(e=>e.theme.measurements.advancedUIToolbar.separatorHeight)),xe=((0,X.b)(Z()),"undefined"!==typeof window&&window.document&&window.document.createElement?W.useLayoutEffect:W.useEffect);"undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();var we=function(e){var t=e.children,i=e.type,r=void 0===i?"reach-portal":i,n=(0,W.useRef)(null),o=(0,W.useRef)(null),s=function(){var e=(0,W.useState)(Object.create(null))[1];return(0,W.useCallback)((function(){e(Object.create(null))}),[])}();return xe((function(){if(n.current){var e=n.current.ownerDocument;return o.current=null===e||void 0===e?void 0:e.createElement(r),e.body.appendChild(o.current),s(),function(){o.current&&o.current.ownerDocument&&o.current.ownerDocument.body.removeChild(o.current)}}}),[r,s]),o.current?(0,Q.createPortal)(t,o.current):(0,W.createElement)("span",{ref:n})};(0,X.b)(ee());var Se=!1,ke=W.createContext(null),Ce="unmounted",Te="exited",Ee="entering",De="entered",Ie="exiting",Re=function(e){function t(t,i){var r;r=e.call(this,t,i)||this;var n,o=i&&!i.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?o?(n=Te,r.appearStatus=Ee):n=De:n=t.unmountOnExit||t.mountOnEnter?Ce:Te,r.state={status:n},r.nextCallback=null,r}!function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&t.status===Ce?{status:Te}:null};var i=t.prototype;return i.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},i.componentDidUpdate=function(e){var t=null;if(e!==this.props){var i=this.state.status;this.props.in?i!==Ee&&i!==De&&(t=Ee):i!==Ee&&i!==De||(t=Ie)}this.updateStatus(!1,t)},i.componentWillUnmount=function(){this.cancelNextCallback()},i.getTimeouts=function(){var e,t,i,r=this.props.timeout;return e=t=i=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,i=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:i}},i.updateStatus=function(e,t){void 0===e&&(e=!1),null!==t?(this.cancelNextCallback(),t===Ee?this.performEnter(e):this.performExit()):this.props.unmountOnExit&&this.state.status===Te&&this.setState({status:Ce})},i.performEnter=function(e){var t=this,i=this.props.enter,r=this.context?this.context.isMounting:e,n=this.props.nodeRef?[r]:[Q.findDOMNode(this),r],o=n[0],s=n[1],a=this.getTimeouts(),l=r?a.appear:a.enter;!e&&!i||Se?this.safeSetState({status:De},(function(){t.props.onEntered(o)})):(this.props.onEnter(o,s),this.safeSetState({status:Ee},(function(){t.props.onEntering(o,s),t.onTransitionEnd(l,(function(){t.safeSetState({status:De},(function(){t.props.onEntered(o,s)}))}))})))},i.performExit=function(){var e=this,t=this.props.exit,i=this.getTimeouts(),r=this.props.nodeRef?void 0:Q.findDOMNode(this);t&&!Se?(this.props.onExit(r),this.safeSetState({status:Ie},(function(){e.props.onExiting(r),e.onTransitionEnd(i.exit,(function(){e.safeSetState({status:Te},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:Te},(function(){e.props.onExited(r)}))},i.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},i.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},i.setNextCallback=function(e){var t=this,i=!0;return this.nextCallback=function(r){i&&(i=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){i=!1},this.nextCallback},i.onTransitionEnd=function(e,t){this.setNextCallback(t);var i=this.props.nodeRef?this.props.nodeRef.current:Q.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(i&&!r){if(this.props.addEndListener){var n=this.props.nodeRef?[this.nextCallback]:[i,this.nextCallback],o=n[0],s=n[1];this.props.addEndListener(o,s)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},i.render=function(){var e=this.state.status;if(e===Ce)return null;var t=this.props,i=t.children,r=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,function(e,t){if(null==e)return{};var i,r,n={},o=Object.keys(e);for(r=0;r<o.length;r++)i=o[r],t.indexOf(i)>=0||(n[i]=e[i]);return n}(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return W.createElement(ke.Provider,{value:null},"function"===typeof i?i(e,r):W.cloneElement(W.Children.only(i),r))},t}(W.Component);function Fe(){}Re.contextType=ke,Re.propTypes={},Re.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Fe,onEntering:Fe,onEntered:Fe,onExit:Fe,onExiting:Fe,onExited:Fe},Re.UNMOUNTED=Ce,Re.EXITED=Te,Re.ENTERING=Ee,Re.ENTERED=De,Re.EXITING=Ie;var Ae=Re,Oe=Y.Ay.div(A||(A=(0,G.A)(["\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  /* added line-height reset from appContainer */\n  font-family: '","', sans-serif;\n\n  ","\n  top: ","px;\n  transition: opacity 0.5s ease-in-out, left 0.25s ease-in-out,\n    right 0.25s ease-in-out;\n  z-index: ",";\n  pointer-events: none;\n  cursor: pointer;\n\n  &:before {\n    content: ' ';\n    position: absolute;\n    top: 10px;\n    left: -8px;\n    width: 0;\n    height: 0;\n    border-right: 8px solid ",";\n    border-bottom: 6px solid transparent;\n    border-top: 6px solid transparent;\n  }\n\n  &:after {\n    content: '","';\n    position: absolute;\n    color: ",";\n    background: ",";\n    padding: 8px 12px;\n    text-align: center;\n    vertical-align: super;\n    font-size: ","px;\n    letter-spacing: ","px;\n    text-transform: ",";\n    border-radius: ","px;\n    white-space: nowrap;\n  }\n\n  ","\n"])),(e=>e.theme.typography.fontFamily),(0,X.t)()?(0,Y.AH)(O||(O=(0,G.A)(["\n        position: -ms-device-fixed;\n      "]))):(0,Y.AH)(M||(M=(0,G.A)(["\n        position: fixed;\n      "]))),(e=>e.position.y-5),(e=>e.theme.measurements.zIndex.toolbar),(e=>e.theme.tooltip.background),(e=>e.label),(e=>e.theme.tooltip.foreground),(e=>e.theme.tooltip.background),(e=>e.theme.measurements.fontSystem.label.size),(e=>e.theme.measurements.fontSystem.label.letterSpacing),(e=>e.theme.measurements.fontSystem.label.case),(e=>e.theme.shape.radiusSmall),(e=>e.reverse&&(0,Y.AH)(P||(P=(0,G.A)(["\n      direction: rtl;\n\n      &:before {\n        border-left: 8px solid ",";\n        border-right: none;\n        right: -8px;\n        left: unset;\n        top: 10px;\n      }\n    "])),e.theme.tooltip.background))),Me=Y.Ay.span(z||(z=(0,G.A)(["\n  display: none;\n"]))),Pe={Card:oe,CardContainer:se,Toolbar:{Index:e=>{let{reverse:t,style:i,className:r,children:n}=e;return W.createElement(ye,{reverse:t,"data-test":X.Ta.Toolbar,className:r,style:i},W.createElement(q.f,{direction:"vertical"},n))},Item:e=>W.createElement(ve,null,W.createElement(_e,{...e,"data-test":X.Ta.ToolbarItem})),Separator:be,Tooltip:e=>{let{show:t=!0,reverse:i,position:r,children:n}=e;const o=(0,W.useRef)(null),{config:s}=(0,q.u)(),{measurements:a}=s,l="string"===typeof n?n:"",c=r.x+a.advancedUIToolbar.width-10,u=r.x+a.advancedUIToolbar.width+16,h=i?"right":"left",d={entering:{opacity:0,[h]:"".concat(c,"px")},entered:{opacity:1,[h]:"".concat(u,"px")},exiting:{opacity:0,[h]:"".concat(c,"px")},exited:{opacity:0,[h]:"".concat(c,"px")}};return W.createElement(Ae,{nodeRef:o,in:t,timeout:{exit:500}},(e=>"exited"!==e&&W.createElement(we,null,W.createElement(Oe,{ref:o,style:d[e],"data-test":X.Ta.Tooltip,reverse:i,position:r,label:l},W.createElement(Me,null,l)))))}},Itemsbar:he,BarSeparator:"",ItemsSeparator:de,Controlsbar:e=>{let{show:t,children:i}=e;return W.createElement(ce,{duration:300,height:t?"auto":0,easing:"ease-in-out",animateOpacity:!0},W.createElement(ue,{"data-test":X.Ta.ToolControlBarExpandableControls},i))},ToolControlBarItems:e=>{let{children:t}=e;const{config:i}=(0,q.u)(),r=i.config.displayToolControlBarTitle;return W.createElement(me,{displayTitle:r},t)},Sidebar:{Index:e=>{let{reverse:t=!1,style:i,className:r,children:n}=e;return W.createElement(ae,{"data-test":X.Ta.ToolControlBar,reverse:t,className:r,style:i},n)},Heading:ge,SubHeading:pe,TextCategory:e=>{let{name:t,isFirstCategory:i,isLastCategory:r,children:n}=e;return W.createElement(fe,null,!i&&W.createElement(q.r.Spacer,{count:2}),W.createElement(pe,{"data-test":t},t),W.createElement(se,{"data-test":X.Ta.CategoryItemsContainer},n),!r&&W.createElement(W.Fragment,null,W.createElement(q.r.Spacer,{count:2}),W.createElement(de,{full:!0})))},ExpandableContainer:le}},ze=class extends W.Component{constructor(){super(...arguments),this.renderIcon=e=>{const{tool:t,config:i}=this.props,r=i.state.config[t];if("icon"in r){const e=r.icon;return W.createElement(e,null)}const n=q.w[e];return W.createElement(n,null)||null},this.update=e=>{const{active:t}=this.props;t.selectTool(e)}}getToolTitle(e){const{config:t}=this.props;return t.locale[e].title}render(){const{tool:e,disabled:t,custom:i,active:r,isReverse:n}=this.props,o=r.tool;if(e){const r=i.getAdvancedToolbarItem();return r?W.createElement(r,{key:e,isDisabled:t,isActive:e===o,isReverse:n,icon:this.renderIcon(e),onClick:()=>this.update(e),tool:e,label:this.getToolTitle(e)}):null}return W.createElement(Pe.Toolbar.Separator,null)}},Be=ze=(0,X.c)([(0,q.c)("active","config","custom"),q.a],ze),Le=(0,q.a)((function(){const{custom:e,config:t,active:i}=(0,q.u)(),r="reverse"===t.config.order,n=e.getAdvancedToolbar();return n?W.createElement(n,{reverse:r},t.tools.map(((e,t)=>W.createElement(Be,{key:e||t,tool:e,isReverse:r,disabled:!(i.image||"library"===e||"customTool"===e)})))):null})),Ue=(0,q.a)((()=>{const{adjustmentsTool:e,custom:t}=(0,q.u)(),{categories:i,items:r,config:n,locale:o}=e,s=i=>{const r=e[i.identifier],n=e.locale.categories[i.identifier]||i.name,o=t.getSlider();return o?W.createElement(o,{tool:"adjustment",identifier:i.identifier,adjust:!0,key:i.identifier,label:n,value:r,onChange:t=>{e.editAdjustments({type:i.identifier,value:t})},onMouseUp:()=>e.toolSnapshot(),onTouchEnd:()=>e.toolSnapshot(),snap:0,style:{paddingBottom:"16px",width:"100%"}}):null};return n.flattenCategories?W.createElement(W.Fragment,null,r.map(s)):W.createElement(W.Fragment,null,i.map(((e,t)=>{const r=o.categories[e.identifier]||e.name;return e.items?W.createElement(Pe.Sidebar.TextCategory,{key:e.identifier,name:r,isFirstCategory:0===t,isLastCategory:t===i.length-1},e.items.map(s)):null})))})),Ne=()=>W.createElement(Pe.Itemsbar,null,W.createElement(Ue,null)),He=(0,q.a)((()=>{const{adjustmentsTool:e,custom:t}=(0,q.u)(),i=e.locale.controls,r=t.getButton("toolControlBarSecondaryButton");return r?W.createElement(r,{tool:"adjustment",label:i.buttonReset,ariaLabel:i.buttonReset,isDisabled:!e.isDirty,onClick:()=>{e.reset()}}):null})),je=(0,q.a)((()=>{const{adjustmentsTool:e}=(0,q.u)(),{config:t}=e,{advancedUIToolControlBarOrder:i}=t,r=t=>{if("string"===typeof t)switch(t){case"items":return W.createElement(Ne,{key:t});case"separator":return W.createElement(Pe.ItemsSeparator,{full:!0,key:(0,X.Oa)()});case"removeAdjustmentButton":return W.createElement(He,{key:t});default:return null}else if("object"===typeof t)return W.createElement(Pe.Controlsbar,{key:t.type,show:e.isDirty},t.children.map((e=>r(e))));return null};return W.createElement(Pe.ToolControlBarItems,null,i.map((e=>r(e))))})),We=(0,q.a)((e=>{let{displayTitle:t}=e;const{adjustmentsTool:i}=(0,q.u)();return W.createElement(W.Fragment,null,t&&W.createElement(Pe.Sidebar.Heading,null,i.locale.title),W.createElement(je,null))})),Ve=(0,q.a)((()=>{const{brushTool:e}=(0,q.u)(),t=e.locale.controls,i=e.localeColor.colorPicker,{colorList:r}=e;return W.createElement(q.r.Input.Selection,{label:t.selectColor},W.createElement(q.I,{tool:"brush",activeColor:e.color,colors:r,labelsColor:i,onChange:e.changeColor}))})),Ge=(0,q.a)((()=>{const{brushTool:e,custom:t}=(0,q.u)(),i=e.locale.controls,r=t.getSlider();return r?W.createElement(r,{identifier:"brush-hardness",tool:"brush","data-test":X.Ta.BrushHardness,label:i.sliderHardness,value:e.hardness,min:0,max:1,onChange:e.changeHardness}):null})),qe=(0,q.a)((()=>{const{brushTool:e,custom:t}=(0,q.u)(),i=e.locale.controls,r=t.getSlider();return r?W.createElement(r,{identifier:"brush-size",tool:"brush","data-test":X.Ta.BrushSize,label:i.sliderSize,value:e.relativeSize,min:1,max:100,divider:1,onChange:e.changeRelativeSize}):null})),Xe=(0,q.a)((()=>{const{brushTool:e,custom:t}=(0,q.u)(),i=e.locale.controls,r=t.getButton("toolControlBarSecondaryButton");return r?W.createElement(r,{tool:"brush",label:i.buttonReset,ariaLabel:i.buttonReset,isDisabled:!e.isDirty,onClick:()=>{e.reset()}}):null})),Ye=(0,q.a)((()=>{const{brushTool:e}=(0,q.u)(),{config:t}=e,{advancedUIToolControlBarOrder:i}=t,r=t=>{if("string"===typeof t)switch(t){case"brushColorList":return W.createElement(Ve,{key:t});case"brushHardnessSlider":return W.createElement(Ge,{key:t});case"brushSizeSlider":return W.createElement(qe,{key:t});case"separator":return W.createElement(Pe.ItemsSeparator,{full:!0,key:(0,X.Oa)()});case"removeBrushButton":return W.createElement(Xe,{key:t});default:return null}else if("object"===typeof t)return W.createElement(Pe.Controlsbar,{key:t.type,show:e.isDirty},t.children.map((e=>r(e))));return null};return W.createElement(Pe.ToolControlBarItems,null,i.map((e=>r(e))))})),Qe=(0,q.c)("brushTool")((0,q.a)((e=>{let{brushTool:t,displayTitle:i}=e;return W.createElement(W.Fragment,null,i&&W.createElement(Pe.Sidebar.Heading,null,t.locale.title),W.createElement(Ye,null))}))),Ke=e=>{let{displayTitle:t}=e;const{config:i}=(0,q.u)(),r=i.state.config.customTool.toolControlBar,{title:n}=i.state.locale.customTool;return W.createElement(W.Fragment,null,t&&W.createElement(Pe.Sidebar.Heading,null,n),W.createElement(r,{language:i.state.locale.customTool}))},Ze=(0,q.a)((()=>{const{filterTool:e,custom:t}=(0,q.u)(),i=e.locale.controls,r=e.state,n=()=>{e.toolSnapshot()},o=t.getSlider();return o?W.createElement(o,{identifier:"filter-intensity",tool:"filter","aria-hidden":!e.isOptionSelected,label:i.sliderIntensity,value:r.intensity,min:0,max:1,onChange:e.changeIntensity,onMouseUp:n,onTouchEnd:n,snap:r.isDuotone?.5:null,isDisabled:!e.isOptionSelected}):null})),Je=(0,q.a)((()=>{const{filterTool:e,custom:t}=(0,q.u)(),{categories:i,config:r,items:n,locale:o}=e,s=t.getAdvancedItemCard(),a=t.getAdvancedCategoryCard(),l=(t,i)=>{var r;const n=o.items[t.identifier]||t.name,a=null==(r=o.controls)?void 0:r.itemAriaLabel;return s?W.createElement(s,{tool:"filter",type:"medium",onClick:()=>e.selectFilter(t.identifier,t.defaultIntensity),key:t.identifier,image:t.thumbnailURI,label:n,"aria-label":null==a?void 0:a.replace("${label}",n),style:{animationDelay:"".concat((0,X.Xa)(i),"s")},isActive:e.identifier===t.identifier},W.createElement(q.n,{withBackground:!0},n)):null};return r.flattenCategories?W.createElement(W.Fragment,null,n.map(l)):"card"===r.categoryHeaderType?W.createElement(W.Fragment,null,i.map(((t,i)=>{var r;const{selectedCategoryIdentifier:n}=e,s=n===t.identifier,c=o.categories[t.identifier]||t.name,u=null==(r=o.controls)?void 0:r.categoryAriaLabel;return t.items&&a?W.createElement("div",{key:t.identifier},W.createElement(a,{role:"button","aria-expanded":s,"aria-label":null==u?void 0:u.replace("${label}",c),isActive:s,tool:"filter",type:"large",onClick:()=>e.toggleCategorySelection(t.identifier),image:t.thumbnailURI,label:c,style:{animationDelay:"".concat((0,X.Xa)(i),"s")}},W.createElement(q.n,{withBackground:!0,caret:!0,isActive:s},c)),W.createElement(Pe.Sidebar.ExpandableContainer,{show:s},t.items.map(l))):null}))):"text"===r.categoryHeaderType?W.createElement(W.Fragment,null,i.map(((e,t)=>{const r=o.categories[e.identifier]||e.name;return e.items?W.createElement(Pe.Sidebar.TextCategory,{key:e.identifier,name:r,isFirstCategory:0===t,isLastCategory:t===i.length-1},e.items.map(l)):null}))):null})),$e=()=>W.createElement(Pe.Itemsbar,null,W.createElement(Pe.CardContainer,null,W.createElement(Je,null))),et=(0,q.a)((()=>{const{filterTool:e,custom:t}=(0,q.u)(),i=e.locale.controls,r=t.getButton("toolControlBarSecondaryButton");return r?W.createElement(r,{tool:"filter",label:i.buttonReset,ariaLabel:i.buttonReset,isDisabled:!e.isOptionSelected,onClick:()=>{e.reset()}}):null})),tt=(0,q.a)((()=>{const{filterTool:e}=(0,q.u)(),{config:t}=e,{advancedUIToolControlBarOrder:i}=t,r=t=>{if("string"===typeof t)switch(t){case"items":return W.createElement($e,{key:t});case"separator":return W.createElement(Pe.ItemsSeparator,{full:!0,key:(0,X.Oa)()});case"removeFilterButton":return W.createElement(et,{key:t});case"filterIntensitySlider":return W.createElement(Ze,{key:t});default:return null}else if("object"===typeof t)return W.createElement(Pe.Controlsbar,{key:t.type,show:e.isOptionSelected},t.children.map((e=>r(e))));return null};return W.createElement(Pe.ToolControlBarItems,null,i.map((e=>r(e))))})),it=(0,q.a)((e=>{let{displayTitle:t}=e;const{filterTool:i}=(0,q.u)();return W.createElement(W.Fragment,null,t&&W.createElement(Pe.Sidebar.Heading,null,i.locale.title),W.createElement(tt,null))})),rt=(0,q.a)((()=>{const{focusTool:e,custom:t}=(0,q.u)(),i=e.locale.controls,r=()=>{e.toolSnapshot(i.sliderIntensity)},n=t.getSlider();return n?W.createElement(n,{identifier:"focus-intensity",tool:"focus","aria-hidden":!e.isOptionSelected,label:i.sliderIntensity,value:e.relativeIntensity,min:0,max:100,divider:1,onChange:e.changeRelativeIntensity,onMouseUp:r,onTouchEnd:r,isDisabled:!e.isOptionSelected}):null})),nt=(0,q.a)((()=>{const{focusTool:e,custom:t}=(0,q.u)(),{items:i,locale:r}=e;return W.createElement(W.Fragment,null,i.map(((i,n)=>{var o;const s=r.items[i.identifier]||i.name,a=null==(o=r.controls)?void 0:o.itemAriaLabel,l=t.getAdvancedItemCard();return l?W.createElement(l,{tool:"focus",type:"large",onClick:()=>e.selectFocus(i.identifier),key:i.identifier,image:i.thumbnailURI,label:s,"aria-label":null==a?void 0:a.replace("${label}",s),style:{animationDelay:"".concat((0,X.Xa)(n),"s")},isActive:i.identifier===e.identifier},W.createElement(q.n,{withBackground:!0},s)):null})))})),ot=()=>W.createElement(Pe.Itemsbar,null,W.createElement(Pe.CardContainer,null,W.createElement(nt,null))),st=(0,q.a)((()=>{const{focusTool:e,custom:t}=(0,q.u)(),i=e.locale.controls,r=t.getButton("toolControlBarSecondaryButton");return r?W.createElement(r,{tool:"focus",label:i.buttonReset,ariaLabel:i.buttonReset,isDisabled:!e.isOptionSelected,onClick:()=>{e.reset()}}):null})),at=(0,q.a)((()=>{const{focusTool:e}=(0,q.u)(),{config:t}=e,{advancedUIToolControlBarOrder:i}=t,r=t=>{if("string"===typeof t)switch(t){case"separator":return W.createElement(Pe.ItemsSeparator,{full:!0,key:(0,X.Oa)()});case"removeFocusButton":return W.createElement(st,{key:t});case"focusIntensitySlider":return W.createElement(rt,{key:t});case"items":return W.createElement(ot,{key:t});default:return null}else if("object"===typeof t)return W.createElement(Pe.Controlsbar,{key:t.type,show:e.isOptionSelected},t.children.map((e=>r(e))));return null};return W.createElement(Pe.ToolControlBarItems,null,i.map((e=>r(e))))})),lt=(0,q.a)((e=>{let{displayTitle:t}=e;const{focusTool:i}=(0,q.u)();return W.createElement(W.Fragment,null,t&&W.createElement(Pe.Sidebar.Heading,null,i.locale.title),W.createElement(at,null))})),ct=(0,q.a)((()=>{const{frameTool:e}=(0,q.u)(),t=e.locale.controls,i=e.localeColor.colorPicker,{colorList:r,tintable:n}=e;return W.createElement(q.r.Input.Selection,{isDisabled:!n,label:t.selectColor},W.createElement(q.I,{tool:"frame",activeColor:e.color,colors:r,labelsColor:i,isDisabled:!n,onChange:e.changeColor,onAddSnapshot:e.colorSnapshot}))})),ut=(0,q.a)((()=>{const{frameTool:e,custom:t}=(0,q.u)(),{items:i,locale:r}=e,n=e.state?e.state.identifier:null;return W.createElement(Pe.Itemsbar,null,W.createElement(Pe.CardContainer,null,i.map(((i,o)=>{var s;const a=r.items[i.identifier]||i.name,l=null==(s=r.controls)?void 0:s.itemAriaLabel,c=t.getAdvancedItemCard();return c?W.createElement(c,{tool:"frame",type:"medium",onClick:()=>e.selectFrame(i.identifier),key:i.identifier,image:i.thumbnailURI,label:a,"aria-label":null==l?void 0:l.replace("${label}",a),style:{backgroundSize:"75%",animationDelay:"".concat((0,X.Xa)(o),"s")},isActive:i.identifier===n},W.createElement(q.n,{hidden:!0},a)):null}))))})),ht=(0,q.a)((()=>{const{frameTool:e,custom:t}=(0,q.u)(),i=e.locale.controls,r=t=>{e.toolSnapshot(t)},n=t.getSlider();return n?W.createElement(n,{identifier:"frame-opacity",tool:"frame","aria-hidden":!e.isOptionSelected,label:i.sliderOpacity,value:e.opacity,min:0,max:1,onChange:e.changeOpacity,onMouseUp:()=>{r(i.sliderOpacity)},onTouchEnd:()=>{r(i.sliderOpacity)},isDisabled:!e.isOptionSelected}):null})),dt=(0,q.a)((()=>{const{frameTool:e,custom:t}=(0,q.u)(),i=e.locale.controls,r=t=>{e.toolSnapshot(t)},n=t.getSlider();return n?W.createElement(n,{identifier:"frame-size",tool:"frame","aria-hidden":!e.isOptionSelected,label:i.sliderSize,value:e.size,min:e.minSize,max:e.maxSize,divider:1,onChange:e.changeWidth,onMouseUp:()=>{r(i.sliderSize)},onTouchEnd:()=>{r(i.sliderSize)},isDisabled:!e.isOptionSelected}):null})),pt=(0,q.a)((()=>{const{frameTool:e,custom:t}=(0,q.u)(),i=e.locale.controls,r=t.getButton("toolControlBarSecondaryButton");return r?W.createElement(r,{tool:"frame",ariaLabel:i.buttonReset,onClick:()=>{e.reset()},isDisabled:!e.isOptionSelected,label:i.buttonReset}):null})),ft=(0,q.a)((()=>{const{frameTool:e}=(0,q.u)(),{config:t}=e,{advancedUIToolControlBarOrder:i}=t,r=t=>{if("string"===typeof t)switch(t){case"items":return W.createElement(ut,{key:t});case"separator":return W.createElement(Pe.ItemsSeparator,{full:!0,key:(0,X.Oa)()});case"frameOpacitySlider":return W.createElement(ht,{key:t});case"frameSizeSlider":return W.createElement(dt,{key:t});case"frameColorList":return W.createElement(ct,{key:t});case"removeFrameButton":return W.createElement(pt,{key:t});default:return null}else if("object"===typeof t)return W.createElement(Pe.Controlsbar,{key:t.type,show:e.isOptionSelected},t.children.map((e=>r(e))));return null};return W.createElement(Pe.ToolControlBarItems,null,i.map((e=>r(e))))})),gt=(0,q.a)((e=>{let{displayTitle:t}=e;const{frameTool:i}=(0,q.u)();return W.createElement(W.Fragment,null,t&&W.createElement(Pe.Sidebar.Heading,null,i.locale.title),W.createElement(ft,null))})),mt=(0,q.a)((()=>{const{active:e,library:t,custom:i}=(0,q.u)(),{query:r,config:n,selectedCategoryIdentifier:o,categories:s,items:a,locale:l}=t,c=i.getAdvancedCategoryCard(),u=i.getAdvancedItemCard(),h=(t,i)=>{var r;const n=null==(r=l.controls)?void 0:r.itemAriaLabel;return u?W.createElement(u,{tool:"library",type:"medium",onClick:()=>e.newImage(t.rawUrl),key:"".concat(t.identifier,"-").concat(i),image:t.thumbnailURI,label:t.name,"aria-label":null==n?void 0:n.replace("${label}",t.name),style:{animationDelay:"".concat((0,X.Xa)(i),"s")},authorAvatar:t.authorAvatar,authorName:t.authorName},t.authorAvatar&&W.createElement(q.o,{url:t.authorAvatar}),t.authorName&&W.createElement(q.n,{withBackground:!0},t.authorName)):null};return r?a.length?W.createElement(W.Fragment,null,a.map(h)):W.createElement("p",{"data-test":X.Ta.NoResult},t.locale.controls.noResults):n.flattenCategories?W.createElement(W.Fragment,null,a.map(h)):"card"===n.categoryHeaderType?W.createElement(W.Fragment,null,s.map(((e,i)=>{var r;const n=o===e.identifier,s=null==(r=l.controls)?void 0:r.categoryAriaLabel;return e.items&&c?W.createElement("div",{key:e.identifier},W.createElement(c,{role:"button","aria-expanded":n,"aria-label":null==s?void 0:s.replace("${label}",e.name),isActive:n,tool:"library",type:"large",onClick:()=>t.toggleCategorySelection(e.identifier),image:e.thumbnailURI,label:e.name,style:{animationDelay:"".concat((0,X.Xa)(i),"s")}},W.createElement(q.n,{withBackground:!0,caret:!0,isActive:n},e.name)),W.createElement(Pe.Sidebar.ExpandableContainer,{show:n},e.items.map(h))):null}))):"text"===n.categoryHeaderType?W.createElement(W.Fragment,null,s.map(((e,t)=>e.items?W.createElement(Pe.Sidebar.TextCategory,{key:e.identifier,name:e.name,isFirstCategory:0===t,isLastCategory:t===s.length-1},e.items.map(h)):null))):null})),yt=()=>W.createElement(Pe.Itemsbar,null,W.createElement(Pe.CardContainer,null,W.createElement(mt,null))),_t=(0,q.a)((()=>{const{library:e,active:t}=(0,q.u)(),{config:i}=e,r=e.locale.controls,n=()=>{t.selectWebcam(!0)};return i.enableWebcam?W.createElement(q.R,{tool:"library",onClick:n,label:r.buttonWebcamOpen}):null})),vt=(0,q.a)((()=>{const{library:e}=(0,q.u)(),{libraryProvider:t}=e,i=e.locale.controls,r=t=>{e.fetchImages(t)};return t?W.createElement(q.r.Input.Search,{onChange:r,placeholder:i.placeholderSearch}):null})),bt=(0,q.a)((()=>{const{library:e,active:t,custom:i}=(0,q.u)(),{config:r}=e,n=e.locale.controls,o=i.getButton("toolControlBarPrimaryButton"),s=e=>{const{files:i}=e.target;if(i.length){const e=new FileReader;e.onload=e=>{t.newImage(e.target.result)},e.readAsDataURL(i[0])}},a=()=>{const e=document.getElementById("fileUpload");e&&e.click()};return r.enableUpload&&o?W.createElement(o,{"data-test":X.Ta.LibraryUploadButton,tool:"library",ariaLabel:n.buttonUpload,onClick:a,label:n.buttonUpload},W.createElement(q.r.Input.File,{onChange:s})):null})),xt=(0,q.a)((()=>{const{library:e}=(0,q.u)(),{config:t}=e,{advancedUIToolControlBarOrder:i}=t;return W.createElement(Pe.ToolControlBarItems,null,i.map((e=>(e=>{switch(e){case"items":return W.createElement(yt,{key:e});case"openWebcamButton":return W.createElement(_t,{key:e});case"searchFieldInput":return W.createElement(vt,{key:e});case"separator":return W.createElement(Pe.ItemsSeparator,{full:!0,key:(0,X.Oa)()});case"uploadImageButton":return W.createElement(bt,{key:e});default:return null}})(e))))})),wt=(0,q.a)((e=>{let{displayTitle:t}=e;const{library:i}=(0,q.u)();return W.createElement(W.Fragment,null,t&&W.createElement(Pe.Sidebar.Heading,null,i.locale.title),W.createElement(xt,null))})),St=(0,q.a)((()=>{const{overlayTool:e}=(0,q.u)(),{allBlendModes:t,blendMode:i}=e,r=e.locale.controls;return W.createElement(q.r.Input.CarouselSlider,{label:r.carouselBlendMode,defaultIdentifier:i,onSelect:t=>{e.changeBlendMode(t)},list:t})})),kt=(0,q.a)((()=>{const{overlayTool:e,custom:t}=(0,q.u)(),{items:i,locale:r,identifier:n,selectOverlay:o}=e;return W.createElement(W.Fragment,null,i.map(((e,i)=>{var s;const a=r.items[e.identifier]||e.name,l=null==(s=r.controls)?void 0:s.itemAriaLabel,c=t.getAdvancedItemCard();return c?W.createElement(c,{tool:"overlay",type:"medium",onClick:()=>o(e.identifier),key:e.identifier,image:e.thumbnailURI,label:a,"aria-label":null==l?void 0:l.replace("${label}",a),style:{animationDelay:"".concat((0,X.Xa)(i),"s")},isActive:e.identifier===n},W.createElement(q.n,{withBackground:!0},a)):null})))})),Ct=()=>W.createElement(Pe.Itemsbar,null,W.createElement(Pe.CardContainer,null,W.createElement(kt,null))),Tt=(0,q.a)((()=>{const{overlayTool:e,custom:t}=(0,q.u)(),i=e.locale.controls,r=()=>{e.toolSnapshot()},n=t.getSlider();return n?W.createElement(n,{identifier:"overlay-opacity",tool:"overlay","aria-hidden":!e.isOptionSelected,label:i.sliderOpacity,value:e.opacity,min:0,max:1,onChange:e.changeOpacity,onMouseUp:r,onTouchEnd:r,isDisabled:!e.isOptionSelected}):null})),Et=(0,q.a)((()=>{const{overlayTool:e,custom:t}=(0,q.u)(),i=e.locale.controls,r=t.getButton("toolControlBarSecondaryButton");return r?W.createElement(r,{tool:"overlay",label:i.buttonReset,ariaLabel:i.buttonReset,isDisabled:!e.isOptionSelected,onClick:()=>{e.reset()}}):null})),Dt=(0,q.a)((()=>{const{overlayTool:e}=(0,q.u)(),{config:t}=e,{advancedUIToolControlBarOrder:i}=t,r=t=>{if("string"===typeof t)switch(t){case"items":return W.createElement(Ct,{key:t});case"separator":return W.createElement(Pe.ItemsSeparator,{full:!0,key:(0,X.Oa)()});case"overlayBlendModeCarousel":return W.createElement(St,{key:t});case"overlayOpacitySlider":return W.createElement(Tt,{key:t});case"removeOverlayButton":return W.createElement(Et,{key:t});default:return null}else if("object"===typeof t)return W.createElement(Pe.Controlsbar,{key:t.type,show:e.isOptionSelected},t.children.map((e=>r(e))));return null};return W.createElement(Pe.ToolControlBarItems,null,i.map((e=>r(e))))})),It=(0,q.a)((e=>{let{displayTitle:t}=e;const{overlayTool:i}=(0,q.u)();return W.createElement(W.Fragment,null,t&&W.createElement(Pe.Sidebar.Heading,null,i.locale.title),W.createElement(Dt,null))})),Rt=(0,q.a)((()=>{const{stickerTool:e}=(0,q.u)(),{colorList:t}=e,i=e.locale.controls,r=e.localeColor.colorPicker,n=!e.isStickerSelected||!e.tintable&&e.isStickerSelected;return W.createElement(q.r.Input.Selection,{isDisabled:n,label:i.selectColor},W.createElement(q.I,{tool:"sticker",activeSprite:e.id,activeColor:e.tintColor,colors:t,labelsColor:r,isDisabled:n,onChange:e.changeTintColor,onAddSnapshot:e.tintColorSnapshot}))})),Ft=(0,q.a)((()=>{const{stickerTool:e,custom:t}=(0,q.u)(),{categories:i,selectedCategoryIdentifier:r,config:n,items:o,locale:s}=e,a=t.getAdvancedCategoryCard(),l=t.getAdvancedItemCard(),c=(t,i)=>{var r;const n=s.items[t.identifier]||t.name,o=null==(r=s.controls)?void 0:r.itemAriaLabel;return l?W.createElement(l,{key:t.identifier,tool:"sticker",type:"small",onClick:()=>e.add(t.identifier),image:t.thumbnailURI,label:n,"aria-label":null==o?void 0:o.replace("${label}",n),style:{backgroundSize:"75%",animationDelay:"".concat((0,X.Ya)(i),"s")}},W.createElement(q.n,{hidden:!0},n)):null};return n.flattenCategories?W.createElement(W.Fragment,null,o.map(c)):"card"===n.categoryHeaderType?W.createElement(W.Fragment,null,i.map(((t,i)=>{var n;const o=r===t.identifier,l=s.categories[t.identifier]||t.name,u=null==(n=s.controls)?void 0:n.categoryAriaLabel;return t.items&&a?W.createElement("div",{key:t.identifier},W.createElement(a,{role:"button","aria-expanded":o,"aria-label":null==u?void 0:u.replace("${label}",l),isActive:o,tool:"sticker",type:"large",onClick:()=>e.toggleCategorySelection(t.identifier),image:t.thumbnailURI,label:l,style:{animationDelay:"".concat((0,X.Xa)(i),"s")}},W.createElement(q.n,{withBackground:!0,caret:!0,isActive:o},l)),W.createElement(Pe.Sidebar.ExpandableContainer,{show:o,key:"".concat(t.identifier,"-items")},t.items.map(c))):null}))):"text"===n.categoryHeaderType?W.createElement(W.Fragment,null,i.map(((e,t)=>{const r=s.categories[e.identifier]||e.name;return e.items?W.createElement(Pe.Sidebar.TextCategory,{key:e.identifier,name:r,isFirstCategory:0===t,isLastCategory:t===i.length-1},e.items.map(c)):null}))):null})),At=()=>W.createElement(Pe.Itemsbar,null,W.createElement(Pe.CardContainer,null,W.createElement(Ft,null))),Ot=(0,q.a)((()=>{const{stickerTool:e,custom:t}=(0,q.u)(),i=e.locale.controls,r=()=>{e.toolSnapshot()},n=t.getSlider();return n?W.createElement(n,{identifier:"sticker-opacity",tool:"sticker",isDisabled:!e.isStickerSelected,label:i.sliderOpacity,value:e.opacity,min:0,max:1,onChange:e.changeOpacity,onMouseUp:r,onTouchEnd:r}):null})),Mt=Y.Ay.input.attrs({type:"file",id:"fileUpload",accept:"image/*",multiple:!0})(B||(B=(0,G.A)(["\n  ","\n"])),q.q.VisuallyHidden),Pt=(0,q.a)((()=>{const{stickerTool:e,custom:t}=(0,q.u)(),i=e.locale.controls,r=t.getButton("toolControlBarPrimaryButton"),n=()=>{const e=document.getElementById("fileUpload");e&&(e.value=null,e.click())},o=t=>{const{files:i}=t.target;e.addFiles(i)};return e.isCustomStickerEnabled&&r?W.createElement(r,{tool:"sticker",ariaLabel:i.buttonUpload,onClick:n,label:i.buttonUpload},W.createElement(Mt,{onChange:o})):null})),zt=(0,q.a)((()=>{const{stickerTool:e}=(0,q.u)(),{config:t}=e,{advancedUIToolControlBarOrder:i}=t;return W.createElement(Pe.ToolControlBarItems,null,i.map((e=>(e=>{switch(e){case"items":return W.createElement(At,{key:e});case"separator":return W.createElement(Pe.ItemsSeparator,{full:!0,key:(0,X.Oa)()});case"uploadStickerButton":return W.createElement(Pt,{key:e});case"stickerColorList":return W.createElement(Rt,{key:e});case"stickerOpacitySlider":return W.createElement(Ot,{key:e});default:return null}})(e))))})),Bt=(0,q.a)((e=>{let{displayTitle:t}=e;const{stickerTool:i}=(0,q.u)();return W.createElement(W.Fragment,null,t&&W.createElement(Pe.Sidebar.Heading,null,i.locale.title),W.createElement(zt,null))})),Lt=(0,q.a)((()=>{const{textTool:e}=(0,q.u)(),t=e.locale.controls,i=e.localeColor.colorPicker,{isTextSelected:r,backgroundColorList:n}=e;return W.createElement(q.r.Input.Selection,{isDisabled:!r,label:t.selectBackgroundColor},W.createElement(q.I,{tool:"text",activeSprite:e.id,activeColor:e.backgroundColor,colors:n,labelsColor:i,isDisabled:!r,onChange:e.changeBackgroundColor,onAddSnapshot:e.backgroundColorSnapshot}))})),Ut=(0,q.a)((()=>{const{textTool:e}=(0,q.u)(),t=e.locale.controls,{fontFamily:i,fontStyle:r,fontWeight:n,fontFamilies:o,isTextSelected:s}=e,a=o.map((e=>({label:"".concat(e.fontFamily," ").concat(q.D.getDisplayFontStyle(e)),fontWeight:e.fontWeight,fontStyle:e.fontStyle,fontFamily:e.fontFamily,value:e.identifier}))),l=a.filter((t=>{let{value:i}=t;return i===e.identifier}))[0];return W.createElement(q.r.Input.Dropdown,{isDisabled:!s,style:{fontFamily:i,fontStyle:r,fontWeight:n},itemStyle:e=>({fontFamily:e.fontFamily,fontStyle:e.fontStyle,fontWeight:e.fontWeight}),label:t.dropdownFontFamily,list:a,onSelect:e.changeFont,selectedItem:l.label})})),Nt=(0,Y.Ay)(q.r.Input.NumericInput)(L||(L=(0,G.A)(["\n  max-width: 50%;\n  margin-right: 16px;\n"]))),Ht=(0,q.a)((()=>{const{textTool:e}=(0,q.u)(),t=e.locale.controls,{isTextSelected:i}=e;return W.createElement(Nt,{id:"photoeditorsdk-text-font-size-input",value:e.fontSize.toFixed(0),onSubmit:t=>{const i=t?parseFloat(t):0;e.setFontSize(Math.max(10,Math.min(690,i)))},label:t.textFontSize,isDisabled:!i})})),jt=(0,q.a)((()=>{const{textTool:e,custom:t}=(0,q.u)(),i=e.locale.controls,{isTextSelected:r}=e,n=()=>{e.toolSnapshot()},o=t.getSlider();return o?W.createElement(o,{identifier:"text-line-spacing",tool:"text",isDisabled:!r,label:i.sliderLineSpacing,value:e.lineHeight,min:.5,max:3,onChange:e.changeLineHeight,onMouseUp:n,onTouchEnd:n,snap:1,divider:1,decimal:1}):null})),Wt=(0,q.a)((()=>{const{textTool:e,custom:t}=(0,q.u)(),i=e.locale.controls,r=t.getButton("toolControlBarPrimaryButton");return r?W.createElement(r,{tool:"text",ariaLabel:i.buttonNew,onClick:()=>{e.add()},label:i.buttonNew}):null})),Vt=(0,Y.Ay)(q.r.Input.Selection)(U||(U=(0,G.A)(["\n  width: 50%;\n"]))),Gt=(0,q.a)((()=>{const{textTool:e,custom:t}=(0,q.u)(),i=e.locale.controls,{isTextSelected:r,alignment:n}=e,o=t.getButton("textAlignment");return W.createElement(Vt,{isDisabled:!r,inline:!0,label:i.selectAlignment,"data-test":X.Ta.TextAlignment},["left","center","right"].map((t=>{const i=q.x[t];return W.createElement(o,{tool:t,isDisabled:!r,ariaLabel:"Align ".concat(t),isActive:t===n,key:t,style:{padding:"1px 3px 2px"},icon:W.createElement(i,null),onClick:()=>e.changeAlignment(t)})})))})),qt=(0,q.a)((()=>{const{textTool:e}=(0,q.u)(),t=e.locale.controls,i=e.localeColor.colorPicker,{isTextSelected:r,colorList:n}=e;return W.createElement(q.r.Input.Selection,{isDisabled:!r,label:t.selectFontColor},W.createElement(q.I,{tool:"text",activeSprite:e.id,activeColor:e.textColor,colors:n,labelsColor:i,isDisabled:!r,onChange:e.changeColor,onAddSnapshot:e.colorSnapshot}))})),Xt=Y.Ay.div(N||(N=(0,G.A)(["\n  display: flex;\n  justify-content: space-between;\n"]))),Yt=(0,q.c)("textTool")((0,q.a)((e=>{let{textTool:t}=e;const{config:i}=t,{advancedUIToolControlBarOrder:r}=i,n=e=>{if("string"===typeof e)switch(e){case"newTextButton":return W.createElement(Wt,{key:e});case"fontFamilyDropdown":return W.createElement(Ut,{key:e});case"separator":return W.createElement(Pe.ItemsSeparator,{full:!0,key:(0,X.Oa)()});case"textColorList":return W.createElement(qt,{key:e});case"backgroundColorList":return W.createElement(Lt,{key:e});case"lineSpacingSlider":return W.createElement(jt,{key:e});case"textAlignmentList":return W.createElement(Gt,{key:e});case"fontSizeInput":return W.createElement(Ht,{key:e});default:return null}else if("object"===typeof e)return W.createElement(Xt,{key:e.type},e.children.map((e=>n(e))));return null};return W.createElement(Pe.ToolControlBarItems,null,r.map((e=>n(e))))}))),Qt=(0,q.a)((e=>{let{displayTitle:t}=e;const{textTool:i}=(0,q.u)();return W.createElement(W.Fragment,null,t&&W.createElement(Pe.Sidebar.Heading,null,i.locale.title),W.createElement(Yt,null))})),Kt=(0,q.a)((()=>{const{textDesignTool:e,custom:t}=(0,q.u)(),i=e.locale.controls,r=t.getButton("toolControlBarPrimaryButton");return r?W.createElement(r,{tool:"textdesign",ariaLabel:i.buttonNew,onClick:()=>{e.add()},label:i.buttonNew}):null})),Zt=(0,q.a)((()=>{const{textDesignTool:e,custom:t}=(0,q.u)(),i=e.locale.controls,{isTextDesignSelected:r}=e,n=t.getButton("toolControlBarSecondaryButton");return n?W.createElement(n,{tool:"textdesign",ariaLabel:i.buttonShuffle,isDisabled:!r,onClick:()=>{e.changeSeed()},label:i.buttonShuffle}):null})),Jt=(0,q.a)((()=>{const{textDesignTool:e}=(0,q.u)(),t=e.locale.controls,i=e.localeColor.colorPicker,{isTextDesignSelected:r,colorList:n}=e;return W.createElement(q.r.Input.Selection,{isDisabled:!r,label:t.selectColor},W.createElement(q.I,{tool:"textdesign",activeSprite:e.id,activeColor:e.color,colors:n,labelsColor:i,isDisabled:!r,onChange:e.changeColor,onAddSnapshot:e.colorSnapshot}))})),$t=(0,q.a)((()=>{const{textDesignTool:e,custom:t}=(0,q.u)(),{items:i,identifier:r,locale:n}=e;return W.createElement(W.Fragment,null,i.map(((i,o)=>{var s;const a=null==(s=n.controls)?void 0:s.itemAriaLabel,l=t.getAdvancedItemCard();return l?W.createElement(l,{key:i.identifier,tool:"textdesign",type:"medium",onClick:()=>(t=>{e.changeIdentifier(t)})(i.identifier),image:i.thumbnailURI,label:i.name||"","aria-label":null==a?void 0:a.replace("${label}",i.name),style:{animationDelay:"".concat((0,X.Xa)(o),"s"),backgroundSize:"60%"},isDisabled:!e.isTextDesignSelected,isActive:r===i.identifier},W.createElement(q.n,{hidden:!0},i.name)):null})))})),ei=()=>W.createElement(Pe.Itemsbar,null,W.createElement(Pe.CardContainer,null,W.createElement($t,null))),ti=(0,q.a)((()=>{const{textDesignTool:e}=(0,q.u)(),{config:t}=e,{advancedUIToolControlBarOrder:i}=t;return W.createElement(Pe.ToolControlBarItems,null,i.map((e=>(e=>{switch(e){case"items":return W.createElement(ei,{key:e});case"separator":return W.createElement(Pe.ItemsSeparator,{full:!0,key:(0,X.Oa)()});case"newTextDesignButton":return W.createElement(Kt,{key:e});case"shuffleLayoutButton":return W.createElement(Zt,{key:e});case"textDesignColorList":return W.createElement(Jt,{key:e});default:return null}})(e))))})),ii=(0,q.a)((e=>{let{displayTitle:t}=e;const{textDesignTool:i}=(0,q.u)();return W.createElement(W.Fragment,null,t&&W.createElement(Pe.Sidebar.Heading,null,i.locale.title),W.createElement(ti,null))})),ri=(0,q.a)((()=>{const{transformTool:e}=(0,q.u)(),t=e.locale.controls,{forceDimensions:i,localOutputHeight:r,localOutputWidth:n}=e;return W.createElement(q.O,{isDisabled:i,showLabel:!0,valueHeight:r,valueWidth:n,onSubmitWidth:e.onPixelWidth,onSubmitHeight:e.onPixelHeight,label:t.inputCropSize,labelHeight:t.inputHeight,labelWidth:t.inputWidth,ariaLabelHeight:t.inputHeightAriaLabel,ariaLabelWidth:t.inputWidthAriaLabel})})),ni=(0,q.a)((()=>{const{transformTool:e,custom:t}=(0,q.u)(),i=e.locale.controls,{forceDimensions:r,lockResolution:n}=e,o=t.getCheckbox();return o?W.createElement(o,{tool:"transform",isDisabled:r,value:n,label:i.checkboxKeepResolution,checkMarkPosition:"right",onClick:e.changeLockResolution,style:{paddingTop:"5px",justifyContent:"space-between"}}):null})),oi=(0,q.a)((()=>{const{transformTool:e,custom:t}=(0,q.u)(),i=e.locale.controls,r=t.getButton("toolControlBarSecondaryButton");return r?W.createElement(r,{tool:"transform",ariaLabel:i.buttonReset,onClick:()=>{e.reset()},label:i.buttonReset}):null})),si=(0,q.a)((()=>{const{transformTool:e,custom:t,editor:i}=(0,q.u)(),{categories:r,items:n,identifier:o,config:s,locale:a}=e,l=t.getAdvancedItemCard(),c=t.getAdvancedCategoryCard(),u=(t,r)=>{var n;const{theme:s,measurements:c}=i.configStore,u=a.items[t.identifier]||t.name,h=null==(n=a.controls)?void 0:n.itemAriaLabel;let d=t.thumbnailURI||"",p="80%";if(!e.checkIfTransformThumbnailExits(t.thumbnailURI)){const e=t.identifier.includes("imgly_transform_common"),i=q.z.crops[t.identifier]||q.z.crops.imgly_transform_common_custom,r=W.createElement(i,{width:c.advancedUICard.medium.width-(e?42:0),height:c.advancedUICard.medium.height-(e?42:0),main:s.transform.crops.main,highlight:s.transform.crops.highlight,shadow:s.transform.crops.shadow});d="'data:image/svg+xml,".concat(encodeURIComponent((0,K.qV)(r)),"'"),p=(0,X.t)()||(0,X.s)()?"auto":"unset"}return l?W.createElement(l,{key:t.identifier,tool:"transform",type:"medium",onClick:()=>e.changeIdentifier(t.identifier,!0),image:d,label:u,"aria-label":null==h?void 0:h.replace("${label}",u),style:{backgroundSize:p,animationDelay:"".concat((0,X.Xa)(r),"s")},isActive:t.identifier===o},W.createElement(q.n,null,u)):null};return s.flattenCategories?W.createElement(W.Fragment,null,n.map(u)):"card"===s.categoryHeaderType?W.createElement(W.Fragment,null,r.map(((t,r)=>{var n;const{theme:o,measurements:s}=i.configStore,l=e.selectedCategoryIdentifier===t.identifier,h=a.categories[t.identifier]||t.name,d=null==(n=a.controls)?void 0:n.categoryAriaLabel;let p=t.thumbnailURI||"";if(!t.items||!c)return null;if(!e.checkIfTransformThumbnailExits(t.thumbnailURI)){const e=q.z.categories[t.identifier]||q.z.crops.imgly_transform_common_custom,i=W.createElement(e,{width:s.advancedUICard.large.width-42,height:s.advancedUICard.large.height-42,main:o.transform.crops.main,highlight:o.transform.crops.highlight,shadow:o.transform.crops.shadow});p="'data:image/svg+xml,".concat(encodeURIComponent((0,K.qV)(i)),"'")}return W.createElement("div",{key:t.identifier},W.createElement(c,{role:"button","aria-expanded":l,"aria-label":null==d?void 0:d.replace("${label}",h),isActive:l,type:"large",onClick:()=>e.toggleCategorySelection(t.identifier),key:t.identifier,image:p,style:{animationDelay:"".concat((0,X.Xa)(r),"s")},label:t.name,tool:"transform"},W.createElement(q.n,{caret:!0,isActive:l},h)),W.createElement(Pe.Sidebar.ExpandableContainer,{show:l},t.items.map(u)))}))):"text"===s.categoryHeaderType?W.createElement(W.Fragment,null,r.map(((e,t)=>{const i=a.categories[e.identifier]||e.name;return e.items?W.createElement(Pe.Sidebar.TextCategory,{key:e.identifier,name:i,isFirstCategory:0===t,isLastCategory:t===r.length-1},e.items.map(u)):null}))):null})),ai=()=>W.createElement(Pe.Itemsbar,null,W.createElement(Pe.CardContainer,null,W.createElement(si,null))),li=(0,q.a)((()=>{const{transformTool:e}=(0,q.u)(),{config:t}=e,{advancedUIToolControlBarOrder:i}=t;return W.createElement(Pe.ToolControlBarItems,null,i.map((e=>(e=>{switch(e){case"items":return W.createElement(ai,{key:e});case"separator":return W.createElement(Pe.ItemsSeparator,{full:!0,key:(0,X.Oa)()});case"resetTransformButton":return W.createElement(oi,{key:e});case"keepResolutionCheckbox":return W.createElement(ni,{key:e});case"cropSizeInput":return W.createElement(ri,{key:e});default:return null}})(e))))})),ci=(0,q.a)((e=>{let{displayTitle:t}=e;const{transformTool:i}=(0,q.u)();return W.createElement(W.Fragment,null,t&&W.createElement(Pe.Sidebar.Heading,null,i.locale.title),W.createElement(li,null))})),ui=(0,q.a)((function(){const{active:e,config:t,custom:i}=(0,q.u)(),r=e.tool,n=t.config.displayToolControlBarTitle,o=i.getAdvancedToolControlBar();return o?W.createElement(o,{reverse:"reverse"===t.config.order,tool:r},W.createElement(q.r.Switch.Index,{type:r},W.createElement(q.r.Switch.Case,{value:"library"},W.createElement(wt,{displayTitle:n})),W.createElement(q.r.Switch.Case,{value:"filter"},W.createElement(it,{displayTitle:n})),W.createElement(q.r.Switch.Case,{value:"focus"},W.createElement(lt,{displayTitle:n})),W.createElement(q.r.Switch.Case,{value:"adjustment"},W.createElement(We,{displayTitle:n})),W.createElement(q.r.Switch.Case,{value:"overlay"},W.createElement(It,{displayTitle:n})),W.createElement(q.r.Switch.Case,{value:"sticker"},W.createElement(Bt,{displayTitle:n})),W.createElement(q.r.Switch.Case,{value:"text"},W.createElement(Qt,{displayTitle:n})),W.createElement(q.r.Switch.Case,{value:"textdesign"},W.createElement(ii,{displayTitle:n})),W.createElement(q.r.Switch.Case,{value:"frame"},W.createElement(gt,{displayTitle:n})),W.createElement(q.r.Switch.Case,{value:"brush"},W.createElement(Qe,{displayTitle:n})),W.createElement(q.r.Switch.Case,{value:"transform"},W.createElement(ci,{displayTitle:n})),W.createElement(q.r.Switch.Case,{value:"customTool"},W.createElement(Ke,{displayTitle:n})))):null})),hi=Y.Ay.div(H||(H=(0,G.A)(["\n  position: absolute;\n  height: 100%;\n  width: ","px;\n  top: 0;\n  background: ",";\n  z-index: ",";\n"])),(e=>e.theme.measurements.advancedUIToolbar.width+e.theme.measurements.advancedUIToolControlBar.width),(e=>e.theme.webcam.backdrop),(e=>e.theme.measurements.zIndex.disable)),di=class extends W.Component{static getDerivedStateFromError(e){return console.error(e),{hasError:!0}}render(){const{config:e,active:t,canvas:i,custom:r}=this.props,n=r.getWindowContainer();return e.isOrderDefault?W.createElement(q.r.Container,null,t.isWebcam?W.createElement(hi,{style:{left:0}}):null,W.createElement(q.N,null),W.createElement(Le,null),W.createElement(ui,null),W.createElement(q.B,null,W.createElement(q.H,null),n&&W.createElement(n,{tool:t.tool},W.createElement(q.Q,null,t.isWebcam?W.createElement(q.P,null):null,t.image&&i&&W.createElement(q.K,null))))):W.createElement(q.r.Container,null,t.isWebcam?W.createElement(hi,{style:{right:0}}):null,W.createElement(q.N,null),W.createElement(q.B,null,W.createElement(q.H,null),n&&W.createElement(n,{tool:t.tool},W.createElement(q.Q,null,t.isWebcam?W.createElement(q.P,null):null,t.image&&i&&W.createElement(q.K,null)))),W.createElement(ui,null),W.createElement(Le,null))}};di=(0,X.c)([(0,q.c)("config","active","canvas","custom"),q.a],di);var pi=class extends W.Component{constructor(e){super(e),this.ref=null,this.updatePosition=()=>{const{isReverse:e}=this.props,t={x:0,y:0};if(this.ref.current){const{top:i,height:r,left:n,right:o}=this.ref.current.getBoundingClientRect();t.y=i+r/4,t.x=e?window.innerWidth-o:n}this.setState({tooltipPosition:t})},this.mouseOver=e=>{this.updatePosition(),this.setState({hoverTool:e})},this.mouseOut=()=>{this.setState({hoverTool:null})},this.state={hoverTool:null,tooltipPosition:{x:0,y:0}},this.ref=W.createRef()}componentDidMount(){this.updatePosition()}componentDidUpdate(e){const{isReverse:t}=this.props;t!==e.isReverse&&this.updatePosition()}render(){const{tool:e,isActive:t,isReverse:i,isDisabled:r,icon:n,label:o,onClick:s,className:a,children:l}=this.props,{hoverTool:c,tooltipPosition:u}=this.state;return W.createElement(gi,{ref:this.ref,onMouseOver:()=>this.mouseOver(e),onMouseOut:()=>this.mouseOut(),onFocus:()=>this.mouseOver(e),onBlur:()=>this.mouseOut(),className:a},W.createElement(Pe.Toolbar.Item,{ariaLabel:o,isActive:t,isDisabled:r,onClick:()=>s(e)},n,l),W.createElement(Pe.Toolbar.Tooltip,{position:u,reverse:i,show:c===e},o))}},fi=pi,gi=Y.Ay.div(j||(j=(0,G.A)(["\n  position: relative;\n"]))),mi=class extends W.Component{constructor(){super(...arguments),this.componentWillUnmount=()=>{this.editor.cleanUpCanvasMemory()}}componentDidMount(){const{editor:e,storeProps:t}=this.props;this.editor=e,this.storeProps=t;const i=new q.M(this.editor.configStore.config.custom.components,{advancedUICategoryCard:Pe.Card,advancedUIItemCard:Pe.Card,advancedUIToolbarItem:fi,advancedUIToolbar:Pe.Toolbar.Index,advancedUIToolControlBar:Pe.Sidebar.Index}),r={getAdvancedCategoryCard:i.getAdvancedCategoryCard,getAdvancedItemCard:i.getAdvancedItemCard,getAdvancedToolbarItem:i.getAdvancedToolbarItem,getAdvancedToolbar:i.getAdvancedToolbar,getAdvancedToolControlBar:i.getAdvancedToolControlBar,getDialog:i.getDialog,getButton:i.getButton,getColorItem:i.getColorItem,getCheckbox:i.getCheckbox,getWindowContainer:i.getWindowContainer,getSlider:i.getSlider};this.storeProps.custom=r,this.forceUpdate()}render(){return this.storeProps?W.createElement(q.b,{...this.storeProps},W.createElement(Y.NP,{theme:{...this.editor.configStore.theme,measurements:this.editor.configStore.measurements}},W.createElement(di,null))):null}},yi=W.lazy((()=>i.e(412).then(i.bind(i,412)))),_i=e=>{let{editor:t}=e;const i=(0,W.useMemo)((()=>(e=>({filterTool:e.filterToolStore,focusTool:e.focusToolStore,adjustmentsTool:e.adjustmentsToolStore,overlayTool:e.overlayToolStore,frameTool:e.frameToolStore,brushTool:e.brushToolStore,transformTool:e.transformToolStore,scale:e.scale,sprite:e.spriteStore,stickerTool:e.spriteStore.stickerToolStore,textTool:e.spriteStore.textToolStore,textDesignTool:e.spriteStore.textDesignToolStore,library:e.libraryStore,modal:e.modalStore,snapping:e.snappingStore,config:e.configStore,active:e.activeStore,canvas:e.canvasStore,history:e.historyStore,editor:e}))(t)),[t]);return"basic"===t.configStore.config.layout?W.createElement(W.Suspense,{fallback:W.createElement("div",null)},W.createElement(yi,{editor:t,storeProps:i})):W.createElement(mi,{editor:t,storeProps:i})},vi=class extends X.La{constructor(e,t,i){super(),this.dispose=()=>{this.container&&(Q.unmountComponentAtNode(this.container),this.removeAllListeners("export"),this.removeAllListeners("historyUndo"),this.removeAllListeners("historyRedo"),this.removeAllListeners("historyChange"),this.removeAllListeners("editorReady"),this.removeAllListeners("errorImageLoading"),this.removeAllListeners("imageLoad"),this.removeAllListeners("toolEnter"),this.removeAllListeners("stickerUploadAdd"),this.removeAllListeners("errorWebGLContextLost"),this.removeAllListeners("cropDimensionsChange"),this.editor&&this.editor.dispose())},this.serialize=e=>this.editor.serialize(e),this.deserialize=e=>this.editor.deserialize(e),this.export=e=>this.editor.export(e),this.close=()=>this.editor.close(),this.setImage=e=>this.editor.setImage(e,!0),this.getImageDimensions=()=>this.editor.getImageDimensions(),this.getImageMimeType=()=>this.editor.getImageMimeType(),this.reset=()=>{this.editor.resetToolStates(),this.editor.resize()},this.container=t;const r={export:e=>{this.emit("export",e)},close:()=>{this.emit("close"),this.dispose()},historyUndo:()=>{this.emit("historyUndo")},historyRedo:()=>{this.emit("historyRedo")},historyChange:()=>{this.emit("historyChange")},stickerUploadAdd:e=>{this.emit("stickerUploadAdd",e)},cropDimensionsChange:e=>{this.emit("cropDimensionsChange",e)}};i&&Object.entries(i).forEach((e=>{let[t,i]=e;r[t]=i(this)})),this.editor=new q.G({...e},r)}hasChanges(){return this.editor.hasChanges()}},bi=class{constructor(){this.container=null}init(e){return new Promise(((t,i)=>{"undefined"!==typeof window?(this.container="string"===typeof e.container?document.querySelector(e.container):e.container,this.container?(this.editorApi=new vi(e,this.container,{editorReady:e=>()=>{setTimeout((()=>{e.emit("editorReady")}),0),t(e)},errorImageLoading:e=>i=>{setTimeout((()=>{e.emit("errorImageLoading",i)}),0),t(e)},errorWebGLContextLost:e=>i=>{setTimeout((()=>{e.emit("errorWebGLContextLost",i)}),0),t(e)},imageLoad:e=>()=>{setTimeout((()=>{e.emit("imageLoad")}),0),t(e)},toolEnter:e=>i=>{setTimeout((()=>{e.emit("toolEnter",i)}),0),t(e)}}),Q.render(W.createElement(xi,{editor:this.editorApi.editor}),this.container)):i(new Error("Provide a container"))):t()}))}},xi=e=>{let{editor:t}=e;return(0,W.useEffect)((()=>()=>{var e;(null==(e=null==t?void 0:t.configStore)?void 0:e.events)&&(t.configStore.events.removeAllListeners("export"),t.configStore.events.removeAllListeners("close"),t.configStore.events.removeAllListeners("historyUndo"),t.configStore.events.removeAllListeners("historyRedo"),t.configStore.events.removeAllListeners("historyChange"),t.configStore.events.removeAllListeners("editorReady"),t.configStore.events.removeAllListeners("errorImageLoading"),t.configStore.events.removeAllListeners("imageLoad"),t.configStore.events.removeAllListeners("toolEnter"),t.configStore.events.removeAllListeners("stickerUploadAdd"),t.configStore.events.removeAllListeners("errorWebGLContextLost"),t.configStore.events.removeAllListeners("cropDimensionsChange"))}),[]),W.createElement(_i,{editor:t})},wi=e=>(new bi).init(e);W.Component;(0,X.n)({isolateGlobalState:!0});var{Container:Si,Input:ki,ColorItem:Ci,ColorItemBase:Ti,ColorItemBackground:Ei,ColorItemTiledBackground:Di,ColorItemActiveOverlay:Ii,Dialog:Ri,DialogBase:Fi,DialogContainer:Ai,DialogBackdrop:Oi,DialogHeader:Mi,DialogBody:Pi,DialogFooter:zi,DialogSpinner:Bi}=q.r,{Search:Li,Label:Ui,Checkbox:Ni,CheckboxBase:Hi,CheckboxInput:ji,CheckboxCheckMark:Wi,Dropdown:Vi,Slider:Gi,SliderBase:qi,SliderContainer:Xi,SliderInput:Yi,SliderTrack:Qi,SliderLabel:Ki}=ki,Zi=(Pe.Toolbar.Index,Pe.Sidebar.Index,q.T.Toolbar.Index,q.T.Controlsbar,q.T.Itemsbar,(0,X.a)(((e,t)=>{function r(e){o.length||(n(),!0),o[o.length]=e}t.exports=r;var n,o=[],s=0;function a(){for(;s<o.length;){var e=s;if(s+=1,o[e].call(),s>1024){for(var t=0,i=o.length-s;t<i;t++)o[t]=o[t+s];o.length-=s,s=0}}o.length=0,s=0,!1}var l="undefined"!==typeof i.g?i.g:self,c=l.MutationObserver||l.WebKitMutationObserver;function u(e){return function(){var t=setTimeout(r,0),i=setInterval(r,50);function r(){clearTimeout(t),clearInterval(i),e()}}}n="function"===typeof c?function(e){var t=1,i=new c(e),r=document.createTextNode("");return i.observe(r,{characterData:!0}),function(){t=-t,r.data=t}}(a):u(a),r.requestFlush=n,r.makeRequestCallFromTimer=u}))),Ji=(0,X.a)(((e,t)=>{var i=Zi();function r(){}var n=null,o={};function s(e){if("object"!==typeof this)throw new TypeError("Promises must be constructed via new");if("function"!==typeof e)throw new TypeError("Promise constructor's argument is not a function");this._U=0,this._V=0,this._W=null,this._X=null,e!==r&&d(e,this)}function a(e,t){for(;3===e._V;)e=e._W;if(s._Y&&s._Y(e),0===e._V)return 0===e._U?(e._U=1,void(e._X=t)):1===e._U?(e._U=2,void(e._X=[e._X,t])):void e._X.push(t);!function(e,t){i((function(){var i=1===e._V?t.onFulfilled:t.onRejected;if(null!==i){var r=function(e,t){try{return e(t)}catch(i){return n=i,o}}(i,e._W);r===o?c(t.promise,n):l(t.promise,r)}else 1===e._V?l(t.promise,e._W):c(t.promise,e._W)}))}(e,t)}function l(e,t){if(t===e)return c(e,new TypeError("A promise cannot be resolved with itself."));if(t&&("object"===typeof t||"function"===typeof t)){var i=function(e){try{return e.then}catch(t){return n=t,o}}(t);if(i===o)return c(e,n);if(i===e.then&&t instanceof s)return e._V=3,e._W=t,void u(e);if("function"===typeof i)return void d(i.bind(t),e)}e._V=1,e._W=t,u(e)}function c(e,t){e._V=2,e._W=t,s._Z&&s._Z(e,t),u(e)}function u(e){if(1===e._U&&(a(e,e._X),e._X=null),2===e._U){for(var t=0;t<e._X.length;t++)a(e,e._X[t]);e._X=null}}function h(e,t,i){this.onFulfilled="function"===typeof e?e:null,this.onRejected="function"===typeof t?t:null,this.promise=i}function d(e,t){var i=!1,r=function(e,t,i){try{e(t,i)}catch(r){return n=r,o}}(e,(function(e){i||(i=!0,l(t,e))}),(function(e){i||(i=!0,c(t,e))}));i||r!==o||(i=!0,c(t,n))}t.exports=s,s._Y=null,s._Z=null,s._0=r,s.prototype.then=function(e,t){if(this.constructor!==s)return function(e,t,i){return new e.constructor((function(n,o){var l=new s(r);l.then(n,o),a(e,new h(t,i,l))}))}(this,e,t);var i=new s(r);return a(this,new h(e,t,i)),i}})),$i=(0,X.a)((e=>{var t=Ji(),i=[ReferenceError,TypeError,RangeError],r=!1;function n(){r=!1,t._Y=null,t._Z=null}function o(e,t){return t.some((function(t){return e instanceof t}))}e.disable=n,e.enable=function(e){e=e||{},r&&n();r=!0;var s=0,a=0,l={};function c(t){(e.allRejections||o(l[t].error,e.whitelist||i))&&(l[t].displayId=a++,e.onUnhandled?(l[t].logged=!0,e.onUnhandled(l[t].displayId,l[t].error)):(l[t].logged=!0,function(e,t){console.warn("Possible Unhandled Promise Rejection (id: "+e+"):");var i=(t&&(t.stack||t))+"";i.split("\n").forEach((function(e){console.warn("  "+e)}))}(l[t].displayId,l[t].error)))}t._Y=function(t){2===t._V&&l[t._1]&&(l[t._1].logged?function(t){l[t].logged&&(e.onHandled?e.onHandled(l[t].displayId,l[t].error):l[t].onUnhandled||(console.warn("Promise Rejection Handled (id: "+l[t].displayId+"):"),console.warn('  This means you can ignore any previous messages of the form "Possible Unhandled Promise Rejection" with id '+l[t].displayId+".")))}(t._1):clearTimeout(l[t._1].timeout),delete l[t._1])},t._Z=function(e,t){0===e._U&&(e._1=s++,l[e._1]={displayId:null,error:t,timeout:setTimeout(c.bind(null,e._1),o(t,i)?100:2e3),logged:!1})}}})),er=(0,X.a)(((e,t)=>{var i=Ji();t.exports=i;var r=c(!0),n=c(!1),o=c(null),s=c(void 0),a=c(0),l=c("");function c(e){var t=new i(i._0);return t._V=1,t._W=e,t}i.resolve=function(e){if(e instanceof i)return e;if(null===e)return o;if(void 0===e)return s;if(!0===e)return r;if(!1===e)return n;if(0===e)return a;if(""===e)return l;if("object"===typeof e||"function"===typeof e)try{var t=e.then;if("function"===typeof t)return new i(t.bind(e))}catch(u){return new i((function(e,t){t(u)}))}return c(e)};var u=function(e){return"function"===typeof Array.from?(u=Array.from,Array.from(e)):(u=function(e){return Array.prototype.slice.call(e)},Array.prototype.slice.call(e))};i.all=function(e){var t=u(e);return new i((function(e,r){if(0===t.length)return e([]);var n=t.length;function o(s,a){if(a&&("object"===typeof a||"function"===typeof a)){if(a instanceof i&&a.then===i.prototype.then){for(;3===a._V;)a=a._W;return 1===a._V?o(s,a._W):(2===a._V&&r(a._W),void a.then((function(e){o(s,e)}),r))}var l=a.then;if("function"===typeof l)return void new i(l.bind(a)).then((function(e){o(s,e)}),r)}t[s]=a,0===--n&&e(t)}for(var s=0;s<t.length;s++)o(s,t[s])}))},i.reject=function(e){return new i((function(t,i){i(e)}))},i.race=function(e){return new i((function(t,r){u(e).forEach((function(e){i.resolve(e).then(t,r)}))}))},i.prototype.catch=function(e){return this.then(null,e)}})),tr=(0,X.a)(((e,t)=>{!function(r,n){"object"===typeof e&&"undefined"!==typeof t?n(e):"function"===typeof define&&i.amdO?define(["exports"],n):n(r.WHATWGFetch={})}(e,(function(e){var t="undefined"!==typeof globalThis&&globalThis||"undefined"!==typeof self&&self||"undefined"!==typeof t&&t,i="URLSearchParams"in t,r="Symbol"in t&&"iterator"in Symbol,n="FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(e){return!1}}(),o="FormData"in t,s="ArrayBuffer"in t;if(s)var a=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],l=ArrayBuffer.isView||function(e){return e&&a.indexOf(Object.prototype.toString.call(e))>-1};function c(e){if("string"!==typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(e)||""===e)throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function u(e){return"string"!==typeof e&&(e=String(e)),e}function h(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return r&&(t[Symbol.iterator]=function(){return t}),t}function d(e){this.map={},e instanceof d?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function p(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function f(e){return new Promise((function(t,i){e.onload=function(){t(e.result)},e.onerror=function(){i(e.error)}}))}function g(e){var t=new FileReader,i=f(t);return t.readAsArrayBuffer(e),i}function m(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function y(){return this.bodyUsed=!1,this._initBody=function(e){this.bodyUsed=this.bodyUsed,this._bodyInit=e,e?"string"===typeof e?this._bodyText=e:n&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:o&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:i&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():s&&n&&function(e){return e&&DataView.prototype.isPrototypeOf(e)}(e)?(this._bodyArrayBuffer=m(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):s&&(ArrayBuffer.prototype.isPrototypeOf(e)||l(e))?this._bodyArrayBuffer=m(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"===typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):i&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},n&&(this.blob=function(){var e=p(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){if(this._bodyArrayBuffer){var e=p(this);return e||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}return this.blob().then(g)}),this.text=function(){var e=p(this);if(e)return e;if(this._bodyBlob)return function(e){var t=new FileReader,i=f(t);return t.readAsText(e),i}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),i=new Array(t.length),r=0;r<t.length;r++)i[r]=String.fromCharCode(t[r]);return i.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},o&&(this.formData=function(){return this.text().then(b)}),this.json=function(){return this.text().then(JSON.parse)},this}d.prototype.append=function(e,t){e=c(e),t=u(t);var i=this.map[e];this.map[e]=i?i+", "+t:t},d.prototype.delete=function(e){delete this.map[c(e)]},d.prototype.get=function(e){return e=c(e),this.has(e)?this.map[e]:null},d.prototype.has=function(e){return this.map.hasOwnProperty(c(e))},d.prototype.set=function(e,t){this.map[c(e)]=u(t)},d.prototype.forEach=function(e,t){for(var i in this.map)this.map.hasOwnProperty(i)&&e.call(t,this.map[i],i,this)},d.prototype.keys=function(){var e=[];return this.forEach((function(t,i){e.push(i)})),h(e)},d.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),h(e)},d.prototype.entries=function(){var e=[];return this.forEach((function(t,i){e.push([i,t])})),h(e)},r&&(d.prototype[Symbol.iterator]=d.prototype.entries);var _=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function v(e,t){if(!(this instanceof v))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var i=(t=t||{}).body;if(e instanceof v){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new d(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,i||null==e._bodyInit||(i=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new d(t.headers)),this.method=function(e){var t=e.toUpperCase();return _.indexOf(t)>-1?t:e}(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(i),("GET"===this.method||"HEAD"===this.method)&&("no-store"===t.cache||"no-cache"===t.cache)){var r=/([?&])_=[^&]*/;if(r.test(this.url))this.url=this.url.replace(r,"$1_="+(new Date).getTime());else{this.url+=(/\?/.test(this.url)?"&":"?")+"_="+(new Date).getTime()}}}function b(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var i=e.split("="),r=i.shift().replace(/\+/g," "),n=i.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(n))}})),t}function x(e){var t=new d;return e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(e){var i=e.split(":"),r=i.shift().trim();if(r){var n=i.join(":").trim();t.append(r,n)}})),t}function w(e,t){if(!(this instanceof w))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"",this.headers=new d(t.headers),this.url=t.url||"",this._initBody(e)}v.prototype.clone=function(){return new v(this,{body:this._bodyInit})},y.call(v.prototype),y.call(w.prototype),w.prototype.clone=function(){return new w(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new d(this.headers),url:this.url})},w.error=function(){var e=new w(null,{status:0,statusText:""});return e.type="error",e};var S=[301,302,303,307,308];w.redirect=function(e,t){if(-1===S.indexOf(t))throw new RangeError("Invalid status code");return new w(null,{status:t,headers:{location:e}})},e.DOMException=t.DOMException;try{new e.DOMException}catch(C){e.DOMException=function(e,t){this.message=e,this.name=t;var i=Error(e);this.stack=i.stack},e.DOMException.prototype=Object.create(Error.prototype),e.DOMException.prototype.constructor=e.DOMException}function k(i,r){return new Promise((function(o,a){var l=new v(i,r);if(l.signal&&l.signal.aborted)return a(new e.DOMException("Aborted","AbortError"));var c=new XMLHttpRequest;function h(){c.abort()}c.onload=function(){var e={status:c.status,statusText:c.statusText,headers:x(c.getAllResponseHeaders()||"")};e.url="responseURL"in c?c.responseURL:e.headers.get("X-Request-URL");var t="response"in c?c.response:c.responseText;setTimeout((function(){o(new w(t,e))}),0)},c.onerror=function(){setTimeout((function(){a(new TypeError("Network request failed"))}),0)},c.ontimeout=function(){setTimeout((function(){a(new TypeError("Network request failed"))}),0)},c.onabort=function(){setTimeout((function(){a(new e.DOMException("Aborted","AbortError"))}),0)},c.open(l.method,function(e){try{return""===e&&t.location.href?t.location.href:e}catch(i){return e}}(l.url),!0),"include"===l.credentials?c.withCredentials=!0:"omit"===l.credentials&&(c.withCredentials=!1),"responseType"in c&&(n?c.responseType="blob":s&&l.headers.get("Content-Type")&&-1!==l.headers.get("Content-Type").indexOf("application/octet-stream")&&(c.responseType="arraybuffer")),!r||"object"!==typeof r.headers||r.headers instanceof d?l.headers.forEach((function(e,t){c.setRequestHeader(t,e)})):Object.getOwnPropertyNames(r.headers).forEach((function(e){c.setRequestHeader(e,u(r.headers[e]))})),l.signal&&(l.signal.addEventListener("abort",h),c.onreadystatechange=function(){4===c.readyState&&l.signal.removeEventListener("abort",h)}),c.send("undefined"===typeof l._bodyInit?null:l._bodyInit)}))}k.polyfill=!0,t.fetch||(t.fetch=k,t.Headers=d,t.Request=v,t.Response=w),e.Headers=d,e.Request=v,e.Response=w,e.fetch=k,Object.defineProperty(e,"__esModule",{value:!0})}))})),ir=(0,X.a)(((e,t)=>{var i=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable;t.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},i=0;i<10;i++)t["_"+String.fromCharCode(i)]=i;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(n){return!1}}()?Object.assign:function(e,t){for(var o,s,a=function(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),l=1;l<arguments.length;l++){for(var c in o=Object(arguments[l]))r.call(o,c)&&(a[c]=o[c]);if(i){s=i(o);for(var u=0;u<s.length;u++)n.call(o,s[u])&&(a[s[u]]=o[s[u]])}}return a}})),rr=(0,X.a)(((e,t)=>{var r=function(e){return e&&e.Math==Math&&e};t.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof i.g&&i.g)||Function("return this")()})),nr=(0,X.a)(((e,t)=>{t.exports=function(e){try{return!!e()}catch(t){return!0}}})),or=(0,X.a)(((e,t)=>{var i=nr();t.exports=!i((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))})),sr=(0,X.a)((e=>{var t={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,r=i&&!t.call({1:2},1);e.f=r?function(e){var t=i(this,e);return!!t&&t.enumerable}:t})),ar=(0,X.a)(((e,t)=>{t.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}})),lr=(0,X.a)(((e,t)=>{var i={}.toString;t.exports=function(e){return i.call(e).slice(8,-1)}})),cr=(0,X.a)(((e,t)=>{var i=nr(),r=lr(),n="".split;t.exports=i((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==r(e)?n.call(e,""):Object(e)}:Object})),ur=(0,X.a)(((e,t)=>{t.exports=function(e){if(void 0==e)throw TypeError("Can't call method on "+e);return e}})),hr=(0,X.a)(((e,t)=>{var i=cr(),r=ur();t.exports=function(e){return i(r(e))}})),dr=(0,X.a)(((e,t)=>{t.exports=function(e){return"object"===typeof e?null!==e:"function"===typeof e}})),pr=(0,X.a)(((e,t)=>{var i=dr();t.exports=function(e,t){if(!i(e))return e;var r,n;if(t&&"function"==typeof(r=e.toString)&&!i(n=r.call(e)))return n;if("function"==typeof(r=e.valueOf)&&!i(n=r.call(e)))return n;if(!t&&"function"==typeof(r=e.toString)&&!i(n=r.call(e)))return n;throw TypeError("Can't convert object to primitive value")}})),fr=(0,X.a)(((e,t)=>{var i={}.hasOwnProperty;t.exports=function(e,t){return i.call(e,t)}})),gr=(0,X.a)(((e,t)=>{var i=rr(),r=dr(),n=i.document,o=r(n)&&r(n.createElement);t.exports=function(e){return o?n.createElement(e):{}}})),mr=(0,X.a)(((e,t)=>{var i=or(),r=nr(),n=gr();t.exports=!i&&!r((function(){return 7!=Object.defineProperty(n("div"),"a",{get:function(){return 7}}).a}))})),yr=(0,X.a)((e=>{var t=or(),i=sr(),r=ar(),n=hr(),o=pr(),s=fr(),a=mr(),l=Object.getOwnPropertyDescriptor;e.f=t?l:function(e,t){if(e=n(e),t=o(t,!0),a)try{return l(e,t)}catch(c){}if(s(e,t))return r(!i.f.call(e,t),e[t])}})),_r=(0,X.a)(((e,t)=>{var i=dr();t.exports=function(e){if(!i(e))throw TypeError(String(e)+" is not an object");return e}})),vr=(0,X.a)((e=>{var t=or(),i=mr(),r=_r(),n=pr(),o=Object.defineProperty;e.f=t?o:function(e,t,s){if(r(e),t=n(t,!0),r(s),i)try{return o(e,t,s)}catch(a){}if("get"in s||"set"in s)throw TypeError("Accessors not supported");return"value"in s&&(e[t]=s.value),e}})),br=(0,X.a)(((e,t)=>{var i=or(),r=vr(),n=ar();t.exports=i?function(e,t,i){return r.f(e,t,n(1,i))}:function(e,t,i){return e[t]=i,e}})),xr=(0,X.a)(((e,t)=>{var i=rr(),r=br();t.exports=function(e,t){try{r(i,e,t)}catch(n){i[e]=t}return t}})),wr=(0,X.a)(((e,t)=>{var i=rr(),r=xr(),n="__core-js_shared__",o=i[n]||r(n,{});t.exports=o})),Sr=(0,X.a)(((e,t)=>{var i=wr(),r=Function.toString;"function"!=typeof i.inspectSource&&(i.inspectSource=function(e){return r.call(e)}),t.exports=i.inspectSource})),kr=(0,X.a)(((e,t)=>{var i=rr(),r=Sr(),n=i.WeakMap;t.exports="function"===typeof n&&/native code/.test(r(n))})),Cr=(0,X.a)(((e,t)=>{t.exports=!1})),Tr=(0,X.a)(((e,t)=>{var i=Cr(),r=wr();(t.exports=function(e,t){return r[e]||(r[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.6.5",mode:i?"pure":"global",copyright:"\xa9 2020 Denis Pushkarev (zloirock.ru)"})})),Er=(0,X.a)(((e,t)=>{var i=0,r=Math.random();t.exports=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++i+r).toString(36)}})),Dr=(0,X.a)(((e,t)=>{var i=Tr(),r=Er(),n=i("keys");t.exports=function(e){return n[e]||(n[e]=r(e))}})),Ir=(0,X.a)(((e,t)=>{t.exports={}})),Rr=(0,X.a)(((e,t)=>{var i,r,n,o,s,a,l,c,u=kr(),h=rr(),d=dr(),p=br(),f=fr(),g=Dr(),m=Ir(),y=h.WeakMap;u?(o=new y,s=o.get,a=o.has,l=o.set,i=function(e,t){return l.call(o,e,t),t},r=function(e){return s.call(o,e)||{}},n=function(e){return a.call(o,e)}):(m[c=g("state")]=!0,i=function(e,t){return p(e,c,t),t},r=function(e){return f(e,c)?e[c]:{}},n=function(e){return f(e,c)}),t.exports={set:i,get:r,has:n,enforce:function(e){return n(e)?r(e):i(e,{})},getterFor:function(e){return function(t){var i;if(!d(t)||(i=r(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return i}}}})),Fr=(0,X.a)(((e,t)=>{var i=rr(),r=br(),n=fr(),o=xr(),s=Sr(),a=Rr(),l=a.get,c=a.enforce,u=String(String).split("String");(t.exports=function(e,t,s,a){var l=!!a&&!!a.unsafe,h=!!a&&!!a.enumerable,d=!!a&&!!a.noTargetGet;"function"==typeof s&&("string"!=typeof t||n(s,"name")||r(s,"name",t),c(s).source=u.join("string"==typeof t?t:"")),e!==i?(l?!d&&e[t]&&(h=!0):delete e[t],h?e[t]=s:r(e,t,s)):h?e[t]=s:o(t,s)})(Function.prototype,"toString",(function(){return"function"==typeof this&&l(this).source||s(this)}))})),Ar=(0,X.a)(((e,t)=>{var i=rr();t.exports=i})),Or=(0,X.a)(((e,t)=>{var i=Ar(),r=rr(),n=function(e){return"function"==typeof e?e:void 0};t.exports=function(e,t){return arguments.length<2?n(i[e])||n(r[e]):i[e]&&i[e][t]||r[e]&&r[e][t]}})),Mr=(0,X.a)(((e,t)=>{var i=Math.ceil,r=Math.floor;t.exports=function(e){return isNaN(e=+e)?0:(e>0?r:i)(e)}})),Pr=(0,X.a)(((e,t)=>{var i=Mr(),r=Math.min;t.exports=function(e){return e>0?r(i(e),9007199254740991):0}})),zr=(0,X.a)(((e,t)=>{var i=Mr(),r=Math.max,n=Math.min;t.exports=function(e,t){var o=i(e);return o<0?r(o+t,0):n(o,t)}})),Br=(0,X.a)(((e,t)=>{var i=hr(),r=Pr(),n=zr(),o=function(e){return function(t,o,s){var a,l=i(t),c=r(l.length),u=n(s,c);if(e&&o!=o){for(;c>u;)if((a=l[u++])!=a)return!0}else for(;c>u;u++)if((e||u in l)&&l[u]===o)return e||u||0;return!e&&-1}};t.exports={includes:o(!0),indexOf:o(!1)}})),Lr=(0,X.a)(((e,t)=>{var i=fr(),r=hr(),n=Br().indexOf,o=Ir();t.exports=function(e,t){var s,a=r(e),l=0,c=[];for(s in a)!i(o,s)&&i(a,s)&&c.push(s);for(;t.length>l;)i(a,s=t[l++])&&(~n(c,s)||c.push(s));return c}})),Ur=(0,X.a)(((e,t)=>{t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]})),Nr=(0,X.a)((e=>{var t=Lr(),i=Ur().concat("length","prototype");e.f=Object.getOwnPropertyNames||function(e){return t(e,i)}})),Hr=(0,X.a)((e=>{e.f=Object.getOwnPropertySymbols})),jr=(0,X.a)(((e,t)=>{var i=Or(),r=Nr(),n=Hr(),o=_r();t.exports=i("Reflect","ownKeys")||function(e){var t=r.f(o(e)),i=n.f;return i?t.concat(i(e)):t}})),Wr=(0,X.a)(((e,t)=>{var i=fr(),r=jr(),n=yr(),o=vr();t.exports=function(e,t){for(var s=r(t),a=o.f,l=n.f,c=0;c<s.length;c++){var u=s[c];i(e,u)||a(e,u,l(t,u))}}})),Vr=(0,X.a)(((e,t)=>{var i=nr(),r=/#|\.prototype\./,n=function(e,t){var r=s[o(e)];return r==l||r!=a&&("function"==typeof t?i(t):!!t)},o=n.normalize=function(e){return String(e).replace(r,".").toLowerCase()},s=n.data={},a=n.NATIVE="N",l=n.POLYFILL="P";t.exports=n})),Gr=(0,X.a)(((e,t)=>{var i=rr(),r=yr().f,n=br(),o=Fr(),s=xr(),a=Wr(),l=Vr();t.exports=function(e,t){var c,u,h,d,p,f=e.target,g=e.global,m=e.stat;if(c=g?i:m?i[f]||s(f,{}):(i[f]||{}).prototype)for(u in t){if(d=t[u],h=e.noTargetGet?(p=r(c,u))&&p.value:c[u],!l(g?u:f+(m?".":"#")+u,e.forced)&&void 0!==h){if(typeof d===typeof h)continue;a(d,h)}(e.sham||h&&h.sham)&&n(d,"sham",!0),o(c,u,d,e)}}})),qr=(0,X.a)(((e,t)=>{var i=lr();t.exports=Array.isArray||function(e){return"Array"==i(e)}})),Xr=(0,X.a)(((e,t)=>{var i=ur();t.exports=function(e){return Object(i(e))}})),Yr=(0,X.a)(((e,t)=>{var i=pr(),r=vr(),n=ar();t.exports=function(e,t,o){var s=i(t);s in e?r.f(e,s,n(0,o)):e[s]=o}})),Qr=(0,X.a)(((e,t)=>{var i=nr();t.exports=!!Object.getOwnPropertySymbols&&!i((function(){return!String(Symbol())}))})),Kr=(0,X.a)(((e,t)=>{var i=Qr();t.exports=i&&!Symbol.sham&&"symbol"==typeof Symbol.iterator})),Zr=(0,X.a)(((e,t)=>{var i=rr(),r=Tr(),n=fr(),o=Er(),s=Qr(),a=Kr(),l=r("wks"),c=i.Symbol,u=a?c:c&&c.withoutSetter||o;t.exports=function(e){return n(l,e)||(s&&n(c,e)?l[e]=c[e]:l[e]=u("Symbol."+e)),l[e]}})),Jr=(0,X.a)(((e,t)=>{var i=dr(),r=qr(),n=Zr()("species");t.exports=function(e,t){var o;return r(e)&&("function"!=typeof(o=e.constructor)||o!==Array&&!r(o.prototype)?i(o)&&null===(o=o[n])&&(o=void 0):o=void 0),new(void 0===o?Array:o)(0===t?0:t)}})),$r=(0,X.a)(((e,t)=>{var i=Or();t.exports=i("navigator","userAgent")||""})),en=(0,X.a)(((e,t)=>{var i,r,n=rr(),o=$r(),s=n.process,a=s&&s.versions,l=a&&a.v8;l?r=(i=l.split("."))[0]+i[1]:o&&(!(i=o.match(/Edge\/(\d+)/))||i[1]>=74)&&(i=o.match(/Chrome\/(\d+)/))&&(r=i[1]),t.exports=r&&+r})),tn=(0,X.a)(((e,t)=>{var i=nr(),r=Zr(),n=en(),o=r("species");t.exports=function(e){return n>=51||!i((function(){var t=[];return(t.constructor={})[o]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}})),rn=(0,X.a)((()=>{var e=Gr(),t=nr(),i=qr(),r=dr(),n=Xr(),o=Pr(),s=Yr(),a=Jr(),l=tn(),c=Zr(),u=en(),h=c("isConcatSpreadable"),d=9007199254740991,p="Maximum allowed index exceeded",f=u>=51||!t((function(){var e=[];return e[h]=!1,e.concat()[0]!==e})),g=l("concat"),m=function(e){if(!r(e))return!1;var t=e[h];return void 0!==t?!!t:i(e)};e({target:"Array",proto:!0,forced:!f||!g},{concat:function(e){var t,i,r,l,c,u=n(this),h=a(u,0),f=0;for(t=-1,r=arguments.length;t<r;t++)if(m(c=-1===t?u:arguments[t])){if(f+(l=o(c.length))>d)throw TypeError(p);for(i=0;i<l;i++,f++)i in c&&s(h,f,c[i])}else{if(f>=d)throw TypeError(p);s(h,f++,c)}return h.length=f,h}})})),nn=(0,X.a)(((e,t)=>{var i={};i[Zr()("toStringTag")]="z",t.exports="[object z]"===String(i)})),on=(0,X.a)(((e,t)=>{var i=nn(),r=lr(),n=Zr()("toStringTag"),o="Arguments"==r(function(){return arguments}());t.exports=i?r:function(e){var t,i,s;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(i=function(e,t){try{return e[t]}catch(i){}}(t=Object(e),n))?i:o?r(t):"Object"==(s=r(t))&&"function"==typeof t.callee?"Arguments":s}})),sn=(0,X.a)(((e,t)=>{var i=nn(),r=on();t.exports=i?{}.toString:function(){return"[object "+r(this)+"]"}})),an=(0,X.a)((()=>{var e=nn(),t=Fr(),i=sn();e||t(Object.prototype,"toString",i,{unsafe:!0})})),ln=(0,X.a)(((e,t)=>{var i=Lr(),r=Ur();t.exports=Object.keys||function(e){return i(e,r)}})),cn=(0,X.a)(((e,t)=>{var i=or(),r=vr(),n=_r(),o=ln();t.exports=i?Object.defineProperties:function(e,t){n(e);for(var i,s=o(t),a=s.length,l=0;a>l;)r.f(e,i=s[l++],t[i]);return e}})),un=(0,X.a)(((e,t)=>{var i=Or();t.exports=i("document","documentElement")})),hn=(0,X.a)(((e,t)=>{var i,r=_r(),n=cn(),o=Ur(),s=Ir(),a=un(),l=gr(),c=Dr(),u="prototype",h="script",d=c("IE_PROTO"),p=function(){},f=function(e){return"<"+h+">"+e+"</"+h+">"},g=function(){try{i=document.domain&&new ActiveXObject("htmlfile")}catch(t){}g=i?function(e){e.write(f("")),e.close();var t=e.parentWindow.Object;return e=null,t}(i):function(){var e,t=l("iframe"),i="java"+h+":";return t.style.display="none",a.appendChild(t),t.src=String(i),(e=t.contentWindow.document).open(),e.write(f("document.F=Object")),e.close(),e.F}();for(var e=o.length;e--;)delete g[u][o[e]];return g()};s[d]=!0,t.exports=Object.create||function(e,t){var i;return null!==e?(p[u]=r(e),i=new p,p[u]=null,i[d]=e):i=g(),void 0===t?i:n(i,t)}})),dn=(0,X.a)(((e,t)=>{var i=hr(),r=Nr().f,n={}.toString,o="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(e){return o&&"[object Window]"==n.call(e)?function(t){try{return r(t)}catch(e){return o.slice()}}(e):r(i(e))}})),pn=(0,X.a)((e=>{var t=Zr();e.f=t})),fn=(0,X.a)(((e,t)=>{var i=Ar(),r=fr(),n=pn(),o=vr().f;t.exports=function(e){var t=i.Symbol||(i.Symbol={});r(t,e)||o(t,e,{value:n.f(e)})}})),gn=(0,X.a)(((e,t)=>{var i=vr().f,r=fr(),n=Zr()("toStringTag");t.exports=function(e,t,o){e&&!r(e=o?e:e.prototype,n)&&i(e,n,{configurable:!0,value:t})}})),mn=(0,X.a)(((e,t)=>{t.exports=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e}})),yn=(0,X.a)(((e,t)=>{var i=mn();t.exports=function(e,t,r){if(i(e),void 0===t)return e;switch(r){case 0:return function(){return e.call(t)};case 1:return function(i){return e.call(t,i)};case 2:return function(i,r){return e.call(t,i,r)};case 3:return function(i,r,n){return e.call(t,i,r,n)}}return function(){return e.apply(t,arguments)}}})),_n=(0,X.a)(((e,t)=>{var i=yn(),r=cr(),n=Xr(),o=Pr(),s=Jr(),a=[].push,l=function(e){var t=1==e,l=2==e,c=3==e,u=4==e,h=6==e,d=5==e||h;return function(p,f,g,m){for(var y,_,v=n(p),b=r(v),x=i(f,g,3),w=o(b.length),S=0,k=m||s,C=t?k(p,w):l?k(p,0):void 0;w>S;S++)if((d||S in b)&&(_=x(y=b[S],S,v),e))if(t)C[S]=_;else if(_)switch(e){case 3:return!0;case 5:return y;case 6:return S;case 2:a.call(C,y)}else if(u)return!1;return h?-1:c||u?u:C}};t.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6)}})),vn=(0,X.a)((()=>{var e=Gr(),t=rr(),i=Or(),r=Cr(),n=or(),o=Qr(),s=Kr(),a=nr(),l=fr(),c=qr(),u=dr(),h=_r(),d=Xr(),p=hr(),f=pr(),g=ar(),m=hn(),y=ln(),_=Nr(),v=dn(),b=Hr(),x=yr(),w=vr(),S=sr(),k=br(),C=Fr(),T=Tr(),E=Dr(),D=Ir(),I=Er(),R=Zr(),F=pn(),A=fn(),O=gn(),M=Rr(),P=_n().forEach,z=E("hidden"),B="Symbol",L="prototype",U=R("toPrimitive"),N=M.set,H=M.getterFor(B),j=Object[L],W=t.Symbol,V=i("JSON","stringify"),G=x.f,q=w.f,X=v.f,Y=S.f,Q=T("symbols"),K=T("op-symbols"),Z=T("string-to-symbol-registry"),J=T("symbol-to-string-registry"),$=T("wks"),ee=t.QObject,te=!ee||!ee[L]||!ee[L].findChild,ie=n&&a((function(){return 7!=m(q({},"a",{get:function(){return q(this,"a",{value:7}).a}})).a}))?function(e,t,i){var r=G(j,t);r&&delete j[t],q(e,t,i),r&&e!==j&&q(j,t,r)}:q,re=function(e,t){var i=Q[e]=m(W[L]);return N(i,{type:B,tag:e,description:t}),n||(i.description=t),i},ne=s?function(e){return"symbol"==typeof e}:function(e){return Object(e)instanceof W},oe=function(e,t,i){e===j&&oe(K,t,i),h(e);var r=f(t,!0);return h(i),l(Q,r)?(i.enumerable?(l(e,z)&&e[z][r]&&(e[z][r]=!1),i=m(i,{enumerable:g(0,!1)})):(l(e,z)||q(e,z,g(1,{})),e[z][r]=!0),ie(e,r,i)):q(e,r,i)},se=function(e,t){h(e);var i=p(t),r=y(i).concat(ue(i));return P(r,(function(t){n&&!ae.call(i,t)||oe(e,t,i[t])})),e},ae=function(e){var t=f(e,!0),i=Y.call(this,t);return!(this===j&&l(Q,t)&&!l(K,t))&&(!(i||!l(this,t)||!l(Q,t)||l(this,z)&&this[z][t])||i)},le=function(e,t){var i=p(e),r=f(t,!0);if(i!==j||!l(Q,r)||l(K,r)){var n=G(i,r);return!n||!l(Q,r)||l(i,z)&&i[z][r]||(n.enumerable=!0),n}},ce=function(e){var t=X(p(e)),i=[];return P(t,(function(e){l(Q,e)||l(D,e)||i.push(e)})),i},ue=function(e){var t=e===j,i=X(t?K:p(e)),r=[];return P(i,(function(e){!l(Q,e)||t&&!l(j,e)||r.push(Q[e])})),r};o||(C((W=function(){if(this instanceof W)throw TypeError("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,t=I(e),i=function(e){this===j&&i.call(K,e),l(this,z)&&l(this[z],t)&&(this[z][t]=!1),ie(this,t,g(1,e))};return n&&te&&ie(j,t,{configurable:!0,set:i}),re(t,e)})[L],"toString",(function(){return H(this).tag})),C(W,"withoutSetter",(function(e){return re(I(e),e)})),S.f=ae,w.f=oe,x.f=le,_.f=v.f=ce,b.f=ue,F.f=function(e){return re(R(e),e)},n&&(q(W[L],"description",{configurable:!0,get:function(){return H(this).description}}),r||C(j,"propertyIsEnumerable",ae,{unsafe:!0}))),e({global:!0,wrap:!0,forced:!o,sham:!o},{Symbol:W}),P(y($),(function(e){A(e)})),e({target:B,stat:!0,forced:!o},{for:function(e){var t=String(e);if(l(Z,t))return Z[t];var i=W(t);return Z[t]=i,J[i]=t,i},keyFor:function(e){if(!ne(e))throw TypeError(e+" is not a symbol");if(l(J,e))return J[e]},useSetter:function(){te=!0},useSimple:function(){te=!1}}),e({target:"Object",stat:!0,forced:!o,sham:!n},{create:function(e,t){return void 0===t?m(e):se(m(e),t)},defineProperty:oe,defineProperties:se,getOwnPropertyDescriptor:le}),e({target:"Object",stat:!0,forced:!o},{getOwnPropertyNames:ce,getOwnPropertySymbols:ue}),e({target:"Object",stat:!0,forced:a((function(){b.f(1)}))},{getOwnPropertySymbols:function(e){return b.f(d(e))}}),V&&e({target:"JSON",stat:!0,forced:!o||a((function(){var e=W();return"[null]"!=V([e])||"{}"!=V({a:e})||"{}"!=V(Object(e))}))},{stringify:function(e,t,i){for(var r,n=[e],o=1;arguments.length>o;)n.push(arguments[o++]);if(r=t,(u(t)||void 0!==e)&&!ne(e))return c(t)||(t=function(e,t){if("function"==typeof r&&(t=r.call(this,e,t)),!ne(t))return t}),n[1]=t,V.apply(null,n)}}),W[L][U]||k(W[L],U,W[L].valueOf),O(W,B),D[z]=!0})),bn=(0,X.a)((()=>{fn()("asyncIterator")})),xn=(0,X.a)((()=>{var e,t,i,r,n,o,s=Gr(),a=or(),l=rr(),c=fr(),u=dr(),h=vr().f,d=Wr(),p=l.Symbol;!a||"function"!=typeof p||"description"in p.prototype&&void 0===p().description||(e={},d(t=function(){var i=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),r=this instanceof t?new p(i):void 0===i?p():p(i);return""===i&&(e[r]=!0),r},p),(i=t.prototype=p.prototype).constructor=t,r=i.toString,n="Symbol(test)"==String(p("test")),o=/^Symbol\((.*)\)[^)]+$/,h(i,"description",{configurable:!0,get:function(){var t=u(this)?this.valueOf():this,i=r.call(t);if(c(e,t))return"";var s=n?i.slice(7,-1):i.replace(o,"$1");return""===s?void 0:s}}),s({global:!0,forced:!0},{Symbol:t}))})),wn=(0,X.a)((()=>{fn()("hasInstance")})),Sn=(0,X.a)((()=>{fn()("isConcatSpreadable")})),kn=(0,X.a)((()=>{fn()("iterator")})),Cn=(0,X.a)((()=>{fn()("match")})),Tn=(0,X.a)((()=>{fn()("matchAll")})),En=(0,X.a)((()=>{fn()("replace")})),Dn=(0,X.a)((()=>{fn()("search")})),In=(0,X.a)((()=>{fn()("species")})),Rn=(0,X.a)((()=>{fn()("split")})),Fn=(0,X.a)((()=>{fn()("toPrimitive")})),An=(0,X.a)((()=>{fn()("toStringTag")})),On=(0,X.a)((()=>{fn()("unscopables")})),Mn=(0,X.a)((()=>{gn()(Math,"Math",!0)})),Pn=(0,X.a)((()=>{var e=rr();gn()(e.JSON,"JSON",!0)})),zn=(0,X.a)(((e,t)=>{rn(),an(),vn(),bn(),xn(),wn(),Sn(),kn(),Cn(),Tn(),En(),Dn(),In(),Rn(),Fn(),An(),On(),Mn(),Pn();var i=Ar();t.exports=i.Symbol})),Bn=(0,X.a)((()=>{fn()("asyncDispose")})),Ln=(0,X.a)((()=>{fn()("dispose")})),Un=(0,X.a)((()=>{fn()("observable")})),Nn=(0,X.a)((()=>{fn()("patternMatch")})),Hn=(0,X.a)((()=>{fn()("replaceAll")})),jn=(0,X.a)(((e,t)=>{var i=zn();Bn(),Ln(),Un(),Nn(),Hn(),t.exports=i})),Wn=(0,X.a)(((e,t)=>{var i=Mr(),r=ur(),n=function(e){return function(t,n){var o,s,a=String(r(t)),l=i(n),c=a.length;return l<0||l>=c?e?"":void 0:(o=a.charCodeAt(l))<55296||o>56319||l+1===c||(s=a.charCodeAt(l+1))<56320||s>57343?e?a.charAt(l):o:e?a.slice(l,l+2):s-56320+(o-55296<<10)+65536}};t.exports={codeAt:n(!1),charAt:n(!0)}})),Vn=(0,X.a)(((e,t)=>{var i=nr();t.exports=!i((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))})),Gn=(0,X.a)(((e,t)=>{var i=fr(),r=Xr(),n=Dr(),o=Vn(),s=n("IE_PROTO"),a=Object.prototype;t.exports=o?Object.getPrototypeOf:function(e){return e=r(e),i(e,s)?e[s]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}})),qn=(0,X.a)(((e,t)=>{var i,r,n,o=Gn(),s=br(),a=fr(),l=Zr(),c=Cr(),u=l("iterator"),h=!1;[].keys&&("next"in(n=[].keys())?(r=o(o(n)))!==Object.prototype&&(i=r):h=!0),void 0==i&&(i={}),c||a(i,u)||s(i,u,(function(){return this})),t.exports={IteratorPrototype:i,BUGGY_SAFARI_ITERATORS:h}})),Xn=(0,X.a)(((e,t)=>{t.exports={}})),Yn=(0,X.a)(((e,t)=>{var i=qn().IteratorPrototype,r=hn(),n=ar(),o=gn(),s=Xn(),a=function(){return this};t.exports=function(e,t,l){var c=t+" Iterator";return e.prototype=r(i,{next:n(1,l)}),o(e,c,!1,!0),s[c]=a,e}})),Qn=(0,X.a)(((e,t)=>{var i=dr();t.exports=function(e){if(!i(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype");return e}})),Kn=(0,X.a)(((e,t)=>{var i=_r(),r=Qn();t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),t=n instanceof Array}catch(o){}return function(n,o){return i(n),r(o),t?e.call(n,o):n.__proto__=o,n}}():void 0)})),Zn=(0,X.a)(((e,t)=>{var i=Gr(),r=Yn(),n=Gn(),o=Kn(),s=gn(),a=br(),l=Fr(),c=Zr(),u=Cr(),h=Xn(),d=qn(),p=d.IteratorPrototype,f=d.BUGGY_SAFARI_ITERATORS,g=c("iterator"),m="keys",y="values",_="entries",v=function(){return this};t.exports=function(e,t,c,d,b,x,w){r(c,t,d);var S,k,C,T=function(e){if(e===b&&F)return F;if(!f&&e in I)return I[e];switch(e){case m:case y:case _:return function(){return new c(this,e)}}return function(){return new c(this)}},E=t+" Iterator",D=!1,I=e.prototype,R=I[g]||I["@@iterator"]||b&&I[b],F=!f&&R||T(b),A="Array"==t&&I.entries||R;if(A&&(S=n(A.call(new e)),p!==Object.prototype&&S.next&&(u||n(S)===p||(o?o(S,p):"function"!=typeof S[g]&&a(S,g,v)),s(S,E,!0,!0),u&&(h[E]=v))),b==y&&R&&R.name!==y&&(D=!0,F=function(){return R.call(this)}),u&&!w||I[g]===F||a(I,g,F),h[t]=F,b)if(k={values:T(y),keys:x?F:T(m),entries:T(_)},w)for(C in k)(f||D||!(C in I))&&l(I,C,k[C]);else i({target:t,proto:!0,forced:f||D},k);return k}})),Jn=(0,X.a)((()=>{var e=Wn().charAt,t=Rr(),i=Zn(),r="String Iterator",n=t.set,o=t.getterFor(r);i(String,"String",(function(e){n(this,{type:r,string:String(e),index:0})}),(function(){var t,i=o(this),r=i.string,n=i.index;return n>=r.length?{value:void 0,done:!0}:(t=e(r,n),i.index+=t.length,{value:t,done:!1})}))})),$n=(0,X.a)(((e,t)=>{var i=_r();t.exports=function(e,t,r,n){try{return n?t(i(r)[0],r[1]):t(r)}catch(s){var o=e.return;throw void 0!==o&&i(o.call(e)),s}}})),eo=(0,X.a)(((e,t)=>{var i=Zr(),r=Xn(),n=i("iterator"),o=Array.prototype;t.exports=function(e){return void 0!==e&&(r.Array===e||o[n]===e)}})),to=(0,X.a)(((e,t)=>{var i=on(),r=Xn(),n=Zr()("iterator");t.exports=function(e){if(void 0!=e)return e[n]||e["@@iterator"]||r[i(e)]}})),io=(0,X.a)(((e,t)=>{var i=yn(),r=Xr(),n=$n(),o=eo(),s=Pr(),a=Yr(),l=to();t.exports=function(e){var t,c,u,h,d,p,f=r(e),g="function"==typeof this?this:Array,m=arguments.length,y=m>1?arguments[1]:void 0,_=void 0!==y,v=l(f),b=0;if(_&&(y=i(y,m>2?arguments[2]:void 0,2)),void 0==v||g==Array&&o(v))for(c=new g(t=s(f.length));t>b;b++)p=_?y(f[b],b):f[b],a(c,b,p);else for(d=(h=v.call(f)).next,c=new g;!(u=d.call(h)).done;b++)p=_?n(h,y,[u.value,b],!0):u.value,a(c,b,p);return c.length=b,c}})),ro=(0,X.a)(((e,t)=>{var i,r,n=Zr()("iterator"),o=!1;try{i=0,(r={next:function(){return{done:!!i++}},return:function(){o=!0}})[n]=function(){return this},Array.from(r,(function(){throw 2}))}catch(s){}t.exports=function(e,t){if(!t&&!o)return!1;var i=!1;try{var r={};r[n]=function(){return{next:function(){return{done:i=!0}}}},e(r)}catch(s){}return i}})),no=(0,X.a)((()=>{var e=Gr(),t=io();e({target:"Array",stat:!0,forced:!ro()((function(e){Array.from(e)}))},{from:t})})),oo=(0,X.a)(((e,t)=>{Jn(),no();var i=Ar();t.exports=i.Array.from})),so=(0,X.a)(((e,t)=>{var i=oo();t.exports=i})),ao=(0,X.a)(((e,t)=>{var i=or(),r=nr(),n=ln(),o=Hr(),s=sr(),a=Xr(),l=cr(),c=Object.assign,u=Object.defineProperty;t.exports=!c||r((function(){if(i&&1!==c({b:1},c(u({},"a",{enumerable:!0,get:function(){u(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},r=Symbol(),o="abcdefghijklmnopqrst";return e[r]=7,o.split("").forEach((function(e){t[e]=e})),7!=c({},e)[r]||n(c({},t)).join("")!=o}))?function(e,t){for(var r=a(e),c=arguments.length,u=1,h=o.f,d=s.f;c>u;)for(var p,f=l(arguments[u++]),g=h?n(f).concat(h(f)):n(f),m=g.length,y=0;m>y;)p=g[y++],i&&!d.call(f,p)||(r[p]=f[p]);return r}:c})),lo=(0,X.a)((()=>{var e=Gr(),t=ao();e({target:"Object",stat:!0,forced:Object.assign!==t},{assign:t})})),co=(0,X.a)((()=>{Gr()({target:"Object",stat:!0,sham:!or()},{create:hn()})})),uo=(0,X.a)((()=>{var e=Gr(),t=or();e({target:"Object",stat:!0,forced:!t,sham:!t},{defineProperty:vr().f})})),ho=(0,X.a)((()=>{var e=Gr(),t=or();e({target:"Object",stat:!0,forced:!t,sham:!t},{defineProperties:cn()})})),po=(0,X.a)(((e,t)=>{var i=or(),r=ln(),n=hr(),o=sr().f,s=function(e){return function(t){for(var s,a=n(t),l=r(a),c=l.length,u=0,h=[];c>u;)s=l[u++],i&&!o.call(a,s)||h.push(e?[s,a[s]]:a[s]);return h}};t.exports={entries:s(!0),values:s(!1)}})),fo=(0,X.a)((()=>{var e=Gr(),t=po().entries;e({target:"Object",stat:!0},{entries:function(e){return t(e)}})})),go=(0,X.a)(((e,t)=>{var i=nr();t.exports=!i((function(){return Object.isExtensible(Object.preventExtensions({}))}))})),mo=(0,X.a)(((e,t)=>{var i=Ir(),r=dr(),n=fr(),o=vr().f,s=Er(),a=go(),l=s("meta"),c=0,u=Object.isExtensible||function(){return!0},h=function(e){o(e,l,{value:{objectID:"O"+ ++c,weakData:{}}})},d=t.exports={REQUIRED:!1,fastKey:function(e,t){if(!r(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!n(e,l)){if(!u(e))return"F";if(!t)return"E";h(e)}return e[l].objectID},getWeakData:function(e,t){if(!n(e,l)){if(!u(e))return!0;if(!t)return!1;h(e)}return e[l].weakData},onFreeze:function(e){return a&&d.REQUIRED&&u(e)&&!n(e,l)&&h(e),e}};i[l]=!0})),yo=(0,X.a)((()=>{var e=Gr(),t=go(),i=nr(),r=dr(),n=mo().onFreeze,o=Object.freeze;e({target:"Object",stat:!0,forced:i((function(){o(1)})),sham:!t},{freeze:function(e){return o&&r(e)?o(n(e)):e}})})),_o=(0,X.a)(((e,t)=>{var i=_r(),r=eo(),n=Pr(),o=yn(),s=to(),a=$n(),l=function(e,t){this.stopped=e,this.result=t},c=t.exports=function(e,t,c,u,h){var d,p,f,g,m,y,_,v=o(t,c,u?2:1);if(h)d=e;else{if("function"!=typeof(p=s(e)))throw TypeError("Target is not iterable");if(r(p)){for(f=0,g=n(e.length);g>f;f++)if((m=u?v(i(_=e[f])[0],_[1]):v(e[f]))&&m instanceof l)return m;return new l(!1)}d=p.call(e)}for(y=d.next;!(_=y.call(d)).done;)if("object"==typeof(m=a(d,v,_.value,u))&&m&&m instanceof l)return m;return new l(!1)};c.stop=function(e){return new l(!0,e)}})),vo=(0,X.a)((()=>{var e=Gr(),t=_o(),i=Yr();e({target:"Object",stat:!0},{fromEntries:function(e){var r={};return t(e,(function(e,t){i(r,e,t)}),void 0,!0),r}})})),bo=(0,X.a)((()=>{var e=Gr(),t=nr(),i=hr(),r=yr().f,n=or(),o=t((function(){r(1)}));e({target:"Object",stat:!0,forced:!n||o,sham:!n},{getOwnPropertyDescriptor:function(e,t){return r(i(e),t)}})})),xo=(0,X.a)((()=>{var e=Gr(),t=or(),i=jr(),r=hr(),n=yr(),o=Yr();e({target:"Object",stat:!0,sham:!t},{getOwnPropertyDescriptors:function(e){for(var t,s,a=r(e),l=n.f,c=i(a),u={},h=0;c.length>h;)void 0!==(s=l(a,t=c[h++]))&&o(u,t,s);return u}})})),wo=(0,X.a)((()=>{var e=Gr(),t=nr(),i=dn().f;e({target:"Object",stat:!0,forced:t((function(){return!Object.getOwnPropertyNames(1)}))},{getOwnPropertyNames:i})})),So=(0,X.a)((()=>{var e=Gr(),t=nr(),i=Xr(),r=Gn(),n=Vn();e({target:"Object",stat:!0,forced:t((function(){r(1)})),sham:!n},{getPrototypeOf:function(e){return r(i(e))}})})),ko=(0,X.a)(((e,t)=>{t.exports=Object.is||function(e,t){return e===t?0!==e||1/e===1/t:e!=e&&t!=t}})),Co=(0,X.a)((()=>{Gr()({target:"Object",stat:!0},{is:ko()})})),To=(0,X.a)((()=>{var e=Gr(),t=nr(),i=dr(),r=Object.isExtensible;e({target:"Object",stat:!0,forced:t((function(){r(1)}))},{isExtensible:function(e){return!!i(e)&&(!r||r(e))}})})),Eo=(0,X.a)((()=>{var e=Gr(),t=nr(),i=dr(),r=Object.isFrozen;e({target:"Object",stat:!0,forced:t((function(){r(1)}))},{isFrozen:function(e){return!i(e)||!!r&&r(e)}})})),Do=(0,X.a)((()=>{var e=Gr(),t=nr(),i=dr(),r=Object.isSealed;e({target:"Object",stat:!0,forced:t((function(){r(1)}))},{isSealed:function(e){return!i(e)||!!r&&r(e)}})})),Io=(0,X.a)((()=>{var e=Gr(),t=Xr(),i=ln();e({target:"Object",stat:!0,forced:nr()((function(){i(1)}))},{keys:function(e){return i(t(e))}})})),Ro=(0,X.a)((()=>{var e=Gr(),t=dr(),i=mo().onFreeze,r=go(),n=nr(),o=Object.preventExtensions;e({target:"Object",stat:!0,forced:n((function(){o(1)})),sham:!r},{preventExtensions:function(e){return o&&t(e)?o(i(e)):e}})})),Fo=(0,X.a)((()=>{var e=Gr(),t=dr(),i=mo().onFreeze,r=go(),n=nr(),o=Object.seal;e({target:"Object",stat:!0,forced:n((function(){o(1)})),sham:!r},{seal:function(e){return o&&t(e)?o(i(e)):e}})})),Ao=(0,X.a)((()=>{Gr()({target:"Object",stat:!0},{setPrototypeOf:Kn()})})),Oo=(0,X.a)((()=>{var e=Gr(),t=po().values;e({target:"Object",stat:!0},{values:function(e){return t(e)}})})),Mo=(0,X.a)(((e,t)=>{var i=Cr(),r=rr(),n=nr();t.exports=i||!n((function(){var e=Math.random();__defineSetter__.call(null,e,(function(){})),delete r[e]}))})),Po=(0,X.a)((()=>{var e=Gr(),t=or(),i=Mo(),r=Xr(),n=mn(),o=vr();t&&e({target:"Object",proto:!0,forced:i},{__defineGetter__:function(e,t){o.f(r(this),e,{get:n(t),enumerable:!0,configurable:!0})}})})),zo=(0,X.a)((()=>{var e=Gr(),t=or(),i=Mo(),r=Xr(),n=mn(),o=vr();t&&e({target:"Object",proto:!0,forced:i},{__defineSetter__:function(e,t){o.f(r(this),e,{set:n(t),enumerable:!0,configurable:!0})}})})),Bo=(0,X.a)((()=>{var e=Gr(),t=or(),i=Mo(),r=Xr(),n=pr(),o=Gn(),s=yr().f;t&&e({target:"Object",proto:!0,forced:i},{__lookupGetter__:function(e){var t,i=r(this),a=n(e,!0);do{if(t=s(i,a))return t.get}while(i=o(i))}})})),Lo=(0,X.a)((()=>{var e=Gr(),t=or(),i=Mo(),r=Xr(),n=pr(),o=Gn(),s=yr().f;t&&e({target:"Object",proto:!0,forced:i},{__lookupSetter__:function(e){var t,i=r(this),a=n(e,!0);do{if(t=s(i,a))return t.set}while(i=o(i))}})})),Uo=(0,X.a)(((e,t)=>{var i=mn(),r=dr(),n=[].slice,o={};t.exports=Function.bind||function(e){var t=i(this),s=n.call(arguments,1),a=function(){var i=s.concat(n.call(arguments));return this instanceof a?function(e,t,i){if(!(t in o)){for(var r=[],n=0;n<t;n++)r[n]="a["+n+"]";o[t]=Function("C,a","return new C("+r.join(",")+")")}return o[t](e,i)}(t,i.length,i):t.apply(e,i)};return r(t.prototype)&&(a.prototype=t.prototype),a}})),No=(0,X.a)((()=>{Gr()({target:"Function",proto:!0},{bind:Uo()})})),Ho=(0,X.a)((()=>{var e=or(),t=vr().f,i=Function.prototype,r=i.toString,n=/^\s*function ([^ (]*)/,o="name";e&&!(o in i)&&t(i,o,{configurable:!0,get:function(){try{return r.call(this).match(n)[1]}catch(e){return""}}})})),jo=(0,X.a)((()=>{var e=dr(),t=vr(),i=Gn(),r=Zr()("hasInstance"),n=Function.prototype;r in n||t.f(n,r,{value:function(t){if("function"!=typeof this||!e(t))return!1;if(!e(this.prototype))return t instanceof this;for(;t=i(t);)if(this.prototype===t)return!0;return!1}})})),Wo=(0,X.a)((()=>{Gr()({global:!0},{globalThis:rr()})})),Vo=(0,X.a)((()=>{Gr()({target:"Array",stat:!0},{isArray:qr()})})),Go=(0,X.a)((()=>{var e=Gr(),t=nr(),i=Yr();e({target:"Array",stat:!0,forced:t((function(){function e(){}return!(Array.of.call(e)instanceof e)}))},{of:function(){for(var e=0,t=arguments.length,r=new("function"==typeof this?this:Array)(t);t>e;)i(r,e,arguments[e++]);return r.length=t,r}})})),qo=(0,X.a)(((e,t)=>{var i=Xr(),r=zr(),n=Pr(),o=Math.min;t.exports=[].copyWithin||function(e,t){var s=i(this),a=n(s.length),l=r(e,a),c=r(t,a),u=arguments.length>2?arguments[2]:void 0,h=o((void 0===u?a:r(u,a))-c,a-l),d=1;for(c<l&&l<c+h&&(d=-1,c+=h-1,l+=h-1);h-- >0;)c in s?s[l]=s[c]:delete s[l],l+=d,c+=d;return s}})),Xo=(0,X.a)(((e,t)=>{var i=Zr(),r=hn(),n=vr(),o=i("unscopables"),s=Array.prototype;void 0==s[o]&&n.f(s,o,{configurable:!0,value:r(null)}),t.exports=function(e){s[o][e]=!0}})),Yo=(0,X.a)((()=>{var e=Gr(),t=qo(),i=Xo();e({target:"Array",proto:!0},{copyWithin:t}),i("copyWithin")})),Qo=(0,X.a)(((e,t)=>{var i=nr();t.exports=function(e,t){var r=[][e];return!!r&&i((function(){r.call(null,t||function(){throw 1},1)}))}})),Ko=(0,X.a)(((e,t)=>{var i=or(),r=nr(),n=fr(),o=Object.defineProperty,s={},a=function(e){throw e};t.exports=function(e,t){if(n(s,e))return s[e];t||(t={});var l=[][e],c=!!n(t,"ACCESSORS")&&t.ACCESSORS,u=n(t,0)?t[0]:a,h=n(t,1)?t[1]:void 0;return s[e]=!!l&&!r((function(){if(c&&!i)return!0;var e={length:-1};c?o(e,1,{enumerable:!0,get:a}):e[1]=1,l.call(e,u,h)}))}})),Zo=(0,X.a)((()=>{var e=Gr(),t=_n().every,i=Qo(),r=Ko(),n=i("every"),o=r("every");e({target:"Array",proto:!0,forced:!n||!o},{every:function(e){return t(this,e,arguments.length>1?arguments[1]:void 0)}})})),Jo=(0,X.a)(((e,t)=>{var i=Xr(),r=zr(),n=Pr();t.exports=function(e){for(var t=i(this),o=n(t.length),s=arguments.length,a=r(s>1?arguments[1]:void 0,o),l=s>2?arguments[2]:void 0,c=void 0===l?o:r(l,o);c>a;)t[a++]=e;return t}})),$o=(0,X.a)((()=>{var e=Gr(),t=Jo(),i=Xo();e({target:"Array",proto:!0},{fill:t}),i("fill")})),es=(0,X.a)((()=>{var e=Gr(),t=_n().filter,i=tn(),r=Ko(),n=i("filter"),o=r("filter");e({target:"Array",proto:!0,forced:!n||!o},{filter:function(e){return t(this,e,arguments.length>1?arguments[1]:void 0)}})})),ts=(0,X.a)((()=>{var e=Gr(),t=_n().find,i=Xo(),r=Ko(),n="find",o=!0,s=r(n);n in[]&&Array(1)[n]((function(){o=!1})),e({target:"Array",proto:!0,forced:o||!s},{find:function(e){return t(this,e,arguments.length>1?arguments[1]:void 0)}}),i(n)})),is=(0,X.a)((()=>{var e=Gr(),t=_n().findIndex,i=Xo(),r=Ko(),n="findIndex",o=!0,s=r(n);n in[]&&Array(1)[n]((function(){o=!1})),e({target:"Array",proto:!0,forced:o||!s},{findIndex:function(e){return t(this,e,arguments.length>1?arguments[1]:void 0)}}),i(n)})),rs=(0,X.a)(((e,t)=>{var i=qr(),r=Pr(),n=yn(),o=function(e,t,s,a,l,c,u,h){for(var d,p=l,f=0,g=!!u&&n(u,h,3);f<a;){if(f in s){if(d=g?g(s[f],f,t):s[f],c>0&&i(d))p=o(e,t,d,r(d.length),p,c-1)-1;else{if(p>=9007199254740991)throw TypeError("Exceed the acceptable array length");e[p]=d}p++}f++}return p};t.exports=o})),ns=(0,X.a)((()=>{var e=Gr(),t=rs(),i=Xr(),r=Pr(),n=Mr(),o=Jr();e({target:"Array",proto:!0},{flat:function(){var e=arguments.length?arguments[0]:void 0,s=i(this),a=r(s.length),l=o(s,0);return l.length=t(l,s,s,a,0,void 0===e?1:n(e)),l}})})),os=(0,X.a)((()=>{var e=Gr(),t=rs(),i=Xr(),r=Pr(),n=mn(),o=Jr();e({target:"Array",proto:!0},{flatMap:function(e){var s,a=i(this),l=r(a.length);return n(e),(s=o(a,0)).length=t(s,a,a,l,0,1,e,arguments.length>1?arguments[1]:void 0),s}})})),ss=(0,X.a)(((e,t)=>{var i=_n().forEach,r=Qo(),n=Ko(),o=r("forEach"),s=n("forEach");t.exports=o&&s?[].forEach:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})),as=(0,X.a)((()=>{var e=Gr(),t=ss();e({target:"Array",proto:!0,forced:[].forEach!=t},{forEach:t})})),ls=(0,X.a)((()=>{var e=Gr(),t=Br().includes,i=Xo();e({target:"Array",proto:!0,forced:!Ko()("indexOf",{ACCESSORS:!0,1:0})},{includes:function(e){return t(this,e,arguments.length>1?arguments[1]:void 0)}}),i("includes")})),cs=(0,X.a)((()=>{var e=Gr(),t=Br().indexOf,i=Qo(),r=Ko(),n=[].indexOf,o=!!n&&1/[1].indexOf(1,-0)<0,s=i("indexOf"),a=r("indexOf",{ACCESSORS:!0,1:0});e({target:"Array",proto:!0,forced:o||!s||!a},{indexOf:function(e){return o?n.apply(this,arguments)||0:t(this,e,arguments.length>1?arguments[1]:void 0)}})})),us=(0,X.a)((()=>{var e=Gr(),t=cr(),i=hr(),r=Qo(),n=[].join,o=t!=Object,s=r("join",",");e({target:"Array",proto:!0,forced:o||!s},{join:function(e){return n.call(i(this),void 0===e?",":e)}})})),hs=(0,X.a)(((e,t)=>{var i=hr(),r=Mr(),n=Pr(),o=Qo(),s=Ko(),a=Math.min,l=[].lastIndexOf,c=!!l&&1/[1].lastIndexOf(1,-0)<0,u=o("lastIndexOf"),h=s("indexOf",{ACCESSORS:!0,1:0}),d=c||!u||!h;t.exports=d?function(e){if(c)return l.apply(this,arguments)||0;var t=i(this),o=n(t.length),s=o-1;for(arguments.length>1&&(s=a(s,r(arguments[1]))),s<0&&(s=o+s);s>=0;s--)if(s in t&&t[s]===e)return s||0;return-1}:l})),ds=(0,X.a)((()=>{var e=Gr(),t=hs();e({target:"Array",proto:!0,forced:t!==[].lastIndexOf},{lastIndexOf:t})})),ps=(0,X.a)((()=>{var e=Gr(),t=_n().map,i=tn(),r=Ko(),n=i("map"),o=r("map");e({target:"Array",proto:!0,forced:!n||!o},{map:function(e){return t(this,e,arguments.length>1?arguments[1]:void 0)}})})),fs=(0,X.a)(((e,t)=>{var i=mn(),r=Xr(),n=cr(),o=Pr(),s=function(e){return function(t,s,a,l){i(s);var c=r(t),u=n(c),h=o(c.length),d=e?h-1:0,p=e?-1:1;if(a<2)for(;;){if(d in u){l=u[d],d+=p;break}if(d+=p,e?d<0:h<=d)throw TypeError("Reduce of empty array with no initial value")}for(;e?d>=0:h>d;d+=p)d in u&&(l=s(l,u[d],d,c));return l}};t.exports={left:s(!1),right:s(!0)}})),gs=(0,X.a)((()=>{var e=Gr(),t=fs().left,i=Qo(),r=Ko(),n=i("reduce"),o=r("reduce",{1:0});e({target:"Array",proto:!0,forced:!n||!o},{reduce:function(e){return t(this,e,arguments.length,arguments.length>1?arguments[1]:void 0)}})})),ms=(0,X.a)((()=>{var e=Gr(),t=fs().right,i=Qo(),r=Ko(),n=i("reduceRight"),o=r("reduce",{1:0});e({target:"Array",proto:!0,forced:!n||!o},{reduceRight:function(e){return t(this,e,arguments.length,arguments.length>1?arguments[1]:void 0)}})})),ys=(0,X.a)((()=>{var e=Gr(),t=qr(),i=[].reverse,r=[1,2];e({target:"Array",proto:!0,forced:String(r)===String(r.reverse())},{reverse:function(){return t(this)&&(this.length=this.length),i.call(this)}})})),_s=(0,X.a)((()=>{var e=Gr(),t=dr(),i=qr(),r=zr(),n=Pr(),o=hr(),s=Yr(),a=Zr(),l=tn(),c=Ko(),u=l("slice"),h=c("slice",{ACCESSORS:!0,0:0,1:2}),d=a("species"),p=[].slice,f=Math.max;e({target:"Array",proto:!0,forced:!u||!h},{slice:function(e,a){var l,c,u,h=o(this),g=n(h.length),m=r(e,g),y=r(void 0===a?g:a,g);if(i(h)&&("function"!=typeof(l=h.constructor)||l!==Array&&!i(l.prototype)?t(l)&&null===(l=l[d])&&(l=void 0):l=void 0,l===Array||void 0===l))return p.call(h,m,y);for(c=new(void 0===l?Array:l)(f(y-m,0)),u=0;m<y;m++,u++)m in h&&s(c,u,h[m]);return c.length=u,c}})})),vs=(0,X.a)((()=>{var e=Gr(),t=_n().some,i=Qo(),r=Ko(),n=i("some"),o=r("some");e({target:"Array",proto:!0,forced:!n||!o},{some:function(e){return t(this,e,arguments.length>1?arguments[1]:void 0)}})})),bs=(0,X.a)((()=>{var e=Gr(),t=mn(),i=Xr(),r=nr(),n=Qo(),o=[],s=o.sort,a=r((function(){o.sort(void 0)})),l=r((function(){o.sort(null)})),c=n("sort");e({target:"Array",proto:!0,forced:a||!l||!c},{sort:function(e){return void 0===e?s.call(i(this)):s.call(i(this),t(e))}})})),xs=(0,X.a)((()=>{var e=Gr(),t=zr(),i=Mr(),r=Pr(),n=Xr(),o=Jr(),s=Yr(),a=tn(),l=Ko(),c=a("splice"),u=l("splice",{ACCESSORS:!0,0:0,1:2}),h=Math.max,d=Math.min;e({target:"Array",proto:!0,forced:!c||!u},{splice:function(e,a){var l,c,u,p,f,g,m=n(this),y=r(m.length),_=t(e,y),v=arguments.length;if(0===v?l=c=0:1===v?(l=0,c=y-_):(l=v-2,c=d(h(i(a),0),y-_)),y+l-c>9007199254740991)throw TypeError("Maximum allowed length exceeded");for(u=o(m,c),p=0;p<c;p++)(f=_+p)in m&&s(u,p,m[f]);if(u.length=c,l<c){for(p=_;p<y-c;p++)g=p+l,(f=p+c)in m?m[g]=m[f]:delete m[g];for(p=y;p>y-c+l;p--)delete m[p-1]}else if(l>c)for(p=y-c;p>_;p--)g=p+l-1,(f=p+c-1)in m?m[g]=m[f]:delete m[g];for(p=0;p<l;p++)m[p+_]=arguments[p+2];return m.length=y-c+l,u}})})),ws=(0,X.a)(((e,t)=>{var i=Or(),r=vr(),n=Zr(),o=or(),s=n("species");t.exports=function(e){var t=i(e),n=r.f;o&&t&&!t[s]&&n(t,s,{configurable:!0,get:function(){return this}})}})),Ss=(0,X.a)((()=>{ws()("Array")})),ks=(0,X.a)((()=>{Xo()("flat")})),Cs=(0,X.a)((()=>{Xo()("flatMap")})),Ts=(0,X.a)(((e,t)=>{var i=hr(),r=Xo(),n=Xn(),o=Rr(),s=Zn(),a="Array Iterator",l=o.set,c=o.getterFor(a);t.exports=s(Array,"Array",(function(e,t){l(this,{type:a,target:i(e),index:0,kind:t})}),(function(){var e=c(this),t=e.target,i=e.kind,r=e.index++;return!t||r>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==i?{value:r,done:!1}:"values"==i?{value:t[r],done:!1}:{value:[r,t[r]],done:!1}}),"values"),n.Arguments=n.Array,r("keys"),r("values"),r("entries")})),Es=(0,X.a)((()=>{var e=Gr(),t=zr(),i=String.fromCharCode,r=String.fromCodePoint;e({target:"String",stat:!0,forced:!!r&&1!=r.length},{fromCodePoint:function(e){for(var r,n=[],o=arguments.length,s=0;o>s;){if(r=+arguments[s++],t(r,1114111)!==r)throw RangeError(r+" is not a valid code point");n.push(r<65536?i(r):i(55296+((r-=65536)>>10),r%1024+56320))}return n.join("")}})})),Ds=(0,X.a)((()=>{var e=Gr(),t=hr(),i=Pr();e({target:"String",stat:!0},{raw:function(e){for(var r=t(e.raw),n=i(r.length),o=arguments.length,s=[],a=0;n>a;)s.push(String(r[a++])),a<o&&s.push(String(arguments[a]));return s.join("")}})})),Is=(0,X.a)((()=>{var e=Gr(),t=Wn().codeAt;e({target:"String",proto:!0},{codePointAt:function(e){return t(this,e)}})})),Rs=(0,X.a)(((e,t)=>{var i=dr(),r=lr(),n=Zr()("match");t.exports=function(e){var t;return i(e)&&(void 0!==(t=e[n])?!!t:"RegExp"==r(e))}})),Fs=(0,X.a)(((e,t)=>{var i=Rs();t.exports=function(e){if(i(e))throw TypeError("The method doesn't accept regular expressions");return e}})),As=(0,X.a)(((e,t)=>{var i=Zr()("match");t.exports=function(e){var t=/./;try{"/./"[e](t)}catch(r){try{return t[i]=!1,"/./"[e](t)}catch(n){}}return!1}})),Os=(0,X.a)((()=>{var e=Gr(),t=yr().f,i=Pr(),r=Fs(),n=ur(),o=As(),s=Cr(),a="".endsWith,l=Math.min,c=o("endsWith");e({target:"String",proto:!0,forced:!(!s&&!c&&!!function(){var e=t(String.prototype,"endsWith");return e&&!e.writable}())&&!c},{endsWith:function(e){var t=String(n(this));r(e);var o=arguments.length>1?arguments[1]:void 0,s=i(t.length),c=void 0===o?s:l(i(o),s),u=String(e);return a?a.call(t,u,c):t.slice(c-u.length,c)===u}})})),Ms=(0,X.a)((()=>{var e=Gr(),t=Fs(),i=ur();e({target:"String",proto:!0,forced:!As()("includes")},{includes:function(e){return!!~String(i(this)).indexOf(t(e),arguments.length>1?arguments[1]:void 0)}})})),Ps=(0,X.a)(((e,t)=>{var i=_r();t.exports=function(){var e=i(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}})),zs=(0,X.a)((e=>{var t=nr();function i(e,t){return RegExp(e,t)}e.UNSUPPORTED_Y=t((function(){var e=i("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),e.BROKEN_CARET=t((function(){var e=i("^r","gy");return e.lastIndex=2,null!=e.exec("str")}))})),Bs=(0,X.a)(((e,t)=>{var i=Ps(),r=zs(),n=RegExp.prototype.exec,o=String.prototype.replace,s=n,a=function(){var e=/a/,t=/b*/g;return n.call(e,"a"),n.call(t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),l=r.UNSUPPORTED_Y||r.BROKEN_CARET,c=void 0!==/()??/.exec("")[1];(a||c||l)&&(s=function(e){var t,r,s,u,h=this,d=l&&h.sticky,p=i.call(h),f=h.source,g=0,m=e;return d&&(-1===(p=p.replace("y","")).indexOf("g")&&(p+="g"),m=String(e).slice(h.lastIndex),h.lastIndex>0&&(!h.multiline||h.multiline&&"\n"!==e[h.lastIndex-1])&&(f="(?: "+f+")",m=" "+m,g++),r=new RegExp("^(?:"+f+")",p)),c&&(r=new RegExp("^"+f+"$(?!\\s)",p)),a&&(t=h.lastIndex),s=n.call(d?r:h,m),d?s?(s.input=s.input.slice(g),s[0]=s[0].slice(g),s.index=h.lastIndex,h.lastIndex+=s[0].length):h.lastIndex=0:a&&s&&(h.lastIndex=h.global?s.index+s[0].length:t),c&&s&&s.length>1&&o.call(s[0],r,(function(){for(u=1;u<arguments.length-2;u++)void 0===arguments[u]&&(s[u]=void 0)})),s}),t.exports=s})),Ls=(0,X.a)((()=>{var e=Gr(),t=Bs();e({target:"RegExp",proto:!0,forced:/./.exec!==t},{exec:t})})),Us=(0,X.a)(((e,t)=>{Ls();var i=Fr(),r=nr(),n=Zr(),o=Bs(),s=br(),a=n("species"),l=!r((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),c="$0"==="a".replace(/./,"$0"),u=n("replace"),h=!!/./[u]&&""===/./[u]("a","$0"),d=!r((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var i="ab".split(e);return 2!==i.length||"a"!==i[0]||"b"!==i[1]}));t.exports=function(e,t,u,p){var f=n(e),g=!r((function(){var t={};return t[f]=function(){return 7},7!=""[e](t)})),m=g&&!r((function(){var t=!1,i=/a/;return"split"===e&&((i={}).constructor={},i.constructor[a]=function(){return i},i.flags="",i[f]=/./[f]),i.exec=function(){return t=!0,null},i[f](""),!t}));if(!g||!m||"replace"===e&&(!l||!c||h)||"split"===e&&!d){var y=/./[f],_=u(f,""[e],(function(e,t,i,r,n){return t.exec===o?g&&!n?{done:!0,value:y.call(t,i,r)}:{done:!0,value:e.call(i,t,r)}:{done:!1}}),{REPLACE_KEEPS_$0:c,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:h}),v=_[0],b=_[1];i(String.prototype,e,v),i(RegExp.prototype,f,2==t?function(e,t){return b.call(e,this,t)}:function(e){return b.call(e,this)})}p&&s(RegExp.prototype[f],"sham",!0)}})),Ns=(0,X.a)(((e,t)=>{var i=Wn().charAt;t.exports=function(e,t,r){return t+(r?i(e,t).length:1)}})),Hs=(0,X.a)(((e,t)=>{var i=lr(),r=Bs();t.exports=function(e,t){var n=e.exec;if("function"===typeof n){var o=n.call(e,t);if("object"!==typeof o)throw TypeError("RegExp exec method returned something other than an Object or null");return o}if("RegExp"!==i(e))throw TypeError("RegExp#exec called on incompatible receiver");return r.call(e,t)}})),js=(0,X.a)((()=>{var e=Us(),t=_r(),i=Pr(),r=ur(),n=Ns(),o=Hs();e("match",1,(function(e,s,a){return[function(t){var i=r(this),n=void 0==t?void 0:t[e];return void 0!==n?n.call(t,i):new RegExp(t)[e](String(i))},function(e){var r=a(s,e,this);if(r.done)return r.value;var l=t(e),c=String(this);if(!l.global)return o(l,c);var u=l.unicode;l.lastIndex=0;for(var h,d=[],p=0;null!==(h=o(l,c));){var f=String(h[0]);d[p]=f,""===f&&(l.lastIndex=n(c,i(l.lastIndex),u)),p++}return 0===p?null:d}]}))})),Ws=(0,X.a)(((e,t)=>{var i=_r(),r=mn(),n=Zr()("species");t.exports=function(e,t){var o,s=i(e).constructor;return void 0===s||void 0==(o=i(s)[n])?t:r(o)}})),Vs=(0,X.a)((()=>{var e=Gr(),t=Yn(),i=ur(),r=Pr(),n=mn(),o=_r(),s=lr(),a=Rs(),l=Ps(),c=br(),u=nr(),h=Zr(),d=Ws(),p=Ns(),f=Rr(),g=Cr(),m=h("matchAll"),y="RegExp String",_=y+" Iterator",v=f.set,b=f.getterFor(_),x=RegExp.prototype,w=x.exec,S="".matchAll,k=!!S&&!u((function(){"a".matchAll(/./)})),C=t((function(e,t,i,r){v(this,{type:_,regexp:e,string:t,global:i,unicode:r,done:!1})}),y,(function(){var e=b(this);if(e.done)return{value:void 0,done:!0};var t=e.regexp,i=e.string,n=function(e,t){var i,r=e.exec;if("function"==typeof r){if("object"!=typeof(i=r.call(e,t)))throw TypeError("Incorrect exec result");return i}return w.call(e,t)}(t,i);return null===n?{value:void 0,done:e.done=!0}:e.global?(""==String(n[0])&&(t.lastIndex=p(i,r(t.lastIndex),e.unicode)),{value:n,done:!1}):(e.done=!0,{value:n,done:!1})})),T=function(e){var t,i,n,s,a,c,u=o(this),h=String(e);return t=d(u,RegExp),void 0===(i=u.flags)&&u instanceof RegExp&&!("flags"in x)&&(i=l.call(u)),n=void 0===i?"":String(i),s=new t(t===RegExp?u.source:u,n),a=!!~n.indexOf("g"),c=!!~n.indexOf("u"),s.lastIndex=r(u.lastIndex),new C(s,h,a,c)};e({target:"String",proto:!0,forced:k},{matchAll:function(e){var t,r,o,c=i(this);if(null!=e){if(a(e)&&!~String(i("flags"in x?e.flags:l.call(e))).indexOf("g"))throw TypeError("`.matchAll` does not allow non-global regexes");if(k)return S.apply(c,arguments);if(void 0===(r=e[m])&&g&&"RegExp"==s(e)&&(r=T),null!=r)return n(r).call(e,c)}else if(k)return S.apply(c,arguments);return t=String(c),o=new RegExp(e,"g"),g?T.call(o,t):o[m](t)}}),g||m in x||c(x,m,T)})),Gs=(0,X.a)(((e,t)=>{var i=Mr(),r=ur();t.exports="".repeat||function(e){var t=String(r(this)),n="",o=i(e);if(o<0||o==1/0)throw RangeError("Wrong number of repetitions");for(;o>0;(o>>>=1)&&(t+=t))1&o&&(n+=t);return n}})),qs=(0,X.a)(((e,t)=>{var i=Pr(),r=Gs(),n=ur(),o=Math.ceil,s=function(e){return function(t,s,a){var l,c,u=String(n(t)),h=u.length,d=void 0===a?" ":String(a),p=i(s);return p<=h||""==d?u:(l=p-h,(c=r.call(d,o(l/d.length))).length>l&&(c=c.slice(0,l)),e?u+c:c+u)}};t.exports={start:s(!1),end:s(!0)}})),Xs=(0,X.a)(((e,t)=>{var i=$r();t.exports=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(i)})),Ys=(0,X.a)((()=>{var e=Gr(),t=qs().end;e({target:"String",proto:!0,forced:Xs()},{padEnd:function(e){return t(this,e,arguments.length>1?arguments[1]:void 0)}})})),Qs=(0,X.a)((()=>{var e=Gr(),t=qs().start;e({target:"String",proto:!0,forced:Xs()},{padStart:function(e){return t(this,e,arguments.length>1?arguments[1]:void 0)}})})),Ks=(0,X.a)((()=>{Gr()({target:"String",proto:!0},{repeat:Gs()})})),Zs=(0,X.a)((()=>{var e=Us(),t=_r(),i=Xr(),r=Pr(),n=Mr(),o=ur(),s=Ns(),a=Hs(),l=Math.max,c=Math.min,u=Math.floor,h=/\$([$&'`]|\d\d?|<[^>]*>)/g,d=/\$([$&'`]|\d\d?)/g,p=function(e){return void 0===e?e:String(e)};e("replace",2,(function(e,f,g,m){var y=m.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,_=m.REPLACE_KEEPS_$0,v=y?"$":"$0";return[function(t,i){var r=o(this),n=void 0==t?void 0:t[e];return void 0!==n?n.call(t,r,i):f.call(String(r),t,i)},function(e,i){if(!y&&_||"string"===typeof i&&-1===i.indexOf(v)){var o=g(f,e,this,i);if(o.done)return o.value}var u=t(e),h=String(this),d="function"===typeof i;d||(i=String(i));var m=u.global;if(m){var x=u.unicode;u.lastIndex=0}for(var w=[];;){var S=a(u,h);if(null===S)break;if(w.push(S),!m)break;""===String(S[0])&&(u.lastIndex=s(h,r(u.lastIndex),x))}for(var k="",C=0,T=0;T<w.length;T++){S=w[T];for(var E=String(S[0]),D=l(c(n(S.index),h.length),0),I=[],R=1;R<S.length;R++)I.push(p(S[R]));var F=S.groups;if(d){var A=[E].concat(I,D,h);void 0!==F&&A.push(F);var O=String(i.apply(void 0,A))}else O=b(E,h,D,I,F,i);D>=C&&(k+=h.slice(C,D)+O,C=D+E.length)}return k+h.slice(C)}];function b(e,t,r,n,o,s){var a=r+e.length,l=n.length,c=d;return void 0!==o&&(o=i(o),c=h),f.call(s,c,(function(i,s){var c;switch(s.charAt(0)){case"$":return"$";case"&":return e;case"`":return t.slice(0,r);case"'":return t.slice(a);case"<":c=o[s.slice(1,-1)];break;default:var h=+s;if(0===h)return i;if(h>l){var d=u(h/10);return 0===d?i:d<=l?void 0===n[d-1]?s.charAt(1):n[d-1]+s.charAt(1):i}c=n[h-1]}return void 0===c?"":c}))}}))})),Js=(0,X.a)((()=>{var e=Us(),t=_r(),i=ur(),r=ko(),n=Hs();e("search",1,(function(e,o,s){return[function(t){var r=i(this),n=void 0==t?void 0:t[e];return void 0!==n?n.call(t,r):new RegExp(t)[e](String(r))},function(e){var i=s(o,e,this);if(i.done)return i.value;var a=t(e),l=String(this),c=a.lastIndex;r(c,0)||(a.lastIndex=0);var u=n(a,l);return r(a.lastIndex,c)||(a.lastIndex=c),null===u?-1:u.index}]}))})),$s=(0,X.a)((()=>{var e=Us(),t=Rs(),i=_r(),r=ur(),n=Ws(),o=Ns(),s=Pr(),a=Hs(),l=Bs(),c=nr(),u=[].push,h=Math.min,d=4294967295,p=!c((function(){return!RegExp(d,"y")}));e("split",2,(function(e,c,f){var g;return g="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,i){var n=String(r(this)),o=void 0===i?d:i>>>0;if(0===o)return[];if(void 0===e)return[n];if(!t(e))return c.call(n,e,o);for(var s,a,h,p=[],f=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),g=0,m=new RegExp(e.source,f+"g");(s=l.call(m,n))&&!((a=m.lastIndex)>g&&(p.push(n.slice(g,s.index)),s.length>1&&s.index<n.length&&u.apply(p,s.slice(1)),h=s[0].length,g=a,p.length>=o));)m.lastIndex===s.index&&m.lastIndex++;return g===n.length?!h&&m.test("")||p.push(""):p.push(n.slice(g)),p.length>o?p.slice(0,o):p}:"0".split(void 0,0).length?function(e,t){return void 0===e&&0===t?[]:c.call(this,e,t)}:c,[function(t,i){var n=r(this),o=void 0==t?void 0:t[e];return void 0!==o?o.call(t,n,i):g.call(String(n),t,i)},function(e,t){var r=f(g,e,this,t,g!==c);if(r.done)return r.value;var l=i(e),u=String(this),m=n(l,RegExp),y=l.unicode,_=(l.ignoreCase?"i":"")+(l.multiline?"m":"")+(l.unicode?"u":"")+(p?"y":"g"),v=new m(p?l:"^(?:"+l.source+")",_),b=void 0===t?d:t>>>0;if(0===b)return[];if(0===u.length)return null===a(v,u)?[u]:[];for(var x=0,w=0,S=[];w<u.length;){v.lastIndex=p?w:0;var k,C=a(v,p?u:u.slice(w));if(null===C||(k=h(s(v.lastIndex+(p?0:w)),u.length))===x)w=o(u,w,y);else{if(S.push(u.slice(x,w)),S.length===b)return S;for(var T=1;T<=C.length-1;T++)if(S.push(C[T]),S.length===b)return S;w=x=k}}return S.push(u.slice(x)),S}]}),!p)})),ea=(0,X.a)((()=>{var e=Gr(),t=yr().f,i=Pr(),r=Fs(),n=ur(),o=As(),s=Cr(),a="".startsWith,l=Math.min,c=o("startsWith");e({target:"String",proto:!0,forced:!(!s&&!c&&!!function(){var e=t(String.prototype,"startsWith");return e&&!e.writable}())&&!c},{startsWith:function(e){var t=String(n(this));r(e);var o=i(l(arguments.length>1?arguments[1]:void 0,t.length)),s=String(e);return a?a.call(t,s,o):t.slice(o,o+s.length)===s}})})),ta=(0,X.a)(((e,t)=>{t.exports="\t\n\v\f\r \xa0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff"})),ia=(0,X.a)(((e,t)=>{var i=ur(),r="["+ta()+"]",n=RegExp("^"+r+r+"*"),o=RegExp(r+r+"*$"),s=function(e){return function(t){var r=String(i(t));return 1&e&&(r=r.replace(n,"")),2&e&&(r=r.replace(o,"")),r}};t.exports={start:s(1),end:s(2),trim:s(3)}})),ra=(0,X.a)(((e,t)=>{var i=nr(),r=ta();t.exports=function(e){return i((function(){return!!r[e]()||"\u200b\x85\u180e"!="\u200b\x85\u180e"[e]()||r[e].name!==e}))}})),na=(0,X.a)((()=>{var e=Gr(),t=ia().trim;e({target:"String",proto:!0,forced:ra()("trim")},{trim:function(){return t(this)}})})),oa=(0,X.a)((()=>{var e=Gr(),t=ia().start,i=ra()("trimStart"),r=i?function(){return t(this)}:"".trimStart;e({target:"String",proto:!0,forced:i},{trimStart:r,trimLeft:r})})),sa=(0,X.a)((()=>{var e=Gr(),t=ia().end,i=ra()("trimEnd"),r=i?function(){return t(this)}:"".trimEnd;e({target:"String",proto:!0,forced:i},{trimEnd:r,trimRight:r})})),aa=(0,X.a)(((e,t)=>{var i=ur(),r=/"/g;t.exports=function(e,t,n,o){var s=String(i(e)),a="<"+t;return""!==n&&(a+=" "+n+'="'+String(o).replace(r,"&quot;")+'"'),a+">"+s+"</"+t+">"}})),la=(0,X.a)(((e,t)=>{var i=nr();t.exports=function(e){return i((function(){var t=""[e]('"');return t!==t.toLowerCase()||t.split('"').length>3}))}})),ca=(0,X.a)((()=>{var e=Gr(),t=aa();e({target:"String",proto:!0,forced:la()("anchor")},{anchor:function(e){return t(this,"a","name",e)}})})),ua=(0,X.a)((()=>{var e=Gr(),t=aa();e({target:"String",proto:!0,forced:la()("big")},{big:function(){return t(this,"big","","")}})})),ha=(0,X.a)((()=>{var e=Gr(),t=aa();e({target:"String",proto:!0,forced:la()("blink")},{blink:function(){return t(this,"blink","","")}})})),da=(0,X.a)((()=>{var e=Gr(),t=aa();e({target:"String",proto:!0,forced:la()("bold")},{bold:function(){return t(this,"b","","")}})})),pa=(0,X.a)((()=>{var e=Gr(),t=aa();e({target:"String",proto:!0,forced:la()("fixed")},{fixed:function(){return t(this,"tt","","")}})})),fa=(0,X.a)((()=>{var e=Gr(),t=aa();e({target:"String",proto:!0,forced:la()("fontcolor")},{fontcolor:function(e){return t(this,"font","color",e)}})})),ga=(0,X.a)((()=>{var e=Gr(),t=aa();e({target:"String",proto:!0,forced:la()("fontsize")},{fontsize:function(e){return t(this,"font","size",e)}})})),ma=(0,X.a)((()=>{var e=Gr(),t=aa();e({target:"String",proto:!0,forced:la()("italics")},{italics:function(){return t(this,"i","","")}})})),ya=(0,X.a)((()=>{var e=Gr(),t=aa();e({target:"String",proto:!0,forced:la()("link")},{link:function(e){return t(this,"a","href",e)}})})),_a=(0,X.a)((()=>{var e=Gr(),t=aa();e({target:"String",proto:!0,forced:la()("small")},{small:function(){return t(this,"small","","")}})})),va=(0,X.a)((()=>{var e=Gr(),t=aa();e({target:"String",proto:!0,forced:la()("strike")},{strike:function(){return t(this,"strike","","")}})})),ba=(0,X.a)((()=>{var e=Gr(),t=aa();e({target:"String",proto:!0,forced:la()("sub")},{sub:function(){return t(this,"sub","","")}})})),xa=(0,X.a)((()=>{var e=Gr(),t=aa();e({target:"String",proto:!0,forced:la()("sup")},{sup:function(){return t(this,"sup","","")}})})),wa=(0,X.a)(((e,t)=>{var i=dr(),r=Kn();t.exports=function(e,t,n){var o,s;return r&&"function"==typeof(o=t.constructor)&&o!==n&&i(s=o.prototype)&&s!==n.prototype&&r(e,s),e}})),Sa=(0,X.a)((()=>{var e,t,i,r,n=or(),o=rr(),s=Vr(),a=wa(),l=vr().f,c=Nr().f,u=Rs(),h=Ps(),d=zs(),p=Fr(),f=nr(),g=Rr().set,m=ws(),y=Zr()("match"),_=o.RegExp,v=_.prototype,b=/a/g,x=/a/g,w=new _(b)!==b,S=d.UNSUPPORTED_Y;if(n&&s("RegExp",!w||S||f((function(){return x[y]=!1,_(b)!=b||_(x)==x||"/a/i"!=_(b,"i")})))){for(e=function(t,i){var r,n=this instanceof e,o=u(t),s=void 0===i;if(!n&&o&&t.constructor===e&&s)return t;w?o&&!s&&(t=t.source):t instanceof e&&(s&&(i=h.call(t)),t=t.source),S&&(r=!!i&&i.indexOf("y")>-1)&&(i=i.replace(/y/g,""));var l=a(w?new _(t,i):_(t,i),n?this:v,e);return S&&r&&g(l,{sticky:r}),l},t=function(t){t in e||l(e,t,{configurable:!0,get:function(){return _[t]},set:function(e){_[t]=e}})},i=c(_),r=0;i.length>r;)t(i[r++]);v.constructor=e,e.prototype=v,p(o,"RegExp",e)}m("RegExp")})),ka=(0,X.a)((()=>{var e=or(),t=vr(),i=Ps(),r=zs().UNSUPPORTED_Y;e&&("g"!=/./g.flags||r)&&t.f(RegExp.prototype,"flags",{configurable:!0,get:i})})),Ca=(0,X.a)((()=>{var e=or(),t=zs().UNSUPPORTED_Y,i=vr().f,r=Rr().get,n=RegExp.prototype;e&&t&&i(RegExp.prototype,"sticky",{configurable:!0,get:function(){if(this!==n){if(this instanceof RegExp)return!!r(this).sticky;throw TypeError("Incompatible receiver, RegExp required")}}})})),Ta=(0,X.a)((()=>{Ls();var e=Gr(),t=dr(),i=function(){var e=!1,t=/[ac]/;return t.exec=function(){return e=!0,/./.exec.apply(this,arguments)},!0===t.test("abc")&&e}(),r=/./.test;e({target:"RegExp",proto:!0,forced:!i},{test:function(e){if("function"!==typeof this.exec)return r.call(this,e);var i=this.exec(e);if(null!==i&&!t(i))throw new Error("RegExp exec method returned something other than an Object or null");return!!i}})})),Ea=(0,X.a)((()=>{var e=Fr(),t=_r(),i=nr(),r=Ps(),n="toString",o=RegExp.prototype,s=o[n],a=i((function(){return"/a/b"!=s.call({source:"a",flags:"b"})})),l=s.name!=n;(a||l)&&e(RegExp.prototype,n,(function(){var e=t(this),i=String(e.source),n=e.flags;return"/"+i+"/"+String(void 0===n&&e instanceof RegExp&&!("flags"in o)?r.call(e):n)}),{unsafe:!0})})),Da=(0,X.a)(((e,t)=>{var i=rr(),r=ia().trim,n=ta(),o=i.parseInt,s=/^[+-]?0[Xx]/,a=8!==o(n+"08")||22!==o(n+"0x16");t.exports=a?function(e,t){var i=r(String(e));return o(i,t>>>0||(s.test(i)?16:10))}:o})),Ia=(0,X.a)((()=>{var e=Gr(),t=Da();e({global:!0,forced:parseInt!=t},{parseInt:t})})),Ra=(0,X.a)(((e,t)=>{var i=rr(),r=ia().trim,n=ta(),o=i.parseFloat,s=1/o(n+"-0")!==-1/0;t.exports=s?function(e){var t=r(String(e)),i=o(t);return 0===i&&"-"==t.charAt(0)?-0:i}:o})),Fa=(0,X.a)((()=>{var e=Gr(),t=Ra();e({global:!0,forced:parseFloat!=t},{parseFloat:t})})),Aa=(0,X.a)((()=>{var e,t,i,r,n=or(),o=rr(),s=Vr(),a=Fr(),l=fr(),c=lr(),u=wa(),h=pr(),d=nr(),p=hn(),f=Nr().f,g=yr().f,m=vr().f,y=ia().trim,_="Number",v=o[_],b=v.prototype,x=c(p(b))==_,w=function(e){var t,i,r,n,o,s,a,l,c=h(e,!1);if("string"==typeof c&&c.length>2)if(43===(t=(c=y(c)).charCodeAt(0))||45===t){if(88===(i=c.charCodeAt(2))||120===i)return NaN}else if(48===t){switch(c.charCodeAt(1)){case 66:case 98:r=2,n=49;break;case 79:case 111:r=8,n=55;break;default:return+c}for(s=(o=c.slice(2)).length,a=0;a<s;a++)if((l=o.charCodeAt(a))<48||l>n)return NaN;return parseInt(o,r)}return+c};if(s(_,!v(" 0o1")||!v("0b1")||v("+0x1"))){for(e=function(t){var i=arguments.length<1?0:t,r=this;return r instanceof e&&(x?d((function(){b.valueOf.call(r)})):c(r)!=_)?u(new v(w(i)),r,e):w(i)},t=n?f(v):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),i=0;t.length>i;i++)l(v,r=t[i])&&!l(e,r)&&m(e,r,g(v,r));e.prototype=b,b.constructor=e,a(o,_,e)}})),Oa=(0,X.a)((()=>{Gr()({target:"Number",stat:!0},{EPSILON:Math.pow(2,-52)})})),Ma=(0,X.a)(((e,t)=>{var i=rr().isFinite;t.exports=Number.isFinite||function(e){return"number"==typeof e&&i(e)}})),Pa=(0,X.a)((()=>{Gr()({target:"Number",stat:!0},{isFinite:Ma()})})),za=(0,X.a)(((e,t)=>{var i=dr(),r=Math.floor;t.exports=function(e){return!i(e)&&isFinite(e)&&r(e)===e}})),Ba=(0,X.a)((()=>{Gr()({target:"Number",stat:!0},{isInteger:za()})})),La=(0,X.a)((()=>{Gr()({target:"Number",stat:!0},{isNaN:function(e){return e!=e}})})),Ua=(0,X.a)((()=>{var e=Gr(),t=za(),i=Math.abs;e({target:"Number",stat:!0},{isSafeInteger:function(e){return t(e)&&i(e)<=9007199254740991}})})),Na=(0,X.a)((()=>{Gr()({target:"Number",stat:!0},{MAX_SAFE_INTEGER:9007199254740991})})),Ha=(0,X.a)((()=>{Gr()({target:"Number",stat:!0},{MIN_SAFE_INTEGER:-9007199254740991})})),ja=(0,X.a)((()=>{var e=Gr(),t=Ra();e({target:"Number",stat:!0,forced:Number.parseFloat!=t},{parseFloat:t})})),Wa=(0,X.a)((()=>{var e=Gr(),t=Da();e({target:"Number",stat:!0,forced:Number.parseInt!=t},{parseInt:t})})),Va=(0,X.a)(((e,t)=>{var i=lr();t.exports=function(e){if("number"!=typeof e&&"Number"!=i(e))throw TypeError("Incorrect invocation");return+e}})),Ga=(0,X.a)((()=>{var e=Gr(),t=Mr(),i=Va(),r=Gs(),n=nr(),o=1..toFixed,s=Math.floor,a=function(e,t,i){return 0===t?i:t%2===1?a(e,t-1,i*e):a(e*e,t/2,i)};e({target:"Number",proto:!0,forced:o&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!n((function(){o.call({})}))},{toFixed:function(e){var n,o,l,c,u=i(this),h=t(e),d=[0,0,0,0,0,0],p="",f="0",g=function(e,t){for(var i=-1,r=t;++i<6;)r+=e*d[i],d[i]=r%1e7,r=s(r/1e7)},m=function(e){for(var t=6,i=0;--t>=0;)i+=d[t],d[t]=s(i/e),i=i%e*1e7},y=function(){for(var e=6,t="";--e>=0;)if(""!==t||0===e||0!==d[e]){var i=String(d[e]);t=""===t?i:t+r.call("0",7-i.length)+i}return t};if(h<0||h>20)throw RangeError("Incorrect fraction digits");if(u!=u)return"NaN";if(u<=-1e21||u>=1e21)return String(u);if(u<0&&(p="-",u=-u),u>1e-21)if(n=function(e){for(var t=0,i=e;i>=4096;)t+=12,i/=4096;for(;i>=2;)t+=1,i/=2;return t}(u*a(2,69,1))-69,o=n<0?u*a(2,-n,1):u/a(2,n,1),o*=4503599627370496,(n=52-n)>0){for(g(0,o),l=h;l>=7;)g(1e7,0),l-=7;for(g(a(10,l,1),0),l=n-1;l>=23;)m(1<<23),l-=23;m(1<<l),g(1,1),m(2),f=y()}else g(0,o),g(1<<-n,0),f=y()+r.call("0",h);return f=h>0?p+((c=f.length)<=h?"0."+r.call("0",h-c)+f:f.slice(0,c-h)+"."+f.slice(c-h)):p+f}})})),qa=(0,X.a)((()=>{var e=Gr(),t=nr(),i=Va(),r=1..toPrecision;e({target:"Number",proto:!0,forced:t((function(){return"1"!==r.call(1,void 0)}))||!t((function(){r.call({})}))},{toPrecision:function(e){return void 0===e?r.call(i(this)):r.call(i(this),e)}})})),Xa=(0,X.a)(((e,t)=>{var i=Math.log;t.exports=Math.log1p||function(e){return(e=+e)>-1e-8&&e<1e-8?e-e*e/2:i(1+e)}})),Ya=(0,X.a)((()=>{var e=Gr(),t=Xa(),i=Math.acosh,r=Math.log,n=Math.sqrt,o=Math.LN2;e({target:"Math",stat:!0,forced:!i||710!=Math.floor(i(Number.MAX_VALUE))||i(1/0)!=1/0},{acosh:function(e){return(e=+e)<1?NaN:e>94906265.62425156?r(e)+o:t(e-1+n(e-1)*n(e+1))}})})),Qa=(0,X.a)((()=>{var e=Gr(),t=Math.asinh,i=Math.log,r=Math.sqrt;e({target:"Math",stat:!0,forced:!(t&&1/t(0)>0)},{asinh:function e(t){return isFinite(t=+t)&&0!=t?t<0?-e(-t):i(t+r(t*t+1)):t}})})),Ka=(0,X.a)((()=>{var e=Gr(),t=Math.atanh,i=Math.log;e({target:"Math",stat:!0,forced:!(t&&1/t(-0)<0)},{atanh:function(e){return 0==(e=+e)?e:i((1+e)/(1-e))/2}})})),Za=(0,X.a)(((e,t)=>{t.exports=Math.sign||function(e){return 0==(e=+e)||e!=e?e:e<0?-1:1}})),Ja=(0,X.a)((()=>{var e=Gr(),t=Za(),i=Math.abs,r=Math.pow;e({target:"Math",stat:!0},{cbrt:function(e){return t(e=+e)*r(i(e),1/3)}})})),$a=(0,X.a)((()=>{var e=Gr(),t=Math.floor,i=Math.log,r=Math.LOG2E;e({target:"Math",stat:!0},{clz32:function(e){return(e>>>=0)?31-t(i(e+.5)*r):32}})})),el=(0,X.a)(((e,t)=>{var i=Math.expm1,r=Math.exp;t.exports=!i||i(10)>22025.465794806718||i(10)<22025.465794806718||-2e-17!=i(-2e-17)?function(e){return 0==(e=+e)?e:e>-1e-6&&e<1e-6?e+e*e/2:r(e)-1}:i})),tl=(0,X.a)((()=>{var e=Gr(),t=el(),i=Math.cosh,r=Math.abs,n=Math.E;e({target:"Math",stat:!0,forced:!i||i(710)===1/0},{cosh:function(e){var i=t(r(e)-1)+1;return(i+1/(i*n*n))*(n/2)}})})),il=(0,X.a)((()=>{var e=Gr(),t=el();e({target:"Math",stat:!0,forced:t!=Math.expm1},{expm1:t})})),rl=(0,X.a)(((e,t)=>{var i=Za(),r=Math.abs,n=Math.pow,o=n(2,-52),s=n(2,-23),a=n(2,127)*(2-s),l=n(2,-126);t.exports=Math.fround||function(e){var t,n,c=r(e),u=i(e);return c<l?u*function(e){return e+1/o-1/o}(c/l/s)*l*s:(n=(t=(1+s/o)*c)-(t-c))>a||n!=n?u*(1/0):u*n}})),nl=(0,X.a)((()=>{Gr()({target:"Math",stat:!0},{fround:rl()})})),ol=(0,X.a)((()=>{var e=Gr(),t=Math.hypot,i=Math.abs,r=Math.sqrt;e({target:"Math",stat:!0,forced:!!t&&t(1/0,NaN)!==1/0},{hypot:function(e,t){for(var n,o,s=0,a=0,l=arguments.length,c=0;a<l;)c<(n=i(arguments[a++]))?(s=s*(o=c/n)*o+1,c=n):s+=n>0?(o=n/c)*o:n;return c===1/0?1/0:c*r(s)}})})),sl=(0,X.a)((()=>{var e=Gr(),t=nr(),i=Math.imul;e({target:"Math",stat:!0,forced:t((function(){return-5!=i(4294967295,5)||2!=i.length}))},{imul:function(e,t){var i=65535,r=+e,n=+t,o=i&r,s=i&n;return 0|o*s+((i&r>>>16)*s+o*(i&n>>>16)<<16>>>0)}})})),al=(0,X.a)((()=>{var e=Gr(),t=Math.log,i=Math.LOG10E;e({target:"Math",stat:!0},{log10:function(e){return t(e)*i}})})),ll=(0,X.a)((()=>{Gr()({target:"Math",stat:!0},{log1p:Xa()})})),cl=(0,X.a)((()=>{var e=Gr(),t=Math.log,i=Math.LN2;e({target:"Math",stat:!0},{log2:function(e){return t(e)/i}})})),ul=(0,X.a)((()=>{Gr()({target:"Math",stat:!0},{sign:Za()})})),hl=(0,X.a)((()=>{var e=Gr(),t=nr(),i=el(),r=Math.abs,n=Math.exp,o=Math.E;e({target:"Math",stat:!0,forced:t((function(){return-2e-17!=Math.sinh(-2e-17)}))},{sinh:function(e){return r(e=+e)<1?(i(e)-i(-e))/2:(n(e-1)-n(-e-1))*(o/2)}})})),dl=(0,X.a)((()=>{var e=Gr(),t=el(),i=Math.exp;e({target:"Math",stat:!0},{tanh:function(e){var r=t(e=+e),n=t(-e);return r==1/0?1:n==1/0?-1:(r-n)/(i(e)+i(-e))}})})),pl=(0,X.a)((()=>{var e=Gr(),t=Math.ceil,i=Math.floor;e({target:"Math",stat:!0},{trunc:function(e){return(e>0?i:t)(e)}})})),fl=(0,X.a)((()=>{Gr()({target:"Date",stat:!0},{now:function(){return(new Date).getTime()}})})),gl=(0,X.a)((()=>{var e=Gr(),t=nr(),i=Xr(),r=pr();e({target:"Date",proto:!0,forced:t((function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}))},{toJSON:function(e){var t=i(this),n=r(t);return"number"!=typeof n||isFinite(n)?t.toISOString():null}})})),ml=(0,X.a)(((e,t)=>{var i=nr(),r=qs().start,n=Math.abs,o=Date.prototype,s=o.getTime,a=o.toISOString;t.exports=i((function(){return"0385-07-25T07:06:39.999Z"!=a.call(new Date(-50000000000001))}))||!i((function(){a.call(new Date(NaN))}))?function(){if(!isFinite(s.call(this)))throw RangeError("Invalid time value");var e=this,t=e.getUTCFullYear(),i=e.getUTCMilliseconds(),o=t<0?"-":t>9999?"+":"";return o+r(n(t),o?6:4,0)+"-"+r(e.getUTCMonth()+1,2,0)+"-"+r(e.getUTCDate(),2,0)+"T"+r(e.getUTCHours(),2,0)+":"+r(e.getUTCMinutes(),2,0)+":"+r(e.getUTCSeconds(),2,0)+"."+r(i,3,0)+"Z"}:a})),yl=(0,X.a)((()=>{var e=Gr(),t=ml();e({target:"Date",proto:!0,forced:Date.prototype.toISOString!==t},{toISOString:t})})),_l=(0,X.a)((()=>{var e=Fr(),t=Date.prototype,i="Invalid Date",r="toString",n=t[r],o=t.getTime;new Date(NaN)+""!=i&&e(t,r,(function(){var e=o.call(this);return e===e?n.call(this):i}))})),vl=(0,X.a)(((e,t)=>{var i=_r(),r=pr();t.exports=function(e){if("string"!==e&&"number"!==e&&"default"!==e)throw TypeError("Incorrect hint");return r(i(this),"number"!==e)}})),bl=(0,X.a)((()=>{var e=br(),t=vl(),i=Zr()("toPrimitive"),r=Date.prototype;i in r||e(r,i,t)})),xl=(0,X.a)((()=>{var e=Gr(),t=Or(),i=nr(),r=t("JSON","stringify"),n=/[\uD800-\uDFFF]/g,o=/^[\uD800-\uDBFF]$/,s=/^[\uDC00-\uDFFF]$/,a=function(e,t,i){var r=i.charAt(t-1),n=i.charAt(t+1);return o.test(e)&&!s.test(n)||s.test(e)&&!o.test(r)?"\\u"+e.charCodeAt(0).toString(16):e},l=i((function(){return'"\\udf06\\ud834"'!==r("\udf06\ud834")||'"\\udead"'!==r("\udead")}));r&&e({target:"JSON",stat:!0,forced:l},{stringify:function(e,t,i){var o=r.apply(null,arguments);return"string"==typeof o?o.replace(n,a):o}})})),wl=(0,X.a)(((e,t)=>{var i=rr();t.exports=i.Promise})),Sl=(0,X.a)(((e,t)=>{var i=Fr();t.exports=function(e,t,r){for(var n in t)i(e,n,t[n],r);return e}})),kl=(0,X.a)(((e,t)=>{t.exports=function(e,t,i){if(!(e instanceof t))throw TypeError("Incorrect "+(i?i+" ":"")+"invocation");return e}})),Cl=(0,X.a)(((e,t)=>{var i=$r();t.exports=/(iphone|ipod|ipad).*applewebkit/i.test(i)})),Tl=(0,X.a)(((e,t)=>{var i,r,n,o=rr(),s=nr(),a=lr(),l=yn(),c=un(),u=gr(),h=Cl(),d=o.location,p=o.setImmediate,f=o.clearImmediate,g=o.process,m=o.MessageChannel,y=o.Dispatch,_=0,v={},b="onreadystatechange",x=function(e){if(v.hasOwnProperty(e)){var t=v[e];delete v[e],t()}},w=function(e){return function(){x(e)}},S=function(e){x(e.data)},k=function(e){o.postMessage(e+"",d.protocol+"//"+d.host)};p&&f||(p=function(e){for(var t=[],r=1;arguments.length>r;)t.push(arguments[r++]);return v[++_]=function(){("function"==typeof e?e:Function(e)).apply(void 0,t)},i(_),_},f=function(e){delete v[e]},"process"==a(g)?i=function(e){g.nextTick(w(e))}:y&&y.now?i=function(e){y.now(w(e))}:m&&!h?(n=(r=new m).port2,r.port1.onmessage=S,i=l(n.postMessage,n,1)):!o.addEventListener||"function"!=typeof postMessage||o.importScripts||s(k)||"file:"===d.protocol?i=b in u("script")?function(e){c.appendChild(u("script"))[b]=function(){c.removeChild(this),x(e)}}:function(e){setTimeout(w(e),0)}:(i=k,o.addEventListener("message",S,!1))),t.exports={set:p,clear:f}})),El=(0,X.a)(((e,t)=>{var i,r,n,o,s,a,l,c,u=rr(),h=yr().f,d=lr(),p=Tl().set,f=Cl(),g=u.MutationObserver||u.WebKitMutationObserver,m=u.process,y=u.Promise,_="process"==d(m),v=h(u,"queueMicrotask"),b=v&&v.value;b||(i=function(){var e,t;for(_&&(e=m.domain)&&e.exit();r;){t=r.fn,r=r.next;try{t()}catch(i){throw r?o():n=void 0,i}}n=void 0,e&&e.enter()},_?o=function(){m.nextTick(i)}:g&&!f?(s=!0,a=document.createTextNode(""),new g(i).observe(a,{characterData:!0}),o=function(){a.data=s=!s}):y&&y.resolve?(l=y.resolve(void 0),c=l.then,o=function(){c.call(l,i)}):o=function(){p.call(u,i)}),t.exports=b||function(e){var t={fn:e,next:void 0};n&&(n.next=t),r||(r=t,o()),n=t}})),Dl=(0,X.a)(((e,t)=>{var i=mn(),r=function(e){var t,r;this.promise=new e((function(e,i){if(void 0!==t||void 0!==r)throw TypeError("Bad Promise constructor");t=e,r=i})),this.resolve=i(t),this.reject=i(r)};t.exports.f=function(e){return new r(e)}})),Il=(0,X.a)(((e,t)=>{var i=_r(),r=dr(),n=Dl();t.exports=function(e,t){if(i(e),r(t)&&t.constructor===e)return t;var o=n.f(e);return(0,o.resolve)(t),o.promise}})),Rl=(0,X.a)(((e,t)=>{var i=rr();t.exports=function(e,t){var r=i.console;r&&r.error&&(1===arguments.length?r.error(e):r.error(e,t))}})),Fl=(0,X.a)(((e,t)=>{t.exports=function(e){try{return{error:!1,value:e()}}catch(t){return{error:!0,value:t}}}})),Al=(0,X.a)((()=>{var e,t,i,r,n=Gr(),o=Cr(),s=rr(),a=Or(),l=wl(),c=Fr(),u=Sl(),h=gn(),d=ws(),p=dr(),f=mn(),g=kl(),m=lr(),y=Sr(),_=_o(),v=ro(),b=Ws(),x=Tl().set,w=El(),S=Il(),k=Rl(),C=Dl(),T=Fl(),E=Rr(),D=Vr(),I=Zr(),R=en(),F=I("species"),A="Promise",O=E.get,M=E.set,P=E.getterFor(A),z=l,B=s.TypeError,L=s.document,U=s.process,N=a("fetch"),H=C.f,j=H,W="process"==m(U),V=!!(L&&L.createEvent&&s.dispatchEvent),G="unhandledrejection",q=D(A,(function(){if(!(y(z)!==String(z))){if(66===R)return!0;if(!W&&"function"!=typeof PromiseRejectionEvent)return!0}if(o&&!z.prototype.finally)return!0;if(R>=51&&/native code/.test(z))return!1;var e=z.resolve(1),t=function(e){e((function(){}),(function(){}))};return(e.constructor={})[F]=t,!(e.then((function(){}))instanceof t)})),X=q||!v((function(e){z.all(e).catch((function(){}))})),Y=function(e){var t;return!(!p(e)||"function"!=typeof(t=e.then))&&t},Q=function(e,t,i){if(!t.notified){t.notified=!0;var r=t.reactions;w((function(){for(var n=t.value,o=1==t.state,s=0;r.length>s;){var a,l,c,u=r[s++],h=o?u.ok:u.fail,d=u.resolve,p=u.reject,f=u.domain;try{h?(o||(2===t.rejection&&$(e,t),t.rejection=1),!0===h?a=n:(f&&f.enter(),a=h(n),f&&(f.exit(),c=!0)),a===u.promise?p(B("Promise-chain cycle")):(l=Y(a))?l.call(a,d,p):d(a)):p(n)}catch(g){f&&!c&&f.exit(),p(g)}}t.reactions=[],t.notified=!1,i&&!t.rejection&&Z(e,t)}))}},K=function(e,t,i){var r,n;V?((r=L.createEvent("Event")).promise=t,r.reason=i,r.initEvent(e,!1,!0),s.dispatchEvent(r)):r={promise:t,reason:i},(n=s["on"+e])?n(r):e===G&&k("Unhandled promise rejection",i)},Z=function(e,t){x.call(s,(function(){var i,r=t.value;if(J(t)&&(i=T((function(){W?U.emit("unhandledRejection",r,e):K(G,e,r)})),t.rejection=W||J(t)?2:1,i.error))throw i.value}))},J=function(e){return 1!==e.rejection&&!e.parent},$=function(e,t){x.call(s,(function(){W?U.emit("rejectionHandled",e):K("rejectionhandled",e,t.value)}))},ee=function(e,t,i,r){return function(n){e(t,i,n,r)}},te=function(e,t,i,r){t.done||(t.done=!0,r&&(t=r),t.value=i,t.state=2,Q(e,t,!0))},ie=function(e,t,i,r){if(!t.done){t.done=!0,r&&(t=r);try{if(e===i)throw B("Promise can't be resolved itself");var n=Y(i);n?w((function(){var r={done:!1};try{n.call(i,ee(ie,e,r,t),ee(te,e,r,t))}catch(o){te(e,r,o,t)}})):(t.value=i,t.state=1,Q(e,t,!1))}catch(o){te(e,{done:!1},o,t)}}};q&&(z=function(t){g(this,z,A),f(t),e.call(this);var i=O(this);try{t(ee(ie,this,i),ee(te,this,i))}catch(r){te(this,i,r)}},(e=function(e){M(this,{type:A,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=u(z.prototype,{then:function(e,t){var i=P(this),r=H(b(this,z));return r.ok="function"!=typeof e||e,r.fail="function"==typeof t&&t,r.domain=W?U.domain:void 0,i.parent=!0,i.reactions.push(r),0!=i.state&&Q(this,i,!1),r.promise},catch:function(e){return this.then(void 0,e)}}),t=function(){var t=new e,i=O(t);this.promise=t,this.resolve=ee(ie,t,i),this.reject=ee(te,t,i)},C.f=H=function(e){return e===z||e===i?new t(e):j(e)},o||"function"!=typeof l||(r=l.prototype.then,c(l.prototype,"then",(function(e,t){var i=this;return new z((function(e,t){r.call(i,e,t)})).then(e,t)}),{unsafe:!0}),"function"==typeof N&&n({global:!0,enumerable:!0,forced:!0},{fetch:function(e){return S(z,N.apply(s,arguments))}}))),n({global:!0,wrap:!0,forced:q},{Promise:z}),h(z,A,!1,!0),d(A),i=a(A),n({target:A,stat:!0,forced:q},{reject:function(e){var t=H(this);return t.reject.call(void 0,e),t.promise}}),n({target:A,stat:!0,forced:o||q},{resolve:function(e){return S(o&&this===i?z:this,e)}}),n({target:A,stat:!0,forced:X},{all:function(e){var t=this,i=H(t),r=i.resolve,n=i.reject,o=T((function(){var i=f(t.resolve),o=[],s=0,a=1;_(e,(function(e){var l=s++,c=!1;o.push(void 0),a++,i.call(t,e).then((function(e){c||(c=!0,o[l]=e,--a||r(o))}),n)})),--a||r(o)}));return o.error&&n(o.value),i.promise},race:function(e){var t=this,i=H(t),r=i.reject,n=T((function(){var n=f(t.resolve);_(e,(function(e){n.call(t,e).then(i.resolve,r)}))}));return n.error&&r(n.value),i.promise}})})),Ol=(0,X.a)((()=>{var e=Gr(),t=mn(),i=Dl(),r=Fl(),n=_o();e({target:"Promise",stat:!0},{allSettled:function(e){var o=this,s=i.f(o),a=s.resolve,l=s.reject,c=r((function(){var i=t(o.resolve),r=[],s=0,l=1;n(e,(function(e){var t=s++,n=!1;r.push(void 0),l++,i.call(o,e).then((function(e){n||(n=!0,r[t]={status:"fulfilled",value:e},--l||a(r))}),(function(e){n||(n=!0,r[t]={status:"rejected",reason:e},--l||a(r))}))})),--l||a(r)}));return c.error&&l(c.value),s.promise}})})),Ml=(0,X.a)((()=>{var e=Gr(),t=Cr(),i=wl(),r=nr(),n=Or(),o=Ws(),s=Il(),a=Fr();e({target:"Promise",proto:!0,real:!0,forced:!!i&&r((function(){i.prototype.finally.call({then:function(){}},(function(){}))}))},{finally:function(e){var t=o(this,n("Promise")),i="function"==typeof e;return this.then(i?function(i){return s(t,e()).then((function(){return i}))}:e,i?function(i){return s(t,e()).then((function(){throw i}))}:e)}}),t||"function"!=typeof i||i.prototype.finally||a(i.prototype,"finally",n("Promise").prototype.finally)})),Pl=(0,X.a)(((e,t)=>{var i=Gr(),r=rr(),n=Vr(),o=Fr(),s=mo(),a=_o(),l=kl(),c=dr(),u=nr(),h=ro(),d=gn(),p=wa();t.exports=function(e,t,f){var g=-1!==e.indexOf("Map"),m=-1!==e.indexOf("Weak"),y=g?"set":"add",_=r[e],v=_&&_.prototype,b=_,x={},w=function(e){var t=v[e];o(v,e,"add"==e?function(e){return t.call(this,0===e?0:e),this}:"delete"==e?function(e){return!(m&&!c(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return m&&!c(e)?void 0:t.call(this,0===e?0:e)}:"has"==e?function(e){return!(m&&!c(e))&&t.call(this,0===e?0:e)}:function(e,i){return t.call(this,0===e?0:e,i),this})};if(n(e,"function"!=typeof _||!(m||v.forEach&&!u((function(){(new _).entries().next()})))))b=f.getConstructor(t,e,g,y),s.REQUIRED=!0;else if(n(e,!0)){var S=new b,k=S[y](m?{}:-0,1)!=S,C=u((function(){S.has(1)})),T=h((function(e){new _(e)})),E=!m&&u((function(){for(var e=new _,t=5;t--;)e[y](t,t);return!e.has(-0)}));T||((b=t((function(t,i){l(t,b,e);var r=p(new _,t,b);return void 0!=i&&a(i,r[y],r,g),r}))).prototype=v,v.constructor=b),(C||E)&&(w("delete"),w("has"),g&&w("get")),(E||k)&&w(y),m&&v.clear&&delete v.clear}return x[e]=b,i({global:!0,forced:b!=_},x),d(b,e),m||f.setStrong(b,e,g),b}})),zl=(0,X.a)(((e,t)=>{var i=vr().f,r=hn(),n=Sl(),o=yn(),s=kl(),a=_o(),l=Zn(),c=ws(),u=or(),h=mo().fastKey,d=Rr(),p=d.set,f=d.getterFor;t.exports={getConstructor:function(e,t,l,c){var d=e((function(e,i){s(e,d,t),p(e,{type:t,index:r(null),first:void 0,last:void 0,size:0}),u||(e.size=0),void 0!=i&&a(i,e[c],e,l)})),g=f(t),m=function(e,t,i){var r,n,o=g(e),s=y(e,t);return s?s.value=i:(o.last=s={index:n=h(t,!0),key:t,value:i,previous:r=o.last,next:void 0,removed:!1},o.first||(o.first=s),r&&(r.next=s),u?o.size++:e.size++,"F"!==n&&(o.index[n]=s)),e},y=function(e,t){var i,r=g(e),n=h(t);if("F"!==n)return r.index[n];for(i=r.first;i;i=i.next)if(i.key==t)return i};return n(d.prototype,{clear:function(){for(var e=g(this),t=e.index,i=e.first;i;)i.removed=!0,i.previous&&(i.previous=i.previous.next=void 0),delete t[i.index],i=i.next;e.first=e.last=void 0,u?e.size=0:this.size=0},delete:function(e){var t=this,i=g(t),r=y(t,e);if(r){var n=r.next,o=r.previous;delete i.index[r.index],r.removed=!0,o&&(o.next=n),n&&(n.previous=o),i.first==r&&(i.first=n),i.last==r&&(i.last=o),u?i.size--:t.size--}return!!r},forEach:function(e){for(var t,i=g(this),r=o(e,arguments.length>1?arguments[1]:void 0,3);t=t?t.next:i.first;)for(r(t.value,t.key,this);t&&t.removed;)t=t.previous},has:function(e){return!!y(this,e)}}),n(d.prototype,l?{get:function(e){var t=y(this,e);return t&&t.value},set:function(e,t){return m(this,0===e?0:e,t)}}:{add:function(e){return m(this,e=0===e?0:e,e)}}),u&&i(d.prototype,"size",{get:function(){return g(this).size}}),d},setStrong:function(e,t,i){var r=t+" Iterator",n=f(t),o=f(r);l(e,t,(function(e,t){p(this,{type:r,target:e,state:n(e),kind:t,last:void 0})}),(function(){for(var e=o(this),t=e.kind,i=e.last;i&&i.removed;)i=i.previous;return e.target&&(e.last=i=i?i.next:e.state.first)?"keys"==t?{value:i.key,done:!1}:"values"==t?{value:i.value,done:!1}:{value:[i.key,i.value],done:!1}:(e.target=void 0,{value:void 0,done:!0})}),i?"entries":"values",!i,!0),c(t)}}})),Bl=(0,X.a)(((e,t)=>{var i=Pl(),r=zl();t.exports=i("Map",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),r)})),Ll=(0,X.a)(((e,t)=>{var i=Pl(),r=zl();t.exports=i("Set",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),r)})),Ul=(0,X.a)(((e,t)=>{var i=Sl(),r=mo().getWeakData,n=_r(),o=dr(),s=kl(),a=_o(),l=_n(),c=fr(),u=Rr(),h=u.set,d=u.getterFor,p=l.find,f=l.findIndex,g=0,m=function(e){return e.frozen||(e.frozen=new y)},y=function(){this.entries=[]},_=function(e,t){return p(e.entries,(function(e){return e[0]===t}))};y.prototype={get:function(e){var t=_(this,e);if(t)return t[1]},has:function(e){return!!_(this,e)},set:function(e,t){var i=_(this,e);i?i[1]=t:this.entries.push([e,t])},delete:function(e){var t=f(this.entries,(function(t){return t[0]===e}));return~t&&this.entries.splice(t,1),!!~t}},t.exports={getConstructor:function(e,t,l,u){var p=e((function(e,i){s(e,p,t),h(e,{type:t,id:g++,frozen:void 0}),void 0!=i&&a(i,e[u],e,l)})),f=d(t),y=function(e,t,i){var o=f(e),s=r(n(t),!0);return!0===s?m(o).set(t,i):s[o.id]=i,e};return i(p.prototype,{delete:function(e){var t=f(this);if(!o(e))return!1;var i=r(e);return!0===i?m(t).delete(e):i&&c(i,t.id)&&delete i[t.id]},has:function(e){var t=f(this);if(!o(e))return!1;var i=r(e);return!0===i?m(t).has(e):i&&c(i,t.id)}}),i(p.prototype,l?{get:function(e){var t=f(this);if(o(e)){var i=r(e);return!0===i?m(t).get(e):i?i[t.id]:void 0}},set:function(e,t){return y(this,e,t)}}:{add:function(e){return y(this,e,!0)}}),p}}})),Nl=(0,X.a)(((e,t)=>{var i,r,n,o,s,a,l=rr(),c=Sl(),u=mo(),h=Pl(),d=Ul(),p=dr(),f=Rr().enforce,g=kr(),m=!l.ActiveXObject&&"ActiveXObject"in l,y=Object.isExtensible,_=function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},v=t.exports=h("WeakMap",_,d);g&&m&&(i=d.getConstructor(_,"WeakMap",!0),u.REQUIRED=!0,r=v.prototype,n=r.delete,o=r.has,s=r.get,a=r.set,c(r,{delete:function(e){if(p(e)&&!y(e)){var t=f(this);return t.frozen||(t.frozen=new i),n.call(this,e)||t.frozen.delete(e)}return n.call(this,e)},has:function(e){if(p(e)&&!y(e)){var t=f(this);return t.frozen||(t.frozen=new i),o.call(this,e)||t.frozen.has(e)}return o.call(this,e)},get:function(e){if(p(e)&&!y(e)){var t=f(this);return t.frozen||(t.frozen=new i),o.call(this,e)?s.call(this,e):t.frozen.get(e)}return s.call(this,e)},set:function(e,t){if(p(e)&&!y(e)){var r=f(this);r.frozen||(r.frozen=new i),o.call(this,e)?a.call(this,e,t):r.frozen.set(e,t)}else a.call(this,e,t);return this}}))})),Hl=(0,X.a)((()=>{Pl()("WeakSet",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),Ul())})),jl=(0,X.a)(((e,t)=>{t.exports="undefined"!==typeof ArrayBuffer&&"undefined"!==typeof DataView})),Wl=(0,X.a)(((e,t)=>{var i=Mr(),r=Pr();t.exports=function(e){if(void 0===e)return 0;var t=i(e),n=r(t);if(t!==n)throw RangeError("Wrong length or index");return n}})),Vl=(0,X.a)(((e,t)=>{var i=1/0,r=Math.abs,n=Math.pow,o=Math.floor,s=Math.log,a=Math.LN2;t.exports={pack:function(e,t,l){var c,u,h,d=new Array(l),p=8*l-t-1,f=(1<<p)-1,g=f>>1,m=23===t?n(2,-24)-n(2,-77):0,y=e<0||0===e&&1/e<0?1:0,_=0;for((e=r(e))!=e||e===i?(u=e!=e?1:0,c=f):(c=o(s(e)/a),e*(h=n(2,-c))<1&&(c--,h*=2),(e+=c+g>=1?m/h:m*n(2,1-g))*h>=2&&(c++,h/=2),c+g>=f?(u=0,c=f):c+g>=1?(u=(e*h-1)*n(2,t),c+=g):(u=e*n(2,g-1)*n(2,t),c=0));t>=8;d[_++]=255&u,u/=256,t-=8);for(c=c<<t|u,p+=t;p>0;d[_++]=255&c,c/=256,p-=8);return d[--_]|=128*y,d},unpack:function(e,t){var r,o=e.length,s=8*o-t-1,a=(1<<s)-1,l=a>>1,c=s-7,u=o-1,h=e[u--],d=127&h;for(h>>=7;c>0;d=256*d+e[u],u--,c-=8);for(r=d&(1<<-c)-1,d>>=-c,c+=t;c>0;r=256*r+e[u],u--,c-=8);if(0===d)d=1-l;else{if(d===a)return r?NaN:h?-i:i;r+=n(2,t),d-=l}return(h?-1:1)*r*n(2,d-t)}}})),Gl=(0,X.a)(((e,t)=>{var i,r,n,o,s,a,l=rr(),c=or(),u=jl(),h=br(),d=Sl(),p=nr(),f=kl(),g=Mr(),m=Pr(),y=Wl(),_=Vl(),v=Gn(),b=Kn(),x=Nr().f,w=vr().f,S=Jo(),k=gn(),C=Rr(),T=C.get,E=C.set,D="ArrayBuffer",I="DataView",R="prototype",F="Wrong index",A=l[D],O=A,M=l[I],P=M&&M[R],z=Object.prototype,B=l.RangeError,L=_.pack,U=_.unpack,N=function(e){return[255&e]},H=function(e){return[255&e,e>>8&255]},j=function(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]},W=function(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]},V=function(e){return L(e,23,4)},G=function(e){return L(e,52,8)},q=function(e,t){w(e[R],t,{get:function(){return T(this)[t]}})},X=function(e,t,i,r){var n=y(i),o=T(e);if(n+t>o.byteLength)throw B(F);var s=T(o.buffer).bytes,a=n+o.byteOffset,l=s.slice(a,a+t);return r?l:l.reverse()},Y=function(e,t,i,r,n,o){var s=y(i),a=T(e);if(s+t>a.byteLength)throw B(F);for(var l=T(a.buffer).bytes,c=s+a.byteOffset,u=r(+n),h=0;h<t;h++)l[c+h]=u[o?h:t-h-1]};if(u){if(!p((function(){A(1)}))||!p((function(){new A(-1)}))||p((function(){return new A,new A(1.5),new A(NaN),A.name!=D}))){for(i=(O=function(e){return f(this,O),new A(y(e))})[R]=A[R],r=x(A),n=0;r.length>n;)(o=r[n++])in O||h(O,o,A[o]);i.constructor=O}b&&v(P)!==z&&b(P,z),s=new M(new O(2)),a=P.setInt8,s.setInt8(0,2147483648),s.setInt8(1,2147483649),!s.getInt8(0)&&s.getInt8(1)||d(P,{setInt8:function(e,t){a.call(this,e,t<<24>>24)},setUint8:function(e,t){a.call(this,e,t<<24>>24)}},{unsafe:!0})}else O=function(e){f(this,O,D);var t=y(e);E(this,{bytes:S.call(new Array(t),0),byteLength:t}),c||(this.byteLength=t)},M=function(e,t,i){f(this,M,I),f(e,O,I);var r=T(e).byteLength,n=g(t);if(n<0||n>r)throw B("Wrong offset");if(n+(i=void 0===i?r-n:m(i))>r)throw B("Wrong length");E(this,{buffer:e,byteLength:i,byteOffset:n}),c||(this.buffer=e,this.byteLength=i,this.byteOffset=n)},c&&(q(O,"byteLength"),q(M,"buffer"),q(M,"byteLength"),q(M,"byteOffset")),d(M[R],{getInt8:function(e){return X(this,1,e)[0]<<24>>24},getUint8:function(e){return X(this,1,e)[0]},getInt16:function(e){var t=X(this,2,e,arguments.length>1?arguments[1]:void 0);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=X(this,2,e,arguments.length>1?arguments[1]:void 0);return t[1]<<8|t[0]},getInt32:function(e){return W(X(this,4,e,arguments.length>1?arguments[1]:void 0))},getUint32:function(e){return W(X(this,4,e,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function(e){return U(X(this,4,e,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function(e){return U(X(this,8,e,arguments.length>1?arguments[1]:void 0),52)},setInt8:function(e,t){Y(this,1,e,N,t)},setUint8:function(e,t){Y(this,1,e,N,t)},setInt16:function(e,t){Y(this,2,e,H,t,arguments.length>2?arguments[2]:void 0)},setUint16:function(e,t){Y(this,2,e,H,t,arguments.length>2?arguments[2]:void 0)},setInt32:function(e,t){Y(this,4,e,j,t,arguments.length>2?arguments[2]:void 0)},setUint32:function(e,t){Y(this,4,e,j,t,arguments.length>2?arguments[2]:void 0)},setFloat32:function(e,t){Y(this,4,e,V,t,arguments.length>2?arguments[2]:void 0)},setFloat64:function(e,t){Y(this,8,e,G,t,arguments.length>2?arguments[2]:void 0)}});k(O,D),k(M,I),t.exports={ArrayBuffer:O,DataView:M}})),ql=(0,X.a)((()=>{var e=Gr(),t=rr(),i=Gl(),r=ws(),n="ArrayBuffer",o=i[n];e({global:!0,forced:t[n]!==o},{ArrayBuffer:o}),r(n)})),Xl=(0,X.a)(((e,t)=>{var i,r=jl(),n=or(),o=rr(),s=dr(),a=fr(),l=on(),c=br(),u=Fr(),h=vr().f,d=Gn(),p=Kn(),f=Zr(),g=Er(),m=o.Int8Array,y=m&&m.prototype,_=o.Uint8ClampedArray,v=_&&_.prototype,b=m&&d(m),x=y&&d(y),w=Object.prototype,S=w.isPrototypeOf,k=f("toStringTag"),C=g("TYPED_ARRAY_TAG"),T=r&&!!p&&"Opera"!==l(o.opera),E=!1,D={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},I=function(e){return s(e)&&a(D,l(e))};for(i in D)o[i]||(T=!1);if((!T||"function"!=typeof b||b===Function.prototype)&&(b=function(){throw TypeError("Incorrect invocation")},T))for(i in D)o[i]&&p(o[i],b);if((!T||!x||x===w)&&(x=b.prototype,T))for(i in D)o[i]&&p(o[i].prototype,x);if(T&&d(v)!==x&&p(v,x),n&&!a(x,k))for(i in E=!0,h(x,k,{get:function(){return s(this)?this[C]:void 0}}),D)o[i]&&c(o[i],C,i);t.exports={NATIVE_ARRAY_BUFFER_VIEWS:T,TYPED_ARRAY_TAG:E&&C,aTypedArray:function(e){if(I(e))return e;throw TypeError("Target is not a typed array")},aTypedArrayConstructor:function(e){if(p){if(S.call(b,e))return e}else for(var t in D)if(a(D,i)){var r=o[t];if(r&&(e===r||S.call(r,e)))return e}throw TypeError("Target is not a typed array constructor")},exportTypedArrayMethod:function(e,t,i){if(n){if(i)for(var r in D){var s=o[r];s&&a(s.prototype,e)&&delete s.prototype[e]}x[e]&&!i||u(x,e,i?t:T&&y[e]||t)}},exportTypedArrayStaticMethod:function(e,t,i){var r,s;if(n){if(p){if(i)for(r in D)(s=o[r])&&a(s,e)&&delete s[e];if(b[e]&&!i)return;try{return u(b,e,i?t:T&&m[e]||t)}catch(l){}}for(r in D)!(s=o[r])||s[e]&&!i||u(s,e,t)}},isView:function(e){var t=l(e);return"DataView"===t||a(D,t)},isTypedArray:I,TypedArray:b,TypedArrayPrototype:x}})),Yl=(0,X.a)((()=>{var e=Gr(),t=Xl();e({target:"ArrayBuffer",stat:!0,forced:!t.NATIVE_ARRAY_BUFFER_VIEWS},{isView:t.isView})})),Ql=(0,X.a)((()=>{var e=Gr(),t=nr(),i=Gl(),r=_r(),n=zr(),o=Pr(),s=Ws(),a=i.ArrayBuffer,l=i.DataView,c=a.prototype.slice;e({target:"ArrayBuffer",proto:!0,unsafe:!0,forced:t((function(){return!new a(2).slice(1,void 0).byteLength}))},{slice:function(e,t){if(void 0!==c&&void 0===t)return c.call(r(this),e);for(var i=r(this).byteLength,u=n(e,i),h=n(void 0===t?i:t,i),d=new(s(this,a))(o(h-u)),p=new l(this),f=new l(d),g=0;u<h;)f.setUint8(g++,p.getUint8(u++));return d}})})),Kl=(0,X.a)((()=>{var e=Gr(),t=Gl();e({global:!0,forced:!jl()},{DataView:t.DataView})})),Zl=(0,X.a)(((e,t)=>{var i=rr(),r=nr(),n=ro(),o=Xl().NATIVE_ARRAY_BUFFER_VIEWS,s=i.ArrayBuffer,a=i.Int8Array;t.exports=!o||!r((function(){a(1)}))||!r((function(){new a(-1)}))||!n((function(e){new a,new a(null),new a(1.5),new a(e)}),!0)||r((function(){return 1!==new a(new s(2),1,void 0).length}))})),Jl=(0,X.a)(((e,t)=>{var i=Mr();t.exports=function(e){var t=i(e);if(t<0)throw RangeError("The argument can't be less than 0");return t}})),$l=(0,X.a)(((e,t)=>{var i=Jl();t.exports=function(e,t){var r=i(e);if(r%t)throw RangeError("Wrong offset");return r}})),ec=(0,X.a)(((e,t)=>{var i=Xr(),r=Pr(),n=to(),o=eo(),s=yn(),a=Xl().aTypedArrayConstructor;t.exports=function(e){var t,l,c,u,h,d,p=i(e),f=arguments.length,g=f>1?arguments[1]:void 0,m=void 0!==g,y=n(p);if(void 0!=y&&!o(y))for(d=(h=y.call(p)).next,p=[];!(u=d.call(h)).done;)p.push(u.value);for(m&&f>2&&(g=s(g,arguments[2],2)),l=r(p.length),c=new(a(this))(l),t=0;l>t;t++)c[t]=m?g(p[t],t):p[t];return c}})),tc=(0,X.a)(((e,t)=>{var i=Gr(),r=rr(),n=or(),o=Zl(),s=Xl(),a=Gl(),l=kl(),c=ar(),u=br(),h=Pr(),d=Wl(),p=$l(),f=pr(),g=fr(),m=on(),y=dr(),_=hn(),v=Kn(),b=Nr().f,x=ec(),w=_n().forEach,S=ws(),k=vr(),C=yr(),T=Rr(),E=wa(),D=T.get,I=T.set,R=k.f,F=C.f,A=Math.round,O=r.RangeError,M=a.ArrayBuffer,P=a.DataView,z=s.NATIVE_ARRAY_BUFFER_VIEWS,B=s.TYPED_ARRAY_TAG,L=s.TypedArray,U=s.TypedArrayPrototype,N=s.aTypedArrayConstructor,H=s.isTypedArray,j="BYTES_PER_ELEMENT",W="Wrong length",V=function(e,t){for(var i=0,r=t.length,n=new(N(e))(r);r>i;)n[i]=t[i++];return n},G=function(e,t){R(e,t,{get:function(){return D(this)[t]}})},q=function(e){var t;return e instanceof M||"ArrayBuffer"==(t=m(e))||"SharedArrayBuffer"==t},X=function(e,t){return H(e)&&"symbol"!=typeof t&&t in e&&String(+t)==String(t)},Y=function(e,t){return X(e,t=f(t,!0))?c(2,e[t]):F(e,t)},Q=function(e,t,i){return!(X(e,t=f(t,!0))&&y(i)&&g(i,"value"))||g(i,"get")||g(i,"set")||i.configurable||g(i,"writable")&&!i.writable||g(i,"enumerable")&&!i.enumerable?R(e,t,i):(e[t]=i.value,e)};n?(z||(C.f=Y,k.f=Q,G(U,"buffer"),G(U,"byteOffset"),G(U,"byteLength"),G(U,"length")),i({target:"Object",stat:!0,forced:!z},{getOwnPropertyDescriptor:Y,defineProperty:Q}),t.exports=function(e,t,n){var s=e.match(/\d+$/)[0]/8,a=e+(n?"Clamped":"")+"Array",c="get"+e,f="set"+e,g=r[a],m=g,k=m&&m.prototype,C={},T=function(e,t){R(e,t,{get:function(){return function(e,t){var i=D(e);return i.view[c](t*s+i.byteOffset,!0)}(this,t)},set:function(e){return function(e,t,i){var r=D(e);n&&(i=(i=A(i))<0?0:i>255?255:255&i),r.view[f](t*s+r.byteOffset,i,!0)}(this,t,e)},enumerable:!0})};z?o&&(m=t((function(e,t,i,r){return l(e,m,a),E(y(t)?q(t)?void 0!==r?new g(t,p(i,s),r):void 0!==i?new g(t,p(i,s)):new g(t):H(t)?V(m,t):x.call(m,t):new g(d(t)),e,m)})),v&&v(m,L),w(b(g),(function(e){e in m||u(m,e,g[e])})),m.prototype=k):(m=t((function(e,t,i,r){l(e,m,a);var n,o,c,u=0,f=0;if(y(t)){if(!q(t))return H(t)?V(m,t):x.call(m,t);n=t,f=p(i,s);var g=t.byteLength;if(void 0===r){if(g%s)throw O(W);if((o=g-f)<0)throw O(W)}else if((o=h(r)*s)+f>g)throw O(W);c=o/s}else c=d(t),n=new M(o=c*s);for(I(e,{buffer:n,byteOffset:f,byteLength:o,length:c,view:new P(n)});u<c;)T(e,u++)})),v&&v(m,L),k=m.prototype=_(U)),k.constructor!==m&&u(k,"constructor",m),B&&u(k,B,a),C[a]=m,i({global:!0,forced:m!=g,sham:!z},C),j in m||u(m,j,s),j in k||u(k,j,s),S(a)}):t.exports=function(){}})),ic=(0,X.a)((()=>{tc()("Int8",(function(e){return function(t,i,r){return e(this,t,i,r)}}))})),rc=(0,X.a)((()=>{tc()("Uint8",(function(e){return function(t,i,r){return e(this,t,i,r)}}))})),nc=(0,X.a)((()=>{tc()("Uint8",(function(e){return function(t,i,r){return e(this,t,i,r)}}),!0)})),oc=(0,X.a)((()=>{tc()("Int16",(function(e){return function(t,i,r){return e(this,t,i,r)}}))})),sc=(0,X.a)((()=>{tc()("Uint16",(function(e){return function(t,i,r){return e(this,t,i,r)}}))})),ac=(0,X.a)((()=>{tc()("Int32",(function(e){return function(t,i,r){return e(this,t,i,r)}}))})),lc=(0,X.a)((()=>{tc()("Uint32",(function(e){return function(t,i,r){return e(this,t,i,r)}}))})),cc=(0,X.a)((()=>{tc()("Float32",(function(e){return function(t,i,r){return e(this,t,i,r)}}))})),uc=(0,X.a)((()=>{tc()("Float64",(function(e){return function(t,i,r){return e(this,t,i,r)}}))})),hc=(0,X.a)((()=>{var e=Zl();(0,Xl().exportTypedArrayStaticMethod)("from",ec(),e)})),dc=(0,X.a)((()=>{var e=Xl(),t=Zl(),i=e.aTypedArrayConstructor;(0,e.exportTypedArrayStaticMethod)("of",(function(){for(var e=0,t=arguments.length,r=new(i(this))(t);t>e;)r[e]=arguments[e++];return r}),t)})),pc=(0,X.a)((()=>{var e=Xl(),t=qo(),i=e.aTypedArray;(0,e.exportTypedArrayMethod)("copyWithin",(function(e,r){return t.call(i(this),e,r,arguments.length>2?arguments[2]:void 0)}))})),fc=(0,X.a)((()=>{var e=Xl(),t=_n().every,i=e.aTypedArray;(0,e.exportTypedArrayMethod)("every",(function(e){return t(i(this),e,arguments.length>1?arguments[1]:void 0)}))})),gc=(0,X.a)((()=>{var e=Xl(),t=Jo(),i=e.aTypedArray;(0,e.exportTypedArrayMethod)("fill",(function(e){return t.apply(i(this),arguments)}))})),mc=(0,X.a)((()=>{var e=Xl(),t=_n().filter,i=Ws(),r=e.aTypedArray,n=e.aTypedArrayConstructor;(0,e.exportTypedArrayMethod)("filter",(function(e){for(var o=t(r(this),e,arguments.length>1?arguments[1]:void 0),s=i(this,this.constructor),a=0,l=o.length,c=new(n(s))(l);l>a;)c[a]=o[a++];return c}))})),yc=(0,X.a)((()=>{var e=Xl(),t=_n().find,i=e.aTypedArray;(0,e.exportTypedArrayMethod)("find",(function(e){return t(i(this),e,arguments.length>1?arguments[1]:void 0)}))})),_c=(0,X.a)((()=>{var e=Xl(),t=_n().findIndex,i=e.aTypedArray;(0,e.exportTypedArrayMethod)("findIndex",(function(e){return t(i(this),e,arguments.length>1?arguments[1]:void 0)}))})),vc=(0,X.a)((()=>{var e=Xl(),t=_n().forEach,i=e.aTypedArray;(0,e.exportTypedArrayMethod)("forEach",(function(e){t(i(this),e,arguments.length>1?arguments[1]:void 0)}))})),bc=(0,X.a)((()=>{var e=Xl(),t=Br().includes,i=e.aTypedArray;(0,e.exportTypedArrayMethod)("includes",(function(e){return t(i(this),e,arguments.length>1?arguments[1]:void 0)}))})),xc=(0,X.a)((()=>{var e=Xl(),t=Br().indexOf,i=e.aTypedArray;(0,e.exportTypedArrayMethod)("indexOf",(function(e){return t(i(this),e,arguments.length>1?arguments[1]:void 0)}))})),wc=(0,X.a)((()=>{var e=rr(),t=Xl(),i=Ts(),r=Zr()("iterator"),n=e.Uint8Array,o=i.values,s=i.keys,a=i.entries,l=t.aTypedArray,c=t.exportTypedArrayMethod,u=n&&n.prototype[r],h=!!u&&("values"==u.name||void 0==u.name),d=function(){return o.call(l(this))};c("entries",(function(){return a.call(l(this))})),c("keys",(function(){return s.call(l(this))})),c("values",d,!h),c(r,d,!h)})),Sc=(0,X.a)((()=>{var e=Xl(),t=e.aTypedArray,i=e.exportTypedArrayMethod,r=[].join;i("join",(function(e){return r.apply(t(this),arguments)}))})),kc=(0,X.a)((()=>{var e=Xl(),t=hs(),i=e.aTypedArray;(0,e.exportTypedArrayMethod)("lastIndexOf",(function(e){return t.apply(i(this),arguments)}))})),Cc=(0,X.a)((()=>{var e=Xl(),t=_n().map,i=Ws(),r=e.aTypedArray,n=e.aTypedArrayConstructor;(0,e.exportTypedArrayMethod)("map",(function(e){return t(r(this),e,arguments.length>1?arguments[1]:void 0,(function(e,t){return new(n(i(e,e.constructor)))(t)}))}))})),Tc=(0,X.a)((()=>{var e=Xl(),t=fs().left,i=e.aTypedArray;(0,e.exportTypedArrayMethod)("reduce",(function(e){return t(i(this),e,arguments.length,arguments.length>1?arguments[1]:void 0)}))})),Ec=(0,X.a)((()=>{var e=Xl(),t=fs().right,i=e.aTypedArray;(0,e.exportTypedArrayMethod)("reduceRight",(function(e){return t(i(this),e,arguments.length,arguments.length>1?arguments[1]:void 0)}))})),Dc=(0,X.a)((()=>{var e=Xl(),t=e.aTypedArray,i=e.exportTypedArrayMethod,r=Math.floor;i("reverse",(function(){for(var e,i=this,n=t(i).length,o=r(n/2),s=0;s<o;)e=i[s],i[s++]=i[--n],i[n]=e;return i}))})),Ic=(0,X.a)((()=>{var e=Xl(),t=Pr(),i=$l(),r=Xr(),n=nr(),o=e.aTypedArray;(0,e.exportTypedArrayMethod)("set",(function(e){o(this);var n=i(arguments.length>1?arguments[1]:void 0,1),s=this.length,a=r(e),l=t(a.length),c=0;if(l+n>s)throw RangeError("Wrong length");for(;c<l;)this[n+c]=a[c++]}),n((function(){new Int8Array(1).set({})})))})),Rc=(0,X.a)((()=>{var e=Xl(),t=Ws(),i=nr(),r=e.aTypedArray,n=e.aTypedArrayConstructor,o=e.exportTypedArrayMethod,s=[].slice;o("slice",(function(e,i){for(var o=s.call(r(this),e,i),a=t(this,this.constructor),l=0,c=o.length,u=new(n(a))(c);c>l;)u[l]=o[l++];return u}),i((function(){new Int8Array(1).slice()})))})),Fc=(0,X.a)((()=>{var e=Xl(),t=_n().some,i=e.aTypedArray;(0,e.exportTypedArrayMethod)("some",(function(e){return t(i(this),e,arguments.length>1?arguments[1]:void 0)}))})),Ac=(0,X.a)((()=>{var e=Xl(),t=e.aTypedArray,i=e.exportTypedArrayMethod,r=[].sort;i("sort",(function(e){return r.call(t(this),e)}))})),Oc=(0,X.a)((()=>{var e=Xl(),t=Pr(),i=zr(),r=Ws(),n=e.aTypedArray;(0,e.exportTypedArrayMethod)("subarray",(function(e,o){var s=n(this),a=s.length,l=i(e,a);return new(r(s,s.constructor))(s.buffer,s.byteOffset+l*s.BYTES_PER_ELEMENT,t((void 0===o?a:i(o,a))-l))}))})),Mc=(0,X.a)((()=>{var e=rr(),t=Xl(),i=nr(),r=e.Int8Array,n=t.aTypedArray,o=t.exportTypedArrayMethod,s=[].toLocaleString,a=[].slice,l=!!r&&i((function(){s.call(new r(1))}));o("toLocaleString",(function(){return s.apply(l?a.call(n(this)):n(this),arguments)}),i((function(){return[1,2].toLocaleString()!=new r([1,2]).toLocaleString()}))||!i((function(){r.prototype.toLocaleString.call([1,2])})))})),Pc=(0,X.a)((()=>{var e=Xl().exportTypedArrayMethod,t=nr(),i=rr().Uint8Array,r=i&&i.prototype||{},n=[].toString,o=[].join;t((function(){n.call({})}))&&(n=function(){return o.call(this)});var s=r.toString!=n;e("toString",n,s)})),zc=(0,X.a)((()=>{var e=Gr(),t=Or(),i=mn(),r=_r(),n=nr(),o=t("Reflect","apply"),s=Function.apply;e({target:"Reflect",stat:!0,forced:!n((function(){o((function(){}))}))},{apply:function(e,t,n){return i(e),r(n),o?o(e,t,n):s.call(e,t,n)}})})),Bc=(0,X.a)((()=>{var e=Gr(),t=Or(),i=mn(),r=_r(),n=dr(),o=hn(),s=Uo(),a=nr(),l=t("Reflect","construct"),c=a((function(){function e(){}return!(l((function(){}),[],e)instanceof e)})),u=!a((function(){l((function(){}))})),h=c||u;e({target:"Reflect",stat:!0,forced:h,sham:h},{construct:function(e,t){i(e),r(t);var a=arguments.length<3?e:i(arguments[2]);if(u&&!c)return l(e,t,a);if(e==a){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var h=[null];return h.push.apply(h,t),new(s.apply(e,h))}var d=a.prototype,p=o(n(d)?d:Object.prototype),f=Function.apply.call(e,p,t);return n(f)?f:p}})})),Lc=(0,X.a)((()=>{var e=Gr(),t=or(),i=_r(),r=pr(),n=vr();e({target:"Reflect",stat:!0,forced:nr()((function(){Reflect.defineProperty(n.f({},1,{value:1}),1,{value:2})})),sham:!t},{defineProperty:function(e,t,o){i(e);var s=r(t,!0);i(o);try{return n.f(e,s,o),!0}catch(a){return!1}}})})),Uc=(0,X.a)((()=>{var e=Gr(),t=_r(),i=yr().f;e({target:"Reflect",stat:!0},{deleteProperty:function(e,r){var n=i(t(e),r);return!(n&&!n.configurable)&&delete e[r]}})})),Nc=(0,X.a)((()=>{var e=Gr(),t=dr(),i=_r(),r=fr(),n=yr(),o=Gn();e({target:"Reflect",stat:!0},{get:function e(s,a){var l,c,u=arguments.length<3?s:arguments[2];return i(s)===u?s[a]:(l=n.f(s,a))?r(l,"value")?l.value:void 0===l.get?void 0:l.get.call(u):t(c=o(s))?e(c,a,u):void 0}})})),Hc=(0,X.a)((()=>{var e=Gr(),t=or(),i=_r(),r=yr();e({target:"Reflect",stat:!0,sham:!t},{getOwnPropertyDescriptor:function(e,t){return r.f(i(e),t)}})})),jc=(0,X.a)((()=>{var e=Gr(),t=_r(),i=Gn();e({target:"Reflect",stat:!0,sham:!Vn()},{getPrototypeOf:function(e){return i(t(e))}})})),Wc=(0,X.a)((()=>{Gr()({target:"Reflect",stat:!0},{has:function(e,t){return t in e}})})),Vc=(0,X.a)((()=>{var e=Gr(),t=_r(),i=Object.isExtensible;e({target:"Reflect",stat:!0},{isExtensible:function(e){return t(e),!i||i(e)}})})),Gc=(0,X.a)((()=>{Gr()({target:"Reflect",stat:!0},{ownKeys:jr()})})),qc=(0,X.a)((()=>{var e=Gr(),t=Or(),i=_r();e({target:"Reflect",stat:!0,sham:!go()},{preventExtensions:function(e){i(e);try{var r=t("Object","preventExtensions");return r&&r(e),!0}catch(n){return!1}}})})),Xc=(0,X.a)((()=>{var e=Gr(),t=_r(),i=dr(),r=fr(),n=nr(),o=vr(),s=yr(),a=Gn(),l=ar();e({target:"Reflect",stat:!0,forced:n((function(){var e=o.f({},"a",{configurable:!0});return!1!==Reflect.set(a(e),"a",1,e)}))},{set:function e(n,c,u){var h,d,p=arguments.length<4?n:arguments[3],f=s.f(t(n),c);if(!f){if(i(d=a(n)))return e(d,c,u,p);f=l(0)}if(r(f,"value")){if(!1===f.writable||!i(p))return!1;if(h=s.f(p,c)){if(h.get||h.set||!1===h.writable)return!1;h.value=u,o.f(p,c,h)}else o.f(p,c,l(0,u));return!0}return void 0!==f.set&&(f.set.call(p,u),!0)}})})),Yc=(0,X.a)((()=>{var e=Gr(),t=_r(),i=Qn(),r=Kn();r&&e({target:"Reflect",stat:!0},{setPrototypeOf:function(e,n){t(e),i(n);try{return r(e,n),!0}catch(o){return!1}}})})),Qc=(0,X.a)(((e,t)=>{vn(),bn(),xn(),wn(),Sn(),kn(),Cn(),Tn(),En(),Dn(),In(),Rn(),Fn(),An(),On(),lo(),co(),uo(),ho(),fo(),yo(),vo(),bo(),xo(),wo(),So(),Co(),To(),Eo(),Do(),Io(),Ro(),Fo(),Ao(),Oo(),an(),Po(),zo(),Bo(),Lo(),No(),Ho(),jo(),Wo(),no(),Vo(),Go(),rn(),Yo(),Zo(),$o(),es(),ts(),is(),ns(),os(),as(),ls(),cs(),us(),ds(),ps(),gs(),ms(),ys(),_s(),vs(),bs(),xs(),Ss(),ks(),Cs(),Ts(),Es(),Ds(),Is(),Os(),Ms(),js(),Vs(),Ys(),Qs(),Ks(),Zs(),Js(),$s(),ea(),na(),oa(),sa(),Jn(),ca(),ua(),ha(),da(),pa(),fa(),ga(),ma(),ya(),_a(),va(),ba(),xa(),Sa(),Ls(),ka(),Ca(),Ta(),Ea(),Ia(),Fa(),Aa(),Oa(),Pa(),Ba(),La(),Ua(),Na(),Ha(),ja(),Wa(),Ga(),qa(),Ya(),Qa(),Ka(),Ja(),$a(),tl(),il(),nl(),ol(),sl(),al(),ll(),cl(),ul(),hl(),dl(),Mn(),pl(),fl(),gl(),yl(),_l(),bl(),xl(),Pn(),Al(),Ol(),Ml(),Bl(),Ll(),Nl(),Hl(),ql(),Yl(),Ql(),Kl(),ic(),rc(),nc(),oc(),sc(),ac(),lc(),cc(),uc(),hc(),dc(),pc(),fc(),gc(),mc(),yc(),_c(),vc(),bc(),xc(),wc(),Sc(),kc(),Cc(),Tc(),Ec(),Dc(),Ic(),Rc(),Fc(),Ac(),Oc(),Mc(),Pc(),zc(),Bc(),Lc(),Uc(),Nc(),Hc(),jc(),Wc(),Vc(),Gc(),qc(),Xc(),Yc();var i=Ar();t.exports=i})),Kc=(0,X.a)(((e,t)=>{t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}})),Zc=(0,X.a)((()=>{var e,t,i,r=rr(),n=Kc(),o=ss(),s=br();for(i in n)if((t=(e=r[i])&&e.prototype)&&t.forEach!==o)try{s(t,"forEach",o)}catch(a){t.forEach=o}})),Jc=(0,X.a)((()=>{var e,t,i,r,n=rr(),o=Kc(),s=Ts(),a=br(),l=Zr(),c=l("iterator"),u=l("toStringTag"),h=s.values;for(r in o)if(t=(e=n[r])&&e.prototype){if(t[c]!==h)try{a(t,c,h)}catch(d){t[c]=h}if(t[u]||a(t,u,r),o[r])for(i in s)if(t[i]!==s[i])try{a(t,i,s[i])}catch(d){t[i]=s[i]}}})),$c=(0,X.a)((()=>{var e=Gr(),t=rr(),i=Tl();e({global:!0,bind:!0,enumerable:!0,forced:!t.setImmediate||!t.clearImmediate},{setImmediate:i.set,clearImmediate:i.clear})})),eu=(0,X.a)((()=>{var e=Gr(),t=rr(),i=El(),r=lr(),n=t.process,o="process"==r(n);e({global:!0,enumerable:!0,noTargetGet:!0},{queueMicrotask:function(e){var t=o&&n.domain;i(t?t.bind(e):e)}})})),tu=(0,X.a)((()=>{var e=Gr(),t=rr(),i=$r(),r=[].slice,n=function(e){return function(t,i){var n=arguments.length>2,o=n?r.call(arguments,2):void 0;return e(n?function(){("function"==typeof t?t:Function(t)).apply(this,o)}:t,i)}};e({global:!0,bind:!0,forced:/MSIE .\./.test(i)},{setTimeout:n(t.setTimeout),setInterval:n(t.setInterval)})})),iu=(0,X.a)(((e,t)=>{var i=nr(),r=Zr(),n=Cr(),o=r("iterator");t.exports=!i((function(){var e=new URL("b?a=1&b=2&c=3","http://a"),t=e.searchParams,i="";return e.pathname="c%20d",t.forEach((function(e,r){t.delete("b"),i+=r+e})),n&&!e.toJSON||!t.sort||"http://a/c%20d?a=1&c=3"!==e.href||"3"!==t.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!t[o]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://\u0442\u0435\u0441\u0442").host||"#%D0%B1"!==new URL("http://a#\u0431").hash||"a1c3"!==i||"x"!==new URL("http://x",void 0).host}))})),ru=(0,X.a)(((e,t)=>{var i=2147483647,r=/[^\0-\u007E]/,n=/[.\u3002\uFF0E\uFF61]/g,o="Overflow: input needs wider integers to process",s=Math.floor,a=String.fromCharCode,l=function(e){return e+22+75*(e<26)},c=function(e,t,i){var r=0;for(e=i?s(e/700):e>>1,e+=s(e/t);e>455;r+=36)e=s(e/35);return s(r+36*e/(e+38))},u=function(e){var t=[];e=function(e){for(var t=[],i=0,r=e.length;i<r;){var n=e.charCodeAt(i++);if(n>=55296&&n<=56319&&i<r){var o=e.charCodeAt(i++);56320==(64512&o)?t.push(((1023&n)<<10)+(1023&o)+65536):(t.push(n),i--)}else t.push(n)}return t}(e);var r,n,u=e.length,h=128,d=0,p=72;for(r=0;r<e.length;r++)(n=e[r])<128&&t.push(a(n));var f=t.length,g=f;for(f&&t.push("-");g<u;){var m=i;for(r=0;r<e.length;r++)(n=e[r])>=h&&n<m&&(m=n);var y=g+1;if(m-h>s((i-d)/y))throw RangeError(o);for(d+=(m-h)*y,h=m,r=0;r<e.length;r++){if((n=e[r])<h&&++d>i)throw RangeError(o);if(n==h){for(var _=d,v=36;;v+=36){var b=v<=p?1:v>=p+26?26:v-p;if(_<b)break;var x=_-b,w=36-b;t.push(a(l(b+x%w))),_=s(x/w)}t.push(a(l(_))),p=c(d,y,g==f),d=0,++g}}++d,++h}return t.join("")};t.exports=function(e){var t,i,o=[],s=e.toLowerCase().replace(n,".").split(".");for(t=0;t<s.length;t++)i=s[t],o.push(r.test(i)?"xn--"+u(i):i);return o.join(".")}})),nu=(0,X.a)(((e,t)=>{var i=_r(),r=to();t.exports=function(e){var t=r(e);if("function"!=typeof t)throw TypeError(String(e)+" is not iterable");return i(t.call(e))}})),ou=(0,X.a)(((e,t)=>{Ts();var i=Gr(),r=Or(),n=iu(),o=Fr(),s=Sl(),a=gn(),l=Yn(),c=Rr(),u=kl(),h=fr(),d=yn(),p=on(),f=_r(),g=dr(),m=hn(),y=ar(),_=nu(),v=to(),b=Zr(),x=r("fetch"),w=r("Headers"),S=b("iterator"),k="URLSearchParams",C=k+"Iterator",T=c.set,E=c.getterFor(k),D=c.getterFor(C),I=/\+/g,R=Array(4),F=function(e){return R[e-1]||(R[e-1]=RegExp("((?:%[\\da-f]{2}){"+e+"})","gi"))},A=function(e){try{return decodeURIComponent(e)}catch(t){return e}},O=function(e){var t=e.replace(I," "),i=4;try{return decodeURIComponent(t)}catch(r){for(;i;)t=t.replace(F(i--),A);return t}},M=/[!'()~]|%20/g,P={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},z=function(e){return P[e]},B=function(e){return encodeURIComponent(e).replace(M,z)},L=function(e,t){if(t)for(var i,r,n=t.split("&"),o=0;o<n.length;)(i=n[o++]).length&&(r=i.split("="),e.push({key:O(r.shift()),value:O(r.join("="))}))},U=function(e){this.entries.length=0,L(this.entries,e)},N=function(e,t){if(e<t)throw TypeError("Not enough arguments")},H=l((function(e,t){T(this,{type:C,iterator:_(E(e).entries),kind:t})}),"Iterator",(function(){var e=D(this),t=e.kind,i=e.iterator.next(),r=i.value;return i.done||(i.value="keys"===t?r.key:"values"===t?r.value:[r.key,r.value]),i})),j=function(){u(this,j,k);var e,t,i,r,n,o,s,a,l,c=arguments.length>0?arguments[0]:void 0,d=[];if(T(this,{type:k,entries:d,updateURL:function(){},updateSearchParams:U}),void 0!==c)if(g(c))if("function"===typeof(e=v(c)))for(i=(t=e.call(c)).next;!(r=i.call(t)).done;){if((s=(o=(n=_(f(r.value))).next).call(n)).done||(a=o.call(n)).done||!o.call(n).done)throw TypeError("Expected sequence with length 2");d.push({key:s.value+"",value:a.value+""})}else for(l in c)h(c,l)&&d.push({key:l,value:c[l]+""});else L(d,"string"===typeof c?"?"===c.charAt(0)?c.slice(1):c:c+"")},W=j.prototype;s(W,{append:function(e,t){N(arguments.length,2);var i=E(this);i.entries.push({key:e+"",value:t+""}),i.updateURL()},delete:function(e){N(arguments.length,1);for(var t=E(this),i=t.entries,r=e+"",n=0;n<i.length;)i[n].key===r?i.splice(n,1):n++;t.updateURL()},get:function(e){N(arguments.length,1);for(var t=E(this).entries,i=e+"",r=0;r<t.length;r++)if(t[r].key===i)return t[r].value;return null},getAll:function(e){N(arguments.length,1);for(var t=E(this).entries,i=e+"",r=[],n=0;n<t.length;n++)t[n].key===i&&r.push(t[n].value);return r},has:function(e){N(arguments.length,1);for(var t=E(this).entries,i=e+"",r=0;r<t.length;)if(t[r++].key===i)return!0;return!1},set:function(e,t){N(arguments.length,1);for(var i,r=E(this),n=r.entries,o=!1,s=e+"",a=t+"",l=0;l<n.length;l++)(i=n[l]).key===s&&(o?n.splice(l--,1):(o=!0,i.value=a));o||n.push({key:s,value:a}),r.updateURL()},sort:function(){var e,t,i,r=E(this),n=r.entries,o=n.slice();for(n.length=0,i=0;i<o.length;i++){for(e=o[i],t=0;t<i;t++)if(n[t].key>e.key){n.splice(t,0,e);break}t===i&&n.push(e)}r.updateURL()},forEach:function(e){for(var t,i=E(this).entries,r=d(e,arguments.length>1?arguments[1]:void 0,3),n=0;n<i.length;)r((t=i[n++]).value,t.key,this)},keys:function(){return new H(this,"keys")},values:function(){return new H(this,"values")},entries:function(){return new H(this,"entries")}},{enumerable:!0}),o(W,S,W.entries),o(W,"toString",(function(){for(var e,t=E(this).entries,i=[],r=0;r<t.length;)e=t[r++],i.push(B(e.key)+"="+B(e.value));return i.join("&")}),{enumerable:!0}),a(j,k),i({global:!0,forced:!n},{URLSearchParams:j}),n||"function"!=typeof x||"function"!=typeof w||i({global:!0,enumerable:!0,forced:!0},{fetch:function(e){var t,i,r,n=[e];return arguments.length>1&&(g(t=arguments[1])&&(i=t.body,p(i)===k&&((r=t.headers?new w(t.headers):new w).has("content-type")||r.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),t=m(t,{body:y(0,String(i)),headers:y(0,r)}))),n.push(t)),x.apply(this,n)}}),t.exports={URLSearchParams:j,getState:E}})),su=(0,X.a)((()=>{Jn();var e,t,i,r=Gr(),n=or(),o=iu(),s=rr(),a=cn(),l=Fr(),c=kl(),u=fr(),h=ao(),d=io(),p=Wn().codeAt,f=ru(),g=gn(),m=ou(),y=Rr(),_=s.URL,v=m.URLSearchParams,b=m.getState,x=y.set,w=y.getterFor("URL"),S=Math.floor,k=Math.pow,C="Invalid scheme",T="Invalid host",E="Invalid port",D=/[A-Za-z]/,I=/[\d+-.A-Za-z]/,R=/\d/,F=/^(0x|0X)/,A=/^[0-7]+$/,O=/^\d+$/,M=/^[\dA-Fa-f]+$/,P=/[\u0000\u0009\u000A\u000D #%/:?@[\\]]/,z=/[\u0000\u0009\u000A\u000D #/:?@[\\]]/,B=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,L=/[\u0009\u000A\u000D]/g,U=function(e,t){var i,r,n;if("["==t.charAt(0)){if("]"!=t.charAt(t.length-1))return T;if(!(i=H(t.slice(1,-1))))return T;e.host=i}else if(Q(e)){if(t=f(t),P.test(t))return T;if(null===(i=N(t)))return T;e.host=i}else{if(z.test(t))return T;for(i="",r=d(t),n=0;n<r.length;n++)i+=X(r[n],W);e.host=i}},N=function(e){var t,i,r,n,o,s,a,l=e.split(".");if(l.length&&""==l[l.length-1]&&l.pop(),(t=l.length)>4)return e;for(i=[],r=0;r<t;r++){if(""==(n=l[r]))return e;if(o=10,n.length>1&&"0"==n.charAt(0)&&(o=F.test(n)?16:8,n=n.slice(8==o?1:2)),""===n)s=0;else{if(!(10==o?O:8==o?A:M).test(n))return e;s=parseInt(n,o)}i.push(s)}for(r=0;r<t;r++)if(s=i[r],r==t-1){if(s>=k(256,5-t))return null}else if(s>255)return null;for(a=i.pop(),r=0;r<i.length;r++)a+=i[r]*k(256,3-r);return a},H=function(e){var t,i,r,n,o,s,a,l=[0,0,0,0,0,0,0,0],c=0,u=null,h=0,d=function(){return e.charAt(h)};if(":"==d()){if(":"!=e.charAt(1))return;h+=2,u=++c}for(;d();){if(8==c)return;if(":"!=d()){for(t=i=0;i<4&&M.test(d());)t=16*t+parseInt(d(),16),h++,i++;if("."==d()){if(0==i)return;if(h-=i,c>6)return;for(r=0;d();){if(n=null,r>0){if(!("."==d()&&r<4))return;h++}if(!R.test(d()))return;for(;R.test(d());){if(o=parseInt(d(),10),null===n)n=o;else{if(0==n)return;n=10*n+o}if(n>255)return;h++}l[c]=256*l[c]+n,2!=++r&&4!=r||c++}if(4!=r)return;break}if(":"==d()){if(h++,!d())return}else if(d())return;l[c++]=t}else{if(null!==u)return;h++,u=++c}}if(null!==u)for(s=c-u,c=7;0!=c&&s>0;)a=l[c],l[c--]=l[u+s-1],l[u+--s]=a;else if(8!=c)return;return l},j=function(e){var t,i,r,n;if("number"==typeof e){for(t=[],i=0;i<4;i++)t.unshift(e%256),e=S(e/256);return t.join(".")}if("object"==typeof e){for(t="",r=function(e){for(var t=null,i=1,r=null,n=0,o=0;o<8;o++)0!==e[o]?(n>i&&(t=r,i=n),r=null,n=0):(null===r&&(r=o),++n);return n>i&&(t=r,i=n),t}(e),i=0;i<8;i++)n&&0===e[i]||(n&&(n=!1),r===i?(t+=i?":":"::",n=!0):(t+=e[i].toString(16),i<7&&(t+=":")));return"["+t+"]"}return e},W={},V=h({},W,{" ":1,'"':1,"<":1,">":1,"`":1}),G=h({},V,{"#":1,"?":1,"{":1,"}":1}),q=h({},G,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),X=function(e,t){var i=p(e,0);return i>32&&i<127&&!u(t,e)?e:encodeURIComponent(e)},Y={ftp:21,file:null,http:80,https:443,ws:80,wss:443},Q=function(e){return u(Y,e.scheme)},K=function(e){return""!=e.username||""!=e.password},Z=function(e){return!e.host||e.cannotBeABaseURL||"file"==e.scheme},J=function(e,t){var i;return 2==e.length&&D.test(e.charAt(0))&&(":"==(i=e.charAt(1))||!t&&"|"==i)},$=function(e){var t;return e.length>1&&J(e.slice(0,2))&&(2==e.length||"/"===(t=e.charAt(2))||"\\"===t||"?"===t||"#"===t)},ee=function(e){var t=e.path,i=t.length;!i||"file"==e.scheme&&1==i&&J(t[0],!0)||t.pop()},te=function(e){return"."===e||"%2e"===e.toLowerCase()},ie=function(e){return".."===(e=e.toLowerCase())||"%2e."===e||".%2e"===e||"%2e%2e"===e},re={},ne={},oe={},se={},ae={},le={},ce={},ue={},he={},de={},pe={},fe={},ge={},me={},ye={},_e={},ve={},be={},xe={},we={},Se={},ke=function(t,i,r,n){var o,s,a,l,c=r||re,h=0,p="",f=!1,g=!1,m=!1;for(r||(t.scheme="",t.username="",t.password="",t.host=null,t.port=null,t.path=[],t.query=null,t.fragment=null,t.cannotBeABaseURL=!1,i=i.replace(B,"")),i=i.replace(L,""),o=d(i);h<=o.length;){switch(s=o[h],c){case re:if(!s||!D.test(s)){if(r)return C;c=oe;continue}p+=s.toLowerCase(),c=ne;break;case ne:if(s&&(I.test(s)||"+"==s||"-"==s||"."==s))p+=s.toLowerCase();else{if(":"!=s){if(r)return C;p="",c=oe,h=0;continue}if(r&&(Q(t)!=u(Y,p)||"file"==p&&(K(t)||null!==t.port)||"file"==t.scheme&&!t.host))return;if(t.scheme=p,r)return void(Q(t)&&Y[t.scheme]==t.port&&(t.port=null));p="","file"==t.scheme?c=me:Q(t)&&n&&n.scheme==t.scheme?c=se:Q(t)?c=ue:"/"==o[h+1]?(c=ae,h++):(t.cannotBeABaseURL=!0,t.path.push(""),c=xe)}break;case oe:if(!n||n.cannotBeABaseURL&&"#"!=s)return C;if(n.cannotBeABaseURL&&"#"==s){t.scheme=n.scheme,t.path=n.path.slice(),t.query=n.query,t.fragment="",t.cannotBeABaseURL=!0,c=Se;break}c="file"==n.scheme?me:le;continue;case se:if("/"!=s||"/"!=o[h+1]){c=le;continue}c=he,h++;break;case ae:if("/"==s){c=de;break}c=be;continue;case le:if(t.scheme=n.scheme,s==e)t.username=n.username,t.password=n.password,t.host=n.host,t.port=n.port,t.path=n.path.slice(),t.query=n.query;else if("/"==s||"\\"==s&&Q(t))c=ce;else if("?"==s)t.username=n.username,t.password=n.password,t.host=n.host,t.port=n.port,t.path=n.path.slice(),t.query="",c=we;else{if("#"!=s){t.username=n.username,t.password=n.password,t.host=n.host,t.port=n.port,t.path=n.path.slice(),t.path.pop(),c=be;continue}t.username=n.username,t.password=n.password,t.host=n.host,t.port=n.port,t.path=n.path.slice(),t.query=n.query,t.fragment="",c=Se}break;case ce:if(!Q(t)||"/"!=s&&"\\"!=s){if("/"!=s){t.username=n.username,t.password=n.password,t.host=n.host,t.port=n.port,c=be;continue}c=de}else c=he;break;case ue:if(c=he,"/"!=s||"/"!=p.charAt(h+1))continue;h++;break;case he:if("/"!=s&&"\\"!=s){c=de;continue}break;case de:if("@"==s){f&&(p="%40"+p),f=!0,a=d(p);for(var y=0;y<a.length;y++){var _=a[y];if(":"!=_||m){var v=X(_,q);m?t.password+=v:t.username+=v}else m=!0}p=""}else if(s==e||"/"==s||"?"==s||"#"==s||"\\"==s&&Q(t)){if(f&&""==p)return"Invalid authority";h-=d(p).length+1,p="",c=pe}else p+=s;break;case pe:case fe:if(r&&"file"==t.scheme){c=_e;continue}if(":"!=s||g){if(s==e||"/"==s||"?"==s||"#"==s||"\\"==s&&Q(t)){if(Q(t)&&""==p)return T;if(r&&""==p&&(K(t)||null!==t.port))return;if(l=U(t,p))return l;if(p="",c=ve,r)return;continue}"["==s?g=!0:"]"==s&&(g=!1),p+=s}else{if(""==p)return T;if(l=U(t,p))return l;if(p="",c=ge,r==fe)return}break;case ge:if(!R.test(s)){if(s==e||"/"==s||"?"==s||"#"==s||"\\"==s&&Q(t)||r){if(""!=p){var b=parseInt(p,10);if(b>65535)return E;t.port=Q(t)&&b===Y[t.scheme]?null:b,p=""}if(r)return;c=ve;continue}return E}p+=s;break;case me:if(t.scheme="file","/"==s||"\\"==s)c=ye;else{if(!n||"file"!=n.scheme){c=be;continue}if(s==e)t.host=n.host,t.path=n.path.slice(),t.query=n.query;else if("?"==s)t.host=n.host,t.path=n.path.slice(),t.query="",c=we;else{if("#"!=s){$(o.slice(h).join(""))||(t.host=n.host,t.path=n.path.slice(),ee(t)),c=be;continue}t.host=n.host,t.path=n.path.slice(),t.query=n.query,t.fragment="",c=Se}}break;case ye:if("/"==s||"\\"==s){c=_e;break}n&&"file"==n.scheme&&!$(o.slice(h).join(""))&&(J(n.path[0],!0)?t.path.push(n.path[0]):t.host=n.host),c=be;continue;case _e:if(s==e||"/"==s||"\\"==s||"?"==s||"#"==s){if(!r&&J(p))c=be;else if(""==p){if(t.host="",r)return;c=ve}else{if(l=U(t,p))return l;if("localhost"==t.host&&(t.host=""),r)return;p="",c=ve}continue}p+=s;break;case ve:if(Q(t)){if(c=be,"/"!=s&&"\\"!=s)continue}else if(r||"?"!=s)if(r||"#"!=s){if(s!=e&&(c=be,"/"!=s))continue}else t.fragment="",c=Se;else t.query="",c=we;break;case be:if(s==e||"/"==s||"\\"==s&&Q(t)||!r&&("?"==s||"#"==s)){if(ie(p)?(ee(t),"/"==s||"\\"==s&&Q(t)||t.path.push("")):te(p)?"/"==s||"\\"==s&&Q(t)||t.path.push(""):("file"==t.scheme&&!t.path.length&&J(p)&&(t.host&&(t.host=""),p=p.charAt(0)+":"),t.path.push(p)),p="","file"==t.scheme&&(s==e||"?"==s||"#"==s))for(;t.path.length>1&&""===t.path[0];)t.path.shift();"?"==s?(t.query="",c=we):"#"==s&&(t.fragment="",c=Se)}else p+=X(s,G);break;case xe:"?"==s?(t.query="",c=we):"#"==s?(t.fragment="",c=Se):s!=e&&(t.path[0]+=X(s,W));break;case we:r||"#"!=s?s!=e&&("'"==s&&Q(t)?t.query+="%27":t.query+="#"==s?"%23":X(s,W)):(t.fragment="",c=Se);break;case Se:s!=e&&(t.fragment+=X(s,V))}h++}},Ce=function(e){var t,i,r=c(this,Ce,"URL"),o=arguments.length>1?arguments[1]:void 0,s=String(e),a=x(r,{type:"URL"});if(void 0!==o)if(o instanceof Ce)t=w(o);else if(i=ke(t={},String(o)))throw TypeError(i);if(i=ke(a,s,null,t))throw TypeError(i);var l=a.searchParams=new v,u=b(l);u.updateSearchParams(a.query),u.updateURL=function(){a.query=String(l)||null},n||(r.href=Ee.call(r),r.origin=De.call(r),r.protocol=Ie.call(r),r.username=Re.call(r),r.password=Fe.call(r),r.host=Ae.call(r),r.hostname=Oe.call(r),r.port=Me.call(r),r.pathname=Pe.call(r),r.search=ze.call(r),r.searchParams=Be.call(r),r.hash=Le.call(r))},Te=Ce.prototype,Ee=function(){var e=w(this),t=e.scheme,i=e.username,r=e.password,n=e.host,o=e.port,s=e.path,a=e.query,l=e.fragment,c=t+":";return null!==n?(c+="//",K(e)&&(c+=i+(r?":"+r:"")+"@"),c+=j(n),null!==o&&(c+=":"+o)):"file"==t&&(c+="//"),c+=e.cannotBeABaseURL?s[0]:s.length?"/"+s.join("/"):"",null!==a&&(c+="?"+a),null!==l&&(c+="#"+l),c},De=function(){var e=w(this),t=e.scheme,i=e.port;if("blob"==t)try{return new URL(t.path[0]).origin}catch(r){return"null"}return"file"!=t&&Q(e)?t+"://"+j(e.host)+(null!==i?":"+i:""):"null"},Ie=function(){return w(this).scheme+":"},Re=function(){return w(this).username},Fe=function(){return w(this).password},Ae=function(){var e=w(this),t=e.host,i=e.port;return null===t?"":null===i?j(t):j(t)+":"+i},Oe=function(){var e=w(this).host;return null===e?"":j(e)},Me=function(){var e=w(this).port;return null===e?"":String(e)},Pe=function(){var e=w(this),t=e.path;return e.cannotBeABaseURL?t[0]:t.length?"/"+t.join("/"):""},ze=function(){var e=w(this).query;return e?"?"+e:""},Be=function(){return w(this).searchParams},Le=function(){var e=w(this).fragment;return e?"#"+e:""},Ue=function(e,t){return{get:e,set:t,configurable:!0,enumerable:!0}};n&&a(Te,{href:Ue(Ee,(function(e){var t=w(this),i=String(e),r=ke(t,i);if(r)throw TypeError(r);b(t.searchParams).updateSearchParams(t.query)})),origin:Ue(De),protocol:Ue(Ie,(function(e){var t=w(this);ke(t,String(e)+":",re)})),username:Ue(Re,(function(e){var t=w(this),i=d(String(e));if(!Z(t)){t.username="";for(var r=0;r<i.length;r++)t.username+=X(i[r],q)}})),password:Ue(Fe,(function(e){var t=w(this),i=d(String(e));if(!Z(t)){t.password="";for(var r=0;r<i.length;r++)t.password+=X(i[r],q)}})),host:Ue(Ae,(function(e){var t=w(this);t.cannotBeABaseURL||ke(t,String(e),pe)})),hostname:Ue(Oe,(function(e){var t=w(this);t.cannotBeABaseURL||ke(t,String(e),fe)})),port:Ue(Me,(function(e){var t=w(this);Z(t)||(""==(e=String(e))?t.port=null:ke(t,e,ge))})),pathname:Ue(Pe,(function(e){var t=w(this);t.cannotBeABaseURL||(t.path=[],ke(t,e+"",ve))})),search:Ue(ze,(function(e){var t=w(this);""==(e=String(e))?t.query=null:("?"==e.charAt(0)&&(e=e.slice(1)),t.query="",ke(t,e,we)),b(t.searchParams).updateSearchParams(t.query)})),searchParams:Ue(Be),hash:Ue(Le,(function(e){var t=w(this);""!=(e=String(e))?("#"==e.charAt(0)&&(e=e.slice(1)),t.fragment="",ke(t,e,Se)):t.fragment=null}))}),l(Te,"toJSON",(function(){return Ee.call(this)}),{enumerable:!0}),l(Te,"toString",(function(){return Ee.call(this)}),{enumerable:!0}),_&&(t=_.createObjectURL,i=_.revokeObjectURL,t&&l(Ce,"createObjectURL",(function(e){return t.apply(_,arguments)})),i&&l(Ce,"revokeObjectURL",(function(e){return i.apply(_,arguments)}))),g(Ce,"URL"),r({global:!0,forced:!o,sham:!n},{URL:Ce})})),au=(0,X.a)((()=>{Gr()({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return URL.prototype.toString.call(this)}})})),lu=(0,X.a)(((e,t)=>{Zc(),Jc(),$c(),eu(),tu(),su(),au(),ou();var i=Ar();t.exports=i})),cu=(0,X.a)(((e,t)=>{Qc(),lu();var i=Ar();t.exports=i})),uu=(0,X.a)(((e,t)=>{var i=function(e){var t,i=Object.prototype,r=i.hasOwnProperty,n="function"===typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",s=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function l(e,t,i){return Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(F){l=function(e,t,i){return e[t]=i}}function c(e,t,i,r){var n=t&&t.prototype instanceof m?t:m,o=Object.create(n.prototype),s=new D(r||[]);return o._invoke=function(e,t,i){var r=h;return function(n,o){if(r===p)throw new Error("Generator is already running");if(r===f){if("throw"===n)throw o;return R()}for(i.method=n,i.arg=o;;){var s=i.delegate;if(s){var a=C(s,i);if(a){if(a===g)continue;return a}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(r===h)throw r=f,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);r=p;var l=u(e,t,i);if("normal"===l.type){if(r=i.done?f:d,l.arg===g)continue;return{value:l.arg,done:i.done}}"throw"===l.type&&(r=f,i.method="throw",i.arg=l.arg)}}}(e,i,s),o}function u(e,t,i){try{return{type:"normal",arg:e.call(t,i)}}catch(r){return{type:"throw",arg:r}}}e.wrap=c;var h="suspendedStart",d="suspendedYield",p="executing",f="completed",g={};function m(){}function y(){}function _(){}var v={};v[o]=function(){return this};var b=Object.getPrototypeOf,x=b&&b(b(I([])));x&&x!==i&&r.call(x,o)&&(v=x);var w=_.prototype=m.prototype=Object.create(v);function S(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function i(n,o,s,a){var l=u(e[n],e,o);if("throw"!==l.type){var c=l.arg,h=c.value;return h&&"object"===typeof h&&r.call(h,"__await")?t.resolve(h.__await).then((function(e){i("next",e,s,a)}),(function(e){i("throw",e,s,a)})):t.resolve(h).then((function(e){c.value=e,s(c)}),(function(e){return i("throw",e,s,a)}))}a(l.arg)}var n;this._invoke=function(e,r){function o(){return new t((function(t,n){i(e,r,t,n)}))}return n=n?n.then(o,o):o()}}function C(e,i){var r=e.iterator[i.method];if(r===t){if(i.delegate=null,"throw"===i.method){if(e.iterator.return&&(i.method="return",i.arg=t,C(e,i),"throw"===i.method))return g;i.method="throw",i.arg=new TypeError("The iterator does not provide a 'throw' method")}return g}var n=u(r,e.iterator,i.arg);if("throw"===n.type)return i.method="throw",i.arg=n.arg,i.delegate=null,g;var o=n.arg;return o?o.done?(i[e.resultName]=o.value,i.next=e.nextLoc,"return"!==i.method&&(i.method="next",i.arg=t),i.delegate=null,g):o:(i.method="throw",i.arg=new TypeError("iterator result is not an object"),i.delegate=null,g)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function D(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function I(e){if(e){var i=e[o];if(i)return i.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var n=-1,s=function i(){for(;++n<e.length;)if(r.call(e,n))return i.value=e[n],i.done=!1,i;return i.value=t,i.done=!0,i};return s.next=s}}return{next:R}}function R(){return{value:t,done:!0}}return y.prototype=w.constructor=_,_.constructor=y,y.displayName=l(_,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,_):(e.__proto__=_,l(e,a,"GeneratorFunction")),e.prototype=Object.create(w),e},e.awrap=function(e){return{__await:e}},S(k.prototype),k.prototype[s]=function(){return this},e.AsyncIterator=k,e.async=function(t,i,r,n,o){void 0===o&&(o=Promise);var s=new k(c(t,i,r,n),o);return e.isGeneratorFunction(i)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},S(w),l(w,a,"Generator"),w[o]=function(){return this},w.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var i in e)t.push(i);return t.reverse(),function i(){for(;t.length;){var r=t.pop();if(r in e)return i.value=r,i.done=!1,i}return i.done=!0,i}},e.values=I,D.prototype={constructor:D,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(E),!e)for(var i in this)"t"===i.charAt(0)&&r.call(this,i)&&!isNaN(+i.slice(1))&&(this[i]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var i=this;function n(r,n){return a.type="throw",a.arg=e,i.next=r,n&&(i.method="next",i.arg=t),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var s=this.tryEntries[o],a=s.completion;if("root"===s.tryLoc)return n("end");if(s.tryLoc<=this.prev){var l=r.call(s,"catchLoc"),c=r.call(s,"finallyLoc");if(l&&c){if(this.prev<s.catchLoc)return n(s.catchLoc,!0);if(this.prev<s.finallyLoc)return n(s.finallyLoc)}else if(l){if(this.prev<s.catchLoc)return n(s.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return n(s.finallyLoc)}}}},abrupt:function(e,t){for(var i=this.tryEntries.length-1;i>=0;--i){var n=this.tryEntries[i];if(n.tryLoc<=this.prev&&r.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=e,s.arg=t,o?(this.method="next",this.next=o.finallyLoc,g):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var i=this.tryEntries[t];if(i.finallyLoc===e)return this.complete(i.completion,i.afterLoc),E(i),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var i=this.tryEntries[t];if(i.tryLoc===e){var r=i.completion;if("throw"===r.type){var n=r.arg;E(i)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(e,i,r){return this.delegate={iterator:I(e),resultName:i,nextLoc:r},"next"===this.method&&(this.arg=t),g}},e}("object"===typeof t?t.exports:{});try{regeneratorRuntime=i}catch(r){Function("r","regeneratorRuntime = r")(i)}})),hu=(0,X.a)(((e,t)=>{var i=rr(),r=yn(),n=Function.call;t.exports=function(e,t,o){return r(n,i[e].prototype[t],o)}})),du=(0,X.a)(((e,t)=>{ts();var i=hu();t.exports=i("Array","find")})),pu=(0,X.a)(((e,t)=>{var i=du();t.exports=i})),fu=(0,X.a)(((e,t)=>{ps();var i=hu();t.exports=i("Array","map")})),gu=(0,X.a)(((e,t)=>{var i=fu();t.exports=i}));"undefined"===typeof Promise&&($i().enable(),self.Promise=er()),"undefined"!==typeof window&&tr(),Object.assign=ir(),jn(),so(),cu(),uu();(0,X.b)(pu()),(0,X.b)(gu());var mu=i(579);class yu extends W.Component{componentDidMount(){this.initEditor()}async initEditor(){try{const e=await wi({container:"#editor",image:"https://fastly.picsum.photos/id/293/200/300.jpg?hmac=P4TXoEffoQVY91UZoUFoLXlifBzZvUbL5nbkn03acdY",license:""});console.log("PhotoEditorSDK for Web is ready!"),e.on(X.Ka.EXPORT,(e=>{console.log("Exported",e)}))}catch(e){console.error("Error initializing PhotoEditorSDK:",e)}}render(){return(0,mu.jsx)("div",{id:"editor",style:{width:"100vw",height:"100vh"}})}}const _u=function(){return(0,mu.jsxs)("div",{className:"App",children:[(0,mu.jsx)("header",{className:"App-header",children:(0,mu.jsx)("h1",{children:"Welcome to Photo Editor"})}),(0,mu.jsx)(yu,{})]})},vu=e=>{e&&e instanceof Function&&i.e(453).then(i.bind(i,453)).then((t=>{let{getCLS:i,getFID:r,getFCP:n,getLCP:o,getTTFB:s}=t;i(e),r(e),n(e),o(e),s(e)}))};V.createRoot(document.getElementById("root")).render((0,mu.jsx)(W.StrictMode,{children:(0,mu.jsx)(_u,{})})),vu()})()})();
//# sourceMappingURL=main.178c9e55.js.map